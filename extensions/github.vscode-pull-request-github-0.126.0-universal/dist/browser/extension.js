var uF=Object.defineProperty;var dF=(Gs,Ia,ti)=>Ia in Gs?uF(Gs,Ia,{enumerable:!0,configurable:!0,writable:!0,value:ti}):Gs[Ia]=ti;var At=(Gs,Ia,ti)=>dF(Gs,typeof Ia!="symbol"?Ia+"":Ia,ti);(()=>{var Gs={14523:(s,G,F)=>{"use strict";F.r(G),F.d(G,{AppInsightsCore:()=>M,BaseCore:()=>y,BaseTelemetryPlugin:()=>B.s,CoreUtils:()=>_.jS,DiagnosticLogger:()=>E.wq,ESPromise:()=>ee,ESPromiseScheduler:()=>K,EventHelper:()=>we.fs,EventLatency:()=>m,EventPersistence:()=>p,EventPropertyType:()=>g,EventsDiscardedReason:()=>Pe.x,FullVersionString:()=>_.xE,InternalAppInsightsCore:()=>f._,InternalBaseCore:()=>U.F,LoggingSeverity:()=>A.b,MinChannelPriorty:()=>ie,NotificationManager:()=>X.h,PerfEvent:()=>c.Q6,PerfManager:()=>c.NS,ProcessTelemetryContext:()=>se.W0,TraceLevel:()=>k,Undefined:()=>te.bA,Utils:()=>_.Aq,ValueKind:()=>h,ValueSanitizer:()=>j,Version:()=>_.Rx,_ExtendedInternalMessageId:()=>b,_InternalLogMessage:()=>E.WD,_InternalMessageId:()=>A.$,__getRegisteredEvents:()=>_e.El,_logInternalMessage:()=>E.Oc,_throwInternal:()=>E.ZP,_warnToConsole:()=>E.OG,addEventHandler:()=>_e.So,addEventListeners:()=>_e.lQ,addPageHideEventListener:()=>_e.Fc,addPageShowEventListener:()=>_e.oS,addPageUnloadEventListener:()=>_e.ee,areCookiesSupported:()=>re.gi,arrForEach:()=>D.Iu,arrIndexOf:()=>D.rD,arrMap:()=>D.W$,arrReduce:()=>D.KT,attachEvent:()=>_e.Q3,cookieAvailable:()=>re.gi,createCookieMgr:()=>re.xN,createEnumStyle:()=>L.Hj,createGuid:()=>_.gj,createProcessTelemetryContext:()=>se.i8,createTraceParent:()=>Ee.wk,createUniqueNamespace:()=>ge.Z,createUnloadHandlerContainer:()=>ye.P,dateNow:()=>D.x3,deleteCookie:()=>_.Yj,detachEvent:()=>_e.Ym,disableCookies:()=>_.WD,disallowsSameSiteNone:()=>re.It,doPerf:()=>c.r2,dumpObj:()=>v.mm,eventOff:()=>_e.ML,eventOn:()=>_e.mB,extend:()=>_.X$,findW3cTraceParent:()=>Ee.ef,formatTraceParent:()=>Ee.L0,generateW3CId:()=>we.cL,getCommonSchemaMetaData:()=>_.Go,getConsole:()=>v.U5,getCookie:()=>_.Ri,getCookieValue:()=>_.UM,getCrypto:()=>v.MY,getDocument:()=>v.YE,getExceptionName:()=>D.lL,getFieldValueType:()=>_.cq,getGlobal:()=>J.mS,getGlobalInst:()=>v.EH,getHistory:()=>v.JK,getIEVersion:()=>v.L0,getISOString:()=>D._u,getJSON:()=>v.hm,getLocation:()=>v.g$,getMsCrypto:()=>v.iN,getNavigator:()=>v.w3,getPerformance:()=>v.FJ,getSetValue:()=>D.c2,getTenantId:()=>_.EO,getTime:()=>_.WB,getWindow:()=>v.zk,hasDocument:()=>v.Wt,hasHistory:()=>v.tw,hasJSON:()=>v.Z,hasNavigator:()=>v.w9,hasOwnProperty:()=>D.mQ,hasWindow:()=>v.Vd,isArray:()=>D.cy,isArrayValid:()=>_.wJ,isBeaconsSupported:()=>v.Uf,isBoolean:()=>D.Lm,isChromium:()=>_.F2,isDate:()=>D.$P,isDocumentObjectAvailable:()=>_.g8,isError:()=>D.bJ,isFetchSupported:()=>v.R7,isFunction:()=>D.Tn,isIE:()=>v.lT,isLatency:()=>_.Hh,isNotTruthy:()=>D.wo,isNullOrUndefined:()=>D.hX,isNumber:()=>D.Et,isObject:()=>D.Gv,isReactNative:()=>v.lV,isSampledFlag:()=>Ee.N7,isString:()=>D.Kg,isTruthy:()=>D.zz,isTypeof:()=>D.Ed,isUint8ArrayAvailable:()=>_.h3,isUndefined:()=>D.b0,isValidSpanId:()=>Ee.wN,isValidTraceId:()=>Ee.hX,isValidTraceParent:()=>Ee.mJ,isValueAssigned:()=>_.yD,isValueKind:()=>_.m0,isWindowObjectAvailable:()=>_.P$,isXhrSupported:()=>v.xk,mergeEvtNamespace:()=>_e.Hm,newGuid:()=>we.aq,newId:()=>Me.Si,normalizeJsName:()=>D.cH,objCreate:()=>J.AQ,objDefineAccessors:()=>D.r,objForEachKey:()=>D.z,objFreeze:()=>D.N6,objKeys:()=>D.cG,objSeal:()=>D.js,openXhr:()=>_.H$,optimizeObject:()=>D.hW,parseTraceParent:()=>Ee.ZI,perfNow:()=>we.UU,proxyAssign:()=>D.qz,proxyFunctionAs:()=>D.RF,proxyFunctions:()=>D.o$,random32:()=>Me.VN,randomValue:()=>Me.Z1,removeEventHandler:()=>_e.zh,removeEventListeners:()=>_e.Wg,removePageHideEventListener:()=>_e.sq,removePageShowEventListener:()=>_e.vF,removePageUnloadEventListener:()=>_e.Ds,safeGetCookieMgr:()=>re.um,safeGetLogger:()=>E.y0,sanitizeProperty:()=>_.TC,setCookie:()=>_.TV,setEnableEnvMocks:()=>v.cU,setProcessTelemetryTimings:()=>_.u9,setValue:()=>D.KY,strContains:()=>D.Ju,strEndsWith:()=>D.Cv,strFunction:()=>te.hW,strObject:()=>te._1,strPrototype:()=>te.vR,strStartsWith:()=>D.tG,strTrim:()=>D.EH,strUndefined:()=>te.bA,throwError:()=>D.$8,toISOString:()=>D._u,useXDomainRequest:()=>v.PV});var P=F(8747),L=F(96434),D=F(12497),A=F(83897),h=(0,L.Hj)({NotSet:0,Pii_DistinguishedName:1,Pii_GenericData:2,Pii_IPV4Address:3,Pii_IPv6Address:4,Pii_MailSubject:5,Pii_PhoneNumber:6,Pii_QueryString:7,Pii_SipAddress:8,Pii_SmtpAddress:9,Pii_Identity:10,Pii_Uri:11,Pii_Fqdn:12,Pii_IPV4AddressLegacy:13,CustomerContent_GenericContent:32}),m=(0,L.Hj)({Normal:1,CostDeferred:2,RealTime:3,Immediate:4}),g=(0,L.Hj)({Unspecified:0,String:1,Int32:2,UInt32:3,Int64:4,UInt64:5,Double:6,Bool:7,Guid:8,DateTime:9}),p=(0,L.Hj)({Normal:1,Critical:2}),k=(0,L.Hj)({NONE:0,ERROR:1,WARNING:2,INFORMATION:3}),b=(0,D.N6)((0,P.Im)((0,P.Im)({},A.$),(0,L.Hj)({AuthHandShakeError:501,AuthRedirectFail:502,BrowserCannotReadLocalStorage:503,BrowserCannotWriteLocalStorage:504,BrowserDoesNotSupportLocalStorage:505,CannotParseBiBlobValue:506,CannotParseDataAttribute:507,CVPluginNotAvailable:508,DroppedEvent:509,ErrorParsingAISessionCookie:510,ErrorProvidedChannels:511,FailedToGetCookies:512,FailedToInitializeCorrelationVector:513,FailedToInitializeSDK:514,InvalidContentBlob:515,InvalidCorrelationValue:516,SessionRenewalDateIsZero:517,SendPostOnCompleteFailure:518,PostResponseHandler:519,SDKNotInitialized:520}))),l=F(92457),E=F(99015),c=F(5204),v=F(44180),f=F(12235),w=F(52976),_=F(59091),R=function(z){(0,P.qU)(T,z);function T(){var oe=z.call(this)||this;return oe.pluginVersionStringArr=[],(0,l.A)(T,oe,function(fe,de){(!fe.logger||!fe.logger.queue)&&(fe.logger=new E.wq({loggingLevelConsole:1})),fe.initialize=function(ue,ve,Fe,Oe){(0,c.r2)(fe,function(){return"AppInsightsCore.initialize"},function(){var $e=fe.pluginVersionStringArr;if(ue){ue.endpointUrl||(ue.endpointUrl=w.S);var qe=ue.propertyStorageOverride;qe&&(!qe.getProperty||!qe.setProperty)&&(0,D.$8)("Invalid property storage override passed."),ue.channels&&(0,D.Iu)(ue.channels,function(me){me&&(0,D.Iu)(me,function(ae){if(ae.identifier&&ae.version){var ce=ae.identifier+"="+ae.version;$e.push(ce)}})})}fe.getWParam=function(){return typeof document!="undefined"||ue.enableWParam?0:-1},ve&&(0,D.Iu)(ve,function(me){if(me&&me.identifier&&me.version){var ae=me.identifier+"="+me.version;$e.push(ae)}}),fe.pluginVersionString=$e.join(";"),fe.pluginVersionStringArr=$e;try{de.initialize(ue,ve,Fe,Oe),fe.pollInternalLogs("InternalLog")}catch(me){var Ve=fe.logger,Je=(0,v.mm)(me);Je.indexOf("channels")!==-1&&(Je+=`
 - Channels must be provided through config.channels only!`),(0,E.ZP)(Ve,1,514,"SDK Initialization Failed - no telemetry will be sent: "+Je)}},function(){return{config:ue,extensions:ve,logger:Fe,notificationManager:Oe}})},fe.track=function(ue){(0,c.r2)(fe,function(){return"AppInsightsCore.track"},function(){var ve=ue;if(ve){ve.timings=ve.timings||{},ve.timings.trackStart=(0,_.WB)(),(0,_.Hh)(ve.latency)||(ve.latency=1);var Fe=ve.ext=ve.ext||{};Fe.sdk=Fe.sdk||{},Fe.sdk.ver=_.xE;var Oe=ve.baseData=ve.baseData||{};Oe[w._0]=Oe[w._0]||{};var $e=Oe[w._0];$e[w.hj]=$e[w.hj]||fe.pluginVersionString||w.m5}de.track(ve)},function(){return{item:ue}},!ue.sync)}}),oe}return T.__ieDyn=1,T}(f._);const M=R;var U=F(34082),x=function(z){(0,P.qU)(T,z);function T(){var oe=z.call(this)||this;return(0,l.A)(T,oe,function(fe,de){fe.initialize=function(ue,ve,Fe,Oe){ue&&!ue.endpointUrl&&(ue.endpointUrl=w.S),fe.getWParam=function(){return _.g8||ue.enableWParam?0:-1};try{de.initialize(ue,ve,Fe,Oe)}catch($e){(0,E.ZP)(fe.logger,1,514,"Initialization Failed: "+(0,v.mm)($e)+`
 - Note: Channels must be provided through config.channels only`)}},fe.track=function(ue){var ve=ue;if(ve){var Fe=ve.ext=ve.ext||{};Fe.sdk=Fe.sdk||{},Fe.sdk.ver=_.xE}de.track(ve)}}),oe}return T.__ieDyn=1,T}(U.F);const y=x;var W=D.Tn;function Q(z,T,oe){return function(fe){z[T]=fe,oe()}}var Z=function(){function z(T){var oe=0,fe=null,de=[];(0,l.A)(z,this,function($e){$e.then=function(qe,Ve){return new z(function(Je,me){ue(qe,Ve,Je,me)})},$e.catch=function(qe){return $e.then(null,qe)}});function ue($e,qe,Ve,Je){de.push(function(){var me;try{oe===1?me=W($e)?$e(fe):fe:me=W(qe)?qe(fe):fe,me instanceof z?me.then(Ve,Je):oe===2&&!W(qe)?Je(me):Ve(me)}catch(ae){Je(ae);return}}),oe!==0&&ve()}function ve(){if(de.length>0){var $e=de.slice();de=[],setTimeout(function(){for(var qe=0,Ve=$e.length;qe<Ve;++qe)try{$e[qe]()}catch{}},0)}}function Fe($e){oe===0&&(fe=$e,oe=1,ve())}function Oe($e){oe===0&&(fe=$e,oe=2,ve())}(function(){if(!W(T))throw new TypeError("ESPromise: resolvedFunc argument is not a Function");try{T(Fe,Oe)}catch(qe){Oe(qe)}})()}return z.resolve=function(T){return T instanceof z?T:T&&W(T.then)?new z(function(oe,fe){try{T.then(oe,fe)}catch(de){fe(de)}}):new z(function(oe){oe(T)})},z.reject=function(T){return new z(function(oe,fe){fe(T)})},z.all=function(T){if(!(!T||!T.length))return new z(function(oe,fe){try{for(var de=[],ue=0,ve=0;ve<T.length;ve++){var Fe=T[ve];Fe&&W(Fe.then)?(ue++,Fe.then(Q(de,ve,function(){--ue===0&&oe(de)}),fe)):de[ve]=Fe}ue===0&&setTimeout(function(){oe(de)},0)}catch(Oe){fe(Oe)}})},z.race=function(T){return new z(function(oe,fe){if(!(!T||!T.length))try{for(var de=function(ve){var Fe=T[ve];Fe&&W(Fe.then)?Fe.then(oe,fe):setTimeout(function(){oe(Fe)},0)},ue=0;ue<T.length;ue++)de(ue)}catch(ve){fe(ve)}})},z}();const ee=Z;var J=F(75148),O=6e5,H=0,I=[],u=[],N=[];function q(){return new Date().getTime()}var V=function(){function z(T,oe){var fe=0,de=(T||"<unnamed>")+"."+H;H++,(0,l.A)(z,this,function(Fe){var Oe=null,$e=0;Fe.scheduleEvent=function(Ve,Je,me){var ae=de+"."+$e;$e++,Je&&(ae+="-("+Je+")");var ce=ae+"{"+fe+"}";fe++;var Re={evt:null,tm:q(),id:ce,isRunning:!1,isAborted:!1};return Oe?Re.evt=ut(Re,Oe):Re.evt=st(Re),Oe=Re,Oe.evt._schId=ce,Re.evt;function xe(wt){for(var vt=q(),_t=vt-O,oi=wt.length,yt=0;yt<oi;){var Pt=wt[yt];if(Pt&&Pt.tm<_t){var Hi=null;Pt.abort?(Hi="Aborting ["+Pt.id+"] due to Excessive runtime ("+(vt-Pt.tm)+" ms)",Pt.abort(Hi)):Hi="Removing ["+Pt.id+"] due to Excessive runtime ("+(vt-Pt.tm)+" ms)",ve(Hi),wt.splice(yt,1),oi--}else yt++}}function Ye(wt,vt){var _t=!1,oi=qe(I,wt);if(oi||(oi=qe(N,wt),_t=!0),oi){oi.to&&(clearTimeout(oi.to),oi.to=null);var yt=q()-oi.tm;vt?_t?ve("Timed out event ["+wt+"] finally complete -- "+yt+" ms"):ue("Promise ["+wt+"] Complete -- "+yt+" ms"):(N.push(oi),ve("Event ["+wt+"] Timed out and removed -- "+yt+" ms"))}else ue("Failed to remove ["+wt+"] from running queue");Oe&&Oe.id===wt&&(Oe=null),xe(I),xe(u),xe(N)}function Ue(wt,vt){return function(_t){return Ye(wt,!0),vt&&vt(_t),_t}}function Ze(wt,vt,_t,oi){vt.then(function(yt){return yt instanceof ee?(ue("Event ["+wt+"] returned a promise -- waiting"),Ze(wt,yt,_t,oi),yt):Ue(wt,_t)(yt)},Ue(wt,oi))}function It(wt,vt){var _t=wt.id;return new ee(function(oi,yt){ue("Event ["+_t+"] Starting -- waited for "+(wt.wTm||"--")+" ms"),wt.isRunning=!0,wt.abort=function(Hi){wt.abort=null,wt.isAborted=!0,Ye(_t,!1),yt(new Error(Hi))};var Pt=vt(_t);Pt instanceof ee?(me&&(wt.to=setTimeout(function(){Ye(_t,!1),yt(new Error("Timed out after ["+me+"] ms"))},me)),Ze(_t,Pt,function(Hi){ue("Event ["+_t+"] Resolving after "+(q()-wt.tm)+" ms"),oi(Hi)},yt)):(ue("Promise ["+_t+"] Auto completed as the start action did not return a promise"),oi())})}function st(wt){var vt=q();return wt.wTm=vt-wt.tm,wt.tm=vt,wt.isAborted?ee.reject(new Error("["+ae+"] was aborted")):(I.push(wt),It(wt,Ve))}function ut(wt,vt){var _t=new ee(function(oi,yt){var Pt=q()-vt.tm,Hi=vt.id;ue("["+ae+"] is waiting for ["+Hi+":"+Pt+" ms] to complete before starting -- ["+u.length+"] waiting and ["+I.length+"] running"),wt.abort=function(Lt){wt.abort=null,qe(u,ae),wt.isAborted=!0,yt(new Error(Lt))},vt.evt.then(function(Lt){qe(u,ae),st(wt).then(oi,yt)},function(Lt){qe(u,ae),st(wt).then(oi,yt)})});return u.push(wt),_t}};function qe(Ve,Je){for(var me=0;me<Ve.length;me++)if(Ve[me].id===Je)return Ve.splice(me,1)[0];return null}});function ue(Fe){var Oe=(0,J.mS)();Oe&&Oe.QUnit&&console&&console.log("ESPromiseScheduler["+de+"] "+Fe)}function ve(Fe){(0,E.OG)(oe,"ESPromiseScheduler["+de+"] "+Fe)}}return z.incomplete=function(){return I},z.waitingToStart=function(){return u},z}();const K=V;var j=function(){function z(T){var oe=this,fe={},de=[],ue=[];T&&ue.push(T);function ve(qe,Ve){var Je,me=fe[qe];if(me&&(Je=me[Ve]),!Je&&Je!==null){if((0,D.Kg)(qe)&&(0,D.Kg)(Ve))if(ue.length>0){for(var ae=0;ae<ue.length;ae++)if(ue[ae].handleField(qe,Ve)){Je={canHandle:!0,fieldHandler:ue[ae]};break}}else de.length===0&&(Je={canHandle:!0});if(!Je&&Je!==null){Je=null;for(var ae=0;ae<de.length;ae++)if(de[ae].handleField(qe,Ve)){Je={canHandle:!0,handler:de[ae],fieldHandler:null};break}}me||(me=fe[qe]={}),me[Ve]=Je}return Je}oe.addSanitizer=function(qe){qe&&(de.push(qe),fe={})},oe.addFieldSanitizer=function(qe){qe&&(ue.push(qe),fe={})},oe.handleField=function(qe,Ve){var Je=ve(qe,Ve);return Je?Je.canHandle:!1},oe.value=function(qe,Ve,Je,me){var ae=ve(qe,Ve);if(ae&&ae.canHandle){if(!ae||!ae.canHandle)return null;if(ae.handler)return ae.handler.value(qe,Ve,Je,me);if(!(0,D.Kg)(Ve)||(0,D.hX)(Je)||Je===w.m5)return null;var ce=null,Re=(0,_.cq)(Je);if((Re&8192)===8192){var xe=Re&-8193;if(ce=Je,!(0,_.yD)(ce.value)||xe!==1&&xe!==2&&xe!==3&&(xe&4096)!==4096)return null}else Re===1||Re===2||Re===3||(Re&4096)===4096?ce=Oe(qe,Ve,Je):Re===4&&(ce=Oe(qe,Ve,me?JSON.stringify(Je):Je));if(ce)return Fe(ae,qe,Ve,Re,ce,me)}return null},oe.property=function(qe,Ve,Je,me){var ae=ve(qe,Ve);if(!ae||!ae.canHandle||!(0,D.Kg)(Ve)||(0,D.hX)(Je)||!(0,_.yD)(Je.value))return null;var ce=(0,_.cq)(Je.value);return ce===0?null:Fe(ae,qe,Ve,ce,Je,me)};function Fe(qe,Ve,Je,me,ae,ce){if(qe.handler)return qe.handler.property(Ve,Je,ae,ce);if(!(0,D.hX)(ae.kind)){if((me&4096)===4096||!(0,_.m0)(ae.kind))return null;ae.value=ae.value.toString()}return $e(qe.fieldHandler,Ve,Je,me,ae)}function Oe(qe,Ve,Je){return(0,_.yD)(Je)?{value:Je}:null}function $e(qe,Ve,Je,me,ae){if(ae&&qe){var ce=qe.getSanitizer(Ve,Je,me,ae.kind,ae.propertyType);if(ce)if(me===4){var Re={},xe=ae.value;(0,D.z)(xe,function(Ue,Ze){var It=Ve+"."+Je;if((0,_.yD)(Ze)){var st=Oe(It,Ue,Ze);st=$e(qe,It,Ue,(0,_.cq)(Ze),st),st&&(Re[Ue]=st.value)}}),ae.value=Re}else{var Ye={path:Ve,name:Je,type:me,prop:ae,sanitizer:oe};ae=ce.call(oe,Ye)}}return ae}}return z.getFieldType=_.cq,z}(),ie=100,X=F(54660),B=F(56489),se=F(8997),Pe=F(31590),we=F(32578),_e=F(18413),Me=F(57679),te=F(47672),re=F(91698),ge=F(64252),ye=F(49388),Ee=F(68560)},52976:(s,G,F)=>{"use strict";F.d(G,{S:()=>L,_0:()=>m,hj:()=>h,m5:()=>P});var P="",L="https://browser.events.data.microsoft.com/OneCollector/1.0/",D="pluginVersionString",A=D+"Arr",h="version",m="properties"},59091:(s,G,F)=>{"use strict";F.d(G,{Aq:()=>se,EO:()=>x,F2:()=>we,Go:()=>Z,H$:()=>_e,Hh:()=>W,P$:()=>M,Ri:()=>H,Rx:()=>l,TC:()=>Q,TV:()=>J,UM:()=>I,WB:()=>q,WD:()=>ee,X$:()=>N,Yj:()=>O,cq:()=>B,g8:()=>R,gj:()=>u,h3:()=>y,jS:()=>Pe,m0:()=>V,u9:()=>X,wJ:()=>ie,xE:()=>E,yD:()=>U});var P=F(44180),L=F(12497),D=F(91698),A=F(32578),h=F(47672),m=F(18413),g=F(57679),p=F(75148),k=F(52976),b,l="3.2.9",E="1DS-Web-JS-"+l,c="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",v="withCredentials",f="timeout",w=(b={},b[0]=0,b[2]=6,b[1]=1,b[3]=7,b[4098]=6,b[4097]=1,b[4099]=7,b),_=null,R=!!(0,P.YE)(),M=!!(0,P.zk)();function U(Me){return!(Me===k.m5||(0,L.hX)(Me))}function x(Me){if(Me){var te=Me.indexOf("-");if(te>-1)return Me.substring(0,te)}return k.m5}function y(){return _===null&&(_=!(0,L.b0)(Uint8Array)&&!j()&&!(0,P.lV)()),_}function W(Me){return!!(Me&&(0,L.Et)(Me)&&Me>=1&&Me<=4)}function Q(Me,te,re){if(!te&&!U(te)||typeof Me!="string")return null;var ge=typeof te;if(ge==="string"||ge==="number"||ge==="boolean"||(0,L.cy)(te))te={value:te};else if(ge==="object"&&!h.J$.call(te,"value"))te={value:re?JSON.stringify(te):te};else if((0,L.hX)(te.value)||te.value===k.m5||!(0,L.Kg)(te.value)&&!(0,L.Et)(te.value)&&!(0,L.Lm)(te.value)&&!(0,L.cy)(te.value))return null;if((0,L.cy)(te.value)&&!ie(te.value))return null;if(!(0,L.hX)(te.kind)){if((0,L.cy)(te.value)||!V(te.kind))return null;te.value=te.value.toString()}return te}function Z(Me,te,re){var ge=-1;if(!(0,L.b0)(Me))if(te>0&&(te===32?ge=8192:te<=13&&(ge=te<<5)),K(re))ge===-1&&(ge=0),ge|=re;else{var ye=w[B(Me)]||-1;ge!==-1&&ye!==-1?ge|=ye:ye===6&&(ge=ye)}return ge}function ee(){(0,D.um)(null).setEnabled(!1)}function J(Me,te,re){(0,D.gi)(null)&&(0,D.um)(null).set(Me,te,re*86400,null,"/")}function O(Me){(0,D.gi)(null)&&(0,D.um)(null).del(Me)}function H(Me){return(0,D.gi)(null)?I((0,D.um)(null),Me):k.m5}function I(Me,te,re){re===void 0&&(re=!0);var ge;return Me&&(ge=Me.get(te),re&&ge&&decodeURIComponent&&(ge=decodeURIComponent(ge))),ge||k.m5}function u(Me){Me===void 0&&(Me="D");var te=(0,A.aq)();return Me==="B"?te="{"+te+"}":Me==="P"?te="("+te+")":Me==="N"&&(te=te.replace(/-/g,k.m5)),te}function N(Me,te,re,ge,ye){var Ee={},z=!1,T=0,oe=arguments.length,fe=Object[h.vR],de=arguments;for(fe.toString.call(de[0])==="[object Boolean]"&&(z=de[0],T++);T<oe;T++){var Me=de[T];(0,L.z)(Me,function(ve,Fe){z&&Fe&&(0,L.Gv)(Fe)?(0,L.cy)(Fe)?(Ee[ve]=Ee[ve]||[],(0,L.Iu)(Fe,function(Oe,$e){Oe&&(0,L.Gv)(Oe)?Ee[ve][$e]=N(!0,Ee[ve][$e],Oe):Ee[ve][$e]=Oe})):Ee[ve]=N(!0,Ee[ve],Fe):Ee[ve]=Fe})}return Ee}var q=A.UU;function V(Me){return Me===0||Me>0&&Me<=13||Me===32}function K(Me){return Me>=0&&Me<=9}function j(){var Me=(0,P.w3)();if(!(0,L.b0)(Me)&&Me.userAgent){var te=Me.userAgent.toLowerCase();if((te.indexOf("safari")>=0||te.indexOf("firefox")>=0)&&te.indexOf("chrome")<0)return!0}return!1}function ie(Me){return Me.length>0}function X(Me,te){var re=Me;re.timings=re.timings||{},re.timings.processTelemetryStart=re.timings.processTelemetryStart||{},re.timings.processTelemetryStart[te]=q()}function B(Me){var te=0;if(Me!=null){var re=typeof Me;re==="string"?te=1:re==="number"?te=2:re==="boolean"?te=3:re===h._1&&(te=4,(0,L.cy)(Me)?(te=4096,Me.length>0&&(te|=B(Me[0]))):h.J$.call(Me,"value")&&(te=8192|B(Me.value)))}return te}var se={Version:l,FullVersionString:E,strUndefined:h.bA,strObject:h._1,Undefined:h.bA,arrForEach:L.Iu,arrIndexOf:L.rD,arrMap:L.W$,arrReduce:L.KT,objKeys:L.cG,toISOString:L._u,isReactNative:P.lV,isString:L.Kg,isNumber:L.Et,isBoolean:L.Lm,isFunction:L.Tn,isArray:L.cy,isObject:L.Gv,strTrim:L.EH,isDocumentObjectAvailable:R,isWindowObjectAvailable:M,isValueAssigned:U,getTenantId:x,isBeaconsSupported:P.Uf,isUint8ArrayAvailable:y,isLatency:W,sanitizeProperty:Q,getISOString:L._u,useXDomainRequest:P.PV,getCommonSchemaMetaData:Z,cookieAvailable:D.gi,disallowsSameSiteNone:D.It,setCookie:J,deleteCookie:O,getCookie:H,createGuid:u,extend:N,getTime:q,isValueKind:V,isArrayValid:ie,objDefineAccessors:L.r,addPageUnloadEventListener:m.ee,setProcessTelemetryTimings:X,addEventHandler:m.So,getFieldValueType:B,strEndsWith:L.Cv,objForEachKey:L.z},Pe={_canUseCookies:void 0,isTypeof:L.Ed,isUndefined:L.b0,isNullOrUndefined:L.hX,hasOwnProperty:L.mQ,isFunction:L.Tn,isObject:L.Gv,isDate:L.$P,isArray:L.cy,isError:L.bJ,isString:L.Kg,isNumber:L.Et,isBoolean:L.Lm,toISOString:L._u,arrForEach:L.Iu,arrIndexOf:L.rD,arrMap:L.W$,arrReduce:L.KT,strTrim:L.EH,objCreate:p.AQ,objKeys:L.cG,objDefineAccessors:L.r,addEventHandler:m.So,dateNow:L.x3,isIE:P.lT,disableCookies:ee,newGuid:A.aq,perfNow:A.UU,newId:g.Si,randomValue:g.Z1,random32:g.VN,mwcRandomSeed:g.yc,mwcRandom32:g.k5,generateW3CId:A.cL};function we(){return!!(0,P.EH)("chrome")}function _e(Me,te,re,ge,ye,Ee){ge===void 0&&(ge=!1),ye===void 0&&(ye=!1);function z(oe,fe,de){try{oe[fe]=de}catch{}}var T=new XMLHttpRequest;return ge&&z(T,c,ge),re&&z(T,v,re),T.open(Me,te,!ye),re&&z(T,v,re),!ye&&Ee&&z(T,f,Ee),T}},28643:(s,G,F)=>{"use strict";F.r(G),F.d(G,{BE_PROFILE:()=>v,NRT_PROFILE:()=>c,PostChannel:()=>jt,RT_PROFILE:()=>E});var P=F(8747),L=F(92457),D=F(5204),A=F(18413),h=F(64252),m=F(59091),g=F(12497),p=F(44180),k=F(31590),b=F(99015),l=F(56489),E="REAL_TIME",c="NEAR_REAL_TIME",v="BEST_EFFORT",f="",w="POST",_="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",R="drop",M="send",U="requeue",x="rspFail",y="oth",W="no-cache, no-store",Q="application/x-json-stream",Z="cache-control",ee="content-type",J="kill-tokens",O="kill-duration",H="kill-duration-seconds",I="time-delta-millis",u="client-version",N="client-id",q="time-delta-to-apply-millis",V="upload-time",K="apikey",j="AuthMsaDeviceTicket",ie="AuthXToken",X="sdk-version",B="NoResponseBody",se="msfpc",Pe="trace",we="user";function _e(qt){var gt=(qt.ext||{}).intweb;return gt&&(0,m.yD)(gt[se])?gt[se]:null}function Me(qt){for(var gt=null,Rt=0;gt===null&&Rt<qt.length;Rt++)gt=_e(qt[Rt]);return gt}var te=function(){function qt(gt,Rt){var Dt=Rt?[].concat(Rt):[],di=this,ri=Me(Dt);di.iKey=function(){return gt},di.Msfpc=function(){return ri||f},di.count=function(){return Dt.length},di.events=function(){return Dt},di.addEvent=function(Gt){return Gt?(Dt.push(Gt),ri||(ri=_e(Gt)),!0):!1},di.split=function(Gt,_i){var ci;if(Gt<Dt.length){var Di=Dt.length-Gt;(0,g.hX)(_i)||(Di=_i<Di?_i:Di),ci=Dt.splice(Gt,Di),ri=Me(Dt)}return new qt(gt,ci)}}return qt.create=function(gt,Rt){return new qt(gt,Rt)},qt}(),re=function(){function qt(){var gt=!0,Rt=!0,Dt=!0,di="use-collector-delta",ri=!1;(0,L.A)(qt,this,function(Gt){Gt.allowRequestSending=function(){return gt},Gt.firstRequestSent=function(){Dt&&(Dt=!1,ri||(gt=!1))},Gt.shouldAddClockSkewHeaders=function(){return Rt},Gt.getClockSkewHeaderValue=function(){return di},Gt.setClockSkew=function(_i){ri||(_i?(di=_i,Rt=!0,ri=!0):Rt=!1,gt=!0)}})}return qt.__ieDyn=1,qt}();const ge=re;var ye=1e3,Ee=function(){function qt(){var gt={};function Rt(Dt){var di=[];return Dt&&(0,g.Iu)(Dt,function(ri){di.push((0,g.EH)(ri))}),di}(0,L.A)(qt,this,function(Dt){Dt.setKillSwitchTenants=function(di,ri){if(di&&ri)try{var Gt=Rt(di.split(","));if(ri==="this-request-only")return Gt;for(var _i=parseInt(ri,10)*ye,ci=0;ci<Gt.length;++ci)gt[Gt[ci]]=(0,g.x3)()+_i}catch{return[]}return[]},Dt.isTenantKilled=function(di){var ri=gt,Gt=(0,g.EH)(di);return ri[Gt]!==void 0&&ri[Gt]>(0,g.x3)()?!0:(delete ri[Gt],!1)}})}return qt.__ieDyn=1,qt}();const z=Ee;var T=F(47672),oe=.8,fe=1.2,de=3e3,ue=6e5;function ve(qt){return!(qt>=300&&qt<500&&qt!=408&&qt!=429||qt==501||qt==505)}function Fe(qt){var gt=0,Rt=de*oe,Dt=de*fe,di=Math.floor(Math.random()*(Dt-Rt))+Rt;return gt=Math.pow(2,qt)*di,Math.min(gt,ue)}var Oe=20,$e=3984588,qe=65e3,Ve=2e6,Je=Math.min(Ve,qe),me="metadata",ae="f",ce=/\./,Re=function(){function qt(gt,Rt,Dt,di){var ri="data",Gt="baseData",_i="ext",ci=!!di,Di=!0,Ii=Rt,Zi={};(0,L.A)(qt,this,function(fi){fi.createPayload=function(ei,li,Ti,zi,hi,Ai){return{apiKeys:[],payloadBlob:f,overflow:null,sizeExceed:[],failedEvts:[],batches:[],numEvents:0,retryCnt:ei,isTeardown:li,isSync:Ti,isBeacon:zi,sendType:Ai,sendReason:hi}},fi.appendPayload=function(ei,li,Ti){var zi=ei&&li&&!ei.overflow;return zi&&(0,D.r2)(gt,function(){return"Serializer:appendPayload"},function(){for(var hi=li.events(),Ai=ei.payloadBlob,Xi=ei.numEvents,un=!1,Wi=[],dn=[],Nn=ei.isBeacon,sn=Nn?qe:$e,Cn=Nn?Je:Ve,_n=0,Ci=0;_n<hi.length;){var Fi=hi[_n];if(Fi){if(Xi>=Ti){ei.overflow=li.split(_n);break}var gi=fi.getEventBlob(Fi);if(gi&&gi.length<=Cn){var xn=gi.length,oa=Ai.length;if(oa+xn>sn){ei.overflow=li.split(_n);break}Ai&&(Ai+=`
`),Ai+=gi,Ci++,Ci>Oe&&(Ai.substr(0,1),Ci=0),un=!0,Xi++}else gi?Wi.push(Fi):dn.push(Fi),hi.splice(_n,1),_n--}_n++}if(Wi&&Wi.length>0&&ei.sizeExceed.push(te.create(li.iKey(),Wi)),dn&&dn.length>0&&ei.failedEvts.push(te.create(li.iKey(),dn)),un){ei.batches.push(li),ei.payloadBlob=Ai,ei.numEvents=Xi;var Vn=li.iKey();(0,g.rD)(ei.apiKeys,Vn)===-1&&ei.apiKeys.push(Vn)}},function(){return{payload:ei,theBatch:{iKey:li.iKey(),evts:li.events()},max:Ti}}),zi},fi.getEventBlob=function(ei){try{return(0,D.r2)(gt,function(){return"Serializer.getEventBlob"},function(){var li={};li.name=ei.name,li.time=ei.time,li.ver=ei.ver,li.iKey="o:"+(0,m.EO)(ei.iKey);var Ti={},zi=ei[_i];zi&&(li[_i]=Ti,(0,g.z)(zi,function(Xi,un){var Wi=Ti[Xi]={};ji(un,Wi,"ext."+Xi,!0,null,null,!0)}));var hi=li[ri]={};hi.baseType=ei.baseType;var Ai=hi[Gt]={};return ji(ei.baseData,Ai,Gt,!1,[Gt],function(Xi,un,Wi){xe(Ti,Xi,un,Wi)},Di),ji(ei.data,hi,ri,!1,[],function(Xi,un,Wi){xe(Ti,Xi,un,Wi)},Di),JSON.stringify(li)},function(){return{item:ei}})}catch{return null}};function Yi(ei,li){var Ti=Zi[ei];return Ti===void 0&&(ei.length>=7&&(Ti=(0,g.tG)(ei,"ext.metadata")||(0,g.tG)(ei,"ext.web")),Zi[ei]=Ti),Ti}function ji(ei,li,Ti,zi,hi,Ai,Xi){(0,g.z)(ei,function(un,Wi){var dn=null;if(Wi||(0,m.yD)(Wi)){var Nn=Ti,sn=un,Cn=hi,_n=li;if(ci&&!zi&&ce.test(un)){var Ci=un.split("."),Fi=Ci.length;if(Fi>1){Cn&&(Cn=Cn.slice());for(var gi=0;gi<Fi-1;gi++){var xn=Ci[gi];_n=_n[xn]=_n[xn]||{},Nn+="."+xn,Cn&&Cn.push(xn)}sn=Ci[Fi-1]}}var oa=zi&&Yi(Nn,sn);if(!oa&&Ii&&Ii.handleField(Nn,sn)?dn=Ii.value(Nn,sn,Wi,Dt):dn=(0,m.TC)(sn,Wi,Dt),dn){var Vn=dn.value;if(_n[sn]=Vn,Ai&&Ai(Cn,sn,dn),Xi&&typeof Vn=="object"&&!(0,g.cy)(Vn)){var Kr=Cn;Kr&&(Kr=Kr.slice(),Kr.push(sn)),ji(Wi,Vn,Nn+"."+sn,zi,Kr,Ai,Xi)}}}})}})}return qt.__ieDyn=1,qt}();function xe(qt,gt,Rt,Dt){if(Dt&&qt){var di=(0,m.Go)(Dt.value,Dt.kind,Dt.propertyType);if(di>-1){var ri=qt[me];ri||(ri=qt[me]={f:{}});var Gt=ri[ae];if(Gt||(Gt=ri[ae]={}),gt)for(var _i=0;_i<gt.length;_i++){var ci=gt[_i];Gt[ci]||(Gt[ci]={f:{}});var Di=Gt[ci][ae];Di||(Di=Gt[ci][ae]={}),Gt=Di}Gt=Gt[Rt]={},(0,g.cy)(Dt.value)?Gt.a={t:di}:Gt.t=di}}}var Ye,Ue="sendAttempt",Ze="&"+B+"=true",It=(Ye={},Ye[1]=U,Ye[100]=U,Ye[200]="sent",Ye[8004]=R,Ye[8003]=R,Ye),st={},ut={};function wt(qt,gt,Rt){st[qt]=gt,Rt!==!1&&(ut[gt]=qt)}wt(j,j,!1),wt(u,u),wt(N,"Client-Id"),wt(K,K),wt(q,q),wt(V,V),wt(ie,ie);function vt(qt){try{return qt.responseText}catch{}return f}function _t(qt,gt){var Rt=!1;if(qt&&gt){var Dt=(0,g.cG)(qt);if(Dt&&Dt.length>0)for(var di=gt.toLowerCase(),ri=0;ri<Dt.length;ri++){var Gt=Dt[ri];if(Gt&&(0,g.mQ)(gt,Gt)&&Gt.toLowerCase()===di){Rt=!0;break}}}return Rt}function oi(qt,gt,Rt,Dt){gt&&Rt&&Rt.length>0&&(Dt&&st[gt]?(qt.hdrs[st[gt]]=Rt,qt.useHdrs=!0):qt.url+="&"+gt+"="+Rt)}function yt(qt,gt){return gt&&((0,g.Et)(gt)?qt=[gt].concat(qt):(0,g.cy)(gt)&&(qt=gt.concat(qt))),qt}var Pt=function(){function qt(gt,Rt,Dt,di,ri){this._responseHandlers=[];var Gt="?cors=true&"+ee.toLowerCase()+"="+Q,_i=new z,ci=!1,Di=new ge,Ii=!1,Zi=0,fi,Yi,ji,ei,li=!0,Ti=[],zi={},hi=[],Ai=null,Xi=!1,un,Wi=!1,dn=!1,Nn,sn,Cn,_n,Ci;(0,L.A)(qt,this,function(Fi){var gi=!0;Fi.initialize=function(Qe,kt,St,xt,zt){var Ri;zt||(zt={}),Gt=Qe+Gt,dn=(0,g.b0)(zt.avoidOptions)?!0:!zt.avoidOptions,ei=kt,un=kt.getCookieMgr(),Xi=!ei.config.disableEventTimings;var bi=!!ei.config.enableCompoundKey;fi=St,Yi=fi.diagLog();var tt=zt.valueSanitizer,ct=zt.stringifyObjects;(0,g.b0)(zt.enableCompoundKey)||(bi=!!zt.enableCompoundKey),Nn=zt.xhrTimeout,sn=!!zt.disableXhrSync,Cn=!!zt.disableFetchKeepAlive,Ci=zt.addNoResponse!==!1,Ii=!(0,p.lV)(),Ai=new Re(ei,tt,ct,bi),(0,g.hX)(zt.useSendBeacon)||(Ii=!!zt.useSendBeacon);var ot=xt,Ut=zt.alwaysUseXhrOverride?xt:null,Jt=zt.alwaysUseXhrOverride?xt:null,ui=[3,2];if(!xt){li=!1;var vi=(0,p.g$)();vi&&vi.protocol&&vi.protocol.toLowerCase()==="file:"&&(gi=!1);var Ji=[];(0,p.lV)()?(Ji=[2,1],ui=[2,1,3]):Ji=[1,2,3],Ji=yt(Ji,zt.transports),xt=xn(Ji,!1),xt||(0,b.OG)(Yi,"No available transport to send events"),ot=xn(Ji,!0)}Ut||(ui=yt(ui,zt.unloadTransports),Ut=xn(ui,!0)),_n=!li&&(Ii&&(0,p.Uf)()||!Cn&&(0,p.R7)(!0)),ji=(Ri={},Ri[0]=xt,Ri[1]=ot||xn([1,2,3],!0),Ri[2]=Ut||ot||xn([1],!0),Ri[3]=Jt||xn([2,3],!0)||ot||xn([1],!0),Ri)};function xn(Qe,kt){for(var St=0,xt=null,zt=0;xt==null&&zt<Qe.length;)St=Qe[zt],St===1?(0,p.PV)()?xt=oa:(0,p.xk)()&&(xt=Kr):St===2&&(0,p.R7)(kt)&&(!kt||kt&&!Cn)?xt=Vn:Ii&&St===3&&(0,p.Uf)()&&(xt=Qr),zt++;return xt?{_transport:St,_isSync:kt,sendPOST:xt}:null}Fi._getDbgPlgTargets=function(){return[ji[0],_i,Ai,ji]};function oa(Qe,kt,St){var xt=new XDomainRequest;xt.open(w,Qe.urlString),Qe.timeout&&(xt.timeout=Qe.timeout),xt.onload=function(){var zt=vt(xt);lr(kt,200,{},zt),as(zt)},xt.onerror=function(){lr(kt,400,{})},xt.ontimeout=function(){lr(kt,500,{})},xt.onprogress=function(){},St?xt.send(Qe.data):ri.set(function(){xt.send(Qe.data)},0)}function Vn(Qe,kt,St){var xt,zt=Qe.urlString,Ri=!1,bi=!1,tt=(xt={body:Qe.data,method:w},xt[_]=!0,xt);St&&(tt.keepalive=!0,Qe._sendReason===2&&(Ri=!0,Ci&&(zt+=Ze))),gi&&(tt.credentials="include"),Qe.headers&&(0,g.cG)(Qe.headers).length>0&&(tt.headers=Qe.headers),fetch(zt,tt).then(function(ct){var ot={},Ut=f,Jt=ct.headers;Jt&&Jt.forEach(function(ui,vi){ot[vi]=ui}),ct.body&&ct.text().then(function(ui){Ut=ui}),bi||(bi=!0,lr(kt,ct.status,ot,Ut),as(Ut))}).catch(function(ct){bi||(bi=!0,lr(kt,0,{}))}),Ri&&!bi&&(bi=!0,lr(kt,200,{})),!bi&&Qe.timeout>0&&ri.set(function(){bi||(bi=!0,lr(kt,500,{}))},Qe.timeout)}function Kr(Qe,kt,St){var xt=Qe.urlString;function zt(ct,ot,Ut){if(!ct[Ut]&&ot&&ot.getResponseHeader){var Jt=ot.getResponseHeader(Ut);Jt&&(ct[Ut]=(0,g.EH)(Jt))}return ct}function Ri(ct){var ot={};return ct.getAllResponseHeaders?ot=rs(ct.getAllResponseHeaders()):(ot=zt(ot,ct,I),ot=zt(ot,ct,O),ot=zt(ot,ct,H)),ot}function bi(ct,ot){lr(kt,ct.status,Ri(ct),ot)}St&&Qe.disableXhrSync&&(St=!1);var tt=(0,m.H$)(w,xt,gi,!0,St,Qe.timeout);(0,g.z)(Qe.headers,function(ct,ot){tt.setRequestHeader(ct,ot)}),tt.onload=function(){var ct=vt(tt);bi(tt,ct),as(ct)},tt.onerror=function(){bi(tt)},tt.ontimeout=function(){bi(tt)},tt.send(Qe.data)}function lr(Qe,kt,St,xt){try{Qe(kt,St,xt)}catch(zt){(0,b.ZP)(Yi,2,518,(0,p.mm)(zt))}}function Qr(Qe,kt,St){var xt=Qe,zt=200,Ri=xt._thePayload,bi=Qe.urlString+(Ci?Ze:f);try{var tt=(0,p.w3)();if(!tt.sendBeacon(bi,Qe.data))if(Ri){var ct=[];(0,g.Iu)(Ri.batches,function(ot){if(ct&&ot&&ot.count()>0){for(var Ut=ot.events(),Jt=0;Jt<Ut.length;Jt++)if(!tt.sendBeacon(bi,Ai.getEventBlob(Ut[Jt]))){ct.push(ot.split(Jt));break}}else ct.push(ot.split(0))}),wn(ct,8003,Ri.sendType,!0)}else zt=0}catch(ot){(0,b.OG)(Yi,"Failed to send telemetry using sendBeacon API. Ex:"+(0,p.mm)(ot)),zt=0}finally{lr(kt,zt,{},f)}}function la(Qe){return Qe===2||Qe===3}function Tn(Qe){return Wi&&la(Qe)&&(Qe=2),Qe}Fi.addQueryStringParameter=function(Qe,kt){for(var St=0;St<Ti.length;St++)if(Ti[St].name===Qe){Ti[St].value=kt;return}Ti.push({name:Qe,value:kt})},Fi.addHeader=function(Qe,kt){zi[Qe]=kt},Fi.canSendRequest=function(){return ns()&&Di.allowRequestSending()},Fi.sendQueuedRequests=function(Qe,kt){(0,g.b0)(Qe)&&(Qe=0),Wi&&(Qe=Tn(Qe),kt=2),Gr(hi,Qe,0)&&ba(xr(),0,!1,Qe,kt||0)},Fi.isCompletelyIdle=function(){return!ci&&Zi===0&&hi.length===0},Fi.setUnloading=function(Qe){Wi=Qe},Fi.addBatch=function(Qe){if(Qe&&Qe.count()>0){if(_i.isTenantKilled(Qe.iKey()))return!1;hi.push(Qe)}return!0},Fi.teardown=function(){hi.length>0&&ba(xr(),0,!0,2,2)},Fi.pause=function(){ci=!0},Fi.resume=function(){ci=!1,Fi.sendQueuedRequests(0,4)},Fi.sendSynchronousBatch=function(Qe,kt,St){Qe&&Qe.count()>0&&((0,g.hX)(kt)&&(kt=1),Wi&&(kt=Tn(kt),St=2),ba([Qe],0,!1,kt,St||0))};function ns(){return!ci&&Zi<Rt}function xr(){var Qe=hi;return hi=[],Qe}function Gr(Qe,kt,St){var xt=!1;return Qe&&Qe.length>0&&!ci&&ji[kt]&&Ai&&(xt=kt!==0||ns()&&(St>0||Di.allowRequestSending())),xt}function xa(Qe){var kt={};return Qe&&(0,g.Iu)(Qe,function(St,xt){kt[xt]={iKey:St.iKey(),evts:St.events()}}),kt}function ba(Qe,kt,St,xt,zt){if(!(!Qe||Qe.length===0)){if(ci){wn(Qe,1,xt);return}xt=Tn(xt);try{var Ri=Qe,bi=xt!==0;(0,D.r2)(ei,function(){return"HttpManager:_sendBatches"},function(tt){tt&&(Qe=Qe.slice(0));for(var ct=[],ot=null,Ut=(0,m.WB)(),Jt=ji[xt]||(bi?ji[1]:ji[0]),ui=Jt&&Jt._transport,vi=_n&&(Wi||la(xt)||ui===3||Jt._isSync&&ui===2);Gr(Qe,xt,kt);){var Ji=Qe.shift();Ji&&Ji.count()>0&&(_i.isTenantKilled(Ji.iKey())?ct.push(Ji):(ot=ot||Ai.createPayload(kt,St,bi,vi,zt,xt),Ai.appendPayload(ot,Ji,gt)?ot.overflow!==null&&(Qe=[ot.overflow].concat(Qe),ot.overflow=null,ka(ot,Ut,(0,m.WB)(),zt),Ut=(0,m.WB)(),ot=null):(ka(ot,Ut,(0,m.WB)(),zt),Ut=(0,m.WB)(),Qe=[Ji].concat(Qe),ot=null)))}ot&&ka(ot,Ut,(0,m.WB)(),zt),Qe.length>0&&(hi=Qe.concat(hi)),wn(ct,8004,xt)},function(){return{batches:xa(Ri),retryCount:kt,isTeardown:St,isSynchronous:bi,sendReason:zt,useSendBeacon:la(xt),sendType:xt}},!bi)}catch(tt){(0,b.ZP)(Yi,2,48,"Unexpected Exception sending batch: "+(0,p.mm)(tt))}}}function ks(Qe,kt){var St={url:Gt,hdrs:{},useHdrs:!1};kt?(St.hdrs=(0,m.X$)(St.hdrs,zi),St.useHdrs=(0,g.cG)(St.hdrs).length>0):(0,g.z)(zi,function(tt,ct){ut[tt]?oi(St,ut[tt],ct,!1):(St.hdrs[tt]=ct,St.useHdrs=!0)}),oi(St,N,"NO_AUTH",kt),oi(St,u,m.xE,kt);var xt=f;(0,g.Iu)(Qe.apiKeys,function(tt){xt.length>0&&(xt+=","),xt+=tt}),oi(St,K,xt,kt),oi(St,V,(0,g.x3)().toString(),kt);var zt=Cr(Qe);if((0,m.yD)(zt)&&(St.url+="&ext.intweb.msfpc="+zt),Di.shouldAddClockSkewHeaders()&&oi(St,q,Di.getClockSkewHeaderValue(),kt),ei.getWParam){var Ri=ei.getWParam();Ri>=0&&(St.url+="&w="+Ri)}for(var bi=0;bi<Ti.length;bi++)St.url+="&"+Ti[bi].name+"="+Ti[bi].value;return St}function wa(Qe,kt,St){Qe[kt]=Qe[kt]||{},Qe[kt][fi.identifier]=St}function ka(Qe,kt,St,xt){if(Qe&&Qe.payloadBlob&&Qe.payloadBlob.length>0){var zt=!!Fi.sendHook,Ri=ji[Qe.sendType];!la(Qe.sendType)&&Qe.isBeacon&&Qe.sendReason===2&&(Ri=ji[2]||ji[3]||Ri);var bi=dn;(Qe.isBeacon||Ri._transport===3)&&(bi=!1);var tt=ks(Qe,bi);bi=bi||tt.useHdrs;var ct=(0,m.WB)();(0,D.r2)(ei,function(){return"HttpManager:_doPayloadSend"},function(){for(var ot=0;ot<Qe.batches.length;ot++)for(var Ut=Qe.batches[ot],Jt=Ut.events(),ui=0;ui<Jt.length;ui++){var vi=Jt[ui];if(Xi){var Ji=vi.timings=vi.timings||{};wa(Ji,"sendEventStart",ct),wa(Ji,"serializationStart",kt),wa(Ji,"serializationCompleted",St)}vi[Ue]>0?vi[Ue]++:vi[Ue]=1}wn(Qe.batches,1e3+(xt||0),Qe.sendType,!0);var Gi={data:Qe.payloadBlob,urlString:tt.url,headers:tt.hdrs,_thePayload:Qe,_sendReason:xt,timeout:Nn,disableXhrSync:sn,disableFetchKeepAlive:Cn};bi&&(_t(Gi.headers,Z)||(Gi.headers[Z]=W),_t(Gi.headers,ee)||(Gi.headers[ee]=Q));var ur=null;Ri&&(ur=function(Jr){Di.firstRequestSent();var xi=function(Zr,Vr){js(Zr,Vr,Qe,xt)},dr=Qe.isTeardown||Qe.isSync;try{Ri.sendPOST(Jr,xi,dr),Fi.sendListener&&Fi.sendListener(Gi,Jr,dr,Qe.isBeacon)}catch(Zr){(0,b.OG)(Yi,"Unexpected exception sending payload. Ex:"+(0,p.mm)(Zr)),lr(xi,0,{})}}),(0,D.r2)(ei,function(){return"HttpManager:_doPayloadSend.sender"},function(){if(ur)if(Qe.sendType===0&&Zi++,zt&&!Qe.isBeacon&&Ri._transport!==3){var Jr={data:Gi.data,urlString:Gi.urlString,headers:(0,m.X$)({},Gi.headers),timeout:Gi.timeout,disableXhrSync:Gi.disableXhrSync,disableFetchKeepAlive:Gi.disableFetchKeepAlive},xi=!1;(0,D.r2)(ei,function(){return"HttpManager:_doPayloadSend.sendHook"},function(){try{Fi.sendHook(Jr,function(dr){xi=!0,!li&&!dr._thePayload&&(dr._thePayload=dr._thePayload||Gi._thePayload,dr._sendReason=dr._sendReason||Gi._sendReason),ur(dr)},Qe.isSync||Qe.isTeardown)}catch{xi||ur(Gi)}})}else ur(Gi)})},function(){return{thePayload:Qe,serializationStart:kt,serializationCompleted:St,sendReason:xt}},Qe.isSync)}Qe.sizeExceed&&Qe.sizeExceed.length>0&&wn(Qe.sizeExceed,8003,Qe.sendType),Qe.failedEvts&&Qe.failedEvts.length>0&&wn(Qe.failedEvts,8002,Qe.sendType)}function Vs(Qe,kt){Xi&&(0,g.Iu)(Qe,function(St){var xt=St.timings=St.timings||{};wa(xt,"sendEventCompleted",kt)})}function js(Qe,kt,St,xt){var zt=9e3,Ri=null,bi=!1,tt=!1;try{var ct=!0;if(typeof Qe!==T.bA){if(kt){Di.setClockSkew(kt[I]);var ot=kt[O]||kt["kill-duration-seconds"];(0,g.Iu)(_i.setKillSwitchTenants(kt[J],ot),function(Jt){(0,g.Iu)(St.batches,function(ui){if(ui.iKey()===Jt){Ri=Ri||[];var vi=ui.split(0);St.numEvents-=vi.count(),Ri.push(vi)}})})}if(Qe==200||Qe==204){zt=200;return}(!ve(Qe)||St.numEvents<=0)&&(ct=!1),zt=9e3+Qe%1e3}if(ct){zt=100;var Ut=St.retryCnt;St.sendType===0&&(Ut<Dt?(bi=!0,Oa(function(){St.sendType===0&&Zi--,ba(St.batches,Ut+1,St.isTeardown,Wi?2:St.sendType,5)},Wi,Fe(Ut))):(tt=!0,Wi&&(zt=8001)))}}finally{bi||(Di.setClockSkew(),ua(St,zt,xt,tt)),wn(Ri,8004,St.sendType)}}function ua(Qe,kt,St,xt){try{xt&&fi._backOffTransmission(),kt===200&&(!xt&&!Qe.isSync&&fi._clearBackOff(),_s(Qe.batches)),wn(Qe.batches,kt,Qe.sendType,!0)}finally{Qe.sendType===0&&(Zi--,St!==5&&Fi.sendQueuedRequests(Qe.sendType,St))}}function _s(Qe){if(Xi){var kt=(0,m.WB)();(0,g.Iu)(Qe,function(St){St&&St.count()>0&&Vs(St.events(),kt)})}}function Oa(Qe,kt,St){kt?Qe():ri.set(Qe,St)}function rs(Qe){var kt={};if((0,g.Kg)(Qe)){var St=(0,g.EH)(Qe).split(/[\r\n]+/);(0,g.Iu)(St,function(xt){if(xt){var zt=xt.indexOf(": ");if(zt!==-1){var Ri=(0,g.EH)(xt.substring(0,zt)).toLowerCase(),bi=(0,g.EH)(xt.substring(zt+1));kt[Ri]=bi}else kt[(0,g.EH)(xt)]=1}})}return kt}function Cr(Qe){for(var kt=0;kt<Qe.batches.length;kt++){var St=Qe.batches[kt].Msfpc();if(St)return encodeURIComponent(St)}return f}function as(Qe){var kt=Fi._responseHandlers;try{for(var St=0;St<kt.length;St++)try{kt[St](Qe)}catch(zt){(0,b.ZP)(Yi,1,519,"Response handler failed: "+zt)}if(Qe){var xt=JSON.parse(Qe);(0,m.yD)(xt.webResult)&&(0,m.yD)(xt.webResult[se])&&un.set("MSFPC",xt.webResult[se],365*86400)}}catch{}}function wn(Qe,kt,St,xt){if(Qe&&Qe.length>0&&di){var zt=di[Yr(kt)];if(zt){var Ri=St!==0;(0,D.r2)(ei,function(){return"HttpManager:_sendBatchesNotification"},function(){Oa(function(){try{zt.call(di,Qe,kt,Ri,St)}catch(bi){(0,b.ZP)(Yi,1,74,"send request notification failed: "+bi)}},xt||Ri,0)},function(){return{batches:xa(Qe),reason:kt,isSync:Ri,sendSync:xt,sendType:St}},!Ri)}}}function Yr(Qe){var kt=It[Qe];return(0,m.yD)(kt)||(kt=y,Qe>=9e3&&Qe<=9999?kt=x:Qe>=8e3&&Qe<=8999?kt=R:Qe>=1e3&&Qe<=1999&&(kt=M)),kt}})}return qt.__ieDyn=1,qt}();function Hi(qt,gt){for(var Rt=[],Dt=2;Dt<arguments.length;Dt++)Rt[Dt-2]=arguments[Dt];return setTimeout(qt,gt,Rt)}function Lt(qt){clearTimeout(qt)}function Kt(qt,gt){return{set:qt||Hi,clear:gt||Lt}}var Zn=.25,Xt=500,Wt=20,Gn=6,Ft=2,ht=4,bt=2,Le=1,et="eventsDiscarded",Tt="overrideInstrumentationKey",dt="maxEventRetryAttempts",mt="maxUnloadEventRetryAttempts",ni="addUnloadCb",Ot=function(qt){(0,P.qU)(gt,qt);function gt(){var Rt=qt.call(this)||this;Rt.identifier="PostChannel",Rt.priority=1011,Rt.version="3.2.9";var Dt,di=!1,ri=[],Gt=null,_i=!1,ci=0,Di=500,Ii=0,Zi=1e4,fi={},Yi=E,ji=null,ei=null,li=0,Ti=0,zi,hi,Ai={},Xi,un,Wi=-1,dn,Nn=!0,sn=!1,Cn=Gn,_n=Ft,Ci,Fi;return(0,L.A)(gt,Rt,function(gi,xn){ns(),gi._getDbgPlgTargets=function(){return[hi]},gi.initialize=function(tt,ct,ot){(0,D.r2)(ct,function(){return"PostChannel:initialize"},function(){var Ut=ct;xn.initialize(tt,ct,ot);try{var Jt=!!ct[ni];Ci=(0,A.Hm)((0,h.Z)(gi.identifier),ct.evtNamespace&&ct.evtNamespace());var ui=gi._getTelCtx();tt.extensionConfig[gi.identifier]=tt.extensionConfig[gi.identifier]||{},Dt=ui.getExtCfg(gi.identifier),Fi=Kt(Dt.setTimeoutOverride,Dt.clearTimeoutOverride),Nn=!Dt.disableOptimizeObj&&(0,m.F2)(),oa(Ut),Dt.eventsLimitInMem>0&&(Zi=Dt.eventsLimitInMem),Dt.immediateEventLimit>0&&(Di=Dt.immediateEventLimit),Dt.autoFlushEventsLimit>0&&(Xi=Dt.autoFlushEventsLimit),(0,g.Et)(Dt[dt])&&(Cn=Dt[dt]),(0,g.Et)(Dt[mt])&&(_n=Dt[mt]),bi(),Dt.httpXHROverride&&Dt.httpXHROverride.sendPOST&&(zi=Dt.httpXHROverride),(0,m.yD)(tt.anonCookieName)&&hi.addQueryStringParameter("anoncknm",tt.anonCookieName),hi.sendHook=Dt.payloadPreprocessor,hi.sendListener=Dt.payloadListener;var vi=Dt.overrideEndpointUrl?Dt.overrideEndpointUrl:tt.endpointUrl;gi._notificationManager=ct.getNotifyMgr(),hi.initialize(vi,gi.core,gi,zi,Dt);var Ji=tt.disablePageUnloadEvents||[];(0,A.ee)(Vn,Ji,Ci),(0,A.Fc)(Vn,Ji,Ci),(0,A.oS)(Kr,tt.disablePageShowEvents,Ci)}catch(Gi){throw gi.setInitialized(!1),Gi}},function(){return{coreConfig:tt,core:ct,extensions:ot}})},gi.processTelemetry=function(tt,ct){(0,m.u9)(tt,gi.identifier),ct=gi._getTelCtx(ct);var ot=ct.getExtCfg(gi.identifier),Ut=!!Dt.disableTelemetry;ot&&(Ut=Ut||!!ot.disableTelemetry);var Jt=tt;!Ut&&!di&&(Dt[Tt]&&(Jt.iKey=Dt[Tt]),ot&&ot[Tt]&&(Jt.iKey=ot[Tt]),lr(Jt,!0),sn?xa(2,2):Tn()),gi.processNext(Jt,ct)},gi._doTeardown=function(tt,ct){xa(2,2),di=!0,hi.teardown(),(0,A.Ds)(null,Ci),(0,A.sq)(null,Ci),(0,A.vF)(null,Ci),ns()};function oa(tt){var ct=tt.getWParam;tt.getWParam=function(){var ot=0;return Dt.ignoreMc1Ms0CookieProcessing&&(ot=ot|2),ot|ct()}}function Vn(tt){var ct=tt||(0,p.zk)().event;ct.type!=="beforeunload"&&(sn=!0,hi.setUnloading(sn)),xa(2,2)}function Kr(tt){sn=!1,hi.setUnloading(sn)}function lr(tt,ct){if(tt.sendAttempt||(tt.sendAttempt=0),tt.latency||(tt.latency=1),tt.ext&&tt.ext[Pe]&&delete tt.ext[Pe],tt.ext&&tt.ext[we]&&tt.ext[we].id&&delete tt.ext[we].id,Nn&&(m.u9,tt.ext=(0,g.hW)(tt.ext),tt.baseData&&(tt.baseData=(0,g.hW)(tt.baseData)),tt.data&&(tt.data=(0,g.hW)(tt.data))),tt.sync){if(li||_i)tt.latency=3,tt.sync=!1;else if(hi){Nn&&(tt=(0,g.hW)(tt)),hi.sendSynchronousBatch(te.create(tt.iKey,[tt]),tt.sync===!0?1:tt.sync,3);return}}var ot=tt.latency,Ut=Ii,Jt=Zi;ot===4&&(Ut=ci,Jt=Di);var ui=!1;if(Ut<Jt)ui=!ka(tt,ct);else{var vi=1,Ji=Wt;ot===4&&(vi=4,Ji=1),ui=!0,Vs(tt.iKey,tt.latency,vi,Ji)&&(ui=!ka(tt,ct))}ui&&Yr(et,[tt],k.x.QueueFull)}gi.setEventQueueLimits=function(tt,ct){Zi=tt>0?tt:1e4,Xi=ct>0?ct:0,bi();var ot=Ii>tt;if(!ot&&un>0)for(var Ut=1;!ot&&Ut<=3;Ut++){var Jt=Ai[Ut];Jt&&Jt.batches&&(0,g.Iu)(Jt.batches,function(ui){ui&&ui.count()>=un&&(ot=!0)})}wa(!0,ot)},gi.pause=function(){Gr(),_i=!0,hi.pause()},gi.resume=function(){_i=!1,hi.resume(),Tn()},gi.addResponseHandler=function(tt){hi._responseHandlers.push(tt)},gi._loadTransmitProfiles=function(tt){rs(),(0,g.z)(tt,function(ct,ot){var Ut=ot.length;if(Ut>=2){var Jt=Ut>2?ot[2]:0;if(ot.splice(0,Ut-2),ot[1]<0&&(ot[0]=-1),ot[1]>0&&ot[0]>0){var ui=ot[0]/ot[1];ot[0]=Math.ceil(ui)*ot[1]}Jt>=0&&ot[1]>=0&&Jt>ot[1]&&(Jt=ot[1]),ot.push(Jt),fi[ct]=ot}})},gi.flush=function(tt,ct,ot){if(tt===void 0&&(tt=!0),!_i)if(ot=ot||1,tt)Gt==null?(Gr(),ua(1,0,ot),Gt=xr(function(){Gt=null,_s(ct,ot)},0)):ri.push(ct);else{var Ut=Gr();Qr(1,1,ot),ct!=null&&ct(),Ut&&Tn()}},gi.setMsaAuthTicket=function(tt){hi.addHeader(j,tt)},gi.hasEvents=la,gi._setTransmitProfile=function(tt){Yi!==tt&&fi[tt]!==void 0&&(Gr(),Yi=tt,Tn())};function Qr(tt,ct,ot){var Ut=ua(tt,ct,ot);return hi.sendQueuedRequests(ct,ot),Ut}function la(){return Ii>0}function Tn(){if(Wi>=0&&ua(Wi,0,dn)&&hi.sendQueuedRequests(0,dn),ci>0&&!ei&&!_i){var tt=fi[Yi][2];tt>=0&&(ei=xr(function(){ei=null,Qr(4,0,1),Tn()},tt))}var ct=fi[Yi][1];!ji&&!Gt&&ct>=0&&!_i&&(la()?ji=xr(function(){ji=null,Qr(Ti===0?3:1,0,1),Ti++,Ti%=2,Tn()},ct):Ti=0)}gi._backOffTransmission=function(){li<ht&&(li++,Gr(),Tn())},gi._clearBackOff=function(){li&&(li=0,Gr(),Tn())};function ns(){Dt=null,di=!1,ri=[],Gt=null,_i=!1,ci=0,Di=500,Ii=0,Zi=1e4,fi={},Yi=E,ji=null,ei=null,li=0,Ti=0,zi=null,Ai={},Xi=void 0,un=0,Wi=-1,dn=null,Nn=!0,sn=!1,Cn=Gn,_n=Ft,Ci=null,Fi=Kt(),hi=new Pt(Xt,bt,Le,{requeue:as,send:kt,sent:St,drop:xt,rspFail:zt,oth:Ri},Fi),Cr(),ba(),bi()}function xr(tt,ct){ct===0&&li&&(ct=1);var ot=1e3;return li&&(ot=Fe(li-1)),Fi.set(tt,ct*ot)}function Gr(){return ji!==null?(Fi.clear(ji),ji=null,Ti=0,!0):!1}function xa(tt,ct){Gr(),Gt&&(Fi.clear(Gt),Gt=null),_i||Qr(1,tt,ct)}function ba(){Ai[4]={batches:[],iKeyMap:{}},Ai[3]={batches:[],iKeyMap:{}},Ai[2]={batches:[],iKeyMap:{}},Ai[1]={batches:[],iKeyMap:{}}}function ks(tt,ct,ot){var Ut=Ai[ct];Ut||(ct=1,Ut=Ai[ct]);var Jt=Ut.iKeyMap[tt];return!Jt&&ot&&(Jt=te.create(tt),Ut.batches.push(Jt),Ut.iKeyMap[tt]=Jt),Jt}function wa(tt,ct){hi.canSendRequest()&&!li&&(Xi>0&&Ii>Xi&&(ct=!0),ct&&Gt==null&&gi.flush(tt,null,20))}function ka(tt,ct){Nn&&(tt=(0,g.hW)(tt));var ot=tt.latency,Ut=ks(tt.iKey,ot,!0);return Ut.addEvent(tt)?(ot!==4?(Ii++,ct&&tt.sendAttempt===0&&wa(!tt.sync,un>0&&Ut.count()>=un)):ci++,!0):!1}function Vs(tt,ct,ot,Ut){for(;ot<=ct;){var Jt=ks(tt,ct,!0);if(Jt&&Jt.count()>0){var ui=Jt.split(0,Ut),vi=ui.count();if(vi>0)return ot===4?ci-=vi:Ii-=vi,Qe(et,[ui],k.x.QueueFull),!0}ot++}return js(),!1}function js(){for(var tt=0,ct=0,ot=function(Jt){var ui=Ai[Jt];ui&&ui.batches&&(0,g.Iu)(ui.batches,function(vi){Jt===4?tt+=vi.count():ct+=vi.count()})},Ut=1;Ut<=4;Ut++)ot(Ut);Ii=ct,ci=tt}function ua(tt,ct,ot){var Ut=!1,Jt=ct===0;return!Jt||hi.canSendRequest()?(0,D.r2)(gi.core,function(){return"PostChannel._queueBatches"},function(){for(var ui=[],vi=4;vi>=tt;){var Ji=Ai[vi];Ji&&Ji.batches&&Ji.batches.length>0&&((0,g.Iu)(Ji.batches,function(Gi){hi.addBatch(Gi)?Ut=Ut||Gi&&Gi.count()>0:ui=ui.concat(Gi.events()),vi===4?ci-=Gi.count():Ii-=Gi.count()}),Ji.batches=[],Ji.iKeyMap={}),vi--}ui.length>0&&Yr(et,ui,k.x.KillSwitch),Ut&&Wi>=tt&&(Wi=-1,dn=0)},function(){return{latency:tt,sendType:ct,sendReason:ot}},!Jt):(Wi=Wi>=0?Math.min(Wi,tt):tt,dn=Math.max(dn,ot)),Ut}function _s(tt,ct){Qr(1,0,ct),js(),Oa(function(){tt&&tt(),ri.length>0?Gt=xr(function(){Gt=null,_s(ri.shift(),ct)},0):(Gt=null,Tn())})}function Oa(tt){hi.isCompletelyIdle()?tt():Gt=xr(function(){Gt=null,Oa(tt)},Zn)}function rs(){Gr(),Cr(),Yi=E,Tn()}function Cr(){fi={},fi[E]=[2,1,0],fi[c]=[6,3,0],fi[v]=[18,9,0]}function as(tt,ct){var ot=[],Ut=Cn;sn&&(Ut=_n),(0,g.Iu)(tt,function(Jt){Jt&&Jt.count()>0&&(0,g.Iu)(Jt.events(),function(ui){ui&&(ui.sync&&(ui.latency=4,ui.sync=!1),ui.sendAttempt<Ut?((0,m.u9)(ui,gi.identifier),lr(ui,!1)):ot.push(ui))})}),ot.length>0&&Yr(et,ot,k.x.NonRetryableStatus),sn&&xa(2,2)}function wn(tt,ct){var ot=gi._notificationManager||{},Ut=ot[tt];if(Ut)try{Ut.apply(ot,ct)}catch(Jt){(0,b.ZP)(gi.diagLog(),1,74,tt+" notification failed: "+Jt)}}function Yr(tt,ct){for(var ot=[],Ut=2;Ut<arguments.length;Ut++)ot[Ut-2]=arguments[Ut];ct&&ct.length>0&&wn(tt,[ct].concat(ot))}function Qe(tt,ct){for(var ot=[],Ut=2;Ut<arguments.length;Ut++)ot[Ut-2]=arguments[Ut];ct&&ct.length>0&&(0,g.Iu)(ct,function(Jt){Jt&&Jt.count()>0&&wn(tt,[Jt.events()].concat(ot))})}function kt(tt,ct,ot){tt&&tt.length>0&&wn("eventsSendRequest",[ct>=1e3&&ct<=1999?ct-1e3:0,ot!==!0])}function St(tt,ct){Qe("eventsSent",tt,ct),Tn()}function xt(tt,ct){Qe(et,tt,ct>=8e3&&ct<=8999?ct-8e3:k.x.Unknown)}function zt(tt){Qe(et,tt,k.x.NonRetryableStatus),Tn()}function Ri(tt,ct){Qe(et,tt,k.x.Unknown),Tn()}function bi(){!Dt||!Dt.disableAutoBatchFlushLimit?un=Math.max(Xt*(bt+1),Zi/6):un=0}(0,g.r)(gi,"_setTimeoutOverride",function(){return Fi.set},function(tt){Fi=Kt(tt,Fi.clear)}),(0,g.r)(gi,"_clearTimeoutOverride",function(){return Fi.clear},function(tt){Fi=Kt(Fi.set,tt)})}),Rt}return gt.__ieDyn=1,gt}(l.s);const jt=Ot},96434:(s,G,F)=>{"use strict";F.d(G,{Hj:()=>L,oP:()=>A});var P=F(12497);function L(h){var m={};return(0,P.z)(h,function(g,p){m[g]=p,m[p]=g}),(0,P.ol)(m)}function D(h){var m={};return objForEachKey(h,function(g,p){m[g]=g,m[p]=g}),deepFreeze(m)}function A(h){var m={};return(0,P.z)(h,function(g,p){m[g]=p[1],m[p[0]]=p[1]}),(0,P.ol)(m)}},31590:(s,G,F)=>{"use strict";F.d(G,{x:()=>L});var P=F(96434),L=(0,P.Hj)({Unknown:0,NonRetryableStatus:1,InvalidEvent:2,SizeLimitExceeded:3,KillSwitch:4,QueueFull:5})},83897:(s,G,F)=>{"use strict";F.d(G,{$:()=>M,b:()=>R});var P=F(96434),L,D="Failed",A=D+"MonitorAjax",h="Track",m="Start",g="Stop",p="Event",k="AuthContext",b="Exception",l="Local",E="Session",c="Storage",v="Browser",f="Cannot",w="Buffer",_="InstrumentationKey",R=(0,P.Hj)({CRITICAL:1,WARNING:2}),M=(0,P.Hj)((L={},L[v+"DoesNotSupport"+l+c]=0,L[v+f+"Read"+l+c]=1,L[v+f+"Read"+E+c]=2,L[v+f+"Write"+l+c]=3,L[v+f+"Write"+E+c]=4,L[v+D+"RemovalFrom"+l+c]=5,L[v+D+"RemovalFrom"+E+c]=6,L[f+"SendEmptyTelemetry"]=7,L.ClientPerformanceMathError=8,L["ErrorParsingAI"+E+"Cookie"]=9,L.ErrorPVCalc=10,L[b+"WhileLoggingError"]=11,L[D+"AddingTelemetryTo"+w]=12,L[A+"Abort"]=13,L[A+"Dur"]=14,L[A+"Open"]=15,L[A+"RSC"]=16,L[A+"Send"]=17,L[A+"GetCorrelationHeader"]=18,L[D+"ToAddHandlerForOnBeforeUnload"]=19,L[D+"ToSendQueuedTelemetry"]=20,L[D+"ToReportDataLoss"]=21,L["Flush"+D]=22,L.MessageLimitPerPVExceeded=23,L.MissingRequiredFieldSpecification=24,L.NavigationTimingNotSupported=25,L.OnError=26,L[E+"RenewalDateIsZero"]=27,L.SenderNotInitialized=28,L[m+h+p+D]=29,L[g+h+p+D]=30,L[m+h+D]=31,L[g+h+D]=32,L.TelemetrySampledAndNotSent=33,L[h+p+D]=34,L[h+b+D]=35,L[h+"Metric"+D]=36,L[h+"PV"+D]=37,L[h+"PV"+D+"Calc"]=38,L[h+"Trace"+D]=39,L["Transmission"+D]=40,L[D+"ToSet"+c+w]=41,L[D+"ToRestore"+c+w]=42,L.InvalidBackendResponse=43,L[D+"ToFixDepricatedValues"]=44,L.InvalidDurationValue=45,L.TelemetryEnvelopeInvalid=46,L.CreateEnvelopeError=47,L[f+"SerializeObject"]=48,L[f+"SerializeObjectNonSerializable"]=49,L.CircularReferenceDetected=50,L["Clear"+k+D]=51,L[b+"Truncated"]=52,L.IllegalCharsInName=53,L.ItemNotInArray=54,L.MaxAjaxPerPVExceeded=55,L.MessageTruncated=56,L.NameTooLong=57,L.SampleRateOutOfRange=58,L["Set"+k+D]=59,L["Set"+k+D+"AccountName"]=60,L.StringValueTooLong=61,L.StartCalledMoreThanOnce=62,L.StopCalledWithoutStart=63,L["TelemetryInitializer"+D]=64,L.TrackArgumentsNotSpecified=65,L.UrlTooLong=66,L[E+c+w+"Full"]=67,L[f+"AccessCookie"]=68,L.IdTooLong=69,L.InvalidEvent=70,L[A+"SetRequestHeader"]=71,L["Send"+v+"InfoOnUserInit"]=72,L["Plugin"+b]=73,L["Notification"+b]=74,L.SnippetScriptLoadFailure=99,L["Invalid"+_]=100,L[f+"ParseAiBlobValue"]=101,L.InvalidContentBlob=102,L[h+"PageAction"+p+D]=103,L[D+"AddingCustomDefinedRequestContext"]=104,L["InMemory"+c+w+"Full"]=105,L[_+"Deprecation"]=106,L))},12235:(s,G,F)=>{"use strict";F.d(G,{_:()=>b});var P=F(8747),L=F(92457),D=F(60830),A=F(34082),h=F(99015),m=F(12497),g=F(1972),p=F(54660),k=F(5204),b=function(l){(0,P.qU)(E,l);function E(){var c=l.call(this)||this;return(0,L.A)(E,c,function(v,f){v[D.mE]=function(R,M,U,x){f[D.mE](R,M,U||new h.wq(R),x||new p.h(R))},v.track=function(R){(0,k.r2)(v[g.kI](),function(){return"AppInsightsCore:track"},function(){R===null&&(_(R),(0,m.$8)("Invalid telemetry item")),w(R),f.track(R)},function(){return{item:R}},!R.sync)};function w(R){(0,m.hX)(R[D.RS])&&(_(R),(0,m.$8)("telemetry name required"))}function _(R){var M=v[D.RF]();M&&M[g.Yp]([R],2)}}),c}return E.__ieDyn=1,E}(A.F)},34082:(s,G,F)=>{"use strict";F.d(G,{F:()=>N});var P=F(8747),L=F(92457),D=F(75148),A=F(60830),h=F(12497),m=F(1972),g=F(8997),p=F(33540),k=500,b="Channel has invalid priority - ";function l(q,V,K){V&&(0,h.cy)(V)&&V[A.oI]>0&&(V=V.sort(function(j,ie){return j[m.Vo]-ie[m.Vo]}),(0,h.Iu)(V,function(j){j[m.Vo]<k&&(0,h.$8)(b+j[A.Ju])}),q[A.y5]({queue:(0,h.N6)(V),chain:(0,g.PV)(V,K[A.GA],K)}))}function E(q,V){function K(){return(0,g.i8)(null,V[A.GA],V,null)}function j(we,_e,Me,te){var re=we?we[A.oI]+1:1;function ge(){re--,re===0&&(te&&te(),te=null)}re>0&&(0,h.Iu)(we,function(ye){if(ye&&ye.queue[A.oI]>0){var Ee=ye.chain,z=_e[A.$o](Ee);z[A.by](ge),Me(z)}else re--}),ge()}function ie(we,_e){var Me=_e||{reason:0};return j(q,we,function(te){te[A.$5](Me)},function(){we[A.$5](Me)}),!0}function X(we,_e){var Me=_e||{reason:0,isAsync:!1};return j(q,we,function(te){te[A.$5](Me)},function(){we[A.$5](Me),se=!1}),!0}function B(we){var _e=null;return q&&q[A.oI]>0&&(0,h.Iu)(q,function(Me){if(Me&&Me.queue[A.oI]>0&&((0,h.Iu)(Me.queue,function(te){if(te[A.Ju]===we)return _e=te,-1}),_e))return-1}),_e}var se=!1,Pe={identifier:"ChannelControllerPlugin",priority:k,initialize:function(we,_e,Me,te){se=!0,(0,h.Iu)(q,function(re){re&&re.queue[A.oI]>0&&(0,p.pI)((0,g.i8)(re.chain,we,_e),Me)})},isInitialized:function(){return se},processTelemetry:function(we,_e){j(q,_e||K(),function(Me){Me[A.$5](we)},function(){_e[A.$5](we)})},update:ie,pause:function(){j(q,K(),function(we){we.iterate(function(_e){_e.pause&&_e.pause()})},null)},resume:function(){j(q,K(),function(we){we.iterate(function(_e){_e.resume&&_e.resume()})},null)},teardown:X,getChannel:B,flush:function(we,_e,Me,te){var re=1,ge=!1,ye=null;te=te||5e3;function Ee(){re--,ge&&re===0&&(ye&&(clearTimeout(ye),ye=null),_e&&_e(ge),_e=null)}return j(q,K(),function(z){z.iterate(function(T){if(T[A.EX]){re++;var oe=!1;T[A.EX](we,function(){oe=!0,Ee()},Me)||oe||(we&&ye==null?ye=setTimeout(function(){ye=null,Ee()},te):Ee())}})},function(){ge=!0,Ee()}),!0},_setQueue:function(we){q=we}};return Pe}function c(q,V,K){var j=[];if(q&&(0,h.Iu)(q,function(X){return l(j,X,K)}),V){var ie=[];(0,h.Iu)(V,function(X){X[m.Vo]>k&&ie[A.y5](X)}),l(j,ie,K)}return j}var v=F(91698),f=F(64252),w=F(95331),_=F(99015),R=F(5204),M=F(56489),U=F(44180),x=function(q){(0,P.qU)(V,q);function V(){var K=q.call(this)||this;K.identifier="TelemetryInitializerPlugin",K.priority=199;var j,ie;X(),(0,L.A)(V,K,function(B,se){B.addTelemetryInitializer=function(Pe){var we={id:j++,fn:Pe};ie[A.y5](we);var _e={remove:function(){(0,h.Iu)(ie,function(Me,te){if(Me.id===we.id)return ie[A.Ic](te,1),-1})}};return _e},B[m.qT]=function(Pe,we){for(var _e=!1,Me=ie[A.oI],te=0;te<Me;++te){var re=ie[te];if(re)try{if(re.fn[A.y9](null,[Pe])===!1){_e=!0;break}}catch(ge){(0,_.ZP)(we[A.e4](),1,64,"One of telemetry initializers failed, telemetry item will not be sent: "+(0,h.lL)(ge),{exception:(0,U.mm)(ge)},!0)}}_e||B[A.$5](Pe,we)},B[A.tn]=function(){X()}});function X(){j=0,ie=[]}return K}return V.__ieDyn=1,V}(M.s),y=F(49388),W="Plugins must provide initialize method",Q="_notificationManager",Z="SDK is still unloading...",ee="SDK is not initialized",J={loggingLevelConsole:1};function O(q,V){return new R.NS(V)}function H(q,V,K){var j,ie=[],X={};return(0,h.Iu)(K,function(B){((0,h.hX)(B)||(0,h.hX)(B[A.mE]))&&(0,h.$8)(W);var se=B[m.Vo],Pe=B[A.Ju];B&&se&&((0,h.hX)(X[se])?X[se]=Pe:(0,_.OG)(q,"Two extensions have same priority #"+se+" - "+X[se]+", "+Pe)),(!se||se<V)&&ie[A.y5](B)}),j={all:K},j[m.eT]=ie,j}function I(q,V){var K=!1;return(0,h.Iu)(V,function(j){if(j===q)return K=!0,-1}),K}function u(){var q;return(0,D.AQ)((q={},q[A.vR]=function(V){},q[A.TP]=function(V){},q[m.fc]=function(V){},q[m.Yp]=function(V,K){},q[m.dI]=function(V,K){},q))}var N=function(){function q(){var V,K,j,ie,X,B,se,Pe,we,_e,Me,te,re,ge,ye,Ee,z,T,oe,fe,de=0;(0,L.A)(q,this,function(ue){ve(),ue[A.tZ]=function(){return K},ue[A.mE]=function(Ue,Ze,It,st){ge&&(0,h.$8)(Z),ue[A.tZ]()&&(0,h.$8)("Core should not be initialized more than once"),V=Ue||{},ue[A.GA]=V,(0,h.hX)(Ue[A.sl])&&(0,h.$8)("Please provide instrumentation key"),ie=st,ue[Q]=st,ae(),ce(),Re(),It&&(ue[A.Uw]=It);var ut=(0,h.c2)(V,m.jy,[]);we=[],we[A.y5].apply(we,(0,P.vz)((0,P.vz)([],Ze,!1),ut,!1)),te=(0,h.c2)(V,m.LZ,[]),Oe(null),(!re||re[A.oI]===0)&&(0,h.$8)("No "+m.LZ+" available"),K=!0,ue.releaseQueue()},ue.getTransmissionControls=function(){var Ue=[];return re&&(0,h.Iu)(re,function(Ze){Ue[A.y5](Ze.queue)}),(0,h.N6)(Ue)},ue.track=function(Ue){Ue.iKey=Ue.iKey||V[A.sl],Ue[A.fA]=Ue[A.fA]||(0,h._u)(new Date),Ue.ver=Ue.ver||"4.0",!ge&&ue[A.tZ]()?Fe()[A.$5](Ue):j[A.y5](Ue)},ue[A.ps]=Fe,ue[A.RF]=function(){return ie||(ie=u(),ue[Q]=ie),ie},ue[A.vR]=function(Ue){ie&&ie[A.vR](Ue)},ue[A.TP]=function(Ue){ie&&ie[A.TP](Ue)},ue.getCookieMgr=function(){return se||(se=(0,v.xN)(V,ue[A.Uw])),se},ue.setCookieMgr=function(Ue){se=Ue},ue[m.kI]=function(){if(!X&&!B&&(0,h.SA)(V.enablePerfMgr)){var Ue=(0,h.SA)(V[m.Yd]);(0,h.Tn)(Ue)&&(B=Ue(ue,ue[A.RF]()))}return X||B||(0,R.Z4)()},ue.setPerfMgr=function(Ue){X=Ue},ue.eventCnt=function(){return j[A.oI]},ue.releaseQueue=function(){if(K&&j[A.oI]>0){var Ue=j;j=[],(0,h.Iu)(Ue,function(Ze){Fe()[A.$5](Ze)})}},ue.pollInternalLogs=function(Ue){Ee=Ue||null;var Ze=(0,h.SA)(V.diagnosticLogInterval);return(!Ze||!(Ze>0))&&(Ze=1e4),de&&clearInterval(de),de=setInterval(function(){Je()},Ze),de},ue[A.Di]=function(){de&&(clearInterval(de),de=0,Je())},(0,h.o$)(ue,function(){return ye},["addTelemetryInitializer"]),ue.unload=function(Ue,Ze,It){var st;Ue===void 0&&(Ue=!0),K||(0,h.$8)(ee),ge&&(0,h.$8)(Z);var ut=(st={reason:50},st[A.tI]=Ue,st.flushComplete=!1,st),wt=(0,g.tS)(qe(),ue);wt[A.by](function(){ve(),Ze&&Ze(ut)},ue);function vt(_t){ut.flushComplete=_t,ge=!0,T.run(wt,ut),ue[A.Di](),wt[A.$5](ut)}me(Ue,vt,6,It)||vt(!1)},ue[A.AP]=$e,ue.addPlugin=function(Ue,Ze,It,st){if(!Ue){st&&st(!1),Ye(W);return}var ut=$e(Ue[A.Ju]);if(ut&&!Ze){st&&st(!1),Ye("Plugin ["+Ue[A.Ju]+"] is already loaded!");return}var wt={reason:16};function vt(yt){we[A.y5](Ue),wt.added=[Ue],Oe(wt),st&&st(!0)}if(ut){var _t=[ut.plugin],oi={reason:2,isAsync:!!It};Ve(_t,oi,function(yt){yt?(wt.removed=_t,wt.reason|=32,vt(!0)):st&&st(!1)})}else vt(!1)},ue.evtNamespace=function(){return z},ue[A.EX]=me,ue.getTraceCtx=function(Ue){return fe||(fe=(0,p.u7)()),fe},ue.setTraceCtx=function(Ue){fe=Ue||null},(0,h.RF)(ue,"addUnloadCb",function(){return T},"add");function ve(){K=!1,V=(0,h.CP)(!0,{},J),ue[A.GA]=V,ue[A.Uw]=new _.wq(V),ue[A.H7]=[],ye=new x,j=[],ie=null,X=null,B=null,se=null,Pe=null,_e=null,we=[],Me=null,te=null,re=null,ge=!1,Ee=null,z=(0,f.Z)("AIBaseCore",!0),T=(0,y.P)(),fe=null}function Fe(){return(0,g.i8)(qe(),V,ue)}function Oe(Ue){var Ze=H(ue[A.Uw],k,we);_e=Ze[m.eT],Pe=null;var It=Ze.all;if(re=(0,h.N6)(c(te,It,ue)),Me){var st=(0,h.rD)(It,Me);st!==-1&&It[A.Ic](st,1),st=(0,h.rD)(_e,Me),st!==-1&&_e[A.Ic](st,1),Me._setQueue(re)}else Me=E(re,ue);It[A.y5](Me),_e[A.y5](Me),ue[A.H7]=(0,p.Xc)(It),Me[A.mE](V,ue,It),(0,p.pI)(Fe(),It),ue[A.H7]=(0,h.N6)((0,p.Xc)(_e||[])).slice(),Ue&&xe(Ue)}function $e(Ue){var Ze,It=null,st=null;return(0,h.Iu)(ue[A.H7],function(ut){if(ut[A.Ju]===Ue&&ut!==Me&&ut!==ye)return st=ut,-1}),!st&&Me&&(st=Me.getChannel(Ue)),st&&(It=(Ze={plugin:st},Ze[A.kt]=function(ut){(0,p.Cr)(st)[m.Hr]=!ut},Ze.isEnabled=function(){var ut=(0,p.Cr)(st);return!ut[A.Ik]&&!ut[m.Hr]},Ze.remove=function(ut,wt){var vt;ut===void 0&&(ut=!0);var _t=[st],oi=(vt={reason:1},vt[A.tI]=ut,vt);Ve(_t,oi,function(yt){yt&&Oe({reason:32,removed:_t}),wt&&wt(yt)})},Ze)),It}function qe(){if(!Pe){var Ue=(_e||[]).slice();(0,h.rD)(Ue,ye)===-1&&Ue[A.y5](ye),Pe=(0,g.PV)((0,p.Xc)(Ue),V,ue)}return Pe}function Ve(Ue,Ze,It){if(Ue&&Ue[A.oI]>0){var st=(0,g.PV)(Ue,V,ue),ut=(0,g.tS)(st,ue);ut[A.by](function(){var wt=!1,vt=[];(0,h.Iu)(we,function(oi,yt){I(oi,Ue)?wt=!0:vt[A.y5](oi)}),we=vt;var _t=[];te&&((0,h.Iu)(te,function(oi,yt){var Pt=[];(0,h.Iu)(oi,function(Hi){I(Hi,Ue)?wt=!0:Pt[A.y5](Hi)}),_t[A.y5](Pt)}),te=_t),It&&It(wt)}),ut[A.$5](Ze)}else It(!1)}function Je(){var Ue=ue[A.Uw]?ue[A.Uw].queue:[];Ue&&((0,h.Iu)(Ue,function(Ze){var It,st=(It={},It[A.RS]=Ee||"InternalMessageId: "+Ze[A.JR],It.iKey=(0,h.SA)(V[A.sl]),It.time=(0,h._u)(new Date),It.baseType=_.WD.dataType,It.baseData={message:Ze[A.pM]},It);ue.track(st)}),Ue[A.oI]=0)}function me(Ue,Ze,It,st){return Me?Me[A.EX](Ue,Ze,It||6,st):(Ze&&Ze(!1),!0)}function ae(){var Ue=(0,h.SA)(V.disableDbgExt);Ue===!0&&oe&&(ie[A.TP](oe),oe=null),ie&&!oe&&Ue!==!0&&(oe=(0,w.M)(V),ie[A.vR](oe))}function ce(){var Ue=(0,h.SA)(V.enablePerfMgr);!Ue&&B&&(B=null),Ue&&(0,h.c2)(V,m.Yd,O)}function Re(){var Ue=(0,h.c2)(V,m.Bw,{});Ue.NotificationManager=ie}function xe(Ue){var Ze=(0,g.nU)(qe(),ue);(!ue._updateHook||ue._updateHook(Ze,Ue)!==!0)&&Ze[A.$5](Ue)}function Ye(Ue){var Ze=ue[A.Uw];Ze?(0,_.ZP)(Ze,2,73,Ue):(0,h.$8)(Ue)}})}return q.__ieDyn=1,q}()},56489:(s,G,F)=>{"use strict";F.d(G,{s:()=>p});var P=F(92457),L=F(60830),D=F(12497),A=F(1972),h=F(8997),m=F(49388),g="getPlugin",p=function(){function k(){var b=this,l,E,c,v,f;R(),(0,P.A)(k,b,function(M){M[L.mE]=function(U,x,y,W){_(U,x,W),l=!0},M[L.Ik]=function(U,x){var y,W=M[A.eT];if(!W||U&&W!==U[A.eT]())return;var Q,Z=!1,ee=U||(0,h.tS)(null,W,c&&c[g]?c[g]():c),J=x||(y={reason:0},y[L.tI]=!1,y);function O(){if(!Z){Z=!0,v.run(ee,x);var H=f;f=[],(0,D.Iu)(H,function(I){I.rm()}),Q===!0&&ee[L.$5](J),R()}}return!M[L.tn]||M[L.tn](ee,J,O)!==!0?O():Q=!0,Q},M[L.HC]=function(U,x){var y=M[A.eT];if(!y||U&&y!==U[A.eT]())return;var W,Q=!1,Z=U||(0,h.nU)(null,y,c&&c[g]?c[g]():c),ee=x||{reason:0};function J(){Q||(Q=!0,_(Z.getCfg(),Z.core(),Z[L.uR]()))}return!M._doUpdate||M._doUpdate(Z,ee,J)!==!0?J():W=!0,W},M._addHook=function(U){U&&((0,D.cy)(U)?f=f.concat(U):f[L.y5](U))},(0,D.RF)(M,"_addUnloadCb",function(){return v},"add")}),b[L.e4]=function(M){return w(M)[L.e4]()},b[L.tZ]=function(){return l},b.setInitialized=function(M){l=M},b[L.YH]=function(M){c=M},b[L.$5]=function(M,U){U?U[L.$5](M):c&&(0,D.Tn)(c[A.qT])&&c[A.qT](M,null)},b._getTelCtx=w;function w(M){M===void 0&&(M=null);var U=M;if(!U){var x=E||(0,h.i8)(null,{},b[A.eT]);c&&c[g]?U=x[L.$o](null,c[g]):U=x[L.$o](null,c)}return U}function _(M,U,x){M&&(0,D.KY)(M,A.Bw,[],null,D.hX),!x&&U&&(x=U[L.ps]()[L.uR]());var y=c;c&&c[g]&&(y=c[g]()),b[A.eT]=U,E=(0,h.i8)(x,M,U,y)}function R(){l=!1,b[A.eT]=null,E=null,c=null,f=[],v=(0,m.P)()}}return k.__ieDyn=1,k}()},91698:(s,G,F)=>{"use strict";F.d(G,{It:()=>q,d5:()=>U,gi:()=>J,um:()=>Z,xN:()=>ee});var P=F(60830),L=F(99015),D=F(44180),A=F(12497),h=F(1972),m="toGMTString",g="toUTCString",p="cookie",k="expires",b="enabled",l="isCookieUseDisabled",E="disableCookiesUsage",c="_ckMgr",v=null,f=null,w=null,_=(0,D.YE)(),R={},M={};function U(V,K){var j=ee[c]||M[c];return j||(j=ee[c]=ee(V,K),M[c]=j),j}function x(V){return V?V.isEnabled():!0}function y(V){var K=V[P.lK]=V[P.lK]||{};if((0,A.KY)(K,"domain",V.cookieDomain,A.Gh,A.hX),(0,A.KY)(K,"path",V.cookiePath||"/",null,A.hX),(0,A.hX)(K[b])){var j=void 0;(0,A.b0)(V[l])||(j=!V[l]),(0,A.b0)(V[E])||(j=!V[E]),K[b]=j}return K}function W(V,K){return K&&V&&(0,A.cy)(V.ignoreCookies)?V.ignoreCookies[P.Sj](K)!==-1:!1}function Q(V,K){return K&&V&&(0,A.cy)(V.blockedCookies)&&V.blockedCookies[P.Sj](K)!==-1?!0:W(V,K)}function Z(V,K){var j;if(V)j=V.getCookieMgr();else if(K){var ie=K[P.lK];ie[c]?j=ie[c]:j=ee(K)}return j||(j=U(K,(V||{})[P.Uw])),j}function ee(V,K){var j,ie=y(V||M),X=ie.path||"/",B=ie.domain,se=ie[b]!==!1,Pe=(j={isEnabled:function(){var we=se&&J(K),_e=M[c];return we&&_e&&Pe!==_e&&(we=x(_e)),we}},j[P.kt]=function(we){se=we!==!1},j.set=function(we,_e,Me,te,re){var ge=!1;if(x(Pe)&&!Q(ie,we)){var ye={},Ee=(0,A.EH)(_e||h.m5),z=Ee[P.Sj](";");if(z!==-1&&(Ee=(0,A.EH)(_e[P.Re](0,z)),ye=O(_e[P.Re](z+1))),(0,A.KY)(ye,"domain",te||B,A.zz,A.b0),!(0,A.hX)(Me)){var T=(0,D.lT)();if((0,A.b0)(ye[k])){var oe=(0,A.x3)(),fe=oe+Me*1e3;if(fe>0){var de=new Date;de.setTime(fe),(0,A.KY)(ye,k,H(de,T?m:g)||H(de,T?m:g)||h.m5,A.zz)}}T||(0,A.KY)(ye,"max-age",h.m5+Me,null,A.b0)}var ue=(0,D.g$)();ue&&ue.protocol==="https:"&&((0,A.KY)(ye,"secure",null,null,A.b0),f===null&&(f=!q(((0,D.w3)()||{})[P.tX])),f&&(0,A.KY)(ye,"SameSite","None",null,A.b0)),(0,A.KY)(ye,"path",re||X,null,A.b0);var ve=ie.setCookie||N;ve(we,I(Ee,ye)),ge=!0}return ge},j.get=function(we){var _e=h.m5;return x(Pe)&&!W(ie,we)&&(_e=(ie.getCookie||u)(we)),_e},j.del=function(we,_e){var Me=!1;return x(Pe)&&(Me=Pe.purge(we,_e)),Me},j.purge=function(we,_e){var Me,te=!1;if(J(K)){var re=(Me={},Me.path=_e||"/",Me[k]="Thu, 01 Jan 1970 00:00:01 GMT",Me);(0,D.lT)()||(re["max-age"]="0");var ge=ie.delCookie||N;ge(we,I(h.m5,re)),te=!0}return te},j);return Pe[c]=Pe,Pe}function J(V){if(v===null){v=!1;try{var K=_||{};v=K[p]!==void 0}catch(j){(0,L.ZP)(V,2,68,"Cannot access document.cookie - "+(0,A.lL)(j),{exception:(0,D.mm)(j)})}}return v}function O(V){var K={};if(V&&V[P.oI]){var j=(0,A.EH)(V)[P.sY](";");(0,A.Iu)(j,function(ie){if(ie=(0,A.EH)(ie||h.m5),ie){var X=ie[P.Sj]("=");X===-1?K[ie]=null:K[(0,A.EH)(ie[P.Re](0,X))]=(0,A.EH)(ie[P.Re](X+1))}})}return K}function H(V,K){return(0,A.Tn)(V[K])?V[K]():null}function I(V,K){var j=V||h.m5;return(0,A.z)(K,function(ie,X){j+="; "+ie+((0,A.hX)(X)?h.m5:"="+X)}),j}function u(V){var K=h.m5;if(_){var j=_[p]||h.m5;w!==j&&(R=O(j),w=j),K=(0,A.EH)(R[V]||h.m5)}return K}function N(V,K){_&&(_[p]=V+"="+K)}function q(V){return(0,A.Kg)(V)?!!((0,A.Ju)(V,"CPU iPhone OS 12")||(0,A.Ju)(V,"iPad; CPU OS 12")||(0,A.Ju)(V,"Macintosh; Intel Mac OS X 10_14")&&(0,A.Ju)(V,"Version/")&&(0,A.Ju)(V,"Safari")||(0,A.Ju)(V,"Macintosh; Intel Mac OS X 10_14")&&(0,A.Cv)(V,"AppleWebKit/605.1.15 (KHTML, like Gecko)")||(0,A.Ju)(V,"Chrome/5")||(0,A.Ju)(V,"Chrome/6")||(0,A.Ju)(V,"UnrealEngine")&&!(0,A.Ju)(V,"Chrome")||(0,A.Ju)(V,"UCBrowser/12")||(0,A.Ju)(V,"UCBrowser/11")):!1}},32578:(s,G,F)=>{"use strict";F.d(G,{Ri:()=>y,TV:()=>W,UU:()=>c,WD:()=>U,Yj:()=>Q,aq:()=>E,cL:()=>f,fs:()=>R,ht:()=>x,jS:()=>w});var P=F(75148),L=F(60830),D=F(91698),A=F(44180),h=F(18413),m=F(12497),g=F(1972),p=F(57679),k=null,b,l=null;function E(){var Z=f();return Z[L.Re](0,8)+"-"+Z[L.Re](8,12)+"-"+Z[L.Re](12,16)+"-"+Z[L.Re](16,20)+"-"+Z[L.Re](20)}function c(){var Z=(0,A.FJ)();return Z&&Z.now?Z.now():(0,m.x3)()}function v(Z,ee){if(Z&&ee){var J=Z[_DYN_LENGTH],O=J-ee[_DYN_LENGTH];return Z[_DYN_SUBSTRING](O>=0?O:0,J)===ee}return!1}function f(){for(var Z=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],ee=g.m5,J,O=0;O<4;O++)J=(0,p.VN)(),ee+=Z[J&15]+Z[J>>4&15]+Z[J>>8&15]+Z[J>>12&15]+Z[J>>16&15]+Z[J>>20&15]+Z[J>>24&15]+Z[J>>28&15];var H=Z[8+((0,p.VN)()&3)|0];return ee[L.$4](0,8)+ee[L.$4](9,4)+"4"+ee[L.$4](13,3)+H+ee[L.$4](16,3)+ee[L.$4](19,12)}var w={_canUseCookies:void 0,isTypeof:m.Ed,isUndefined:m.b0,isNullOrUndefined:m.hX,hasOwnProperty:m.mQ,isFunction:m.Tn,isObject:m.Gv,isDate:m.$P,isArray:m.cy,isError:m.bJ,isString:m.Kg,isNumber:m.Et,isBoolean:m.Lm,toISOString:m._u,arrForEach:m.Iu,arrIndexOf:m.rD,arrMap:m.W$,arrReduce:m.KT,strTrim:m.EH,objCreate:P.AQ,objKeys:m.cG,objDefineAccessors:m.r,addEventHandler:h.So,dateNow:m.x3,isIE:A.lT,disableCookies:U,newGuid:E,perfNow:c,newId:p.Si,randomValue:p.Z1,random32:p.VN,mwcRandomSeed:p.yc,mwcRandom32:p.k5,generateW3CId:f},_=/[xy]/g,R={Attach:h.Q3,AttachEvent:h.Q3,Detach:h.Ym,DetachEvent:h.Ym};function M(Z,ee){var J=(0,D.d5)(Z,ee),O=w._canUseCookies;return k===null&&(k=[],b=O,(0,m.r)(w,"_canUseCookies",function(){return b},function(H){b=H,(0,m.Iu)(k,function(I){I[L.kt](H)})})),(0,m.rD)(k,J)===-1&&k[L.y5](J),(0,m.Lm)(O)&&J[L.kt](O),(0,m.Lm)(b)&&J[L.kt](b),J}function U(){M()[L.kt](!1)}function x(Z){return M(null,Z).isEnabled()}function y(Z,ee){return M(null,Z).get(ee)}function W(Z,ee,J,O){M(null,Z).set(ee,J,null,O)}function Q(Z,ee){return M(null,Z).del(ee)}},64252:(s,G,F)=>{"use strict";F.d(G,{T:()=>v,Z:()=>c});var P=F(47672),L=F(60830),D=F(12497),A=F(1972),h=F(57679),m=P.KU,g="2.8.10",p="."+(0,h.Si)(6),k=0;function b(f,w,_){if(m)try{return m(f,w,{value:_,enumerable:!1,configurable:!0}),!0}catch{}return!1}function l(f){return f[L.re]===1||f[L.re]===9||!+f[L.re]}function E(f,w){var _=w[f.id];if(!_){_={};try{l(w)&&(b(w,f.id,_)||(w[f.id]=_))}catch{}}return _}function c(f,w){return w===void 0&&(w=!1),(0,D.cH)(f+k+++(w?"."+g:A.m5)+p)}function v(f){var w={id:c("_aiData-"+(f||A.m5)+"."+g),accept:function(_){return l(_)},get:function(_,R,M,U){var x=_[w.id];return x?x[(0,D.cH)(R)]:(U&&(x=E(w,_),x[(0,D.cH)(R)]=M),M)},kill:function(_,R){if(_&&_[R])try{delete _[R]}catch{}}};return w}},95331:(s,G,F)=>{"use strict";F.d(G,{$:()=>p,M:()=>k});var P=F(60830),L=F(44180),D=["eventsSent","eventsDiscarded","eventsSendRequest","perfEvent"],A=null,h;function m(b,l){return function(){var E=arguments,c=p(l);if(c){var v=c.listener;v&&v[b]&&v[b][P.y9](v,E)}}}function g(){var b=(0,L.EH)("Microsoft");return b&&(A=b.ApplicationInsights),A}function p(b){var l=A;return!l&&b.disableDbgExt!==!0&&(l=A||g()),l?l.ChromeDbgExt:null}function k(b){if(!h){h={};for(var l=0;l<D[P.oI];l++)h[D[l]]=m(D[l],b)}return h}},99015:(s,G,F)=>{"use strict";F.d(G,{OG:()=>_,Oc:()=>R,WD:()=>E,ZP:()=>w,wq:()=>v,y0:()=>c});var P=F(92457),L=F(60830),D=F(95331),A=F(44180),h=F(12497),m=F(1972),g="AI (Internal): ",p="AI: ",k="AITR_";function b(M){return M?'"'+M[L.W7](/\"/g,m.m5)+'"':m.m5}function l(M,U){var x=(0,A.U5)();if(x){var y="log";x[M]&&(y=M),(0,h.Tn)(x[y])&&x[y](U)}}var E=function(){function M(U,x,y,W){y===void 0&&(y=!1);var Q=this;Q[L.JR]=U,Q[L.pM]=(y?p:g)+U;var Z=m.m5;(0,A.Z)()&&(Z=(0,A.hm)().stringify(W));var ee=(x?" message:"+b(x):m.m5)+(W?" props:"+b(Z):m.m5);Q[L.pM]+=ee}return M.dataType="MessageData",M}();function c(M,U){return(M||{})[L.Uw]||new v(U)}var v=function(){function M(U){this.identifier="DiagnosticLogger",this.queue=[];var x=0,y={},W,Q,Z,ee;(0,P.A)(M,this,function(J){H(U||{}),J.consoleLoggingLevel=function(){return W},J.telemetryLoggingLevel=function(){return Q},J.maxInternalMessageLimit=function(){return Z},J[L.a$]=function(){return ee},J.throwInternal=function(N,q,V,K,j){j===void 0&&(j=!1);var ie=new E(q,V,j,K);if(ee)throw(0,A.mm)(ie);var X=N===1?m.Zi:m.Tj;if((0,h.b0)(ie[L.pM]))u("throw"+(N===1?"Critical":"Warning"),ie);else{if(j){var B=+ie[L.JR];!y[B]&&W>=N&&(J[X](ie[L.pM]),y[B]=!0)}else W>=N&&J[X](ie[L.pM]);O(N,ie)}},J[m.Tj]=function(N){l("warn",N),u("warning",N)},J[m.Zi]=function(N){l("error",N),u("error",N)},J.resetInternalMessageCount=function(){x=0,y={}},J[L.sx]=O;function O(N,q){if(!I()){var V=!0,K=k+q[L.JR];if(y[K]?V=!1:y[K]=!0,V&&(N<=Q&&(J.queue[L.y5](q),x++,u(N===1?"error":"warn",q)),x===Z)){var j="Internal events throttle limit per PageView reached for this app.",ie=new E(23,j,!1);J.queue[L.y5](ie),N===1?J[m.Zi](j):J[m.Tj](j)}}}function H(N){W=(0,h.SA)(N.loggingLevelConsole,0),Q=(0,h.SA)(N.loggingLevelTelemetry,1),Z=(0,h.SA)(N.maxMessageLimit,25),ee=(0,h.SA)(N[L.a$],!1)}function I(){return x>=Z}function u(N,q){var V=(0,D.$)(U||{});V&&V[L.e4]&&V[L.e4](N,q)}})}return M.__ieDyn=1,M}();function f(M){return M||new v}function w(M,U,x,y,W,Q){Q===void 0&&(Q=!1),f(M).throwInternal(U,x,y,W,Q)}function _(M,U){f(M)[m.Tj](U)}function R(M,U,x){f(M)[L.sx](U,x)}},44180:(s,G,F)=>{"use strict";F.d(G,{$Z:()=>de,EH:()=>O,FJ:()=>B,Iu:()=>ue,JK:()=>j,L0:()=>re,MY:()=>we,PV:()=>T,R7:()=>z,U5:()=>X,Uf:()=>Ee,Vd:()=>H,Wt:()=>u,YE:()=>N,Z:()=>se,cU:()=>J,g$:()=>ie,hm:()=>Pe,iN:()=>_e,lT:()=>te,lV:()=>Me,mm:()=>ge,tw:()=>K,w3:()=>V,w9:()=>q,xk:()=>oe,zk:()=>I});var P=F(47672),L=F(75148),D=F(60830),A=F(12497),h=F(1972),m="window",g="document",p="documentMode",k="navigator",b="history",l="location",E="console",c="performance",v="JSON",f="crypto",w="msCrypto",_="ReactNative",R="msie",M="trident/",U="XMLHttpRequest",x=null,y=null,W=!1,Q=null,Z=null;function ee(ve,Fe){var Oe=!1;if(ve){try{if(Oe=Fe in ve,!Oe){var $e=ve[P.vR];$e&&(Oe=Fe in $e)}}catch{}if(!Oe)try{var qe=new ve;Oe=!(0,A.b0)(qe[Fe])}catch{}}return Oe}function J(ve){W=ve}function O(ve){var Fe=(0,L.mS)();return Fe&&Fe[ve]?Fe[ve]:ve===m&&H()?window:null}function H(){return!!(typeof window===P._1&&window)}function I(){return H()?window:O(m)}function u(){return!!(typeof document===P._1&&document)}function N(){return u()?document:O(g)}function q(){return!!(typeof navigator===P._1&&navigator)}function V(){return q()?navigator:O(k)}function K(){return!!(typeof history===P._1&&history)}function j(){return K()?history:O(b)}function ie(ve){if(ve&&W){var Fe=O("__mockLocation");if(Fe)return Fe}return typeof location===P._1&&location?location:O(l)}function X(){return typeof console!==P.bA?console:O(E)}function B(){return O(c)}function se(){return!!(typeof JSON===P._1&&JSON||O(v)!==null)}function Pe(){return se()?JSON||O(v):null}function we(){return O(f)}function _e(){return O(w)}function Me(){var ve=V();return ve&&ve.product?ve.product===_:!1}function te(){var ve=V();if(ve&&(ve[D.tX]!==y||x===null)){y=ve[D.tX];var Fe=(y||h.m5)[D.OL]();x=(0,A.Ju)(Fe,R)||(0,A.Ju)(Fe,M)}return x}function re(ve){if(ve===void 0&&(ve=null),!ve){var Fe=V()||{};ve=Fe?(Fe[D.tX]||h.m5)[D.OL]():h.m5}var Oe=(ve||h.m5)[D.OL]();if((0,A.Ju)(Oe,R)){var $e=N()||{};return Math.max(parseInt(Oe[D.sY](R)[1]),$e[p]||0)}else if((0,A.Ju)(Oe,M)){var qe=parseInt(Oe[D.sY](M)[1]);if(qe)return qe+4}return null}function ge(ve){var Fe=Object[P.vR].toString[D.Ek](ve),Oe=h.m5;return Fe==="[object Error]"?Oe="{ stack: '"+ve.stack+"', message: '"+ve.message+"', name: '"+ve[D.RS]+"'":se()&&(Oe=Pe().stringify(ve)),Fe+Oe}function ye(ve){if(!ve||!isString(ve)){var Fe=V()||{};ve=Fe?(Fe[_DYN_USER_AGENT]||STR_EMPTY)[_DYN_TO_LOWER_CASE]():STR_EMPTY}var Oe=(ve||STR_EMPTY)[_DYN_TO_LOWER_CASE]();return Oe[_DYN_INDEX_OF]("safari")>=0}function Ee(){return Z===null&&(Z=q()&&!!V().sendBeacon),Z}function z(ve){var Fe=!1;try{Fe=!!O("fetch");var Oe=O("Request");Fe&&ve&&Oe&&(Fe=ee(Oe,"keepalive"))}catch{}return Fe}function T(){return Q===null&&(Q=typeof XDomainRequest!==P.bA,Q&&oe()&&(Q=Q&&!ee(O(U),"withCredentials"))),Q}function oe(){var ve=!1;try{var Fe=O(U);ve=!!Fe}catch{}return ve}function fe(ve,Fe){if(ve)for(var Oe=0;Oe<ve[D.oI];Oe++){var $e=ve[Oe];if($e[D.RS]&&$e[D.RS]===Fe)return $e}return{}}function de(ve){var Fe=N();return Fe&&ve?fe(Fe.querySelectorAll("meta"),ve).content:null}function ue(ve){var Fe,Oe=B();if(Oe){var $e=Oe.getEntriesByType("navigation")||[];Fe=fe(($e[D.oI]>0?$e[0]:{}).serverTiming,ve).description}return Fe}},18413:(s,G,F)=>{"use strict";F.d(G,{Ds:()=>_e,El:()=>ee,Fc:()=>Me,Hm:()=>N,ML:()=>V,Q3:()=>K,So:()=>ie,Wg:()=>Pe,Ym:()=>j,ee:()=>we,lQ:()=>se,mB:()=>q,oS:()=>re,sq:()=>te,vF:()=>ge,zh:()=>X});var P=F(60830),L=F(64252),D=F(44180),A=F(12497),h=F(1972),m="on",g="attachEvent",p="addEventListener",k="detachEvent",b="removeEventListener",l="events",E="visibilitychange",c="pagehide",v="pageshow",f="unload",w="beforeunload",_=(0,L.Z)("aiEvtPageHide"),R=(0,L.Z)("aiEvtPageShow"),M=/\.[\.]+/g,U=/[\.]+$/,x=1,y=(0,L.T)("events"),W=/^([^.]*)(?:\.(.+)|)/;function Q(ye){return ye&&ye[P.W7]?ye[P.W7](/^[\s\.]+|(?=[\s\.])[\.\s]+$/g,h.m5):ye}function Z(ye,Ee){var z;if(Ee){var T=h.m5;(0,A.cy)(Ee)?(T=h.m5,(0,A.Iu)(Ee,function(fe){fe=Q(fe),fe&&(fe[0]!=="."&&(fe="."+fe),T+=fe)})):T=Q(Ee),T&&(T[0]!=="."&&(T="."+T),ye=(ye||h.m5)+T)}var oe=W.exec(ye||h.m5)||[];return z={},z[P.QM]=oe[1],z.ns=(oe[2]||h.m5).replace(M,".").replace(U,h.m5)[P.sY](".").sort().join("."),z}function ee(ye,Ee,z){var T=[],oe=y.get(ye,l,{},!1),fe=Z(Ee,z);return(0,A.z)(oe,function(de,ue){(0,A.Iu)(ue,function(ve){var Fe;(!fe[P.QM]||fe[P.QM]===ve.evtName[P.QM])&&(!fe.ns||fe.ns===fe.ns)&&T[P.y5]((Fe={},Fe[P.RS]=ve.evtName[P.QM]+(ve.evtName.ns?"."+ve.evtName.ns:h.m5),Fe.handler=ve[P.Yo],Fe))})}),T}function J(ye,Ee,z){z===void 0&&(z=!0);var T=y.get(ye,l,{},z),oe=T[Ee];return oe||(oe=T[Ee]=[]),oe}function O(ye,Ee,z,T){ye&&Ee&&Ee[P.QM]&&(ye[b]?ye[b](Ee[P.QM],z,T):ye[k]&&ye[k](m+Ee[P.QM],z))}function H(ye,Ee,z,T){var oe=!1;return ye&&Ee&&Ee[P.QM]&&z&&(ye[p]?(ye[p](Ee[P.QM],z,T),oe=!0):ye[g]&&(ye[g](m+Ee[P.QM],z),oe=!0)),oe}function I(ye,Ee,z,T){for(var oe=Ee[P.oI];oe--;){var fe=Ee[oe];fe&&(!z.ns||z.ns===fe.evtName.ns)&&(!T||T(fe))&&(O(ye,fe.evtName,fe[P.Yo],fe.capture),Ee[P.Ic](oe,1))}}function u(ye,Ee,z){if(Ee[P.QM])I(ye,J(ye,Ee[P.QM]),Ee,z);else{var T=y.get(ye,l,{});(0,A.z)(T,function(oe,fe){I(ye,fe,Ee,z)}),(0,A.cG)(T)[P.oI]===0&&y.kill(ye,l)}}function N(ye,Ee){var z;return Ee?((0,A.cy)(Ee)?z=[ye].concat(Ee):z=[ye,Ee],z=Z("xx",z).ns[P.sY](".")):z=ye,z}function q(ye,Ee,z,T,oe){var fe;oe===void 0&&(oe=!1);var de=!1;if(ye)try{var ue=Z(Ee,T);if(de=H(ye,ue,z,oe),de&&y.accept(ye)){var ve=(fe={guid:x++,evtName:ue},fe[P.Yo]=z,fe.capture=oe,fe);J(ye,ue.type)[P.y5](ve)}}catch{}return de}function V(ye,Ee,z,T,oe){if(oe===void 0&&(oe=!1),ye)try{var fe=Z(Ee,T),de=!1;u(ye,fe,function(ue){return fe.ns&&!z||ue[P.Yo]===z?(de=!0,!0):!1}),de||O(ye,fe,z,oe)}catch{}}function K(ye,Ee,z,T){return T===void 0&&(T=!1),q(ye,Ee,z,null,T)}function j(ye,Ee,z,T){T===void 0&&(T=!1),V(ye,Ee,z,null,T)}function ie(ye,Ee,z){var T=!1,oe=(0,D.zk)();oe&&(T=q(oe,ye,Ee,z),T=q(oe.body,ye,Ee,z)||T);var fe=(0,D.YE)();return fe&&(T=q(fe,ye,Ee,z)||T),T}function X(ye,Ee,z){var T=(0,D.zk)();T&&(V(T,ye,Ee,z),V(T.body,ye,Ee,z));var oe=(0,D.YE)();oe&&V(oe,ye,Ee,z)}function B(ye,Ee,z,T){var oe=!1;return Ee&&ye&&ye[P.oI]>0&&(0,A.Iu)(ye,function(fe){fe&&(!z||(0,A.rD)(z,fe)===-1)&&(oe=ie(fe,Ee,T)||oe)}),oe}function se(ye,Ee,z,T){var oe=!1;return Ee&&ye&&(0,A.cy)(ye)&&(oe=B(ye,Ee,z,T),!oe&&z&&z[P.oI]>0&&(oe=B(ye,Ee,null,T))),oe}function Pe(ye,Ee,z){ye&&(0,A.cy)(ye)&&(0,A.Iu)(ye,function(T){T&&X(T,Ee,z)})}function we(ye,Ee,z){return se([w,f,c],ye,Ee,z)}function _e(ye,Ee){Pe([w,f,c],ye,Ee)}function Me(ye,Ee,z){function T(de){var ue=(0,D.YE)();ye&&ue&&ue.visibilityState==="hidden"&&ye(de)}var oe=N(_,z),fe=B([c],ye,Ee,oe);return(!Ee||(0,A.rD)(Ee,E)===-1)&&(fe=B([E],T,Ee,oe)||fe),!fe&&Ee&&(fe=Me(ye,null,z)),fe}function te(ye,Ee){var z=N(_,Ee);Pe([c],ye,z),Pe([E],null,z)}function re(ye,Ee,z){function T(de){var ue=(0,D.YE)();ye&&ue&&ue.visibilityState==="visible"&&ye(de)}var oe=N(R,z),fe=B([v],ye,Ee,oe);return fe=B([E],T,Ee,oe)||fe,!fe&&Ee&&(fe=re(ye,null,z)),fe}function ge(ye,Ee){var z=N(R,Ee);Pe([v],ye,z),Pe([E],null,z)}},12497:(s,G,F)=>{"use strict";F.d(G,{$8:()=>Kt,$P:()=>T,CP:()=>bt,Cv:()=>re,EH:()=>Re,Ed:()=>K,Et:()=>ve,Gh:()=>B,Gv:()=>Pe,Iu:()=>Je,Ju:()=>z,KT:()=>ce,KY:()=>oi,Kg:()=>ue,Lm:()=>Fe,N6:()=>ut,RF:()=>Wt,SA:()=>Pt,SZ:()=>Ft,Tn:()=>we,W$:()=>ae,_u:()=>qe,b0:()=>j,bJ:()=>de,c2:()=>yt,cG:()=>Ue,cH:()=>Me,cy:()=>oe,hW:()=>ht,hX:()=>X,js:()=>wt,lL:()=>_t,mQ:()=>se,o$:()=>Gn,ol:()=>st,qz:()=>Xt,r:()=>Ze,rD:()=>me,tG:()=>ye,wo:()=>Hi,x3:()=>vt,z:()=>te,zz:()=>Lt});var P=F(47672),L=F(75148),D=F(60830),A=F(1972),h="toISOString",m="endsWith",g="startsWith",p="indexOf",k="map",b="reduce",l="trim",E="toString",c="__proto__",v="constructor",f=P.KU,w=P.s6.freeze,_=P.s6.seal,R=P.s6.keys,M=String[P.vR],U=M[l],x=M[m],y=M[g],W=Date[P.vR],Q=W[h],Z=Array.isArray,ee=P.Wy[E],J=P.J$[E],O=J[D.Ek](P.s6),H=/-([a-z])/g,I=/([^\w\d_$])/g,u=/^(\d+[\w\d_$])/,N=Object.getPrototypeOf;function q(Le){if(Le){if(N)return N(Le);var et=Le[c]||Le[P.vR]||Le[v];if(et)return et}return null}function V(Le){return ee[_DYN_CALL](Le)}function K(Le,et){return typeof Le===et}function j(Le){return Le===void 0||typeof Le===P.bA}function ie(Le){return!j(Le)}function X(Le){return Le===null||j(Le)}function B(Le){return!X(Le)}function se(Le,et){return!!(Le&&P.J$[D.Ek](Le,et))}function Pe(Le){return!!(Le&&typeof Le===P._1)}function we(Le){return!!(Le&&typeof Le===P.hW)}function _e(Le){return Le&&we(Le.then)}function Me(Le){var et=Le;return et&&ue(et)&&(et=et[D.W7](H,function(Tt,dt){return dt.toUpperCase()}),et=et[D.W7](I,"_"),et=et[D.W7](u,function(Tt,dt){return"_"+dt})),et}function te(Le,et){if(Le)for(var Tt in Le)P.J$[D.Ek](Le,Tt)&&et[D.Ek](Le,Tt,Le[Tt])}function re(Le,et){var Tt=!1;return Le&&et&&!(Tt=Le===et)&&(Tt=x?Le[m](et):ge(Le,et)),Tt}function ge(Le,et){var Tt=!1,dt=et?et[D.oI]:0,mt=Le?Le[D.oI]:0;if(dt&&mt&&mt>=dt&&!(Tt=Le===et)){for(var ni=mt-1,Ot=dt-1;Ot>=0;Ot--){if(Le[ni]!=et[Ot])return!1;ni--}Tt=!0}return Tt}function ye(Le,et){var Tt=!1;return Le&&et&&!(Tt=Le===et)&&(Tt=y?Le[g](et):Ee(Le,et)),Tt}function Ee(Le,et){var Tt=!1,dt=et?et[D.oI]:0;if(Le&&dt&&Le[D.oI]>=dt&&!(Tt=Le===et)){for(var mt=0;mt<dt;mt++)if(Le[mt]!==et[mt])return!1;Tt=!0}return Tt}function z(Le,et){return Le&&et?Le[D.Sj](et)!==-1:!1}function T(Le){return!!(Le&&ee[D.Ek](Le)==="[object Date]")}var oe=Z||fe;function fe(Le){return!!(Le&&ee[D.Ek](Le)==="[object Array]")}function de(Le){return!!(Le&&ee[D.Ek](Le)==="[object Error]")}function ue(Le){return typeof Le=="string"}function ve(Le){return typeof Le=="number"}function Fe(Le){return typeof Le=="boolean"}function Oe(Le){return typeof Le=="symbol"}function $e(Le){var et=!1;if(Le&&typeof Le=="object"){var Tt=N?N(Le):q(Le);Tt?(Tt[v]&&P.J$[D.Ek](Tt,v)&&(Tt=Tt[v]),et=typeof Tt===P.hW&&J[D.Ek](Tt)===O):et=!0}return et}function qe(Le){if(Le)return Q?Le[h]():Ve(Le)}function Ve(Le){if(Le&&Le.getUTCFullYear){var et=function(Tt){var dt=String(Tt);return dt[D.oI]===1&&(dt="0"+dt),dt};return Le.getUTCFullYear()+"-"+et(Le.getUTCMonth()+1)+"-"+et(Le.getUTCDate())+"T"+et(Le.getUTCHours())+":"+et(Le.getUTCMinutes())+":"+et(Le.getUTCSeconds())+"."+String((Le.getUTCMilliseconds()/1e3).toFixed(3)).slice(2,5)+"Z"}}function Je(Le,et,Tt){var dt=Le[D.oI];try{for(var mt=0;mt<dt&&!(mt in Le&&et[D.Ek](Tt||Le,Le[mt],mt,Le)===-1);mt++);}catch{}}function me(Le,et,Tt){if(Le){if(Le[p])return Le[p](et,Tt);var dt=Le[D.oI],mt=Tt||0;try{for(var ni=Math.max(mt>=0?mt:dt-Math.abs(mt),0);ni<dt;ni++)if(ni in Le&&Le[ni]===et)return ni}catch{}}return-1}function ae(Le,et,Tt){var dt;if(Le){if(Le[k])return Le[k](et,Tt);var mt=Le[D.oI],ni=Tt||Le;dt=new Array(mt);try{for(var Ot=0;Ot<mt;Ot++)Ot in Le&&(dt[Ot]=et[D.Ek](ni,Le[Ot],Le))}catch{}}return dt}function ce(Le,et,Tt){var dt;if(Le){if(Le[b])return Le[b](et,Tt);var mt=Le[D.oI],ni=0;if(arguments[D.oI]>=3)dt=arguments[2];else{for(;ni<mt&&!(ni in Le);)ni++;dt=Le[ni++]}for(;ni<mt;)ni in Le&&(dt=et(dt,Le[ni],ni,Le)),ni++}return dt}function Re(Le){return Le&&(Le=U&&Le[l]?Le[l]():Le[D.W7]?Le[D.W7](/^\s+|(?=\s)\s+$/g,A.m5):Le),Le}var xe=!{toString:null}.propertyIsEnumerable("toString"),Ye=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"];function Ue(Le){var et=typeof Le;if(et!==P.hW&&(et!==P._1||Le===null)&&(0,L.zk)("objKeys called on non-object"),!xe&&R)return R(Le);var Tt=[];for(var dt in Le)Le&&P.J$[D.Ek](Le,dt)&&Tt[D.y5](dt);if(xe)for(var mt=Ye[D.oI],ni=0;ni<mt;ni++)Le&&P.J$[D.Ek](Le,Ye[ni])&&Tt[D.y5](Ye[ni]);return Tt}function Ze(Le,et,Tt,dt){if(f)try{var mt={enumerable:!0,configurable:!0};return Tt&&(mt.get=Tt),dt&&(mt.set=dt),f(Le,et,mt),!0}catch{}return!1}function It(Le){return Le}function st(Le){return w&&te(Le,function(et,Tt){(oe(Tt)||Pe(Tt))&&w(Tt)}),ut(Le)}var ut=w||It,wt=_||It;function vt(){var Le=Date;return Le.now?Le.now():new Le().getTime()}function _t(Le){return de(Le)?Le[D.RS]:A.m5}function oi(Le,et,Tt,dt,mt){var ni=Tt;return Le&&(ni=Le[et],ni!==Tt&&(!mt||mt(ni))&&(!dt||dt(Tt))&&(ni=Tt,Le[et]=ni)),ni}function yt(Le,et,Tt){var dt;return Le?(dt=Le[et],!dt&&X(dt)&&(dt=j(Tt)?{}:Tt,Le[et]=dt)):dt=j(Tt)?{}:Tt,dt}function Pt(Le,et){return X(Le)?et:Le}function Hi(Le){return!Le}function Lt(Le){return!!Le}function Kt(Le){throw new Error(Le)}function Zn(Le,et){var Tt=null,dt=null;return we(Le)?Tt=Le:dt=Le,function(){var mt=arguments;if(Tt&&(dt=Tt()),dt)return dt[et][D.y9](dt,mt)}}function Xt(Le,et,Tt){if(Le&&et&&Pe(Le)&&Pe(et)){var dt=function(ni){if(ue(ni)){var Ot=et[ni];we(Ot)?(!Tt||Tt(ni,!0,et,Le))&&(Le[ni]=Zn(et,ni)):(!Tt||Tt(ni,!1,et,Le))&&(se(Le,ni)&&delete Le[ni],Ze(Le,ni,function(){return et[ni]},function(jt){et[ni]=jt})||(Le[ni]=Ot))}};for(var mt in et)dt(mt)}return Le}function Wt(Le,et,Tt,dt,mt){Le&&et&&Tt&&(mt!==!1||j(Le[et]))&&(Le[et]=Zn(Tt,dt))}function Gn(Le,et,Tt,dt){return Le&&et&&Pe(Le)&&oe(Tt)&&Je(Tt,function(mt){ue(mt)&&Wt(Le,mt,et,mt,dt)}),Le}function Ft(Le){return function(){function et(){var Tt=this;Le&&te(Le,function(dt,mt){Tt[dt]=mt})}return et}()}function ht(Le){return Le&&P.zi&&(Le=(0,P.s6)((0,P.zi)({},Le))),Le}function bt(Le,et,Tt,dt,mt,ni){var Ot=arguments,jt=Ot[0]||{},qt=Ot[D.oI],gt=!1,Rt=1;for(qt>0&&Fe(jt)&&(gt=jt,jt=Ot[Rt]||{},Rt++),Pe(jt)||(jt={});Rt<qt;Rt++){var Dt=Ot[Rt],di=oe(Dt),ri=Pe(Dt);for(var Gt in Dt){var _i=di&&Gt in Dt||ri&&P.J$[D.Ek](Dt,Gt);if(_i){var ci=Dt[Gt],Di=void 0;if(gt&&ci&&((Di=oe(ci))||$e(ci))){var Ii=jt[Gt];Di?oe(Ii)||(Ii=[]):$e(Ii)||(Ii={}),ci=bt(gt,Ii,ci)}ci!==void 0&&(jt[Gt]=ci)}}}return jt}},1972:(s,G,F)=>{"use strict";F.d(G,{Bw:()=>m,Hr:()=>h,LZ:()=>L,Tj:()=>f,Vo:()=>k,Yd:()=>A,Yp:()=>l,Zi:()=>v,dI:()=>E,eT:()=>D,fc:()=>b,jy:()=>g,kI:()=>w,l0:()=>c,m5:()=>P,qT:()=>p});var P="",L="channels",D="core",A="createPerfMgr",h="disabled",m="extensionConfig",g="extensions",p="processTelemetry",k="priority",b="eventsSent",l="eventsDiscarded",E="eventsSendRequest",c="perfEvent",v="errorToConsole",f="warnToConsole",w="getPerfMgr"},54660:(s,G,F)=>{"use strict";F.d(G,{h:()=>m});var P=F(92457),L=F(60830),D=F(12497),A=F(1972);function h(g,p,k,b){(0,D.Iu)(g,function(l){if(l&&l[p])if(k)setTimeout(function(){return b(l)},0);else try{b(l)}catch{}})}var m=function(){function g(p){this.listeners=[];var k=!!(p||{}).perfEvtsSendAll;(0,P.A)(g,this,function(b){b[L.vR]=function(l){b.listeners[L.y5](l)},b[L.TP]=function(l){for(var E=(0,D.rD)(b[L.lJ],l);E>-1;)b.listeners[L.Ic](E,1),E=(0,D.rD)(b[L.lJ],l)},b[A.fc]=function(l){h(b[L.lJ],A.fc,!0,function(E){E[A.fc](l)})},b[A.Yp]=function(l,E){h(b[L.lJ],A.Yp,!0,function(c){c[A.Yp](l,E)})},b[A.dI]=function(l,E){h(b[L.lJ],A.dI,E,function(c){c[A.dI](l,E)})},b[A.l0]=function(l){l&&(k||!l[L.Zu]())&&h(b[L.lJ],A.l0,!1,function(E){l[L.tI]?setTimeout(function(){return E[A.l0](l)},0):E[A.l0](l)})}})}return g.__ieDyn=1,g}()},5204:(s,G,F)=>{"use strict";F.d(G,{NS:()=>b,Q6:()=>k,Z4:()=>v,r2:()=>E});var P=F(92457),L=F(60830),D=F(12497),A=F(1972),h="ctx",m="ParentContextKey",g="ChildrenContextKey",p=null,k=function(){function f(w,_,R){var M=this,U=!1;if(M.start=(0,D.x3)(),M[L.RS]=w,M[L.tI]=R,M[L.Zu]=function(){return!1},(0,D.Tn)(_)){var x;U=(0,D.r)(M,"payload",function(){return!x&&(0,D.Tn)(_)&&(x=_(),_=null),x})}M[L.O_]=function(y){return y?y===f[m]||y===f[g]?M[y]:(M[h]||{})[y]:null},M[L.e_]=function(y,W){if(y)if(y===f[m])M[y]||(M[L.Zu]=function(){return!0}),M[y]=W;else if(y===f[g])M[y]=W;else{var Q=M[h]=M[h]||{};Q[y]=W}},M[L.Ru]=function(){var y=0,W=M[L.O_](f[g]);if((0,D.cy)(W))for(var Q=0;Q<W[L.oI];Q++){var Z=W[Q];Z&&(y+=Z[L.fA])}M[L.fA]=(0,D.x3)()-M.start,M.exTime=M[L.fA]-y,M[L.Ru]=function(){},!U&&(0,D.Tn)(_)&&(M.payload=_())}}return f.ParentContextKey="parent",f.ChildrenContextKey="childEvts",f}(),b=function(){function f(w){this.ctx={},(0,P.A)(f,this,function(_){_.create=function(R,M,U){return new k(R,M,U)},_.fire=function(R){R&&(R[L.Ru](),w&&(0,D.Tn)(w[A.l0])&&w[A.l0](R))},_[L.e_]=function(R,M){if(R){var U=_[h]=_[h]||{};U[R]=M}},_[L.O_]=function(R){return(_[h]||{})[R]}})}return f.__ieDyn=1,f}(),l="CoreUtils.doPerf";function E(f,w,_,R,M){if(f){var U=f;if(U[A.kI]&&(U=U[A.kI]()),U){var x=void 0,y=U[L.O_](l);try{if(x=U.create(w(),R,M),x){if(y&&x[L.e_]&&(x[L.e_](k[m],y),y[L.O_]&&y[L.e_])){var W=y[L.O_](k[g]);W||(W=[],y[L.e_](k[g],W)),W[L.y5](x)}return U[L.e_](l,x),_(x)}}catch(Q){x&&x[L.e_]&&x[L.e_]("exception",Q)}finally{x&&U.fire(x),U[L.e_](l,y)}}}return _()}function c(f){p=f}function v(){return p}},8997:(s,G,F)=>{"use strict";F.d(G,{PV:()=>_,W0:()=>M,i8:()=>v,nU:()=>w,tS:()=>f});var P=F(60830),L=F(99015),D=F(44180),A=F(12497),h=F(1972),m=F(5204),g=F(33540),p="TelemetryPluginChain",k="_hasRun",b="_getTelCtx",l=0;function E(U,x,y){for(;U;){if(U[P.AP]()===y)return U;U=U[P.uR]()}return _([y],x[P.GA]||{},x)}function c(U,x,y,W){var Q=null,Z=[];W!==null&&(Q=W?E(U,y,W):U);var ee={_next:O,ctx:{core:function(){return y},diagLog:function(){return(0,L.y0)(y,x)},getCfg:function(){return x},getExtCfg:H,getConfig:I,hasNext:function(){return!!Q},getNext:function(){return Q},setNext:function(N){Q=N},iterate:u,onComplete:J}};function J(N,q){for(var V=[],K=2;K<arguments.length;K++)V[K-2]=arguments[K];N&&Z[P.y5]({func:N,self:(0,A.b0)(q)?ee.ctx:q,args:V})}function O(){var N=Q;if(Q=N?N[P.uR]():null,!N){var q=Z;q&&q[P.oI]>0&&((0,A.Iu)(q,function(V){try{V.func[P.Ek](V.self,V.args)}catch(K){(0,L.ZP)(y[P.Uw],2,73,"Unexpected Exception during onComplete - "+(0,D.mm)(K))}}),Z=[])}return N}function H(N,q,V){q===void 0&&(q={}),V===void 0&&(V=0);var K;if(x){var j=x[h.Bw];j&&N&&(K=j[N])}if(!K)K=q;else if((0,A.Gv)(q)&&V!==0){var ie=(0,A.CP)(!0,q,K);x&&V===2&&(0,A.z)(q,function(X){if((0,A.hX)(ie[X])){var B=x[X];(0,A.hX)(B)||(ie[X]=B)}}),K=ie}return K}function I(N,q,V){V===void 0&&(V=!1);var K,j=H(N,null);return j&&!(0,A.hX)(j[q])?K=j[q]:x&&!(0,A.hX)(x[q])&&(K=x[q]),(0,A.hX)(K)?V:K}function u(N){for(var q;q=ee._next();){var V=q[P.AP]();V&&N(V)}}return ee}function v(U,x,y,W){var Q=c(U,x,y,W),Z=Q.ctx;function ee(O){var H=Q._next();return H&&H[h.qT](O,Z),!H}function J(O,H){return O===void 0&&(O=null),(0,A.cy)(O)&&(O=_(O,x,y,H)),v(O||Z[P.uR](),x,y,H)}return Z[P.$5]=ee,Z[P.$o]=J,Z}function f(U,x,y){var W=x[P.GA]||{},Q=c(U,W,x,y),Z=Q.ctx;function ee(O){var H=Q._next();return H&&H.unload(Z,O),!H}function J(O,H){return O===void 0&&(O=null),(0,A.cy)(O)&&(O=_(O,W,x,H)),f(O||Z[P.uR](),x,H)}return Z[P.$5]=ee,Z[P.$o]=J,Z}function w(U,x,y){var W=x[P.GA]||{},Q=c(U,W,x,y),Z=Q.ctx;function ee(O){return Z.iterate(function(H){(0,A.Tn)(H[P.HC])&&H[P.HC](Z,O)})}function J(O,H){return O===void 0&&(O=null),(0,A.cy)(O)&&(O=_(O,W,x,H)),w(O||Z[P.uR](),x,H)}return Z[P.$5]=ee,Z[P.$o]=J,Z}function _(U,x,y,W){var Q=null,Z=!W;if((0,A.cy)(U)&&U[P.oI]>0){var ee=null;(0,A.Iu)(U,function(J){if(!Z&&W===J&&(Z=!0),Z&&J&&(0,A.Tn)(J[h.qT])){var O=R(J,x,y);Q||(Q=O),ee&&ee._setNext(O),ee=O}})}return W&&!Q?_([W],x,y):Q}function R(U,x,y){var W=null,Q=(0,A.Tn)(U[h.qT]),Z=(0,A.Tn)(U[P.YH]),ee;U?ee=U[P.Ju]+"-"+U[h.Vo]+"-"+l++:ee="Unknown-0-"+l++;var J={getPlugin:function(){return U},getNext:function(){return W},processTelemetry:I,unload:u,update:N,_id:ee,_setNext:function(q){W=q}};function O(){var q;return U&&(0,A.Tn)(U[b])&&(q=U[b]()),q||(q=v(J,x,y)),q}function H(q,V,K,j,ie){var X=!1,B=U?U[P.Ju]:p,se=q[k];return se||(se=q[k]={}),q.setNext(W),U&&(0,m.r2)(q[h.eT](),function(){return B+":"+K},function(){se[ee]=!0;try{var Pe=W?W._id:h.m5;Pe&&(se[Pe]=!1),X=V(q)}catch(_e){var we=W?se[W._id]:!0;we&&(X=!0),(!W||!we)&&(0,L.ZP)(q[P.e4](),1,73,"Plugin ["+B+"] failed during "+K+" - "+(0,D.mm)(_e)+", run flags: "+(0,D.mm)(se))}},j,ie),X}function I(q,V){V=V||O();function K(j){if(!U||!Q)return!1;var ie=(0,g.Cr)(U);return ie[P.Ik]||ie[h.Hr]?!1:(Z&&U[P.YH](W),U[h.qT](q,j),!0)}H(V,K,"processTelemetry",function(){return{item:q}},!q.sync)||V[P.$5](q)}function u(q,V){function K(){var j=!1;if(U){var ie=(0,g.Cr)(U),X=U[h.eT]||ie[h.eT];U&&(!X||X===q.core())&&!ie[P.Ik]&&(ie[h.eT]=null,ie[P.Ik]=!0,ie[P.tZ]=!1,U[P.Ik]&&U[P.Ik](q,V)===!0&&(j=!0))}return j}H(q,K,"unload",function(){},V[P.tI])||q[P.$5](V)}function N(q,V){function K(){var j=!1;if(U){var ie=(0,g.Cr)(U),X=U[h.eT]||ie[h.eT];U&&(!X||X===q.core())&&!ie[P.Ik]&&U[P.HC]&&U[P.HC](q,V)===!0&&(j=!0)}return j}H(q,K,"update",function(){},!1)||q[P.$5](V)}return(0,A.N6)(J)}var M=function(){function U(x,y,W,Q){var Z=this,ee=v(x,y,W,Q);(0,A.o$)(Z,ee,(0,A.cG)(ee))}return U}()},57679:(s,G,F)=>{"use strict";F.d(G,{Si:()=>w,VN:()=>c,Z1:()=>E,k5:()=>f,yc:()=>v});var P=F(60830),L=F(44180),D=F(12497),A=F(1972),h=4294967296,m=4294967295,g=!1,p=123456789,k=987654321;function b(_){_<0&&(_>>>=0),p=123456789+_&m,k=987654321-_&m,g=!0}function l(){try{var _=(0,D.x3)()&2147483647;b((Math.random()*h^_)+_)}catch{}}function E(_){return _>0?Math.floor(c()/m*(_+1))>>>0:0}function c(_){var R=0,M=(0,L.MY)()||(0,L.iN)();return M&&M.getRandomValues&&(R=M.getRandomValues(new Uint32Array(1))[0]&m),R===0&&(0,L.lT)()&&(g||l(),R=f()&m),R===0&&(R=Math.floor(h*Math.random()|0)),_||(R>>>=0),R}function v(_){_?b(_):l()}function f(_){k=36969*(k&65535)+(k>>16)&m,p=18e3*(p&65535)+(p>>16)&m;var R=(k<<16)+(p&65535)>>>0&m|0;return _||(R>>>=0),R}function w(_){_===void 0&&(_=22);for(var R="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",M=c()>>>0,U=0,x=A.m5;x[P.oI]<_;)U++,x+=R.charAt(M&63),M>>>=6,U===5&&(M=(c()<<2&4294967295|M&3)>>>0,U=0);return x}},33540:(s,G,F)=>{"use strict";F.d(G,{Cr:()=>g,Xc:()=>k,pI:()=>p,u7:()=>l});var P=F(60830),L=F(64252),D=F(12497),A=F(1972),h=F(68560),m=(0,L.T)("plugin");function g(E){return m.get(E,"state",{},!0)}function p(E,c){for(var v=[],f=null,w=E[P.uR](),_;w;){var R=w[P.AP]();if(R){f&&(0,D.Tn)(f[P.YH])&&(0,D.Tn)(R[A.qT])&&f[P.YH](R);var M=!1;(0,D.Tn)(R[P.tZ])?M=R[P.tZ]():(_=g(R),M=_[P.tZ]),M||v[P.y5](R),f=R,w=w[P.uR]()}}(0,D.Iu)(v,function(U){var x=E[A.eT]();U[P.mE](E.getCfg(),x,c,E[P.uR]()),_=g(U),!U[A.eT]&&!_[A.eT]&&(_[A.eT]=x),_[P.tZ]=!0,delete _[P.Ik]})}function k(E){return E.sort(function(c,v){var f=0;if(v){var w=(0,D.Tn)(v[A.qT]);(0,D.Tn)(c[A.qT])?f=w?c[A.Vo]-v[A.Vo]:1:w&&(f=-1)}else f=c?1:-1;return f})}function b(E,c,v,f){var w=0;function _(){for(;w<E[_DYN_LENGTH];){var R=E[w++];if(R){var M=R._doUnload||R[_DYN__DO_TEARDOWN];if(isFunction(M)&&M[_DYN_CALL](R,c,v,_)===!0)return!0}}}return _()}function l(E){var c={};return{getName:function(){return c[P.RS]},setName:function(v){E&&E.setName(v),c[P.RS]=v},getTraceId:function(){return c[P.P5]},setTraceId:function(v){E&&E.setTraceId(v),(0,h.hX)(v)&&(c[P.P5]=v)},getSpanId:function(){return c[P.wi]},setSpanId:function(v){E&&E.setSpanId(v),(0,h.wN)(v)&&(c[P.wi]=v)},getTraceFlags:function(){return c[P.Rr]},setTraceFlags:function(v){E&&E.setTraceFlags(v),c[P.Rr]=v}}}},49388:(s,G,F)=>{"use strict";F.d(G,{P:()=>h});var P=F(60830),L=F(99015),D=F(44180),A=F(12497);function h(){var m=[];function g(k){k&&m[P.y5](k)}function p(k,b){(0,A.Iu)(m,function(l){try{l(k,b)}catch(E){(0,L.ZP)(k[P.e4](),2,73,"Unexpected error calling unload handler - "+(0,D.mm)(E))}}),m=[]}return{add:g,run:p}}},68560:(s,G,F)=>{"use strict";F.d(G,{L0:()=>U,N7:()=>M,ZI:()=>f,ef:()=>x,hX:()=>w,mJ:()=>R,wN:()=>_,wk:()=>v});var P=F(60830),L=F(32578),D=F(44180),A=F(12497),h=/^([\da-f]{2})-([\da-f]{32})-([\da-f]{16})-([\da-f]{2})(-[^\s]*)?$/,m="00",g="ff",p="00000000000000000000000000000000",k="0000000000000000",b=1;function l(y,W,Q){return y&&y[P.oI]===W&&y!==Q?!!y.match(/^[\da-f]*$/):!1}function E(y,W,Q){return l(y,W)?y:Q}function c(y){(isNaN(y)||y<0||y>255)&&(y=1);for(var W=y.toString(16);W[P.oI]<2;)W="0"+W;return W}function v(y,W,Q,Z){var ee;return ee={},ee[P.s]=l(Z,2,g)?Z:m,ee[P.P5]=w(y)?y:(0,L.cL)(),ee.spanId=_(W)?W:(0,L.cL)()[P.$4](0,16),ee.traceFlags=Q>=0&&Q<=255?Q:1,ee}function f(y){var W;if(!y||((0,A.cy)(y)&&(y=y[0]||""),!y||!(0,A.Kg)(y)||y[P.oI]>8192))return null;var Q=h.exec((0,A.EH)(y));return!Q||Q[1]===g||Q[2]===p||Q[3]===k?null:(W={},W[P.s]=Q[1],W[P.P5]=Q[2],W[P.wi]=Q[3],W[P.Rr]=parseInt(Q[4],16),W)}function w(y){return l(y,32,p)}function _(y){return l(y,16,k)}function R(y){return!(!y||!l(y[P.s],2,g)||!l(y[P.P5],32,p)||!l(y[P.wi],16,k)||!l(c(y[P.Rr]),2))}function M(y){return R(y)?(y[P.Rr]&b)===b:!1}function U(y){if(y){var W=c(y[P.Rr]);l(W,2)||(W="01");var Q=y[P.s]||m;return Q!=="00"&&Q!=="ff"&&(Q=m),"".concat(Q,"-").concat(E(y.traceId,32,p),"-").concat(E(y.spanId,16,k),"-").concat(W)}return""}function x(){var y="traceparent",W=f((0,D.$Z)(y));return W||(W=f((0,D.Iu)(y))),W}},60830:(s,G,F)=>{"use strict";F.d(G,{$4:()=>X,$5:()=>E,$o:()=>u,AP:()=>R,Di:()=>w,EX:()=>M,Ek:()=>te,GA:()=>g,H7:()=>U,HC:()=>J,Ic:()=>x,Ik:()=>y,JR:()=>W,Ju:()=>A,OL:()=>Me,O_:()=>z,P5:()=>fe,QM:()=>re,RF:()=>D,RS:()=>L,Re:()=>V,Rr:()=>ue,Ru:()=>oe,Sj:()=>q,TP:()=>f,Uw:()=>k,W7:()=>Pe,YH:()=>I,Yo:()=>ge,Zu:()=>Ee,a$:()=>we,by:()=>_,e4:()=>H,e_:()=>T,fA:()=>l,kt:()=>ie,lJ:()=>ye,lK:()=>N,mE:()=>P,oI:()=>b,pM:()=>Q,ps:()=>c,re:()=>B,s:()=>ve,sY:()=>j,sl:()=>p,sx:()=>_e,tI:()=>Z,tX:()=>K,tZ:()=>m,tn:()=>ee,uR:()=>O,vR:()=>v,wi:()=>de,y5:()=>h,y9:()=>se});var P="initialize",L="name",D="getNotifyMgr",A="identifier",h="push",m="isInitialized",g="config",p="instrumentationKey",k="logger",b="length",l="time",E="processNext",c="getProcessTelContext",v="addNotificationListener",f="removeNotificationListener",w="stopPollingInternalLogs",_="onComplete",R="getPlugin",M="flush",U="_extensions",x="splice",y="teardown",W="messageId",Q="message",Z="isAsync",ee="_doTeardown",J="update",O="getNext",H="diagLog",I="setNextPlugin",u="createNew",N="cookieCfg",q="indexOf",V="substring",K="userAgent",j="split",ie="setEnabled",X="substr",B="nodeType",se="apply",Pe="replace",we="enableDebugExceptions",_e="logInternalMessage",Me="toLowerCase",te="call",re="type",ge="handler",ye="listeners",Ee="isChildEvt",z="getCtx",T="setCtx",oe="complete",fe="traceId",de="spanId",ue="traceFlags",ve="version"},47672:(s,G,F)=>{"use strict";F.d(G,{J$:()=>E,KU:()=>l,OR:()=>b,QV:()=>h,Wy:()=>p,_1:()=>L,bA:()=>D,hW:()=>P,s6:()=>g,vR:()=>A,zi:()=>k});var P="function",L="object",D="undefined",A="prototype",h="hasOwnProperty",m="default",g=Object,p=g[A],k=g.assign,b=g.create,l=g.defineProperty,E=p[h]},75148:(s,G,F)=>{"use strict";F.d(G,{AQ:()=>h,mS:()=>D,zk:()=>A});var P=F(47672),L=null;function D(m){m===void 0&&(m=!0);var g=m===!1?null:L;return g||(typeof globalThis!==P.bA&&(g=globalThis),!g&&typeof self!==P.bA&&(g=self),!g&&typeof window!==P.bA&&(g=window),!g&&typeof F.g!==P.bA&&(g=F.g),L=g),g}function A(m){throw new TypeError(m)}function h(m){var g=P.OR;if(g)return g(m);if(m==null)return{};var p=typeof m;p!==P._1&&p!==P.hW&&A("Object prototype may only be an Object:"+m);function k(){}return k[P.vR]=m,new k}},8747:(s,G,F)=>{"use strict";F.d(G,{Im:()=>E,qU:()=>v,vz:()=>Q});var P=F(47672),L=F(75148),D=((0,L.mS)()||{}).Symbol,A=((0,L.mS)()||{}).Reflect,h=!!D,m=!!A,g="decorate",p="metadata",k="getOwnPropertySymbols",b="iterator",l=function(O){for(var H,I=1,u=arguments.length;I<u;I++){H=arguments[I];for(var N in H)P.Wy[P.QV].call(H,N)&&(O[N]=H[N])}return O},E=P.zi||l,c=function(O,H){return c=P.s6.setPrototypeOf||{__proto__:[]}instanceof Array&&function(I,u){I.__proto__=u}||function(I,u){for(var N in u)u[P.QV](N)&&(I[N]=u[N])},c(O,H)};function v(O,H){typeof H!==P.hW&&H!==null&&(0,L.zk)("Class extends value "+String(H)+" is not a constructor or null"),c(O,H);function I(){this.constructor=O}O[P.vR]=H===null?(0,L.AQ)(H):(I[P.vR]=H[P.vR],new I)}function f(O,H){var I={};for(var u in O)ObjHasOwnProperty.call(O,u)&&H.indexOf(u)<0&&(I[u]=O[u]);if(O!=null&&typeof ObjClass[k]===strShimFunction)for(var N=0,q=ObjClass[k](O);N<q.length;N++)H.indexOf(q[N])<0&&ObjProto.propertyIsEnumerable.call(O,q[N])&&(I[q[N]]=O[q[N]]);return I}function w(O,H,I,u){var N=arguments.length,q=N<3?H:u===null?u=ObjClass.getOwnPropertyDescriptor(H,I):u,V;if(m&&typeof A[g]===strShimFunction)q=A[g](O,H,I,u);else for(var K=O.length-1;K>=0;K--)(V=O[K])&&(q=(N<3?V(q):N>3?V(H,I,q):V(H,I))||q);return N>3&&q&&ObjDefineProperty(H,I,q),q}function _(O,H){return function(I,u){H(I,u,O)}}function R(O,H){if(m&&A[p]===strShimFunction)return A[p](O,H)}function M(O,H){for(var I in O)I!==strDefault&&!ObjHasOwnProperty.call(H,I)&&U(H,O,I)}function U(O,H,I,u){u===void 0&&(u=I),ObjCreate?ObjDefineProperty(O,u,{enumerable:!0,get:function(){return H[I]}}):O[u]=H[I]}function x(O){var H=typeof D===strShimFunction&&D[b],I=H&&O[H],u=0;if(I)return I.call(O);if(O&&typeof O.length=="number")return{next:function(){return O&&u>=O.length&&(O=void 0),{value:O&&O[u++],done:!O}}};throwTypeError(H?"Object is not iterable.":"Symbol.iterator is not defined.")}function y(O,H){var I=typeof D===strShimFunction&&O[D[b]];if(!I)return O;var u=I.call(O),N,q=[],V;try{for(;(H===void 0||H-- >0)&&!(N=u.next()).done;)q.push(N.value)}catch(K){V={error:K}}finally{try{N&&!N.done&&(I=u.return)&&I.call(u)}finally{if(V)throw V.error}}return q}function W(){for(var O=arguments,H=0,I=0,u=O.length;I<u;I++)H+=O[I].length;for(var N=Array(H),q=0,I=0;I<u;I++)for(var V=O[I],K=0,j=V.length;K<j;K++,q++)N[q]=V[K];return N}function Q(O,H){for(var I=0,u=H.length,N=O.length;I<u;I++,N++)O[N]=H[I];return O}function Z(O,H){return ObjDefineProperty?ObjDefineProperty(O,"raw",{value:H}):O.raw=H,O}function ee(O){if(O&&O.__esModule)return O;var H={};if(O!=null)for(var I in O)I!==strDefault&&Object.prototype.hasOwnProperty.call(O,I)&&U(H,O,I);return ObjCreate?ObjDefineProperty(H,strDefault,{enumerable:!0,value:O}):H[strDefault]=O,H}function J(O){return O&&O.__esModule?O:{strDefault:O}}},94731:(s,G,F)=>{"use strict";F.r(G),F.d(G,{AppInsightsCore:()=>Wu._,ApplicationInsights:()=>Ts,CoreUtils:()=>ri.jS,Sender:()=>$c,SeverityLevel:()=>Vc,_InternalMessageId:()=>Gc.$,arrForEach:()=>de.Iu,isNullOrUndefined:()=>de.hX,proxyFunctions:()=>de.o$,throwError:()=>de.$8});var P=F(92457),L=F(8747),D="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",A="sampleRate",h="ProcessLegacy",m="http.method",g="https://dc.services.visualstudio.com",p="/v2/track",k="not_specified",b="iKey",l="split",E="length",c="toLowerCase",v="ingestionendpoint",f="toString",w="removeItem",_="name",R="message",M="count",U="preTriggerDate",x="disabled",y="interval",W="daysOfMonth",Q="date",Z="getUTCDate",ee="stringify",J="pathname",O="correlationHeaderExcludePatterns",H="indexOf",I="extensionConfig",u="exceptions",N="parsedStack",q="properties",V="measurements",K="sizeInBytes",j="typeName",ie="severityLevel",X="problemGroup",B="isManual",se="CreateFromInterface",Pe="hasFullStack",we="level",_e="method",Me="assembly",te="fileName",re="line",ge="duration",ye="receivedResponse",Ee="substring",z="sanitizeKeyAndAddUniqueness",T="sanitizeException",oe="sanitizeProperties",fe="sanitizeMeasurements",de=F(12497),ue=F(99015),ve=F(44180),Fe;function Oe(Te,be,Ae){var Ie=be[E],We=$e(Te,be);if(We[E]!==Ie){for(var Xe=0,at=We;Ae[at]!==void 0;)Xe++,at=We[Ee](0,147)+Ye(Xe);We=at}return We}function $e(Te,be){var Ae;return be&&(be=(0,de.EH)(be[f]()),be[E]>150&&(Ae=be[Ee](0,150),(0,ue.ZP)(Te,2,57,"name is too long.  It has been truncated to 150 characters.",{name:be},!0))),Ae||be}function qe(Te,be,Ae){Ae===void 0&&(Ae=1024);var Ie;return be&&(Ae=Ae||1024,be=(0,de.EH)(be),be.toString()[E]>Ae&&(Ie=be[f]()[Ee](0,Ae),(0,ue.ZP)(Te,2,61,"string value is too long. It has been truncated to "+Ae+" characters.",{value:be},!0))),Ie||be}function Ve(Te,be){return xe(Te,be,2048,66)}function Je(Te,be){var Ae;return be&&be[E]>32768&&(Ae=be[Ee](0,32768),(0,ue.ZP)(Te,2,56,"message is too long, it has been truncated to 32768 characters.",{message:be},!0)),Ae||be}function me(Te,be){var Ae;if(be){var Ie=""+be;Ie[E]>32768&&(Ae=Ie[Ee](0,32768),(0,ue.ZP)(Te,2,52,"exception is too long, it has been truncated to 32768 characters.",{exception:be},!0))}return Ae||be}function ae(Te,be){if(be){var Ae={};(0,de.z)(be,function(Ie,We){if((0,de.Gv)(We)&&(0,ve.Z)())try{We=(0,ve.hm)()[ee](We)}catch(Xe){(0,ue.ZP)(Te,2,49,"custom property is not valid",{exception:Xe},!0)}We=qe(Te,We,8192),Ie=Oe(Te,Ie,Ae),Ae[Ie]=We}),be=Ae}return be}function ce(Te,be){if(be){var Ae={};(0,de.z)(be,function(Ie,We){Ie=Oe(Te,Ie,Ae),Ae[Ie]=We}),be=Ae}return be}function Re(Te,be){return be&&xe(Te,be,128,69)[f]()}function xe(Te,be,Ae,Ie){var We;return be&&(be=(0,de.EH)(be),be[E]>Ae&&(We=be[Ee](0,Ae),(0,ue.ZP)(Te,2,Ie,"input is too long, it has been truncated to "+Ae+" characters.",{data:be},!0))),We||be}function Ye(Te){var be="00"+Te;return be.substr(be[E]-3)}var Ue=(Fe={MAX_NAME_LENGTH:150,MAX_ID_LENGTH:128,MAX_PROPERTY_LENGTH:8192,MAX_STRING_LENGTH:1024,MAX_URL_LENGTH:2048,MAX_MESSAGE_LENGTH:32768,MAX_EXCEPTION_LENGTH:32768},Fe[z]=Oe,Fe.sanitizeKey=$e,Fe.sanitizeString=qe,Fe.sanitizeUrl=Ve,Fe.sanitizeMessage=Je,Fe[T]=me,Fe[oe]=ae,Fe[fe]=ce,Fe.sanitizeId=Re,Fe.sanitizeInput=xe,Fe.padNumber=Ye,Fe.trim=de.EH,Fe),Ze=function(){function Te(be,Ae,Ie,We){this.aiDataContract={ver:1,name:1,properties:0,measurements:0};var Xe=this;Xe.ver=2,Xe[_]=qe(be,Ae)||k,Xe[q]=ae(be,Ie),Xe[V]=ce(be,We)}return Te.envelopeType="Microsoft.ApplicationInsights.{0}.Event",Te.dataType="EventData",Te}(),It=function(){function Te(be,Ae,Ie,We,Xe){this.aiDataContract={ver:1,message:1,severityLevel:0,properties:0};var at=this;at.ver=2,Ae=Ae||k,at[R]=Je(be,Ae),at[q]=ae(be,We),at[V]=ce(be,Xe),Ie&&(at[ie]=Ie)}return Te.envelopeType="Microsoft.ApplicationInsights.{0}.Message",Te.dataType="MessageData",Te}(),st="";function ut(Te,be){return be===void 0&&(be=!1),Te==null?be:Te.toString()[c]()==="true"}function wt(Te){(isNaN(Te)||Te<0)&&(Te=0),Te=Math.round(Te);var be=st+Te%1e3,Ae=st+Math.floor(Te/1e3)%60,Ie=st+Math.floor(Te/(1e3*60))%60,We=st+Math.floor(Te/(1e3*60*60))%24,Xe=Math.floor(Te/(1e3*60*60*24));return be=be[E]===1?"00"+be:be[E]===2?"0"+be:be,Ae=Ae[E]<2?"0"+Ae:Ae,Ie=Ie[E]<2?"0"+Ie:Ie,We=We[E]<2?"0"+We:We,(Xe>0?Xe+".":st)+We+":"+Ie+":"+Ae+"."+be}function vt(Te,be){var Ae=null;return(0,de.Iu)(Te,function(Ie){if(Ie.identifier===be)return Ae=Ie,-1}),Ae}function _t(Te,be,Ae,Ie,We){return!We&&(0,de.Kg)(Te)&&(Te==="Script error."||Te==="Script error")}var oi=function(){function Te(be,Ae,Ie,We,Xe,at,ft){this.aiDataContract={ver:1,name:0,url:0,duration:0,properties:0,measurements:0,id:0};var Vt=this;Vt.ver=2,Vt.id=Re(be,ft),Vt.url=Ve(be,Ie),Vt[_]=qe(be,Ae)||k,isNaN(We)||(Vt[ge]=wt(We)),Vt[q]=ae(be,Xe),Vt[V]=ce(be,at)}return Te.envelopeType="Microsoft.ApplicationInsights.{0}.Pageview",Te.dataType="PageviewData",Te}(),yt=function(){function Te(be,Ae,Ie,We,Xe,at,ft){this.aiDataContract={ver:1,name:0,url:0,duration:0,perfTotal:0,networkConnect:0,sentRequest:0,receivedResponse:0,domProcessing:0,properties:0,measurements:0};var Vt=this;Vt.ver=2,Vt.url=Ve(be,Ie),Vt[_]=qe(be,Ae)||k,Vt[q]=ae(be,Xe),Vt[V]=ce(be,at),ft&&(Vt.domProcessing=ft.domProcessing,Vt[ge]=ft[ge],Vt.networkConnect=ft.networkConnect,Vt.perfTotal=ft.perfTotal,Vt[ye]=ft[ye],Vt.sentRequest=ft.sentRequest)}return Te.envelopeType="Microsoft.ApplicationInsights.{0}.PageviewPerformance",Te.dataType="PageviewPerformanceData",Te}(),Pt="<no_method>",Hi="error",Lt="stack",Kt="stackDetails",Zn="errorSrc",Xt="message",Wt="description";function Gn(Te,be){var Ae=Te;return Ae&&!(0,de.Kg)(Ae)&&(JSON&&JSON[ee]?(Ae=JSON[ee](Te),be&&(!Ae||Ae==="{}")&&((0,de.Tn)(Te[f])?Ae=Te[f]():Ae=""+Te)):Ae=""+Te+" - (Missing JSON.stringify)"),Ae||""}function Ft(Te,be){var Ae=Te;return Te&&(Ae&&!(0,de.Kg)(Ae)&&(Ae=Te[Xt]||Te[Wt]||Ae),Ae&&!(0,de.Kg)(Ae)&&(Ae=Gn(Ae,!0)),Te.filename&&(Ae=Ae+" @"+(Te.filename||"")+":"+(Te.lineno||"?")+":"+(Te.colno||"?"))),be&&be!=="String"&&be!=="Object"&&be!=="Error"&&(Ae||"")[H](be)===-1&&(Ae=be+": "+Ae),Ae||""}function ht(Te){try{if((0,de.Gv)(Te))return"hasFullStack"in Te&&"typeName"in Te}catch{}return!1}function bt(Te){try{if((0,de.Gv)(Te))return"ver"in Te&&"exceptions"in Te&&"properties"in Te}catch{}return!1}function Le(Te){return Te&&Te.src&&(0,de.Kg)(Te.src)&&Te.obj&&(0,de.cy)(Te.obj)}function et(Te){var be=Te||"";(0,de.Kg)(be)||((0,de.Kg)(be[Lt])?be=be[Lt]:be=""+be);var Ae=be[l](`
`);return{src:be,obj:Ae}}function Tt(Te){for(var be=[],Ae=Te[l](`
`),Ie=0;Ie<Ae[E];Ie++){var We=Ae[Ie];Ae[Ie+1]&&(We+="@"+Ae[Ie+1],Ie++),be.push(We)}return{src:Te,obj:be}}function dt(Te){var be=null;if(Te)try{if(Te[Lt])be=et(Te[Lt]);else if(Te[Hi]&&Te[Hi][Lt])be=et(Te[Hi][Lt]);else if(Te.exception&&Te.exception[Lt])be=et(Te.exception[Lt]);else if(Le(Te))be=Te;else if(Le(Te[Kt]))be=Te[Kt];else if(window&&window.opera&&Te[Xt])be=Tt(Te[R]);else if(Te.reason&&Te.reason[Lt])be=et(Te.reason[Lt]);else if((0,de.Kg)(Te))be=et(Te);else{var Ae=Te[Xt]||Te[Wt]||"";(0,de.Kg)(Te[Zn])&&(Ae&&(Ae+=`
`),Ae+=" from "+Te[Zn]),Ae&&(be=et(Ae))}}catch(Ie){be=et(Ie)}return be||{src:"",obj:null}}function mt(Te){var be="";return Te&&(Te.obj?(0,de.Iu)(Te.obj,function(Ae){be+=Ae+`
`}):be=Te.src||""),be}function ni(Te){var be,Ae=Te.obj;if(Ae&&Ae[E]>0){be=[];var Ie=0,We=0;(0,de.Iu)(Ae,function(Ki){var qi=Ki[f]();if(Rt.regex.test(qi)){var lt=new Rt(qi,Ie++);We+=lt[K],be.push(lt)}});var Xe=32*1024;if(We>Xe)for(var at=0,ft=be[E]-1,Vt=0,Qt=at,ii=ft;at<ft;){var Si=be[at][K],Ui=be[ft][K];if(Vt+=Si+Ui,Vt>Xe){var Ei=ii-Qt+1;be.splice(Qt,Ei);break}Qt=at,ii=ft,at++,ft--}}return be}function Ot(Te){var be="";if(Te&&(be=Te.typeName||Te[_]||"",!be))try{var Ae=/function (.{1,200})\(/,Ie=Ae.exec(Te.constructor[f]());be=Ie&&Ie[E]>1?Ie[1]:""}catch{}return be}function jt(Te){if(Te)try{if(!(0,de.Kg)(Te)){var be=Ot(Te),Ae=Gn(Te,!1);return(!Ae||Ae==="{}")&&(Te[Hi]&&(Te=Te[Hi],be=Ot(Te)),Ae=Gn(Te,!0)),Ae[H](be)!==0&&be!=="String"?be+":"+Ae:Ae}}catch{}return""+(Te||"")}var qt=function(){function Te(be,Ae,Ie,We,Xe,at){this.aiDataContract={ver:1,exceptions:1,severityLevel:0,properties:0,measurements:0};var ft=this;ft.ver=2,bt(Ae)?(ft[u]=Ae[u]||[],ft[q]=Ae[q],ft[V]=Ae[V],Ae[ie]&&(ft[ie]=Ae[ie]),Ae.id&&(ft.id=Ae.id),Ae[X]&&(ft[X]=Ae[X]),(0,de.hX)(Ae[B])||(ft[B]=Ae[B])):(Ie||(Ie={}),ft[u]=[new gt(be,Ae,Ie)],ft[q]=ae(be,Ie),ft[V]=ce(be,We),Xe&&(ft[ie]=Xe),at&&(ft.id=at))}return Te.CreateAutoException=function(be,Ae,Ie,We,Xe,at,ft,Vt){var Qt,ii=Ot(Xe||at||be);return Qt={},Qt[R]=Ft(be,ii),Qt.url=Ae,Qt.lineNumber=Ie,Qt.columnNumber=We,Qt.error=jt(Xe||at||be),Qt.evt=jt(at||be),Qt[j]=ii,Qt.stackDetails=dt(ft||Xe||at),Qt.errorSrc=Vt,Qt},Te.CreateFromInterface=function(be,Ae,Ie,We){var Xe=Ae[u]&&(0,de.W$)(Ae[u],function(ft){return gt[se](be,ft)}),at=new Te(be,(0,L.Im)((0,L.Im)({},Ae),{exceptions:Xe}),Ie,We);return at},Te.prototype.toInterface=function(){var be,Ae=this,Ie=Ae.exceptions,We=Ae.properties,Xe=Ae.measurements,at=Ae.severityLevel,ft=Ae.problemGroup,Vt=Ae.id,Qt=Ae.isManual,ii=Ie instanceof Array&&(0,de.W$)(Ie,function(Si){return Si.toInterface()})||void 0;return be={ver:"4.0"},be[u]=ii,be.severityLevel=at,be.properties=We,be.measurements=Xe,be.problemGroup=ft,be.id=Vt,be.isManual=Qt,be},Te.CreateSimpleException=function(be,Ae,Ie,We,Xe,at){var ft;return{exceptions:[(ft={},ft[Pe]=!0,ft.message=be,ft.stack=Xe,ft.typeName=Ae,ft)]}},Te.envelopeType="Microsoft.ApplicationInsights.{0}.Exception",Te.dataType="ExceptionData",Te.formatError=jt,Te}(),gt=function(){function Te(be,Ae,Ie){this.aiDataContract={id:0,outerId:0,typeName:1,message:1,hasFullStack:0,stack:0,parsedStack:2};var We=this;if(ht(Ae))We[j]=Ae[j],We[R]=Ae[R],We[Lt]=Ae[Lt],We[N]=Ae[N]||[],We[Pe]=Ae[Pe];else{var Xe=Ae,at=Xe&&Xe.evt;(0,de.bJ)(Xe)||(Xe=Xe[Hi]||at||Xe),We[j]=qe(be,Ot(Xe))||k,We[R]=Je(be,Ft(Ae||Xe,We[j]))||k;var ft=Ae[Kt]||dt(Ae);We[N]=ni(ft),We[Lt]=me(be,mt(ft)),We.hasFullStack=(0,de.cy)(We.parsedStack)&&We.parsedStack[E]>0,Ie&&(Ie[j]=Ie[j]||We[j])}}return Te.prototype.toInterface=function(){var be,Ae=this,Ie=Ae[N]instanceof Array&&(0,de.W$)(Ae[N],function(Xe){return Xe.toInterface()}),We=(be={id:Ae.id,outerId:Ae.outerId,typeName:Ae[j],message:Ae[R],hasFullStack:Ae[Pe],stack:Ae[Lt]},be[N]=Ie||void 0,be);return We},Te.CreateFromInterface=function(be,Ae){var Ie=Ae[N]instanceof Array&&(0,de.W$)(Ae[N],function(Xe){return Rt[se](Xe)})||Ae[N],We=new Te(be,(0,L.Im)((0,L.Im)({},Ae),{parsedStack:Ie}));return We},Te}(),Rt=function(){function Te(be,Ae){this.aiDataContract={level:1,method:1,assembly:0,fileName:0,line:0};var Ie=this;if(Ie[K]=0,typeof be=="string"){var We=be;Ie[we]=Ae,Ie[_e]=Pt,Ie[Me]=(0,de.EH)(We),Ie[te]="",Ie[re]=0;var Xe=We.match(Te.regex);Xe&&Xe[E]>=5&&(Ie[_e]=(0,de.EH)(Xe[2])||Ie[_e],Ie[te]=(0,de.EH)(Xe[4]),Ie[re]=parseInt(Xe[5])||0)}else Ie[we]=be[we],Ie[_e]=be[_e],Ie[Me]=be[Me],Ie[te]=be[te],Ie[re]=be[re],Ie[K]=0;Ie.sizeInBytes+=Ie.method[E],Ie.sizeInBytes+=Ie.fileName[E],Ie.sizeInBytes+=Ie.assembly[E],Ie[K]+=Te.baseSize,Ie.sizeInBytes+=Ie.level.toString()[E],Ie.sizeInBytes+=Ie.line.toString()[E]}return Te.CreateFromInterface=function(be){return new Te(be,null)},Te.prototype.toInterface=function(){var be=this;return{level:be[we],method:be[_e],assembly:be[Me],fileName:be[te],line:be[re]}},Te.regex=/^([\s]+at)?[\s]{0,50}([^\@\()]+?)[\s]{0,50}(\@|\()([^\(\n]+):([0-9]+):([0-9]+)(\)?)$/,Te.baseSize=58,Te}(),Dt=function(){function Te(){this.aiDataContract={name:1,kind:0,value:1,count:0,min:0,max:0,stdDev:0},this.kind=0}return Te}(),di=function(){function Te(be,Ae,Ie,We,Xe,at,ft,Vt,Qt){this.aiDataContract={ver:1,metrics:1,properties:0};var ii=this;ii.ver=2;var Si=new Dt;Si[M]=We>0?We:void 0,Si.max=isNaN(at)||at===null?void 0:at,Si.min=isNaN(Xe)||Xe===null?void 0:Xe,Si[_]=qe(be,Ae)||k,Si.value=Ie,Si.stdDev=isNaN(ft)||ft===null?void 0:ft,ii.metrics=[Si],ii[q]=ae(be,Vt),ii[V]=ce(be,Qt)}return Te.envelopeType="Microsoft.ApplicationInsights.{0}.Metric",Te.dataType="MetricData",Te}(),ri=F(32578),Gt=F(91698),_i=F(57679),ci=F(18413);function Di(Te){var be=null;if((0,de.Tn)(Event))be=new Event(Te);else{var Ae=(0,ve.YE)();Ae&&Ae.createEvent&&(be=Ae.createEvent("Event"),be.initEvent(Te,!0,!0))}return be}var Ii=F(96434),Zi=(0,Ii.oP)({requestContextHeader:[0,"Request-Context"],requestContextTargetKey:[1,"appId"],requestContextAppIdFormat:[2,"appId=cid-v1:"],requestIdHeader:[3,"Request-Id"],traceParentHeader:[4,"traceparent"],traceStateHeader:[5,"tracestate"],sdkContextHeader:[6,"Sdk-Context"],sdkContextHeaderAppIdRequest:[7,"appId"],requestContextHeaderLowerCase:[8,"request-context"]}),fi=F(75148),Yi=(0,Ii.Hj)({LocalStorage:0,SessionStorage:1}),ji=(0,Ii.Hj)({AI:0,AI_AND_W3C:1,W3C:2}),ei=void 0,li=void 0;function Ti(){return un()?zi(Yi.LocalStorage):null}function zi(Te){try{if((0,de.hX)((0,fi.mS)()))return null;var be=new Date()[f](),Ae=(0,ve.EH)(Te===Yi.LocalStorage?"localStorage":"sessionStorage");Ae.setItem(be,be);var Ie=Ae.getItem(be)!==be;if(Ae[w](be),!Ie)return Ae}catch{}return null}function hi(){return sn()?zi(Yi.SessionStorage):null}function Ai(){ei=!1,li=!1}function Xi(){ei=un(!0),li=sn(!0)}function un(Te){return(Te||ei===void 0)&&(ei=!!zi(Yi.LocalStorage)),ei}function Wi(Te,be){var Ae=Ti();if(Ae!==null)try{return Ae.getItem(be)}catch(Ie){ei=!1,(0,ue.ZP)(Te,2,1,"Browser failed read of local storage. "+(0,de.lL)(Ie),{exception:(0,ve.mm)(Ie)})}return null}function dn(Te,be,Ae){var Ie=Ti();if(Ie!==null)try{return Ie.setItem(be,Ae),!0}catch(We){ei=!1,(0,ue.ZP)(Te,2,3,"Browser failed write to local storage. "+(0,de.lL)(We),{exception:(0,ve.mm)(We)})}return!1}function Nn(Te,be){var Ae=Ti();if(Ae!==null)try{return Ae[w](be),!0}catch(Ie){ei=!1,(0,ue.ZP)(Te,2,5,"Browser failed removal of local storage item. "+(0,de.lL)(Ie),{exception:(0,ve.mm)(Ie)})}return!1}function sn(Te){return(Te||li===void 0)&&(li=!!zi(Yi.SessionStorage)),li}function Cn(){var Te=[];return sn()&&(0,de.z)((0,ve.EH)("sessionStorage"),function(be){Te.push(be)}),Te}function _n(Te,be){var Ae=hi();if(Ae!==null)try{return Ae.getItem(be)}catch(Ie){li=!1,(0,ue.ZP)(Te,2,2,"Browser failed read of session storage. "+(0,de.lL)(Ie),{exception:(0,ve.mm)(Ie)})}return null}function Ci(Te,be,Ae){var Ie=hi();if(Ie!==null)try{return Ie.setItem(be,Ae),!0}catch(We){li=!1,(0,ue.ZP)(Te,2,4,"Browser failed write to session storage. "+(0,de.lL)(We),{exception:(0,ve.mm)(We)})}return!1}function Fi(Te,be){var Ae=hi();if(Ae!==null)try{return Ae[w](be),!0}catch(Ie){li=!1,(0,ue.ZP)(Te,2,6,"Browser failed removal of session storage item. "+(0,de.lL)(Ie),{exception:(0,ve.mm)(Ie)})}return!1}var gi=(0,ve.YE)()||{},xn=0,oa=[null,null,null,null,null];function Vn(Te){var be=xn,Ae=oa,Ie=Ae[be];return gi.createElement?Ae[be]||(Ie=Ae[be]=gi.createElement("a")):Ie={host:la(Te,!0)},Ie.href=Te,be++,be>=Ae[E]&&(be=0),xn=be,Ie}function Kr(Te){var be,Ae=Vn(Te);return Ae&&(be=Ae.href),be}function lr(Te){var be,Ae=Vn(Te);return Ae&&(be=Ae[J]),be}function Qr(Te,be){return Te?Te.toUpperCase()+" "+be:be}function la(Te,be){var Ae=Tn(Te,be)||"";if(Ae){var Ie=Ae.match(/(www\d{0,5}\.)?([^\/:]{1,256})(:\d{1,20})?/i);if(Ie!=null&&Ie[E]>3&&(0,de.Kg)(Ie[2])&&Ie[2][E]>0)return Ie[2]+(Ie[3]||"")}return Ae}function Tn(Te,be){var Ae=null;if(Te){var Ie=Te.match(/(\w{1,150}):\/\/([^\/:]{1,256})(:\d{1,20})?/i);if(Ie!=null&&Ie[E]>2&&(0,de.Kg)(Ie[2])&&Ie[2][E]>0&&(Ae=Ie[2]||"",be&&Ie[E]>2)){var We=(Ie[1]||"")[c](),Xe=Ie[3]||"";(We==="http"&&Xe===":80"||We==="https"&&Xe===":443")&&(Xe=""),Ae+=Xe}}return Ae}var ns=[g+p,"https://breeze.aimon.applicationinsights.io"+p,"https://dc-int.services.visualstudio.com"+p];function xr(Te){return(0,de.rD)(ns,Te[c]())!==-1}var Gr={NotSpecified:k,createDomEvent:Di,disableStorage:Ai,isInternalApplicationInsightsEndpoint:xr,canUseLocalStorage:un,getStorage:Wi,setStorage:dn,removeStorage:Nn,canUseSessionStorage:sn,getSessionStorageKeys:Cn,getSessionStorage:_n,setSessionStorage:Ci,removeSessionStorage:Fi,disableCookies:ri.WD,canUseCookies:ri.ht,disallowsSameSiteNone:Gt.It,setCookie:ri.TV,stringToBoolOrDefault:ut,getCookie:ri.Ri,deleteCookie:ri.Yj,trim:de.EH,newId:_i.Si,random32:function(){return(0,_i.VN)(!0)},generateW3CId:ri.cL,isArray:de.cy,isError:de.bJ,isDate:de.$P,toISOStringForIE8:de._u,getIEVersion:ve.L0,msToTimeSpan:wt,isCrossOriginError:_t,dump:ve.mm,getExceptionName:de.lL,addEventHandler:ci.Q3,IsBeaconApiSupported:ve.Uf,getExtension:vt},xa={parseUrl:Vn,getAbsoluteUrl:Kr,getPathName:lr,getCompleteUrl:Qr,parseHost:la,parseFullHost:Tn},ba={correlationIdPrefix:"cid-v1:",canIncludeCorrelationHeader:function(Te,be,Ae){if(!be||Te&&Te.disableCorrelationHeaders)return!1;if(Te&&Te[O]){for(var Ie=0;Ie<Te.correlationHeaderExcludePatterns[E];Ie++)if(Te[O][Ie].test(be))return!1}var We=Vn(be).host[c]();if(We&&(We[H](":443")!==-1||We[H](":80")!==-1)&&(We=(Tn(be,!0)||"")[c]()),(!Te||!Te.enableCorsCorrelation)&&We&&We!==Ae)return!1;var Xe=Te&&Te.correlationHeaderDomains;if(Xe){var at;if((0,de.Iu)(Xe,function(Qt){var ii=new RegExp(Qt.toLowerCase().replace(/\\/g,"\\\\").replace(/\./g,"\\.").replace(/\*/g,".*"));at=at||ii.test(We)}),!at)return!1}var ft=Te&&Te.correlationHeaderExcludedDomains;if(!ft||ft[E]===0)return!0;for(var Ie=0;Ie<ft[E];Ie++){var Vt=new RegExp(ft[Ie].toLowerCase().replace(/\\/g,"\\\\").replace(/\./g,"\\.").replace(/\*/g,".*"));if(Vt.test(We))return!1}return We&&We[E]>0},getCorrelationContext:function(Te){if(Te){var be=ba.getCorrelationContextValue(Te,Zi[1]);if(be&&be!==ba.correlationIdPrefix)return be}},getCorrelationContextValue:function(Te,be){if(Te)for(var Ae=Te[l](","),Ie=0;Ie<Ae[E];++Ie){var We=Ae[Ie][l]("=");if(We[E]===2&&We[0]===be)return We[1]}}};function ks(Te,be,Ae,Ie){var We,Xe=Ie,at=Ie;if(be&&be[E]>0){var ft=Vn(be);if(We=ft.host,!Xe)if(ft[J]!=null){var Vt=ft.pathname[E]===0?"/":ft[J];Vt.charAt(0)!=="/"&&(Vt="/"+Vt),at=ft[J],Xe=qe(Te,Ae?Ae+" "+Vt:Vt)}else Xe=qe(Te,be)}else We=Ie,Xe=Ie;return{target:We,name:Xe,data:at}}function wa(){var Te=(0,ve.FJ)();if(Te&&Te.now&&Te.timing){var be=Te.now()+Te.timing.navigationStart;if(be>0)return be}return(0,de.x3)()}function ka(Te,be){var Ae=null;return Te!==0&&be!==0&&!(0,de.hX)(Te)&&!(0,de.hX)(be)&&(Ae=be-Te),Ae}var Vs={Now:wa,GetDuration:ka};function js(Te,be){var Ae=Te||{};return{getName:function(){return Ae[_DYN_NAME]},setName:function(Ie){be&&be.setName(Ie),Ae[_DYN_NAME]=Ie},getTraceId:function(){return Ae.traceID},setTraceId:function(Ie){be&&be.setTraceId(Ie),isValidTraceId(Ie)&&(Ae.traceID=Ie)},getSpanId:function(){return Ae.parentID},setSpanId:function(Ie){be&&be.setSpanId(Ie),isValidSpanId(Ie)&&(Ae.parentID=Ie)},getTraceFlags:function(){return Ae.traceFlags},setTraceFlags:function(Ie){be&&be.setTraceFlags(Ie),Ae.traceFlags=Ie}}}var ua=function(){function Te(be,Ae,Ie,We,Xe,at,ft,Vt,Qt,ii,Si,Ui){Qt===void 0&&(Qt="Ajax"),this.aiDataContract={id:1,ver:1,name:0,resultCode:0,duration:0,success:0,data:0,target:0,type:0,properties:0,measurements:0,kind:0,value:0,count:0,min:0,max:0,stdDev:0,dependencyKind:0,dependencySource:0,commandName:0,dependencyTypeName:0};var Ei=this;Ei.ver=2,Ei.id=Ae,Ei[ge]=wt(Xe),Ei.success=at,Ei.resultCode=ft+"",Ei.type=qe(be,Qt);var Ki=ks(be,Ie,Vt,We);Ei.data=Ve(be,We)||Ki.data,Ei.target=qe(be,Ki.target),ii&&(Ei.target="".concat(Ei.target," | ").concat(ii)),Ei[_]=qe(be,Ki[_]),Ei[q]=ae(be,Si),Ei[V]=ce(be,Ui)}return Te.envelopeType="Microsoft.ApplicationInsights.{0}.RemoteDependency",Te.dataType="RemoteDependencyData",Te}(),_s="AppInsightsPropertiesPlugin",Oa="AppInsightsChannelPlugin",rs="ApplicationInsightsAnalytics",Cr=F(64252),as=F(56489);function wn(Te){var be="ai."+Te+".";return function(Ae){return be+Ae}}var Yr=wn("application"),Qe=wn("device"),kt=wn("location"),St=wn("operation"),xt=wn("session"),zt=wn("user"),Ri=wn("cloud"),bi=wn("internal"),tt=function(Te){(0,L.qU)(be,Te);function be(){return Te.call(this)||this}return be}((0,de.SZ)({applicationVersion:Yr("ver"),applicationBuild:Yr("build"),applicationTypeId:Yr("typeId"),applicationId:Yr("applicationId"),applicationLayer:Yr("layer"),deviceId:Qe("id"),deviceIp:Qe("ip"),deviceLanguage:Qe("language"),deviceLocale:Qe("locale"),deviceModel:Qe("model"),deviceFriendlyName:Qe("friendlyName"),deviceNetwork:Qe("network"),deviceNetworkName:Qe("networkName"),deviceOEMName:Qe("oemName"),deviceOS:Qe("os"),deviceOSVersion:Qe("osVersion"),deviceRoleInstance:Qe("roleInstance"),deviceRoleName:Qe("roleName"),deviceScreenResolution:Qe("screenResolution"),deviceType:Qe("type"),deviceMachineName:Qe("machineName"),deviceVMName:Qe("vmName"),deviceBrowser:Qe("browser"),deviceBrowserVersion:Qe("browserVersion"),locationIp:kt("ip"),locationCountry:kt("country"),locationProvince:kt("province"),locationCity:kt("city"),operationId:St("id"),operationName:St("name"),operationParentId:St("parentId"),operationRootId:St("rootId"),operationSyntheticSource:St("syntheticSource"),operationCorrelationVector:St("correlationVector"),sessionId:xt("id"),sessionIsFirst:xt("isFirst"),sessionIsNew:xt("isNew"),userAccountAcquisitionDate:zt("accountAcquisitionDate"),userAccountId:zt("accountId"),userAgent:zt("userAgent"),userId:zt("id"),userStoreRegion:zt("storeRegion"),userAuthUserId:zt("authUserId"),userAnonymousUserAcquisitionDate:zt("anonUserAcquisitionDate"),userAuthenticatedUserAcquisitionDate:zt("authUserAcquisitionDate"),cloudName:Ri("name"),cloudRole:Ri("role"),cloudRoleVer:Ri("roleVer"),cloudRoleInstance:Ri("roleInstance"),cloudEnvironment:Ri("environment"),cloudLocation:Ri("location"),cloudDeploymentUnit:Ri("deploymentUnit"),internalNodeName:bi("nodeName"),internalSdkVersion:bi("sdkVersion"),internalAgentVersion:bi("agentVersion"),internalSnippet:bi("snippet"),internalSdkSrc:bi("sdkSrc")})),ct={UserExt:"user",DeviceExt:"device",TraceExt:"trace",WebExt:"web",AppExt:"app",OSExt:"os",SessionExt:"ses",SDKExt:"sdk"},ot=new tt,Ut=function(){function Te(be,Ae,Ie){var We=this,Xe=this;Xe.ver=1,Xe.sampleRate=100,Xe.tags={},Xe[_]=qe(be,Ie)||k,Xe.data=Ae,Xe.time=(0,de._u)(new Date),Xe.aiDataContract={time:1,iKey:1,name:1,sampleRate:function(){return We.sampleRate===100?4:1},tags:1,data:1}}return Te}(),Jt=function(){function Te(be,Ae){this.aiDataContract={baseType:1,baseData:1},this.baseType=be,this.baseData=Ae}return Te}(),ui="duration",vi="tags",Ji="deviceType",Gi="data",ur="name",Jr="traceID",xi="length",dr="stringify",Zr="measurements",Vr="dataType",On="envelopeType",ss="toString",_a="onLine",jn="enqueue",La="count",os="push",Ao="emitLineDelimitedJson",ls="clear",da="batchPayloads",Ss="markAsSent",zs="clearSent",Ua="BUFFER_KEY",cr="SENT_BUFFER_KEY",Es="MAX_BUFFER_SIZE",Ba="namePrefix",on="maxBatchSizeInBytes",Tr="triggerSend",Li="diagLog",Ln="onunloadDisableBeacon",qa="isBeaconApiDisabled",ca="_sender",mn="_senderConfig",jr="_buffer",Mo="enableSessionStorageBuffer",Ar="samplingPercentage",Po="instrumentationKey",Mr="endpointUrl",Un="customHeaders",Ws="disableXhr",Bu="onunloadDisableFetch",Cl="disableTelemetry",Tl="baseType",Fo="sampleRate",qu="convertUndefined",Al="_xhrReadyStateChange",Bn="_onError",Mt="_onPartialSuccess",Ks="_onSuccess",Ml="itemsAccepted",gm="itemsReceived",Do="isRetryDisabled",fa="setRequestHeader",Sa="maxBatchInterval",Mc="eventsSendRequest",Pc="disableInstrumentationKeyValidation",Pl="getSamplingScore",Fc="getHashCodeScore",$u="baseType",pn="baseData",An="properties",Dc="true";function qn(Te,be,Ae){return(0,de.KY)(Te,be,Ae,de.zz)}function vm(Te,be,Ae){var Ie=Ae[vi]=Ae[vi]||{},We=be.ext=be.ext||{},Xe=be[vi]=be[vi]||[],at=We.user;at&&(qn(Ie,ot.userAuthUserId,at.authId),qn(Ie,ot.userId,at.id||at.localId));var ft=We.app;ft&&qn(Ie,ot.sessionId,ft.sesId);var Vt=We.device;Vt&&(qn(Ie,ot.deviceId,Vt.id||Vt.localId),qn(Ie,ot[Ji],Vt.deviceClass),qn(Ie,ot.deviceIp,Vt.ip),qn(Ie,ot.deviceModel,Vt.model),qn(Ie,ot[Ji],Vt[Ji]));var Qt=be.ext.web;if(Qt){qn(Ie,ot.deviceLanguage,Qt.browserLang),qn(Ie,ot.deviceBrowserVersion,Qt.browserVer),qn(Ie,ot.deviceBrowser,Qt.browser);var ii=Ae[Gi]=Ae[Gi]||{},Si=ii[pn]=ii[pn]||{},Ui=Si[An]=Si[An]||{};qn(Ui,"domain",Qt.domain),qn(Ui,"isManual",Qt.isManual?Dc:null),qn(Ui,"screenRes",Qt.screenRes),qn(Ui,"userConsent",Qt.userConsent?Dc:null)}var Ei=We.os;Ei&&qn(Ie,ot.deviceOS,Ei[ur]);var Ki=We.trace;Ki&&(qn(Ie,ot.operationParentId,Ki.parentID),qn(Ie,ot.operationName,qe(Te,Ki[ur])),qn(Ie,ot.operationId,Ki[Jr]));for(var qi={},lt=Xe[xi]-1;lt>=0;lt--){var Sn=Xe[lt];(0,de.z)(Sn,function(ds,$a){qi[ds]=$a}),Xe.splice(lt,1)}(0,de.z)(Xe,function(ds,$a){qi[ds]=$a});var Xr=(0,L.Im)((0,L.Im)({},Ie),qi);Xr[ot.internalSdkVersion]||(Xr[ot.internalSdkVersion]="javascript:".concat(ym.Version)),Ae[vi]=(0,de.hW)(Xr)}function us(Te,be,Ae){(0,de.hX)(Te)||(0,de.z)(Te,function(Ie,We){(0,de.Et)(We)?Ae[Ie]=We:(0,de.Kg)(We)?be[Ie]=We:(0,ve.Z)()&&(be[Ie]=(0,ve.hm)()[dr](We))})}function Rs(Te,be){(0,de.hX)(Te)||(0,de.z)(Te,function(Ae,Ie){Te[Ae]=Ie||be})}function Ns(Te,be,Ae,Ie){var We=new Ut(Te,Ie,be);qn(We,"sampleRate",Ae[A]),(Ae[pn]||{}).startTime&&(We.time=(0,de._u)(Ae[pn].startTime)),We.iKey=Ae.iKey;var Xe=Ae.iKey.replace(/-/g,"");return We[ur]=We[ur].replace("{0}",Xe),vm(Te,Ae,We),Ae[vi]=Ae[vi]||[],(0,de.hW)(We)}function Cs(Te,be){(0,de.hX)(be[pn])&&(0,ue.ZP)(Te,1,46,"telemetryItem.baseData cannot be null.")}var ym={Version:"2.8.10"};function Ea(Te,be,Ae){Cs(Te,be);var Ie=be[pn][Zr]||{},We=be[pn][An]||{};us(be[Gi],We,Ie),(0,de.hX)(Ae)||Rs(We,Ae);var Xe=be[pn];if((0,de.hX)(Xe))return(0,ue.OG)(Te,"Invalid input for dependency data"),null;var at=Xe[An]&&Xe[An][m]?Xe[An][m]:"GET",ft=new ua(Te,Xe.id,Xe.target,Xe[ur],Xe[ui],Xe.success,Xe.responseCode,at,Xe.type,Xe.correlationContext,We,Ie),Vt=new Jt(ua[Vr],ft);return Ns(Te,ua[On],be,Vt)}function Fl(Te,be,Ae){Cs(Te,be);var Ie={},We={};be[$u]!==Ze[Vr]&&(Ie.baseTypeSource=be[$u]),be[$u]===Ze[Vr]?(Ie=be[pn][An]||{},We=be[pn][Zr]||{}):be[pn]&&us(be[pn],Ie,We),us(be[Gi],Ie,We),(0,de.hX)(Ae)||Rs(Ie,Ae);var Xe=be[pn][ur],at=new Ze(Te,Xe,Ie,We),ft=new Jt(Ze[Vr],at);return Ns(Te,Ze[On],be,ft)}function Dl(Te,be,Ae){Cs(Te,be);var Ie=be[pn][Zr]||{},We=be[pn][An]||{};us(be[Gi],We,Ie),(0,de.hX)(Ae)||Rs(We,Ae);var Xe=be[pn],at=qt.CreateFromInterface(Te,Xe,We,Ie),ft=new Jt(qt[Vr],at);return Ns(Te,qt[On],be,ft)}function Hu(Te,be,Ae){Cs(Te,be);var Ie=be[pn],We=Ie[An]||{},Xe=Ie[Zr]||{};us(be[Gi],We,Xe),(0,de.hX)(Ae)||Rs(We,Ae);var at=new di(Te,Ie[ur],Ie.average,Ie.sampleCount,Ie.min,Ie.max,Ie.stdDev,We,Xe),ft=new Jt(di[Vr],at);return Ns(Te,di[On],be,ft)}function Ic(Te,be,Ae){Cs(Te,be);var Ie,We=be[pn];!(0,de.hX)(We)&&!(0,de.hX)(We[An])&&!(0,de.hX)(We[An][ui])?(Ie=We[An][ui],delete We[An][ui]):!(0,de.hX)(be[Gi])&&!(0,de.hX)(be[Gi][ui])&&(Ie=be[Gi][ui],delete be[Gi][ui]);var Xe=be[pn],at;((be.ext||{}).trace||{})[Jr]&&(at=be.ext.trace[Jr]);var ft=Xe.id||at,Vt=Xe[ur],Qt=Xe.uri,ii=Xe[An]||{},Si=Xe[Zr]||{};if((0,de.hX)(Xe.refUri)||(ii.refUri=Xe.refUri),(0,de.hX)(Xe.pageType)||(ii.pageType=Xe.pageType),(0,de.hX)(Xe.isLoggedIn)||(ii.isLoggedIn=Xe.isLoggedIn[ss]()),!(0,de.hX)(Xe[An])){var Ui=Xe[An];(0,de.z)(Ui,function(qi,lt){ii[qi]=lt})}us(be[Gi],ii,Si),(0,de.hX)(Ae)||Rs(ii,Ae);var Ei=new oi(Te,Vt,Qt,Ie,ii,Si,ft),Ki=new Jt(oi[Vr],Ei);return Ns(Te,oi[On],be,Ki)}function Xn(Te,be,Ae){Cs(Te,be);var Ie=be[pn],We=Ie[ur],Xe=Ie.uri||Ie.url,at=Ie[An]||{},ft=Ie[Zr]||{};us(be[Gi],at,ft),(0,de.hX)(Ae)||Rs(at,Ae);var Vt=new yt(Te,We,Xe,void 0,at,ft,Ie),Qt=new Jt(yt[Vr],Vt);return Ns(Te,yt[On],be,Qt)}function en(Te,be,Ae){Cs(Te,be);var Ie=be[pn].message,We=be[pn].severityLevel,Xe=be[pn][An]||{},at=be[pn][Zr]||{};us(be[Gi],Xe,at),(0,de.hX)(Ae)||Rs(Xe,Ae);var ft=new It(Te,Ie,We,Xe,at),Vt=new Jt(It[Vr],ft);return Ns(Te,It[On],be,Vt)}function Il(Te,be){(0,ci.ML)(Te,null,null,be)}function Gu(Te){var be=(0,ve.YE)(),Ae=(0,ve.w3)(),Ie=!1,We=!0,Xe=(0,ci.Hm)((0,Cr.Z)("OfflineListener"),Te);try{if(ft((0,ve.zk)())&&(Ie=!0),be){var at=be.body||be;at.ononline&&ft(at)&&(Ie=!0)}Ie&&Ae&&!(0,de.hX)(Ae[_a])&&(We=Ae[_a])}catch{Ie=!1}function ft(Ui){var Ei=!1;return Ui&&(Ei=(0,ci.mB)(Ui,"online",Vt,Xe),Ei&&(0,ci.mB)(Ui,"offline",Qt,Xe)),Ei}function Vt(){We=!0}function Qt(){We=!1}function ii(){var Ui=!0;return Ie?Ui=We:Ae&&!(0,de.hX)(Ae[_a])&&(Ui=Ae[_a]),Ui}function Si(){var Ui=(0,ve.zk)();if(Ui&&Ie){if(Il(Ui,Xe),be){var Ei=be.body||be;(0,de.b0)(Ei.ononline)||Il(Ei,Xe)}Ie=!1}}return{isOnline:ii,isListening:function(){return Ie},unload:Si}}var xc=function(){function Te(be,Ae){var Ie=[],We=!1;this._get=function(){return Ie},this._set=function(Xe){return Ie=Xe,Ie},(0,P.A)(Te,this,function(Xe){Xe[jn]=function(at){if(Xe[La]()>=Ae.eventsLimitInMem()){We||((0,ue.ZP)(be,2,105,"Maximum in-memory buffer size reached: "+Xe[La](),!0),We=!0);return}Ie[os](at)},Xe[La]=function(){return Ie[xi]},Xe.size=function(){for(var at=Ie[xi],ft=0;ft<Ie[xi];ft++)at+=Ie[ft][xi];return Ae[Ao]()||(at+=2),at},Xe[ls]=function(){Ie=[],We=!1},Xe.getItems=function(){return Ie.slice(0)},Xe[da]=function(at){if(at&&at[xi]>0){var ft=Ae[Ao]()?at.join(`
`):"["+at.join(",")+"]";return ft}return null}})}return Te.__ieDyn=1,Te}(),bm=function(Te){(0,L.qU)(be,Te);function be(Ae,Ie){var We=Te.call(this,Ae,Ie)||this;return(0,P.A)(be,We,function(Xe,at){Xe[Ss]=function(ft){at[ls]()},Xe[zs]=function(ft){}}),We}return be.__ieDyn=1,be}(xc),Oc=function(Te){(0,L.qU)(be,Te);function be(Ae,Ie){var We=Te.call(this,Ae,Ie)||this,Xe=!1;return(0,P.A)(be,We,function(at,ft){var Vt=Ui(be[Ua]),Qt=Ui(be[cr]),ii=at._set(Vt.concat(Qt));ii[xi]>be[Es]&&(ii[xi]=be[Es]),Ei(be[cr],[]),Ei(be[Ua],ii),at[jn]=function(Ki){if(at[La]()>=be[Es]){Xe||((0,ue.ZP)(Ae,2,67,"Maximum buffer size reached: "+at[La](),!0),Xe=!0);return}ft[jn](Ki),Ei(be[Ua],at._get())},at[ls]=function(){ft[ls](),Ei(be[Ua],at._get()),Ei(be[cr],[]),Xe=!1},at[Ss]=function(Ki){Ei(be[Ua],at._set(Si(Ki,at._get())));var qi=Ui(be[cr]);qi instanceof Array&&Ki instanceof Array&&(qi=qi.concat(Ki),qi[xi]>be[Es]&&((0,ue.ZP)(Ae,1,67,"Sent buffer reached its maximum size: "+qi[xi],!0),qi[xi]=be[Es]),Ei(be[cr],qi))},at[zs]=function(Ki){var qi=Ui(be[cr]);qi=Si(Ki,qi),Ei(be[cr],qi)};function Si(Ki,qi){var lt=[];return(0,de.Iu)(qi,function(Sn){!(0,de.Tn)(Sn)&&(0,de.rD)(Ki,Sn)===-1&&lt[os](Sn)}),lt}function Ui(Ki){var qi=Ki;try{qi=Ie[Ba]&&Ie[Ba]()?Ie[Ba]()+"_"+qi:qi;var lt=_n(Ae,qi);if(lt){var Sn=(0,ve.hm)().parse(lt);if((0,de.Kg)(Sn)&&(Sn=(0,ve.hm)().parse(Sn)),Sn&&(0,de.cy)(Sn))return Sn}}catch(Xr){(0,ue.ZP)(Ae,1,42," storage key: "+qi+", "+(0,de.lL)(Xr),{exception:(0,ve.mm)(Xr)})}return[]}function Ei(Ki,qi){var lt=Ki;try{lt=Ie[Ba]&&Ie[Ba]()?Ie[Ba]()+"_"+lt:lt;var Sn=JSON[dr](qi);Ci(Ae,lt,Sn)}catch(Xr){Ci(Ae,lt,JSON[dr]([])),(0,ue.ZP)(Ae,2,41," storage key: "+lt+", "+(0,de.lL)(Xr)+". Buffer cleared",{exception:(0,ve.mm)(Xr)})}}}),We}return be.BUFFER_KEY="AI_buffer",be.SENT_BUFFER_KEY="AI_sentBuffer",be.MAX_BUFFER_SIZE=2e3,be}(xc),Lc=function(){function Te(be){(0,P.A)(Te,this,function(Ae){Ae.serialize=function(at){var ft=Ie(at,"root");try{return(0,ve.hm)()[dr](ft)}catch(Vt){(0,ue.ZP)(be,1,48,Vt&&(0,de.Tn)(Vt[ss])?Vt[ss]():"Error serializing object",null,!0)}};function Ie(at,ft){var Vt="__aiCircularRefCheck",Qt={};if(!at)return(0,ue.ZP)(be,1,48,"cannot serialize object because it is null or undefined",{name:ft},!0),Qt;if(at[Vt])return(0,ue.ZP)(be,2,50,"Circular reference detected while serializing object",{name:ft},!0),Qt;if(!at.aiDataContract){if(ft==="measurements")Qt=Xe(at,"number",ft);else if(ft==="properties")Qt=Xe(at,"string",ft);else if(ft==="tags")Qt=Xe(at,"string",ft);else if((0,de.cy)(at))Qt=We(at,ft);else{(0,ue.ZP)(be,2,49,"Attempting to serialize an object which does not implement ISerializable",{name:ft},!0);try{(0,ve.hm)()[dr](at),Qt=at}catch(ii){(0,ue.ZP)(be,1,48,ii&&(0,de.Tn)(ii[ss])?ii[ss]():"Error serializing object",null,!0)}}return Qt}return at[Vt]=!0,(0,de.z)(at.aiDataContract,function(ii,Si){var Ui=(0,de.Tn)(Si)?Si()&1:Si&1,Ei=(0,de.Tn)(Si)?Si()&4:Si&4,Ki=Si&2,qi=at[ii]!==void 0,lt=(0,de.Gv)(at[ii])&&at[ii]!==null;if(Ui&&!qi&&!Ki)(0,ue.ZP)(be,1,24,"Missing required field specification. The field is required but not present on source",{field:ii,name:ft});else if(!Ei){var Sn=void 0;lt?Ki?Sn=We(at[ii],ii):Sn=Ie(at[ii],ii):Sn=at[ii],Sn!==void 0&&(Qt[ii]=Sn)}}),delete at[Vt],Qt}function We(at,ft){var Vt;if(at)if(!(0,de.cy)(at))(0,ue.ZP)(be,1,54,`This field was specified as an array in the contract but the item is not an array.\r
`,{name:ft},!0);else{Vt=[];for(var Qt=0;Qt<at[xi];Qt++){var ii=at[Qt],Si=Ie(ii,ft+"["+Qt+"]");Vt[os](Si)}}return Vt}function Xe(at,ft,Vt){var Qt;return at&&(Qt={},(0,de.z)(at,function(ii,Si){if(ft==="string")Si===void 0?Qt[ii]="undefined":Si===null?Qt[ii]="null":Si[ss]?Qt[ii]=Si[ss]():Qt[ii]="invalid field: toString() is not defined.";else if(ft==="number")if(Si===void 0)Qt[ii]="undefined";else if(Si===null)Qt[ii]="null";else{var Ui=parseFloat(Si);isNaN(Ui)?Qt[ii]="NaN":Qt[ii]=Ui}else Qt[ii]="invalid field: "+Vt+" is of unknown type.",(0,ue.ZP)(be,1,Qt[ii],null,!0)})),Qt}})}return Te.__ieDyn=1,Te}(),Vu=8,ju=function(){function Te(){}return Te.prototype.getHashCodeScore=function(be){var Ae=this.getHashCode(be)/Te.INT_MAX_VALUE;return Ae*100},Te.prototype.getHashCode=function(be){if(be==="")return 0;for(;be[xi]<Vu;)be=be.concat(be);for(var Ae=5381,Ie=0;Ie<be[xi];++Ie)Ae=(Ae<<5)+Ae+be.charCodeAt(Ie),Ae=Ae&Ae;return Math.abs(Ae)},Te.INT_MAX_VALUE=2147483647,Te}(),Uc=function(){function Te(){var be=this,Ae=new ju,Ie=new tt;be[Pl]=function(We){var Xe=0;return We[vi]&&We[vi][Ie.userId]?Xe=Ae.getHashCodeScore(We[vi][Ie.userId]):We.ext&&We.ext.user&&We.ext.user.id?Xe=Ae[Fc](We.ext.user.id):We[vi]&&We[vi][Ie.operationId]?Xe=Ae.getHashCodeScore(We[vi][Ie.operationId]):We.ext&&We.ext.telemetryTrace&&We.ext.telemetryTrace[Jr]?Xe=Ae.getHashCodeScore(We.ext.telemetryTrace[Jr]):Xe=Math.random()*100,Xe}}return Te}(),xl=function(){function Te(be,Ae){this.INT_MAX_VALUE=2147483647;var Ie=Ae||(0,ue.y0)(null);(be>100||be<0)&&(Ie.throwInternal(2,58,"Sampling rate is out of range (0..100). Sampling will be disabled, you may be sending too much data which may affect your AI service level.",{samplingRate:be},!0),be=100),this[Fo]=be,this.samplingScoreGenerator=new Uc}return Te.prototype.isSampledIn=function(be){var Ae=this[Fo],Ie=!1;return Ae==null||Ae>=100||be.baseType===di[Vr]?!0:(Ie=this.samplingScoreGenerator[Pl](be)<Ae,Ie)},Te}(),$n,Ol=65e3;function Qs(Te){try{return Te.responseText}catch{}return null}function Bc(){var Te,be,Ae;return Te={endpointUrl:function(){return g+p}},Te[Ao]=function(){return!1},Te[Sa]=function(){return 15e3},Te[on]=function(){return 102400},Te[Cl]=function(){return!1},Te[Mo]=function(){return!0},Te[Do]=function(){return!1},Te[qa]=function(){return!0},Te[Ws]=function(){return!1},Te[Bu]=function(){return!1},Te[Ln]=function(){return!1},Te[Po]=function(){return be},Te[Ba]=function(){return be},Te[Ar]=function(){return 100},Te[Un]=function(){return Ae},Te[qu]=function(){return be},Te.eventsLimitInMem=function(){return 1e4},Te}var qc=($n={},$n[Ze.dataType]=Fl,$n[It.dataType]=en,$n[oi.dataType]=Ic,$n[yt.dataType]=Xn,$n[qt.dataType]=Dl,$n[di.dataType]=Hu,$n[ua.dataType]=Ea,$n),$c=function(Te){(0,L.qU)(be,Te);function be(){var Ae=Te.call(this)||this;Ae.priority=1001,Ae.identifier=Oa,Ae._senderConfig=Bc();var Ie,We,Xe,at,ft,Vt,Qt,ii,Si=0,Ui,Ei,Ki,qi;return(0,P.A)(be,Ae,function(lt,Sn){Ju(),lt.pause=function(){Qu(),at=!0},lt.resume=function(){at&&(at=!1,We=null,lt._buffer.size()>lt._senderConfig[on]()&&lt[Tr](!0,null,10),Js())},lt.flush=function(it,$t,Zt){if(it===void 0&&(it=!0),!at){Qu();try{lt[Tr](it,null,Zt||1)}catch(pi){(0,ue.ZP)(lt[Li](),1,22,"flush failed, telemetry will not be collected: "+(0,de.lL)(pi),{exception:(0,ve.mm)(pi)})}}},lt.onunloadFlush=function(){if(!at)if((lt._senderConfig[Ln]()===!1||lt[mn][qa]()===!1)&&(0,ve.Uf)())try{lt[Tr](!0,_m,2)}catch(it){(0,ue.ZP)(lt[Li](),1,20,"failed to flush with beacon sender on page unload, telemetry will not be collected: "+(0,de.lL)(it),{exception:(0,ve.mm)(it)})}else lt.flush()},lt.addHeader=function(it,$t){ii[it]=$t},lt.initialize=function(it,$t,Zt,pi){lt.isInitialized()&&(0,ue.ZP)(lt[Li](),1,28,"Sender is already initialized"),Sn.initialize(it,$t,Zt,pi);var Qi=lt._getTelCtx(),nn=lt.identifier;Vt=new Lc($t.logger),Ie=0,We=null,Xe=0,lt[ca]=null,Qt=0;var rn=lt[Li]();qi=(0,ci.Hm)((0,Cr.Z)("Sender"),$t.evtNamespace&&$t.evtNamespace()),Ki=Gu(qi);var zn=Bc();(0,de.z)(zn,function(ir,Ga){lt[mn][ir]=function(){var Wn=Qi.getConfig(nn,ir,Ga());return!Wn&&ir==="endpointUrl"&&(Wn=Ga()),Wn}}),lt._buffer=lt[mn][Mo]()&&sn()?new Oc(rn,lt[mn]):new bm(rn,lt[mn]),lt._sample=new xl(lt[mn][Ar](),rn),jc(it)||(0,ue.ZP)(rn,1,100,"Invalid Instrumentation key "+it[Po]),!xr(lt._senderConfig.endpointUrl())&&lt._senderConfig.customHeaders()&&lt._senderConfig.customHeaders()[xi]>0&&(0,de.Iu)(lt[mn][Un](),function(ir){Ae.addHeader(ir.header,ir.value)});var er=lt[mn],tr=null;!er[Ws]()&&(0,ve.PV)()?tr=Vl:!er[Ws]()&&(0,ve.xk)()&&(tr=Bl),!tr&&(0,ve.R7)()&&(tr=xo),Ui=tr||Bl,!er[qa]()&&(0,ve.Uf)()&&(tr=Ra),lt[ca]=tr||Bl,!er[Bu]()&&(0,ve.R7)(!0)?Ei=ql:(0,ve.Uf)()?Ei=Ra:!er[Ws]()&&(0,ve.PV)()?Ei=Vl:!er[Ws]()&&(0,ve.xk)()?Ei=Bl:Ei=Ui},lt.processTelemetry=function(it,$t){$t=lt._getTelCtx($t);var Zt=$t[Li]();try{if(lt[mn][Cl]())return;if(!it){(0,ue.ZP)(Zt,1,7,"Cannot send empty telemetry");return}if(it.baseData&&!it[Tl]){(0,ue.ZP)(Zt,1,70,"Cannot send telemetry without baseData and baseType");return}if(it[Tl]||(it[Tl]="EventData"),!lt[ca]){(0,ue.ZP)(Zt,1,28,"Sender was not initialized");return}if(Xr(it))it[A]=lt._sample[Fo];else{(0,ue.ZP)(Zt,2,33,"Telemetry item was sampled out and not sent",{SampleRate:lt._sample[Fo]});return}var pi=lt[mn][qu]()||void 0,Qi=it.iKey||lt[mn][Po](),nn=be.constructEnvelope(it,Qi,Zt,pi);if(!nn){(0,ue.ZP)(Zt,1,47,"Unable to create an AppInsights envelope");return}var rn=!1;if(it[vi]&&it[vi][h]&&((0,de.Iu)(it[vi][h],function(ir){try{ir&&ir(nn)===!1&&(rn=!0,(0,ue.OG)(Zt,"Telemetry processor check returns false"))}catch(Ga){(0,ue.ZP)(Zt,1,64,"One of telemetry initializers failed, telemetry item will not be sent: "+(0,de.lL)(Ga),{exception:(0,ve.mm)(Ga)},!0)}}),delete it[vi][h]),rn)return;var zn=Vt.serialize(nn),er=lt[jr],tr=er.size();tr+zn[xi]>lt[mn][on]()&&lt[Tr](!0,null,10),er[jn](zn),Js()}catch(ir){(0,ue.ZP)(Zt,2,12,"Failed adding telemetry to the sender's buffer, some telemetry will be lost: "+(0,de.lL)(ir),{exception:(0,ve.mm)(ir)})}lt.processNext(it,$t)},lt[Al]=function(it,$t,Zt){it.readyState===4&&ds(it.status,$t,it.responseURL,Zt,Gl(it),Qs(it)||it.response)},lt[Tr]=function(it,$t,Zt){if(it===void 0&&(it=!0),!at)try{var pi=lt[jr];if(lt[mn][Cl]())pi[ls]();else{if(pi[La]()>0){var Qi=pi.getItems();Yu(Zt||0,it),$t?$t.call(Ae,Qi,it):lt[ca](Qi,it)}Xe=+new Date}Qu()}catch(rn){var nn=(0,ve.L0)();(!nn||nn>9)&&(0,ue.ZP)(lt[Li](),1,40,"Telemetry transmission failed, some telemetry will be lost: "+(0,de.lL)(rn),{exception:(0,ve.mm)(rn)})}},lt._doTeardown=function(it,$t){lt.onunloadFlush(),Ki.unload(),Ju()},lt[Bn]=function(it,$t,Zt){(0,ue.ZP)(lt[Li](),2,26,"Failed to send telemetry.",{message:$t}),lt._buffer[zs](it)},lt[Mt]=function(it,$t){for(var Zt=[],pi=[],Qi=$t.errors.reverse(),nn=0,rn=Qi;nn<rn.length;nn++){var zn=rn[nn],er=it.splice(zn.index,1)[0];Hl(zn.statusCode)?pi[os](er):Zt[os](er)}it[xi]>0&&lt[Ks](it,$t[Ml]),Zt[xi]>0&&lt[Bn](Zt,Gl(null,["partial success",$t[Ml],"of",$t.itemsReceived].join(" "))),pi[xi]>0&&(Ys(pi),(0,ue.ZP)(lt[Li](),2,40,"Partial success. Delivered: "+it[xi]+", Failed: "+Zt[xi]+". Will retry to send "+pi[xi]+" our of "+$t[gm]+" items"))},lt[Ks]=function(it,$t){lt._buffer[zs](it)},lt._xdrOnLoad=function(it,$t){var Zt=Qs(it);if(it&&(Zt+""=="200"||Zt===""))Ie=0,lt[Ks]($t,0);else{var pi=$l(Zt);pi&&pi.itemsReceived&&pi.itemsReceived>pi[Ml]&&!lt[mn][Do]()?lt[Mt]($t,pi):lt[Bn]($t,Zs(it))}};function Xr(it){return lt._sample.isSampledIn(it)}function ds(it,$t,Zt,pi,Qi,nn){var rn=null;if(lt._appId||(rn=$l(nn),rn&&rn.appId&&(lt._appId=rn.appId)),(it<200||it>=300)&&it!==0){if((it===301||it===307||it===308)&&!$a(Zt)){lt[Bn]($t,Qi);return}!lt[mn][Do]()&&Hl(it)?(Ys($t),(0,ue.ZP)(lt[Li](),2,40,". Response code "+it+". Will retry to send "+$t[xi]+" items.")):lt[Bn]($t,Qi)}else if(Ki&&!Ki.isOnline()){if(!lt[mn][Do]()){var zn=10;Ys($t,zn),(0,ue.ZP)(lt[Li](),2,40,". Offline - Response Code: ".concat(it,". Offline status: ").concat(!Ki.isOnline(),". Will retry to send ").concat($t.length," items."))}}else $a(Zt),it===206?(rn||(rn=$l(nn)),rn&&!lt[mn][Do]()?lt[Mt]($t,rn):lt[Bn]($t,Qi)):(Ie=0,lt[Ks]($t,pi))}function $a(it){return Qt>=10?!1:!(0,de.hX)(it)&&it!==""&&it!==lt[mn][Mr]()?(lt[mn][Mr]=function(){return it},++Qt,!0):!1}function _m(it,$t){Ei?Ei(it,!1):Ra(it,$t)}function Ha(it){var $t=(0,ve.w3)(),Zt=lt[jr],pi=lt[mn][Mr](),Qi=lt._buffer[da](it),nn=new Blob([Qi],{type:"text/plain;charset=UTF-8"}),rn=$t.sendBeacon(pi,nn);return rn&&(Zt[Ss](it),lt._onSuccess(it,it[xi])),rn}function Ra(it,$t){if((0,de.cy)(it)&&it[xi]>0&&!Ha(it)){for(var Zt=[],pi=0;pi<it[xi];pi++){var Qi=it[pi];Ha([Qi])||Zt[os](Qi)}Zt[xi]>0&&(Ui&&Ui(Zt,!0),(0,ue.ZP)(lt[Li](),2,40,". Failed to send telemetry with Beacon API, retried with normal sender."))}}function Bl(it,$t){var Zt=new XMLHttpRequest,pi=lt[mn][Mr]();try{Zt[D]=!0}catch{}Zt.open("POST",pi,$t),Zt[fa]("Content-type","application/json"),xr(pi)&&Zt[fa](Zi[6],Zi[7]),(0,de.Iu)((0,de.cG)(ii),function(nn){Zt[fa](nn,ii[nn])}),Zt.onreadystatechange=function(){return lt._xhrReadyStateChange(Zt,it,it[xi])},Zt.onerror=function(nn){return lt[Bn](it,Gl(Zt),nn)};var Qi=lt._buffer[da](it);Zt.send(Qi),lt._buffer[Ss](it)}function ql(it,$t){if((0,de.cy)(it)){for(var Zt=it[xi],pi=0;pi<it[xi];pi++)Zt+=it[pi][xi];Si+Zt<=Ol?Ku(it,!1):(0,ve.Uf)()?Ra(it,$t):(Ui&&Ui(it,!0),(0,ue.ZP)(lt[Li](),2,40,". Failed to send telemetry with Beacon API, retried with xhrSender."))}}function xo(it,$t){Ku(it,!0)}function Ku(it,$t){var Zt,pi=lt[mn][Mr](),Qi=lt._buffer[da](it),nn=new Blob([Qi],{type:"application/json"}),rn=new Headers,zn=Qi[xi],er=!1,tr=!1;xr(pi)&&rn.append(Zi[6],Zi[7]),(0,de.Iu)((0,de.cG)(ii),function(Wn){rn.append(Wn,ii[Wn])});var ir=(Zt={method:"POST",headers:rn,body:nn},Zt[D]=!0,Zt);$t||(ir.keepalive=!0,er=!0,Si+=zn);var Ga=new Request(pi,ir);try{Ga[D]=!0}catch{}lt._buffer[Ss](it);try{fetch(Ga).then(function(Wn){$t||(Si-=zn,zn=0),tr||(tr=!0,Wn.ok?Wn.text().then(function(zl){ds(Wn.status,it,Wn.url,it[xi],Wn.statusText,zl)}):lt[Bn](it,Wn.statusText))}).catch(function(Wn){$t||(Si-=zn,zn=0),tr||(tr=!0,lt[Bn](it,Wn.message))})}catch(Wn){tr||lt[Bn](it,(0,ve.mm)(Wn))}er&&!tr&&(tr=!0,lt._onSuccess(it,it[xi]))}function $l(it){try{if(it&&it!==""){var $t=(0,ve.hm)().parse(it);if($t&&$t.itemsReceived&&$t.itemsReceived>=$t[Ml]&&$t.itemsReceived-$t.itemsAccepted===$t.errors[xi])return $t}}catch(Zt){(0,ue.ZP)(lt[Li](),1,43,"Cannot parse the response. "+(0,de.lL)(Zt),{response:it})}return null}function Ys(it,$t){if($t===void 0&&($t=1),!(!it||it[xi]===0)){var Zt=lt[jr];Zt[zs](it),Ie++;for(var pi=0,Qi=it;pi<Qi.length;pi++){var nn=Qi[pi];Zt[jn](nn)}Oo($t),Js()}}function Oo(it){var $t=10,Zt;if(Ie<=1)Zt=$t;else{var pi=(Math.pow(2,Ie)-1)/2,Qi=Math.floor(Math.random()*pi*$t)+1;Qi=it*Qi,Zt=Math.max(Math.min(Qi,3600),$t)}var nn=(0,de.x3)()+Zt*1e3;We=nn}function Js(){if(!ft&&!at){var it=We?Math.max(0,We-(0,de.x3)()):0,$t=Math.max(lt[mn][Sa](),it);ft=setTimeout(function(){ft=null,lt[Tr](!0,null,1)},$t)}}function Qu(){clearTimeout(ft),ft=null,We=null}function Hl(it){return it===401||it===403||it===408||it===429||it===500||it===502||it===503||it===504}function Gl(it,$t){return it?"XMLHttpRequest,Status:"+it.status+",Response:"+Qs(it)||0||0:$t}function Vl(it,$t){var Zt=lt[jr],pi=(0,ve.zk)(),Qi=new XDomainRequest;Qi.onload=function(){return lt._xdrOnLoad(Qi,it)},Qi.onerror=function(er){return lt[Bn](it,Zs(Qi),er)};var nn=pi&&pi.location&&pi.location.protocol||"";if(lt[mn][Mr]().lastIndexOf(nn,0)!==0){(0,ue.ZP)(lt[Li](),2,40,". Cannot send XDomain request. The endpoint URL protocol doesn't match the hosting page protocol."),Zt[ls]();return}var rn=lt[mn][Mr]().replace(/^(https?:)/,"");Qi.open("POST",rn);var zn=Zt[da](it);Qi.send(zn),Zt[Ss](it)}function Zs(it,$t){return it?"XDomainRequest,Response:"+Qs(it)||0:$t}function jl(){var it="getNotifyMgr";return lt.core[it]?lt.core[it]():lt.core._notificationManager}function Yu(it,$t){var Zt=jl();if(Zt&&Zt[Mc])try{Zt[Mc](it,$t)}catch(pi){(0,ue.ZP)(lt[Li](),1,74,"send request notification failed: "+(0,de.lL)(pi),{exception:(0,ve.mm)(pi)})}}function jc(it){var $t=(0,de.hX)(it[Pc])?!1:it[Pc];if($t)return!0;var Zt="^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$",pi=new RegExp(Zt);return pi.test(it[Po])}function Ju(){lt[ca]=null,lt[jr]=null,lt._appId=null,lt._sample=null,ii={},Ki=null,Ie=0,We=null,Xe=null,at=!1,ft=null,Vt=null,Qt=0,Si=0,Ui=null,Ei=null,qi=null}}),Ae}return be.constructEnvelope=function(Ae,Ie,We,Xe){var at;Ie!==Ae.iKey&&!(0,de.hX)(Ie)?at=(0,L.Im)((0,L.Im)({},Ae),{iKey:Ie}):at=Ae;var ft=qc[at.baseType]||Fl;return ft(We,at,Xe)},be}(as.s),wm=";",Hc="=";function zu(Te){if(!Te)return{};var be=Te[l](wm),Ae=(0,de.KT)(be,function(We,Xe){var at=Xe[l](Hc);if(at[E]===2){var ft=at[0][c](),Vt=at[1];We[ft]=Vt}return We},{});if((0,de.cG)(Ae)[E]>0){if(Ae.endpointsuffix){var Ie=Ae.location?Ae.location+".":"";Ae[v]=Ae[v]||"https://"+Ie+"dc."+Ae.endpointsuffix}Ae[v]=Ae[v]||g}return Ae}var km={parse:zu},Wu=F(12235),Ll="instrumentationKey",Ul="connectionString",Io="diagnosticLogInterval",Gc=F(83897),Vc=(0,Ii.Hj)({Verbose:0,Information:1,Warning:2,Error:3,Critical:4}),Ts=function(){function Te(be){var Ae=new Wu._;((0,de.hX)(be)||(0,de.hX)(be[Ll])&&(0,de.hX)(be[Ul]))&&(0,de.$8)("Invalid input configuration"),(0,P.A)(Te,this,function(Ie){if(be[Ul]){var We=zu(be[Ul]),Xe=We.ingestionendpoint;be.endpointUrl=Xe?Xe+p:be.endpointUrl,be[Ll]=We.instrumentationkey||be[Ll]}Ie.config=be,at(),Ie.initialize=at,Ie.getSKUDefaults=function(){Ie.config[Io]=Ie.config[Io]&&Ie.config[Io]>0?Ie.config[Io]:1e4},Ie.getSKUDefaults(),(0,de.o$)(Ie,Ae,["track","flush","pollInternalLogs","stopPollingInternalLogs","unload","getPlugin","addPlugin","evtNamespace","addUnloadCb"]);function at(){Ae.initialize(Ie.config,[new $c]),Ae.pollInternalLogs()}})}return Te.__ieDyn=1,Te}()},92457:(s,G,F)=>{"use strict";F.d(G,{A:()=>Pe});/*!
 * Microsoft Dynamic Proto Utility, 1.1.7
 * Copyright (c) Microsoft and contributors. All rights reserved.
 */var P,L="undefined",D="constructor",A="prototype",h="function",m="_dynInstFuncs",g="_isDynProxy",p="_dynClass",k="_dynCls$",b="_dynInstChk",l=b,E="_dfOpts",c="_unknown_",v="__proto__",f="_dyn"+v,w="__dynProto$Gbl",_="_dynInstProto",R="useBaseInst",M="setInstFuncs",U=Object,x=U.getPrototypeOf,y=U.getOwnPropertyNames;function W(){var we;return typeof globalThis!==L&&(we=globalThis),!we&&typeof self!==L&&(we=self),!we&&typeof window!==L&&(we=window),!we&&typeof F.g!==L&&(we=F.g),we||{}}var Q=W(),Z=Q[w]||(Q[w]={o:(P={},P[M]=!0,P[R]=!0,P),n:1e3});function ee(we,_e){return we&&U[A].hasOwnProperty.call(we,_e)}function J(we){return we&&(we===U[A]||we===Array[A])}function O(we){return J(we)||we===Function[A]}function H(we){var _e;if(we){if(x)return x(we);var Me=we[v]||we[A]||(we[D]?we[D][A]:null);_e=we[f]||Me,ee(we,f)||(delete we[_],_e=we[f]=we[_]||we[f],we[_]=Me)}return _e}function I(we,_e){var Me=[];if(y)Me=y(we);else for(var te in we)typeof te=="string"&&ee(we,te)&&Me.push(te);if(Me&&Me.length>0)for(var re=0;re<Me.length;re++)_e(Me[re])}function u(we,_e,Me){return _e!==D&&typeof we[_e]===h&&(Me||ee(we,_e))}function N(we){throw new TypeError("DynamicProto: "+we)}function q(we){var _e={};return I(we,function(Me){!_e[Me]&&u(we,Me,!1)&&(_e[Me]=we[Me])}),_e}function V(we,_e){for(var Me=we.length-1;Me>=0;Me--)if(we[Me]===_e)return!0;return!1}function K(we,_e,Me,te){function re(z,T,oe){var fe=T[oe];if(fe[g]&&te){var de=z[m]||{};de[l]!==!1&&(fe=(de[T[p]]||{})[oe]||fe)}return function(){return fe.apply(z,arguments)}}var ge={};I(Me,function(z){ge[z]=re(_e,Me,z)});for(var ye=H(we),Ee=[];ye&&!O(ye)&&!V(Ee,ye);)I(ye,function(z){!ge[z]&&u(ye,z,!x)&&(ge[z]=re(_e,ye,z))}),Ee.push(ye),ye=H(ye);return ge}function j(we,_e,Me,te){var re=null;if(we&&ee(Me,p)){var ge=we[m]||{};if(re=(ge[Me[p]]||{})[_e],re||N("Missing ["+_e+"] "+h),!re[b]&&ge[l]!==!1){for(var ye=!ee(we,_e),Ee=H(we),z=[];ye&&Ee&&!O(Ee)&&!V(z,Ee);){var T=Ee[_e];if(T){ye=T===te;break}z.push(Ee),Ee=H(Ee)}try{ye&&(we[_e]=re),re[b]=1}catch{ge[l]=!1}}}return re}function ie(we,_e,Me){var te=_e[we];return te===Me&&(te=H(_e)[we]),typeof te!==h&&N("["+we+"] is not a "+h),te}function X(we,_e,Me,te,re){function ge(z,T){var oe=function(){var fe=j(this,T,z,oe)||ie(T,z,oe);return fe.apply(this,arguments)};return oe[g]=1,oe}if(!J(we)){var ye=Me[m]=Me[m]||{},Ee=ye[_e]=ye[_e]||{};ye[l]!==!1&&(ye[l]=!!re),I(Me,function(z){u(Me,z,!1)&&Me[z]!==te[z]&&(Ee[z]=Me[z],delete Me[z],(!ee(we,z)||we[z]&&!we[z][g])&&(we[z]=ge(we,z)))})}}function B(we,_e){if(x){for(var Me=[],te=H(_e);te&&!O(te)&&!V(Me,te);){if(te===we)return!0;Me.push(te),te=H(te)}return!1}return!0}function se(we,_e){return ee(we,A)?we.name||_e||c:((we||{})[D]||{}).name||_e||c}function Pe(we,_e,Me,te){ee(we,A)||N("theClass is an invalid class definition.");var re=we[A];B(re,_e)||N("["+se(we)+"] not in hierarchy of ["+se(_e)+"]");var ge=null;ee(re,p)?ge=re[p]:(ge=k+se(we,"_")+"$"+Z.n,Z.n++,re[p]=ge);var ye=Pe[E],Ee=!!ye[R];Ee&&te&&te[R]!==void 0&&(Ee=!!te[R]);var z=q(_e),T=K(re,_e,z,Ee);Me(_e,T);var oe=!!x&&!!ye[M];oe&&te&&(oe=!!te[M]),X(re,ge,_e,z,oe!==!1)}Pe[E]=Z.o},46925:(s,G,F)=>{"use strict";var P=F(48287).Buffer;Object.defineProperty(G,"__esModule",{value:!0}),G.HTMLTracer=void 0;const L=F(12111),D=F(49138);class A{constructor(){At(this,"traceData");At(this,"epochs",[])}addRenderEpoch(c){this.epochs.push(c)}includeInEpoch(c){this.epochs[this.epochs.length-1].elements.push(c)}didMaterializeTree(c){this.traceData=c}async serveHTML(){return m.create({epochs:this.epochs,traceData:l(this.traceData)})}serveRouter(c){return new h({baseAddress:c,epochs:this.epochs,traceData:l(this.traceData)})}}G.HTMLTracer=A;class h{constructor(c){At(this,"opts");At(this,"serverToken",crypto.randomUUID());this.opts=c}route(c,v){const f=c,w=v,_=new URL(f.url||"/","http://localhost"),R=`/${this.serverToken}`;switch(_.pathname){case R:case`${R}/`:this.onRoot(_,f,w);break;case`${R}/regen`:this.onRegen(_,f,w);break;default:return!1}return!0}get address(){return this.opts.baseAddress+"/"+this.serverToken}async getHTML(){const{traceData:c,epochs:v}=this.opts;return`<body>
			<style>${L.tracerCss}</style>
			<script>
				const DEFAULT_TOKENS = ${JSON.stringify(c.budget)};
				const EPOCHS = ${JSON.stringify(v)};
				const DEFAULT_MODEL = ${JSON.stringify(await g(c.tokenizer,c.renderedTree))};
				const SERVER_ADDRESS = ${JSON.stringify(this.opts.baseAddress+"/"+this.serverToken+"/")};
				${L.tracerSrc}
			<\/script>
		</body>`}async onRegen(c,v,f){const{traceData:w}=this.opts,_=Number(c.searchParams.get("n")||w.budget),R=await w.renderTree(_),M=await g(w.tokenizer,R),U=JSON.stringify(M);f.setHeader("Content-Type","application/json"),f.setHeader("Content-Length",P.byteLength(U)),f.end(U)}onRoot(c,v,f){this.getHTML().then(w=>{f.setHeader("Content-Type","text/html"),f.setHeader("Content-Length",P.byteLength(w)),f.end(w)})}}class m extends h{constructor(v,f){super(v);At(this,"server");this.server=f}static async create(v){const{createServer:f}=await Promise.resolve().then(()=>F(11568)),w=f((M,U)=>{try{R.route(M,U)||(U.statusCode=404,U.end("Not Found"))}catch(x){U.statusCode=500,U.end(String(x))}}),_=await new Promise((M,U)=>{w.listen(0,"127.0.0.1",()=>M(w.address().port)).on("error",U)}),R=new m({...v,baseAddress:`http://127.0.0.1:${_}`},w);return R}dispose(){this.server.closeAllConnections(),this.server.close()}}async function g(E,c){return{container:await p(E,c.container,!1),removed:c.removed,budget:c.budget}}async function p(E,c,v){const f={metadata:c.metadata.map(b),priority:c.priority};if(c instanceof D.MaterializedChatMessageTextChunk)return{...f,type:2,value:c.text,tokens:await c.upperBoundTokenCount(E)};{const w={...f,id:c.id,name:c.name,children:await Promise.all(c.children.map(_=>p(E,_,v||c instanceof D.MaterializedChatMessage))),tokens:v?await c.upperBoundTokenCount(E):await c.tokenCount(E)};if(c instanceof D.MaterializedContainer)return{...w,type:0};if(c instanceof D.MaterializedChatMessage)return{...w,type:1,role:c.role,text:c.text}}k(c)}function k(E){throw new Error("unreachable")}function b(E){return{name:E.constructor.name,value:JSON.stringify(E)}}const l=E=>{if(E===void 0)throw new Error("Prompt must be rendered before calling HTMLTRacer.serveHTML");return E}},12111:(s,G)=>{"use strict";Object.defineProperty(G,"__esModule",{value:!0}),G.tracerCss=G.tracerSrc=void 0,G.tracerSrc='"use strict";(()=>{var $,m,se,ze,w,re,le,q,X,G,K,Ae,D={},ce=[],Re=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,J=Array.isArray;function E(t,e){for(var n in e)t[n]=e[n];return t}function ue(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function l(t,e,n){var o,r,_,c={};for(_ in e)_=="key"?o=e[_]:_=="ref"?r=e[_]:c[_]=e[_];if(arguments.length>2&&(c.children=arguments.length>3?$.call(arguments,2):n),typeof t=="function"&&t.defaultProps!=null)for(_ in t.defaultProps)c[_]===void 0&&(c[_]=t.defaultProps[_]);return R(t,c,o,r,null)}function R(t,e,n,o,r){var _={type:t,props:e,key:n,ref:o,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:r??++se,__i:-1,__u:0};return r==null&&m.vnode!=null&&m.vnode(_),_}function I(t){return t.children}function B(t,e){this.props=t,this.context=e}function N(t,e){if(e==null)return t.__?N(t.__,t.__i+1):null;for(var n;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null)return n.__e;return typeof t.type=="function"?N(t):null}function de(t){var e,n;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null){t.__e=t.__c.base=n.__e;break}return de(t)}}function ie(t){(!t.__d&&(t.__d=!0)&&w.push(t)&&!O.__r++||re!==m.debounceRendering)&&((re=m.debounceRendering)||le)(O)}function O(){var t,e,n,o,r,_,c,a;for(w.sort(q);t=w.shift();)t.__d&&(e=w.length,o=void 0,_=(r=(n=t).__v).__e,c=[],a=[],n.__P&&((o=E({},r)).__v=r.__v+1,m.vnode&&m.vnode(o),Q(n.__P,o,r,n.__n,n.__P.namespaceURI,32&r.__u?[_]:null,c,_??N(r),!!(32&r.__u),a),o.__v=r.__v,o.__.__k[o.__i]=o,me(c,o,a),o.__e!=_&&de(o)),w.length>e&&w.sort(q));O.__r=0}function pe(t,e,n,o,r,_,c,a,u,s,p){var i,f,d,b,C,x=o&&o.__k||ce,h=e.length;for(n.__d=u,Be(n,e,x),u=n.__d,i=0;i<h;i++)(d=n.__k[i])!=null&&(f=d.__i===-1?D:x[d.__i]||D,d.__i=i,Q(t,d,f,r,_,c,a,u,s,p),b=d.__e,d.ref&&f.ref!=d.ref&&(f.ref&&Y(f.ref,null,d),p.push(d.ref,d.__c||b,d)),C==null&&b!=null&&(C=b),65536&d.__u||f.__k===d.__k?u=fe(d,u,t):typeof d.type=="function"&&d.__d!==void 0?u=d.__d:b&&(u=b.nextSibling),d.__d=void 0,d.__u&=-196609);n.__d=u,n.__e=C}function Be(t,e,n){var o,r,_,c,a,u=e.length,s=n.length,p=s,i=0;for(t.__k=[],o=0;o<u;o++)(r=e[o])!=null&&typeof r!="boolean"&&typeof r!="function"?(c=o+i,(r=t.__k[o]=typeof r=="string"||typeof r=="number"||typeof r=="bigint"||r.constructor==String?R(null,r,null,null,null):J(r)?R(I,{children:r},null,null,null):r.constructor===void 0&&r.__b>0?R(r.type,r.props,r.key,r.ref?r.ref:null,r.__v):r).__=t,r.__b=t.__b+1,_=null,(a=r.__i=Oe(r,n,c,p))!==-1&&(p--,(_=n[a])&&(_.__u|=131072)),_==null||_.__v===null?(a==-1&&i--,typeof r.type!="function"&&(r.__u|=65536)):a!==c&&(a==c-1?i--:a==c+1?i++:(a>c?i--:i++,r.__u|=65536))):r=t.__k[o]=null;if(p)for(o=0;o<s;o++)(_=n[o])!=null&&!(131072&_.__u)&&(_.__e==t.__d&&(t.__d=N(_)),he(_,_))}function fe(t,e,n){var o,r;if(typeof t.type=="function"){for(o=t.__k,r=0;o&&r<o.length;r++)o[r]&&(o[r].__=t,e=fe(o[r],e,n));return e}t.__e!=e&&(e&&t.type&&!n.contains(e)&&(e=N(t)),n.insertBefore(t.__e,e||null),e=t.__e);do e=e&&e.nextSibling;while(e!=null&&e.nodeType===8);return e}function Oe(t,e,n,o){var r=t.key,_=t.type,c=n-1,a=n+1,u=e[n];if(u===null||u&&r==u.key&&_===u.type&&!(131072&u.__u))return n;if(o>(u!=null&&!(131072&u.__u)?1:0))for(;c>=0||a<e.length;){if(c>=0){if((u=e[c])&&!(131072&u.__u)&&r==u.key&&_===u.type)return c;c--}if(a<e.length){if((u=e[a])&&!(131072&u.__u)&&r==u.key&&_===u.type)return a;a++}}return-1}function _e(t,e,n){e[0]==="-"?t.setProperty(e,n??""):t[e]=n==null?"":typeof n!="number"||Re.test(e)?n:n+"px"}function A(t,e,n,o,r){var _;e:if(e==="style")if(typeof n=="string")t.style.cssText=n;else{if(typeof o=="string"&&(t.style.cssText=o=""),o)for(e in o)n&&e in n||_e(t.style,e,"");if(n)for(e in n)o&&n[e]===o[e]||_e(t.style,e,n[e])}else if(e[0]==="o"&&e[1]==="n")_=e!==(e=e.replace(/(PointerCapture)$|Capture$/i,"$1")),e=e.toLowerCase()in t||e==="onFocusOut"||e==="onFocusIn"?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+_]=n,n?o?n.u=o.u:(n.u=X,t.addEventListener(e,_?K:G,_)):t.removeEventListener(e,_?K:G,_);else{if(r=="http://www.w3.org/2000/svg")e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!="width"&&e!="height"&&e!="href"&&e!="list"&&e!="form"&&e!="tabIndex"&&e!="download"&&e!="rowSpan"&&e!="colSpan"&&e!="role"&&e!="popover"&&e in t)try{t[e]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&e[4]!=="-"?t.removeAttribute(e):t.setAttribute(e,e=="popover"&&n==1?"":n))}}function ae(t){return function(e){if(this.l){var n=this.l[e.type+t];if(e.t==null)e.t=X++;else if(e.t<n.u)return;return n(m.event?m.event(e):e)}}}function Q(t,e,n,o,r,_,c,a,u,s){var p,i,f,d,b,C,x,h,v,H,M,P,F,oe,U,j,k=e.type;if(e.constructor!==void 0)return null;128&n.__u&&(u=!!(32&n.__u),_=[a=e.__e=n.__e]),(p=m.__b)&&p(e);e:if(typeof k=="function")try{if(h=e.props,v="prototype"in k&&k.prototype.render,H=(p=k.contextType)&&o[p.__c],M=p?H?H.props.value:p.__:o,n.__c?x=(i=e.__c=n.__c).__=i.__E:(v?e.__c=i=new k(h,M):(e.__c=i=new B(h,M),i.constructor=k,i.render=We),H&&H.sub(i),i.props=h,i.state||(i.state={}),i.context=M,i.__n=o,f=i.__d=!0,i.__h=[],i._sb=[]),v&&i.__s==null&&(i.__s=i.state),v&&k.getDerivedStateFromProps!=null&&(i.__s==i.state&&(i.__s=E({},i.__s)),E(i.__s,k.getDerivedStateFromProps(h,i.__s))),d=i.props,b=i.state,i.__v=e,f)v&&k.getDerivedStateFromProps==null&&i.componentWillMount!=null&&i.componentWillMount(),v&&i.componentDidMount!=null&&i.__h.push(i.componentDidMount);else{if(v&&k.getDerivedStateFromProps==null&&h!==d&&i.componentWillReceiveProps!=null&&i.componentWillReceiveProps(h,M),!i.__e&&(i.shouldComponentUpdate!=null&&i.shouldComponentUpdate(h,i.__s,M)===!1||e.__v===n.__v)){for(e.__v!==n.__v&&(i.props=h,i.state=i.__s,i.__d=!1),e.__e=n.__e,e.__k=n.__k,e.__k.some(function(z){z&&(z.__=e)}),P=0;P<i._sb.length;P++)i.__h.push(i._sb[P]);i._sb=[],i.__h.length&&c.push(i);break e}i.componentWillUpdate!=null&&i.componentWillUpdate(h,i.__s,M),v&&i.componentDidUpdate!=null&&i.__h.push(function(){i.componentDidUpdate(d,b,C)})}if(i.context=M,i.props=h,i.__P=t,i.__e=!1,F=m.__r,oe=0,v){for(i.state=i.__s,i.__d=!1,F&&F(e),p=i.render(i.props,i.state,i.context),U=0;U<i._sb.length;U++)i.__h.push(i._sb[U]);i._sb=[]}else do i.__d=!1,F&&F(e),p=i.render(i.props,i.state,i.context),i.state=i.__s;while(i.__d&&++oe<25);i.state=i.__s,i.getChildContext!=null&&(o=E(E({},o),i.getChildContext())),v&&!f&&i.getSnapshotBeforeUpdate!=null&&(C=i.getSnapshotBeforeUpdate(d,b)),pe(t,J(j=p!=null&&p.type===I&&p.key==null?p.props.children:p)?j:[j],e,n,o,r,_,c,a,u,s),i.base=e.__e,e.__u&=-161,i.__h.length&&c.push(i),x&&(i.__E=i.__=null)}catch(z){if(e.__v=null,u||_!=null){for(e.__u|=u?160:32;a&&a.nodeType===8&&a.nextSibling;)a=a.nextSibling;_[_.indexOf(a)]=null,e.__e=a}else e.__e=n.__e,e.__k=n.__k;m.__e(z,e,n)}else _==null&&e.__v===n.__v?(e.__k=n.__k,e.__e=n.__e):e.__e=$e(n.__e,e,n,o,r,_,c,u,s);(p=m.diffed)&&p(e)}function me(t,e,n){e.__d=void 0;for(var o=0;o<n.length;o++)Y(n[o],n[++o],n[++o]);m.__c&&m.__c(e,t),t.some(function(r){try{t=r.__h,r.__h=[],t.some(function(_){_.call(r)})}catch(_){m.__e(_,r.__v)}})}function $e(t,e,n,o,r,_,c,a,u){var s,p,i,f,d,b,C,x=n.props,h=e.props,v=e.type;if(v==="svg"?r="http://www.w3.org/2000/svg":v==="math"?r="http://www.w3.org/1998/Math/MathML":r||(r="http://www.w3.org/1999/xhtml"),_!=null){for(s=0;s<_.length;s++)if((d=_[s])&&"setAttribute"in d==!!v&&(v?d.localName===v:d.nodeType===3)){t=d,_[s]=null;break}}if(t==null){if(v===null)return document.createTextNode(h);t=document.createElementNS(r,v,h.is&&h),a&&(m.__m&&m.__m(e,_),a=!1),_=null}if(v===null)x===h||a&&t.data===h||(t.data=h);else{if(_=_&&$.call(t.childNodes),x=n.props||D,!a&&_!=null)for(x={},s=0;s<t.attributes.length;s++)x[(d=t.attributes[s]).name]=d.value;for(s in x)if(d=x[s],s!="children"){if(s=="dangerouslySetInnerHTML")i=d;else if(!(s in h)){if(s=="value"&&"defaultValue"in h||s=="checked"&&"defaultChecked"in h)continue;A(t,s,null,d,r)}}for(s in h)d=h[s],s=="children"?f=d:s=="dangerouslySetInnerHTML"?p=d:s=="value"?b=d:s=="checked"?C=d:a&&typeof d!="function"||x[s]===d||A(t,s,d,x[s],r);if(p)a||i&&(p.__html===i.__html||p.__html===t.innerHTML)||(t.innerHTML=p.__html),e.__k=[];else if(i&&(t.innerHTML=""),pe(t,J(f)?f:[f],e,n,o,v==="foreignObject"?"http://www.w3.org/1999/xhtml":r,_,c,_?_[0]:n.__k&&N(n,0),a,u),_!=null)for(s=_.length;s--;)ue(_[s]);a||(s="value",v==="progress"&&b==null?t.removeAttribute("value"):b!==void 0&&(b!==t[s]||v==="progress"&&!b||v==="option"&&b!==x[s])&&A(t,s,b,x[s],r),s="checked",C!==void 0&&C!==t[s]&&A(t,s,C,x[s],r))}return t}function Y(t,e,n){try{if(typeof t=="function"){var o=typeof t.__u=="function";o&&t.__u(),o&&e==null||(t.__u=t(e))}else t.current=e}catch(r){m.__e(r,n)}}function he(t,e,n){var o,r;if(m.unmount&&m.unmount(t),(o=t.ref)&&(o.current&&o.current!==t.__e||Y(o,null,e)),(o=t.__c)!=null){if(o.componentWillUnmount)try{o.componentWillUnmount()}catch(_){m.__e(_,e)}o.base=o.__P=null}if(o=t.__k)for(r=0;r<o.length;r++)o[r]&&he(o[r],e,n||typeof t.type!="function");n||ue(t.__e),t.__c=t.__=t.__e=t.__d=void 0}function We(t,e,n){return this.constructor(t,n)}function ve(t,e,n){var o,r,_,c;m.__&&m.__(t,e),r=(o=typeof n=="function")?null:n&&n.__k||e.__k,_=[],c=[],Q(e,t=(!o&&n||e).__k=l(I,null,[t]),r||D,D,e.namespaceURI,!o&&n?[n]:r?null:e.firstChild?$.call(e.childNodes):null,_,!o&&n?n:r?r.__e:e.firstChild,o,c),me(_,t,c)}$=ce.slice,m={__e:function(t,e,n,o){for(var r,_,c;e=e.__;)if((r=e.__c)&&!r.__)try{if((_=r.constructor)&&_.getDerivedStateFromError!=null&&(r.setState(_.getDerivedStateFromError(t)),c=r.__d),r.componentDidCatch!=null&&(r.componentDidCatch(t,o||{}),c=r.__d),c)return r.__E=r}catch(a){t=a}throw t}},se=0,ze=function(t){return t!=null&&t.constructor==null},B.prototype.setState=function(t,e){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=E({},this.state),typeof t=="function"&&(t=t(E({},n),this.props)),t&&E(n,t),t!=null&&this.__v&&(e&&this._sb.push(e),ie(this))},B.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),ie(this))},B.prototype.render=I,w=[],le=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,q=function(t,e){return t.__v.__b-e.__v.__b},O.__r=0,X=0,G=ae(!1),K=ae(!0),Ae=0;var L,g,Z,ge,V=0,Ee=[],y=m,be=y.__b,ye=y.__r,xe=y.diffed,Ce=y.__c,ke=y.unmount,Te=y.__;function te(t,e){y.__h&&y.__h(g,t,V||e),V=0;var n=g.__H||(g.__H={__:[],__h:[]});return t>=n.__.length&&n.__.push({}),n.__[t]}function S(t){return V=1,Ve(Ie,t)}function Ve(t,e,n){var o=te(L++,2);if(o.t=t,!o.__c&&(o.__=[n?n(e):Ie(void 0,e),function(a){var u=o.__N?o.__N[0]:o.__[0],s=o.t(u,a);u!==s&&(o.__N=[s,o.__[1]],o.__c.setState({}))}],o.__c=g,!g.u)){var r=function(a,u,s){if(!o.__c.__H)return!0;var p=o.__c.__H.__.filter(function(f){return!!f.__c});if(p.every(function(f){return!f.__N}))return!_||_.call(this,a,u,s);var i=!1;return p.forEach(function(f){if(f.__N){var d=f.__[0];f.__=f.__N,f.__N=void 0,d!==f.__[0]&&(i=!0)}}),!(!i&&o.__c.props===a)&&(!_||_.call(this,a,u,s))};g.u=!0;var _=g.shouldComponentUpdate,c=g.componentWillUpdate;g.componentWillUpdate=function(a,u,s){if(this.__e){var p=_;_=void 0,r(a,u,s),_=p}c&&c.call(this,a,u,s)},g.shouldComponentUpdate=r}return o.__N||o.__}function Se(t,e){var n=te(L++,3);!y.__s&&Ne(n.__H,e)&&(n.__=t,n.i=e,g.__H.__h.push(n))}function we(t){return V=5,je(function(){return{current:t}},[])}function je(t,e){var n=te(L++,7);return Ne(n.__H,e)&&(n.__=t(),n.__H=e,n.__h=t),n.__}function qe(){for(var t;t=Ee.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(W),t.__H.__h.forEach(ee),t.__H.__h=[]}catch(e){t.__H.__h=[],y.__e(e,t.__v)}}y.__b=function(t){g=null,be&&be(t)},y.__=function(t,e){t&&e.__k&&e.__k.__m&&(t.__m=e.__k.__m),Te&&Te(t,e)},y.__r=function(t){ye&&ye(t),L=0;var e=(g=t.__c).__H;e&&(Z===g?(e.__h=[],g.__h=[],e.__.forEach(function(n){n.__N&&(n.__=n.__N),n.i=n.__N=void 0})):(e.__h.forEach(W),e.__h.forEach(ee),e.__h=[],L=0)),Z=g},y.diffed=function(t){xe&&xe(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(Ee.push(e)!==1&&ge===y.requestAnimationFrame||((ge=y.requestAnimationFrame)||Ge)(qe)),e.__H.__.forEach(function(n){n.i&&(n.__H=n.i),n.i=void 0})),Z=g=null},y.__c=function(t,e){e.some(function(n){try{n.__h.forEach(W),n.__h=n.__h.filter(function(o){return!o.__||ee(o)})}catch(o){e.some(function(r){r.__h&&(r.__h=[])}),e=[],y.__e(o,n.__v)}}),Ce&&Ce(t,e)},y.unmount=function(t){ke&&ke(t);var e,n=t.__c;n&&n.__H&&(n.__H.__.forEach(function(o){try{W(o)}catch(r){e=r}}),n.__H=void 0,e&&y.__e(e,n.__v))};var Me=typeof requestAnimationFrame=="function";function Ge(t){var e,n=function(){clearTimeout(o),Me&&cancelAnimationFrame(e),setTimeout(t)},o=setTimeout(n,100);Me&&(e=requestAnimationFrame(n))}function W(t){var e=g,n=t.__c;typeof n=="function"&&(t.__c=void 0,n()),g=e}function ee(t){var e=g;t.__c=t.__(),g=e}function Ne(t,e){return!t||t.length!==e.length||e.some(function(n,o){return n!==t[o]})}function Ie(t,e){return typeof e=="function"?e(t):e}function He(t,e){let n=we(void 0),o=(...r)=>{n.current&&clearTimeout(n.current),n.current=window.setTimeout(()=>{t(...r)},e)};return Se(()=>()=>{n.current&&clearTimeout(n.current)},[]),o}var Ke=new Intl.NumberFormat("en-US"),T=({value:t})=>l(I,null,Ke.format(t));var ne=[{bg:"#c1e7ff",fg:"#000"},{bg:"#abd2ec",fg:"#000"},{bg:"#94bed9",fg:"#000"},{bg:"#7faac6",fg:"#000"},{bg:"#6996b3",fg:"#fff"},{bg:"#5383a1",fg:"#fff"},{bg:"#3d708f",fg:"#fff"},{bg:"#255e7e",fg:"#fff"}],Xe=({scoreBy:t,nodes:e,epoch:n})=>{if(e.length===0)return null;let o=t;if(t.field!=="tokens"){let r=e[0][t.field],_=e[0][t.field];for(let c=1;c<e.length;c++)r=Math.max(r,e[c][t.field]),_=Math.max(_,e[c][t.field]);o={field:t.field,max:r,min:_}}return l("div",{className:"node-children"},e.map((r,_)=>r.type===2?l(Je,{scoreBy:o,key:_,node:r}):l(Le,{scoreBy:o,key:_,node:r,epoch:n})))},Fe=({node:t})=>l("div",{className:"node-stats"},"Used Tokens: ",l(T,{value:t.tokens})," / ","Priority:"," ",t.priority===Number.MAX_SAFE_INTEGER?"MAX":l(T,{value:t.priority})),De=({scoreBy:t,node:e,children:n,...o})=>{let r=0;if(t.max!==t.min){let _=(e[t.field]-t.min)/(t.max-t.min);r=Math.round((ne.length-1)*_)}return l("div",{...o,className:`node ${o.className||""}`,style:{backgroundColor:ne[r].bg,color:ne[r].fg}},n)},Je=({scoreBy:t,node:e})=>l(De,{node:e,scoreBy:t,tabIndex:0,className:"node-text"},l(Fe,{node:e}),l("div",{className:"node-content"},e.value)),Le=({scoreBy:t,node:e,epoch:n})=>{let[o,r]=S(!1),_=EPOCHS.findIndex(i=>i.elements.some(f=>f.id===e.id));if(_===void 0)throw new Error(`epoch not found for ${e.id}`);let c=EPOCHS[_],a=EPOCHS.at(n),u=c.elements.find(i=>i.id===e.id).tokenBudget,s=e.type===1?e.name||e.role.slice(0,1).toUpperCase()+e.role.slice(1)+"Message":e.name,p=_===n?"new-in-epoch":n<_?"before-epoch":"";return l(De,{node:e,scoreBy:t,className:p},l(Fe,{node:e}),l("div",{className:"node-content node-toggler",onClick:()=>r(i=>!i)},l("span",null,a?.inNode===e.id?"\\u{1F3C3} ":"",`<${s}>`),l("span",{className:"indicator"},o?"[+]":"[-]")),n===_&&l("div",{className:"node-stats"},"Token Budget: ",l(T,{value:u})),a?.inNode===e.id&&l("div",{className:"node-stats"},"Rendering flexGrow=",a.flexValue,l("br",null),l("br",null),"Splitting"," ",a.reservedTokens?`${a.tokenBudget} - ${a.reservedTokens} (reserved) = `:"",l(T,{value:a.tokenBudget})," tokens among ",a.elements.length," ","elements"),!o&&l(Xe,{nodes:e.children,scoreBy:t,epoch:n}))},Pe=({scoreBy:t,node:e,epoch:n})=>{let o;return t==="tokens"?o={field:"tokens",max:e.tokens,min:0}:o={field:"priority",max:e.priority,min:e.priority},l(Le,{scoreBy:o,node:e,epoch:n})};var Ue=({label:t,value:e,onChange:n,min:o,max:r})=>{let _=a=>{n(a.target.valueAsNumber)},c=`number-slider-${Math.random()}`;return l("div",{className:"controls-slider"},l("label",{htmlFor:c},t),l("input",{id:c,type:"range",min:o,max:r,value:e,onInput:_}),l("input",{type:"number",min:o,value:e,onInput:_,onChange:_}))},Qe=({scoreBy:t,onScoreByChange:e})=>{let n=o=>{let r=o.target.value;e(r)};return l("div",{className:"controls-scoreby"},"Visualize by",l("label",null,l("input",{type:"radio",name:"scoreBy",value:"tokens",checked:t==="tokens",onChange:n}),"Tokens"),l("label",null,l("input",{type:"radio",name:"scoreBy",value:"priority",checked:t==="priority",onChange:n}),"Priority"))},Ye=()=>{let[t,e]=S(DEFAULT_TOKENS),[n,o]=S(EPOCHS.length),[r,_]=S(DEFAULT_MODEL),[c,a]=S("tokens"),[u,s]=S("epoch"),p=He(async f=>{if(f===DEFAULT_TOKENS)return DEFAULT_MODEL;let b=await(await fetch(`${SERVER_ADDRESS}regen?n=${f}`)).json();_(b)},100),i=f=>{e(f),p(f),o(EPOCHS.length)};return l("div",{className:"app"},l("div",{className:"controls"},l("div",{className:"tabs"},l("div",{className:`tab ${u==="epoch"?"active":""}`,onClick:()=>s("epoch")},"View Order"),l("div",{className:`tab ${u==="tokens"?"active":""}`,onClick:()=>s("tokens")},"Change Token Budget")),l("div",{className:`tab-content ${u==="epoch"?"active":""}`},l(Ue,{label:"Render Epoch",value:n,onChange:o,min:0,max:EPOCHS.length})),l("div",{className:`tab-content ${u==="tokens"?"active":""}`},l(Ue,{label:"Token Budget",value:t,onChange:i,min:0,max:DEFAULT_TOKENS*2}))),l("div",{className:"control-description"},u==="tokens"?l("p",null,"Token changes here will prune elements and re-render Expandable ones, but the entire prompt is not being re-rendered"):l("p",null,"Changing the render epoch lets you see the order in which elements are rendered and how the token budget is allocated."),l("div",{className:"controls-stats"},l("span",null,"Used ",l(T,{value:r.container.tokens}),"/",l(T,{value:r.budget})," tokens"),l("span",null,"Removed ",l(T,{value:r.removed})," nodes"),l(Qe,{scoreBy:c,onScoreByChange:a}))),l(Pe,{node:r.container,scoreBy:c,epoch:n}))};ve(l(Ye,null),document.body);})();\n',G.tracerCss=`body{font-family:-apple-system,BlinkMacSystemFont,Segoe WPC,Segoe UI,system-ui,Ubuntu,Droid Sans,sans-serif;background:#fff;margin:0}.render-pass{border-left:2px solid #ccc;&:hover{border-left-color:#000}}.literals li{white-space:pre;font-family:SF Mono,Monaco,Menlo,Consolas,Ubuntu Mono,Liberation Mono,DejaVu Sans Mono,Courier New,monospace}.render-flex,.render-element{padding-left:10px}.node{border:1px solid rgba(255,255,255,.5);margin:3px 10px;padding:3px 10px;border-radius:4px;width:fit-content;&.new-in-epoch{box-shadow:0 0 3px 2px red}&.before-epoch{pointer-events:none;filter:grayscale(1);color:#777!important;.node{color:#777!important}}&:last-child{margin-bottom:0}}.node-content{font-weight:700}.node-children{margin-left:20px;border-left:2px dashed rgba(255,255,255,.5);padding-left:10px}.node-toggler{cursor:pointer;display:flex;align-items:center;justify-content:space-between;.indicator{font-size:.7em}}.node-text{width:400px;&:focus,&:focus-within{outline:1px solid orange;.node-content{white-space:normal}}.node-content{font-weight:400;font-size:.8em;white-space:nowrap;text-overflow:ellipsis;overflow:hidden}}.node-stats{font-family:SF Mono,Monaco,Menlo,Consolas,Ubuntu Mono,Liberation Mono,DejaVu Sans Mono,Courier New,monospace;font-size:.8em}.control-description{padding:10px;p{font-size:.9em;max-width:500px;margin-top:0}}.controls{display:flex;flex-direction:column;gap:10px;position:sticky;top:0;padding:10px;background:#fff;border-bottom:1px solid #ccc;z-index:1}.controls-slider{display:flex;align-items:center;gap:10px}.controls-stats{display:flex;gap:20px;list-style:none;padding:0;margin-top:0}.controls-scoreby{display:flex;gap:10px}.tabs{display:flex;border-bottom:1px solid #ccc;margin-bottom:10px}.tab{padding:10px;cursor:pointer;border:1px solid transparent;border-bottom:none}.tab.active{border-color:#ccc;border-bottom:1px solid #fff;background-color:#f9f9f9}.tab-content{display:none}.tab-content.active{display:block}
`},60937:function(s,G,F){"use strict";var P=this&&this.__createBinding||(Object.create?function(c,v,f,w){w===void 0&&(w=f);var _=Object.getOwnPropertyDescriptor(v,f);(!_||("get"in _?!v.__esModule:_.writable||_.configurable))&&(_={enumerable:!0,get:function(){return v[f]}}),Object.defineProperty(c,w,_)}:function(c,v,f,w){w===void 0&&(w=f),c[w]=v[f]}),L=this&&this.__exportStar||function(c,v){for(var f in c)f!=="default"&&!Object.prototype.hasOwnProperty.call(v,f)&&P(v,c,f)};Object.defineProperty(G,"__esModule",{value:!0}),G.contentType=G.PromptRenderer=G.MetadataMap=G.PromptElement=G.ToolResult=G.UserMessage=G.ToolMessage=G.TextChunk=G.SystemMessage=G.PrioritizedList=G.LegacyPrioritization=G.FunctionMessage=G.Chunk=G.AssistantMessage=G.ChatRole=G.JSONTree=void 0,G.renderPrompt=b,G.renderElementJSON=l,G.toVsCodeChatMessages=E;const D=F(96423),A=F(79420),h=F(82990);L(F(46925),G),G.JSONTree=F(8150);var m=F(96423);Object.defineProperty(G,"ChatRole",{enumerable:!0,get:function(){return m.ChatRole}}),L(F(52727),G),L(F(3804),G),L(F(63479),G),L(F(68504),G);var g=F(75234);Object.defineProperty(G,"AssistantMessage",{enumerable:!0,get:function(){return g.AssistantMessage}}),Object.defineProperty(G,"Chunk",{enumerable:!0,get:function(){return g.Chunk}}),Object.defineProperty(G,"FunctionMessage",{enumerable:!0,get:function(){return g.FunctionMessage}}),Object.defineProperty(G,"LegacyPrioritization",{enumerable:!0,get:function(){return g.LegacyPrioritization}}),Object.defineProperty(G,"PrioritizedList",{enumerable:!0,get:function(){return g.PrioritizedList}}),Object.defineProperty(G,"SystemMessage",{enumerable:!0,get:function(){return g.SystemMessage}}),Object.defineProperty(G,"TextChunk",{enumerable:!0,get:function(){return g.TextChunk}}),Object.defineProperty(G,"ToolMessage",{enumerable:!0,get:function(){return g.ToolMessage}}),Object.defineProperty(G,"UserMessage",{enumerable:!0,get:function(){return g.UserMessage}}),Object.defineProperty(G,"ToolResult",{enumerable:!0,get:function(){return g.ToolResult}});var p=F(3575);Object.defineProperty(G,"PromptElement",{enumerable:!0,get:function(){return p.PromptElement}});var k=F(79420);Object.defineProperty(G,"MetadataMap",{enumerable:!0,get:function(){return k.MetadataMap}}),Object.defineProperty(G,"PromptRenderer",{enumerable:!0,get:function(){return k.PromptRenderer}});async function b(c,v,f,w,_,R,M="vscode"){let U="countTokens"in w?new h.AnyTokenizer((J,O)=>w.countTokens(J,O)):w;const x=new A.PromptRenderer(f,c,v,U);let{messages:y,tokenCount:W,references:Q,metadata:Z}=await x.render(_,R);const ee=x.getUsedContext();return M==="vscode"&&(y=E(y)),{messages:y,tokenCount:W,metadatas:Z,usedContext:ee,references:Q}}G.contentType="application/vnd.codechat.prompt+json.1";function l(c,v,f,w){var R;return new A.PromptRenderer({modelMaxPromptTokens:(R=f==null?void 0:f.tokenBudget)!=null?R:Number.MAX_SAFE_INTEGER},c,v,{countMessageTokens(M){throw new Error("Tools may only return text, not messages.")},tokenLength(M,U){var x;return Promise.resolve((x=f==null?void 0:f.countTokens(M,U))!=null?x:Promise.resolve(1))}}).renderElementJSON(w)}function E(c){const v=F(91398);return c.map(f=>{switch(f.role){case D.ChatRole.Assistant:const w=v.LanguageModelChatMessage.Assistant(f.content,f.name);return f.tool_calls&&(w.content=[new v.LanguageModelTextPart(f.content),...f.tool_calls.map(_=>new v.LanguageModelToolCallPart(_.id,_.function.name,_.function.arguments))]),w;case D.ChatRole.User:return v.LanguageModelChatMessage.User(f.content,f.name);case D.ChatRole.Function:{const _=v.LanguageModelChatMessage.User("");return _.content=[new v.LanguageModelToolResultPart(f.name,[new v.LanguageModelTextPart(f.content)])],_}case D.ChatRole.Tool:{const _=v.LanguageModelChatMessage.User("");return _.content=[new v.LanguageModelToolResultPart(f.tool_call_id,[new v.LanguageModelTextPart(f.content)])],_}default:throw new Error(`Converting chat message with role ${f.role} to VS Code chat message is not supported.`)}})}},8150:(s,G)=>{"use strict";Object.defineProperty(G,"__esModule",{value:!0}),G.forEachNode=F;function F(P,L){if(L(P),P.type===1)for(const D of P.children)F(D,L)}},49138:(s,G,F)=>{"use strict";Object.defineProperty(G,"__esModule",{value:!0}),G.MaterializedChatMessage=G.MaterializedChatMessageTextChunk=G.MaterializedContainer=void 0;const P=F(54548),L=F(96423);class D{constructor(f,w,_,R,M,U){At(this,"id");At(this,"name");At(this,"priority");At(this,"children");At(this,"metadata");At(this,"flags");this.id=f,this.name=w,this.priority=_,this.children=R,this.metadata=M,this.flags=U}has(f){return!!(this.flags&f)}async tokenCount(f){let w=0;return await Promise.all(this.children.map(async _=>{g(_);const R=await _.tokenCount(f);w+=R})),w}async upperBoundTokenCount(f){let w=0;return await Promise.all(this.children.map(async _=>{const R=await _.upperBoundTokenCount(f);w+=R})),w}replaceNode(f,w){return c(f,this.children,w)}allMetadata(){return E(this)}*toChatMessages(){for(const f of this.children)g(f),f instanceof D?yield*f.toChatMessages():f.isEmpty||(yield f.toChatMessage())}removeLowestPriorityChild(){this.has(1)?k(this):b(this)}}G.MaterializedContainer=D;class A{constructor(f,w,_=[],R){At(this,"text");At(this,"priority");At(this,"metadata");At(this,"lineBreakBefore");At(this,"_upperBound",(0,P.once)(async f=>await f.tokenLength(this.text)+(this.lineBreakBefore!==0?1:0)));this.text=f,this.priority=w,this.metadata=_,this.lineBreakBefore=R}upperBoundTokenCount(f){return this._upperBound(f)}}G.MaterializedChatMessageTextChunk=A;class h{constructor(f,w,_,R,M,U,x,y){At(this,"id");At(this,"role");At(this,"name");At(this,"toolCalls");At(this,"toolCallId");At(this,"priority");At(this,"metadata");At(this,"children");At(this,"_tokenCount",(0,P.once)(async f=>f.countMessageTokens(this.toChatMessage())));At(this,"_upperBound",(0,P.once)(async f=>{let w=await this._baseMessageTokenCount(f);return await Promise.all(this.children.map(async _=>{const R=await _.upperBoundTokenCount(f);w+=R})),w}));At(this,"_baseMessageTokenCount",(0,P.once)(f=>f.countMessageTokens({...this.toChatMessage(),content:""})));At(this,"_text",(0,P.once)(()=>{let f="";for(const{text:w,isTextSibling:_}of p(this))(w.lineBreakBefore===1||w.lineBreakBefore===2&&!_)&&f.length&&!f.endsWith(`
`)&&(f+=`
`),f+=w.text;return f.trim()}));this.id=f,this.role=w,this.name=_,this.toolCalls=R,this.toolCallId=M,this.priority=U,this.metadata=x,this.children=y}async tokenCount(f){return this._tokenCount(f)}async upperBoundTokenCount(f){return this._upperBound(f)}get text(){return this._text()}get isEmpty(){var f;return!/\S/.test(this.text)&&!((f=this.toolCalls)!=null&&f.length)&&!this.toolCallId}replaceNode(f,w){const _=c(f,this.children,w);return _&&this.onChunksChange(),_}removeLowestPriorityChild(){b(this)}onChunksChange(){this._tokenCount.clear(),this._upperBound.clear(),this._text.clear()}toChatMessage(){return this.role===L.ChatRole.System?{role:this.role,content:this.text,...this.name?{name:this.name}:{}}:this.role===L.ChatRole.Assistant?{role:this.role,content:this.text,...this.toolCalls?{tool_calls:this.toolCalls}:{},...this.name?{name:this.name}:{}}:this.role===L.ChatRole.User?{role:this.role,content:this.text,...this.name?{name:this.name}:{}}:this.role===L.ChatRole.Tool?{role:this.role,content:this.text,tool_call_id:this.toolCallId}:{role:this.role,content:this.text,name:this.name}}}G.MaterializedChatMessage=h;function m(v){return!(v instanceof A)}function g(v){if(!(v instanceof D)&&!(v instanceof h))throw new Error(`Cannot have a text node outside a ChatMessage. Text: "${v.text}"`)}function*p(v,f=!1){for(const w of v.children)w instanceof A?(yield{text:w,isTextSibling:f},f=!0):(yield*p(w,f),f=!1)}function k(v){let f;function w(M,U){if(M instanceof A)(!f||M.priority<f.node.priority)&&(f={chain:U.slice(),node:M});else{U.push(M);for(const x of M.children)w(x,U);U.pop()}}if(w(v,[]),!f)throw new Error("No lowest priority node found");let _=f.node,R=f.chain.length-1;for(;R>=0;R--){const M=f.chain[R];if(M.children.splice(M.children.indexOf(_),1),M instanceof h&&M.onChunksChange(),M.children.length>0)break;_=M}for(;R>=0;R--){const M=f.chain[R];M instanceof h&&M.onChunksChange()}}function b(v){var R;let f;const w=v.children.map((M,U)=>({chain:[v],index:U}));for(let M=0;M<w.length;M++){const{chain:U,index:x}=w[M],y=U[U.length-1].children[x];if(y instanceof D&&y.has(4)){const W=[...U,y];w.splice(M+1,0,...y.children.map((Q,Z)=>({chain:W,index:Z})))}else if(!f||y.priority<f.value.priority)f={chain:U,index:x,value:y};else if(y.priority===f.value.priority){(R=f.lowestNested)!=null||(f.lowestNested=l(f.value));const W=l(y);W<f.lowestNested&&(f={chain:U,index:x,value:y,lowestNested:W})}}if(!f)throw new Error("No lowest priority node found");const _=f.chain[f.chain.length-1].children;f.value instanceof A||f.value instanceof D&&f.value.has(2)||m(f.value)&&!f.value.children.length?_.splice(f.index,1):(f.value.removeLowestPriorityChild(),f.value.children.length===0&&_.splice(f.index,1));for(const M of f.chain)M instanceof h&&M.onChunksChange()}function l(v){if(!m(v))return-1;let f=Number.MAX_SAFE_INTEGER;for(const w of v.children)f=Math.min(f,w.priority);return f}function*E(v){yield*v.metadata;for(const f of v.children)m(f)?yield*E(f):yield*f.metadata}function c(v,f,w){for(let _=0;_<f.length;_++){const R=f[_];if(m(R)){if(R.id===v){const U=f[_];return f[_]=w,U}const M=R.replaceNode(v,w);if(M)return M}}}},54548:(s,G)=>{"use strict";Object.defineProperty(G,"__esModule",{value:!0}),G.once=F;function F(P){let L,D=!1;const A=(...h)=>(D||(L=P(...h),D=!0),L);return A.clear=()=>{D=!1},A}},96423:(s,G)=>{"use strict";Object.defineProperty(G,"__esModule",{value:!0}),G.BaseTokensPerName=G.BaseTokensPerMessage=G.BaseTokensPerCompletion=G.ChatRole=void 0;var F;(function(P){P.System="system",P.User="user",P.Assistant="assistant",P.Function="function",P.Tool="tool"})(F||(G.ChatRole=F={})),G.BaseTokensPerCompletion=3,G.BaseTokensPerMessage=3,G.BaseTokensPerName=1},3575:(s,G,F)=>{"use strict";Object.defineProperty(G,"__esModule",{value:!0}),G.PromptElement=void 0,F(10818);class P{constructor(D){At(this,"props");this.props=D}get priority(){var D;return(D=this.props.priority)!=null?D:Number.MAX_SAFE_INTEGER}get insertLineBreakBefore(){return!0}}G.PromptElement=P},75234:(s,G,F)=>{"use strict";Object.defineProperty(G,"__esModule",{value:!0}),G.Expandable=G.Chunk=G.LegacyPrioritization=G.ToolResult=G.PrioritizedList=G.TextChunk=G.ToolMessage=G.FunctionMessage=G.AssistantMessage=G.UserMessage=G.SystemMessage=G.BaseChatMessage=void 0,G.isChatMessagePromptElement=D;const P=F(96423),L=F(3575);function D(R){return R instanceof h||R instanceof m||R instanceof g}class A extends L.PromptElement{render(){return vscpp(vscppf,null,this.props.children)}}G.BaseChatMessage=A;class h extends A{constructor(M){M.role=P.ChatRole.System,super(M)}}G.SystemMessage=h;class m extends A{constructor(M){M.role=P.ChatRole.User,super(M)}}G.UserMessage=m;class g extends A{constructor(M){M.role=P.ChatRole.Assistant,super(M)}}G.AssistantMessage=g;const p=/\s+/g;class k extends A{constructor(M){M.role=P.ChatRole.Function,super(M)}}G.FunctionMessage=k;class b extends A{constructor(M){M.role=P.ChatRole.Tool,super(M)}}G.ToolMessage=b;class l extends L.PromptElement{async prepare(M,U,x){const y=this.props.breakOnWhitespace?p:this.props.breakOn;if(!y)return vscpp(vscppf,null,this.props.children);let W="";const Q=[];for(const ee of this.props.children||[])if(ee&&typeof ee=="object"){if(typeof ee.ctor!="string")throw new Error("TextChunk children must be text literals or intrinsic attributes.");ee.ctor==="br"?W+=`
`:Q.push(ee)}else ee!=null&&(W+=ee);const Z=await E(M,y,W,x);return vscpp(vscppf,null,Q,Z)}render(M){return M}}G.TextChunk=l;async function E(R,M,U,x){var Q,Z;if(M instanceof RegExp){if(!M.global)throw new Error(`\`breakOn\` expression must have the global flag set (got ${M})`);M.lastIndex=0}let y="",W=-1;for(;W<U.length;){let ee;typeof M=="string"?ee=U.indexOf(M,W===-1?0:W+M.length):ee=(Z=(Q=M.exec(U))==null?void 0:Q.index)!=null?Z:-1,ee===-1&&(ee=U.length);const J=y+U.slice(Math.max(0,W),ee);if(await R.countTokens(J,x)>R.tokenBudget)return y;y=J,W=ee}return y}class c extends L.PromptElement{render(){const M=this.props.children;if(M)return vscpp(vscppf,null,M.map((U,x)=>{var W;if(!U)return;const y=this.props.descending?this.props.priority-x:this.props.priority-M.length+x;return typeof U!="object"?vscpp(l,{priority:y},U):((W=U.props)!=null||(U.props={}),U.props.priority=y,U)}))}}G.PrioritizedList=c;class v extends L.PromptElement{render(){const M=F(91398);return vscpp(vscppf,null,this.props.data.content.map(U=>{if(U instanceof M.LanguageModelTextPart)return U.value;if(U instanceof M.LanguageModelPromptTsxPart)return vscpp("elementJSON",{data:U.value})}))}}G.ToolResult=v;class f extends L.PromptElement{render(){return vscpp(vscppf,null,this.props.children)}}G.LegacyPrioritization=f;class w extends L.PromptElement{render(){return vscpp(vscppf,null,this.props.children)}}G.Chunk=w;class _ extends L.PromptElement{async render(M,U){return vscpp(vscppf,null,await this.props.value(U))}}G.Expandable=_},79420:(s,G,F)=>{"use strict";Object.defineProperty(G,"__esModule",{value:!0}),G.PromptRenderer=G.MetadataMap=void 0;const P=F(49138),L=F(75234),D=F(52727);var A;(function(x){x.empty={get:()=>{},getAll:()=>[]}})(A||(G.MetadataMap=A={}));class h{constructor(y,W,Q,Z){At(this,"_endpoint");At(this,"_ctor");At(this,"_props");At(this,"_tokenizer");At(this,"_usedContext",[]);At(this,"_ignoredFiles",[]);At(this,"_growables",[]);At(this,"_root",new c(null,0));At(this,"tracer");this._endpoint=y,this._ctor=W,this._props=Q,this._tokenizer=Z}getIgnoredFiles(){return Array.from(new Set(this._ignoredFiles))}getUsedContext(){return this._usedContext}createElement(y){return new y.ctor(y.props)}async _processPromptPieces(y,W,Q,Z){var H,I,u,N,q,V,K;const ee=new Map;for(const[j,ie]of W.entries()){if(Array.isArray(ie.children)&&(ie.props=(H=ie.props)!=null?H:{},ie.props.children=ie.children),!ie.ctor)throw new Error("Invalid ChatMessage child! Child must be a TSX component that extends PromptElement.");const X=this.createElement(ie);ie.node.setObj(X);const B=(I=ie.props.flexGrow)!=null?I:1/0;let se=ee.get(B);se||(se=[],ee.set(B,se)),se.push({element:ie,promptElementInstance:X})}if(ee.size===0)return;const J=[...ee.entries()].sort(([j],[ie])=>ie-j).map(([j,ie])=>ie),O=j=>{let ie=0;for(let X=j+1;X<J.length;X++)for(const{element:B}of J[X]){if(!B.props.flexReserve)continue;const se=typeof B.props.flexReserve=="string"?Math.floor(y.remainingTokenBudget/Number(B.props.flexReserve.slice(1))):B.props.flexReserve;ie+=se}return y.consume(ie),ie};for(const[j,ie]of J.entries()){const X=O(j);let B=0;for(const{element:we}of ie)B+=(u=we.props.flex||we.props.flexBasis)!=null?u:1;const se=ie.map(we=>{var Me;const _e=((Me=we.element.props.flexBasis)!=null?Me:1)/B;return{tokenBudget:Math.floor(y.remainingTokenBudget*_e),endpoint:y.endpoint,countTokens:(te,re)=>this._tokenizer.tokenLength(te,re)}});y.consume(-X),(K=(N=this.tracer)==null?void 0:N.addRenderEpoch)==null||K.call(N,{inNode:(q=ie[0].element.node.parent)==null?void 0:q.id,flexValue:(V=ie[0].element.props.flexGrow)!=null?V:0,tokenBudget:y.remainingTokenBudget,reservedTokens:X,elements:ie.map((we,_e)=>({id:we.element.node.id,tokenBudget:se[_e].tokenBudget}))}),await Promise.all(ie.map(async({element:we,promptElementInstance:_e},Me)=>{var re;const te=await((re=_e.prepare)==null?void 0:re.call(_e,se[Me],Q,Z));we.node.setState(te)}));const Pe=await Promise.all(ie.map(async({element:we,promptElementInstance:_e},Me)=>{const te=se[Me];return await _e.render(we.node.getState(),te,Q,Z)}));for(const[we,{element:_e,promptElementInstance:Me}]of ie.entries()){const te=se[we],re=Pe[we];if(!re)continue;const ge=await this._processPromptRenderPiece(new E(te.tokenBudget,this._endpoint),_e,Me,re,Q,Z);Me instanceof L.Expandable&&this._growables.push({initialConsume:ge,elem:_e.node}),y.consume(ge)}}}async _processPromptRenderPiece(y,W,Q,Z,ee,J){const O=g(Z),H=new E(y.tokenBudget,this._endpoint),{tokensConsumed:I}=await m(this._tokenizer,W,Q,O);return H.consume(I),await this._handlePromptChildren(W,O,H,ee,J),H.consumed}async renderElementJSON(y){return await this._processPromptPieces(new E(this._endpoint.modelMaxPromptTokens,this._endpoint),[{node:this._root,ctor:this._ctor,props:this._props,children:[]}],void 0,y),{node:this._root.toJSON()}}async render(y,W){var q,V;await this._processPromptPieces(new E(this._endpoint.modelMaxPromptTokens,this._endpoint),[{node:this._root,ctor:this._ctor,props:this._props,children:[]}],y,W);const{container:Q,allMetadata:Z,removed:ee}=await this._getFinalElementTree(this._endpoint.modelMaxPromptTokens,W);(V=(q=this.tracer)==null?void 0:q.didMaterializeTree)==null||V.call(q,{budget:this._endpoint.modelMaxPromptTokens,renderedTree:{container:Q,removed:ee,budget:this._endpoint.modelMaxPromptTokens},tokenizer:this._tokenizer,renderTree:K=>this._getFinalElementTree(K,void 0).then(j=>({...j,budget:K}))});const J=[...Q.toChatMessages()],O=await Q.tokenCount(this._tokenizer),H=[...Q.allMetadata()],I=new Set,u=H.map(K=>{if(!(K instanceof M))return;const j=K.reference,ie="variableName"in j.anchor;if(ie&&!I.has(j.anchor.variableName))return I.add(j.anchor.variableName),j;if(!ie)return j}).filter(_),N=Z.map(K=>{if(!(K instanceof M)||H.includes(K))return;const j=K.reference,ie="variableName"in j.anchor;if(ie&&!I.has(j.anchor.variableName))return I.add(j.anchor.variableName),j;if(!ie)return j}).filter(_);return{metadata:{get:K=>H.find(j=>j instanceof K),getAll:K=>H.filter(j=>j instanceof K)},messages:J,hasIgnoredFiles:this._ignoredFiles.length>0,tokenCount:O,references:u,omittedReferences:N}}async _getFinalElementTree(y,W){const Q=this._root.materialize(),Z=await Q.tokenCount(this._tokenizer);if(Z<y&&!await this._grow(Q,Z,y,W))return{container:Q,allMetadata:[...Q.allMetadata()],removed:0};const ee=[...Q.allMetadata()];let J=0;for(;await Q.upperBoundTokenCount(this._tokenizer)>y&&await Q.tokenCount(this._tokenizer)>y;)Q.removeLowestPriorityChild(),J++;return{container:Q,allMetadata:ee,removed:J}}async _grow(y,W,Q,Z){if(!this._growables.length)return!1;for(const ee of this._growables){const J=ee.elem.getObj();if(!(J instanceof L.Expandable))throw new Error("unreachable: expected growable");const O=new c(null,0,ee.elem.id),H=new E(Q-W+ee.initialConsume,this._endpoint),I=await this._processPromptRenderPiece(H,{node:O,ctor:this._ctor,props:{},children:[]},J,await J.render(void 0,{tokenBudget:H.tokenBudget,endpoint:this._endpoint,countTokens:(q,V)=>this._tokenizer.tokenLength(q,V)}),void 0,Z),u=O.materialize();if(!y.replaceNode(ee.elem.id,u))throw new Error("unreachable: could not find old element to replace");if(W-=ee.initialConsume,W+=I,W>=Q)break}return!0}_handlePromptChildren(y,W,Q,Z,ee){var O,H;if(y.ctor===L.TextChunk){this._handleExtrinsicTextChunkChildren(y.node,y.node,y.props,W);return}let J=[];for(const I of W){if(I.kind==="literal"){y.node.appendStringChild(I.value,(O=y.props.priority)!=null?O:Number.MAX_SAFE_INTEGER);continue}if(I.kind==="intrinsic"){this._handleIntrinsic(y.node,I.name,{priority:(H=y.props.priority)!=null?H:Number.MAX_SAFE_INTEGER,...I.props},p(I.children));continue}const u=y.node.createChild();J.push({node:u,ctor:I.ctor,props:{priority:y.props.priority,...I.props},children:I.children})}return this._processPromptPieces(Q,J,Z,ee)}_handleIntrinsic(y,W,Q,Z,ee){switch(W){case"meta":return this._handleIntrinsicMeta(y,Q,Z);case"br":return this._handleIntrinsicLineBreak(y,Q,Z,Q.priority,ee);case"usedContext":return this._handleIntrinsicUsedContext(y,Q,Z);case"references":return this._handleIntrinsicReferences(y,Q,Z);case"ignoredFiles":return this._handleIntrinsicIgnoredFiles(y,Q,Z);case"elementJSON":return this._handleIntrinsicElementJSON(y,Q.data)}throw new Error(`Unknown intrinsic element ${W}!`)}_handleIntrinsicMeta(y,W,Q){if(Q.length>0)throw new Error("<meta /> must not have children!");W.local?y.addMetadata(W.value):this._root.addMetadata(W.value)}_handleIntrinsicLineBreak(y,W,Q,Z,ee){if(Q.length>0)throw new Error("<br /> must not have children!");y.appendLineBreak(Z!=null?Z:Number.MAX_SAFE_INTEGER,ee)}_handleIntrinsicElementJSON(y,W){var Z;const Q=y.appendPieceJSON(W.node);if((Z=this.tracer)!=null&&Z.includeInEpoch)for(const ee of Q.elements())this.tracer.includeInEpoch({id:ee.id,tokenBudget:0})}_handleIntrinsicUsedContext(y,W,Q){if(Q.length>0)throw new Error("<usedContext /> must not have children!");this._usedContext.push(...W.value)}_handleIntrinsicReferences(y,W,Q){if(Q.length>0)throw new Error("<reference /> must not have children!");for(const Z of W.value)y.addMetadata(new M(Z))}_handleIntrinsicIgnoredFiles(y,W,Q){if(Q.length>0)throw new Error("<ignoredFiles /> must not have children!");this._ignoredFiles.push(...W.value)}_handleExtrinsicTextChunkChildren(y,W,Q,Z){var O;const ee=[],J=[];for(const H of Z){if(H.kind==="extrinsic")throw new Error("TextChunk cannot have extrinsic children!");if(H.kind==="literal"&&ee.push(H.value),H.kind==="intrinsic")if(H.name==="br")ee.push(`
`);else if(H.name==="references")for(const I of H.props.value)J.push(new M(I));else this._handleIntrinsic(y,H.name,H.props,p(H.children),W.childIndex)}y.appendStringChild(ee.join(""),(O=Q==null?void 0:Q.priority)!=null?O:Number.MAX_SAFE_INTEGER,J,W.childIndex,!0)}}G.PromptRenderer=h;async function m(x,y,W,Q){let Z=0;(0,L.isChatMessagePromptElement)(W)&&(Z+=await x.countMessageTokens({role:y.props.role,content:"",...y.props.name?{name:y.props.name}:void 0}));for(const ee of Q)ee.kind==="literal"&&(Z+=await x.tokenLength(ee.value));return{tokensConsumed:Z}}function g(x){return typeof x=="undefined"||typeof x=="boolean"?[]:typeof x=="string"||typeof x=="number"?[new l(String(x))]:f(x)?[...p(x.children)]:typeof x.ctor=="string"?[new k(x.ctor,x.props,x.children)]:[new b(x.ctor,x.props,x.children)]}function p(x){return(x!=null?x:[]).reduce((y,W)=>(y.push(...g(W)),y),[])}class k{constructor(y,W,Q){At(this,"name");At(this,"props");At(this,"children");At(this,"kind","intrinsic");this.name=y,this.props=W,this.children=Q}}class b{constructor(y,W,Q){At(this,"ctor");At(this,"props");At(this,"children");At(this,"kind","extrinsic");this.ctor=y,this.props=W,this.children=Q}}class l{constructor(y,W){At(this,"value");At(this,"priority");At(this,"kind","literal");this.value=y,this.priority=W}}class E{constructor(y,W){At(this,"tokenBudget");At(this,"endpoint");At(this,"_consumed",0);this.tokenBudget=y,this.endpoint=W}get consumed(){return this._consumed>this.tokenBudget?this.tokenBudget:this._consumed}get remainingTokenBudget(){return Math.max(0,this.tokenBudget-this._consumed)}consume(y){this._consumed+=y}}const U=class U{constructor(y=null,W,Q=U._nextId++){At(this,"parent");At(this,"childIndex");At(this,"id");At(this,"kind",1);At(this,"_obj",null);At(this,"_state");At(this,"_children",[]);At(this,"_metadata",[]);this.parent=y,this.childIndex=W,this.id=Q}static fromJSON(y,W){var Z,ee;const Q=new U(null,y);switch(Q._metadata=(ee=(Z=W.references)==null?void 0:Z.map(J=>new M(D.PromptReference.fromJSON(J))))!=null?ee:[],Q._children=W.children.map((J,O)=>{switch(J.type){case 1:return U.fromJSON(O,J);case 2:return v.fromJSON(Q,O,J);default:}}).filter(_),W.ctor){case 1:Q._obj=new L.BaseChatMessage(W.props);break;case 2:break;default:W.ctor}return Q}setObj(y){this._obj=y}getObj(){return this._obj}setState(y){this._state=y}getState(){return this._state}createChild(){const y=new U(this,this._children.length);return this._children.push(y),y}appendPieceJSON(y){const W=U.fromJSON(this._children.length,y);return this._children.push(W),W}appendStringChild(y,W,Q,Z=this._children.length,ee=!1){this._children.push(new v(this,Z,y,W,Q,ee))}appendLineBreak(y,W=this._children.length){this._children.push(new v(this,W,`
`,y))}toJSON(){var W;const y={type:1,ctor:2,children:this._children.slice().sort((Q,Z)=>Q.childIndex-Z.childIndex).map(Q=>Q.toJSON()),priority:(W=this._obj)==null?void 0:W.props.priority,references:this._metadata.filter(Q=>Q instanceof M).map(Q=>Q.reference.toJSON())};return this._obj instanceof L.BaseChatMessage&&(y.ctor=1,y.props={role:this._obj.props.role,name:this._obj.props.name,priority:this._obj.props.priority,toolCalls:this._obj.props.toolCalls,toolCallId:this._obj.props.toolCallId}),y}materialize(){var y,W,Q,Z,ee,J;if(this._children.sort((O,H)=>O.childIndex-H.childIndex),this._obj instanceof L.BaseChatMessage){if(!this._obj.props.role)throw new Error("Invalid ChatMessage!");return new P.MaterializedChatMessage(this.id,this._obj.props.role,this._obj.props.name,this._obj instanceof L.AssistantMessage?this._obj.props.toolCalls:void 0,this._obj instanceof L.ToolMessage?this._obj.props.toolCallId:void 0,(y=this._obj.props.priority)!=null?y:Number.MAX_SAFE_INTEGER,this._metadata,this._children.map(H=>H.materialize()))}else{let O=0;return this._obj instanceof L.LegacyPrioritization&&(O|=1),this._obj instanceof L.Chunk&&(O|=2),(W=this._obj)!=null&&W.props.passPriority&&(O|=4),new P.MaterializedContainer(this.id,(Q=this._obj)==null?void 0:Q.constructor.name,(J=(Z=this._obj)==null?void 0:Z.props.priority)!=null?J:(ee=this._obj)!=null&&ee.props.passPriority?0:Number.MAX_SAFE_INTEGER,this._children.map(H=>H.materialize()),this._metadata,O)}}addMetadata(y){this._metadata.push(y)}*elements(){yield this;for(const y of this._children)y instanceof U&&(yield*y.elements())}};At(U,"_nextId",0);let c=U;class v{constructor(y,W,Q,Z,ee,J=!1){At(this,"parent");At(this,"childIndex");At(this,"text");At(this,"priority");At(this,"metadata");At(this,"lineBreakBefore");At(this,"kind",2);this.parent=y,this.childIndex=W,this.text=Q,this.priority=Z,this.metadata=ee,this.lineBreakBefore=J}static fromJSON(y,W,Q){var Z;return new v(y,W,Q.text,Q.priority,(Z=Q.references)==null?void 0:Z.map(ee=>new M(D.PromptReference.fromJSON(ee))),Q.lineBreakBefore)}collectLeafs(y){y.push(this)}materialize(){var W;const y=this.lineBreakBefore?1:this.childIndex===0?2:0;return new P.MaterializedChatMessageTextChunk(this.text,(W=this.priority)!=null?W:Number.MAX_SAFE_INTEGER,this.metadata||[],y)}toJSON(){var y;return{type:2,priority:this.priority,text:this.text,references:(y=this.metadata)==null?void 0:y.filter(W=>W instanceof M).map(W=>W.reference.toJSON()),lineBreakBefore:this.lineBreakBefore}}}function f(x){var y;return(y=typeof x.ctor=="function"&&x.ctor.isFragment)!=null?y:!1}function w(x){}function _(x){return x!==void 0}class R extends D.PromptMetadata{}class M extends R{constructor(W){super();At(this,"reference");this.reference=W}}},52727:(s,G,F)=>{"use strict";Object.defineProperty(G,"__esModule",{value:!0}),G.PromptReference=G.ChatResponseReferencePartStatusKind=G.PromptMetadata=void 0;const P=F(84326);class L{constructor(){At(this,"_marker")}toString(){return Object.getPrototypeOf(this).constructor.name}}G.PromptMetadata=L;var D;(function(h){h[h.Complete=1]="Complete",h[h.Partial=2]="Partial",h[h.Omitted=3]="Omitted"})(D||(G.ChatResponseReferencePartStatusKind=D={}));class A{constructor(m,g,p){At(this,"anchor");At(this,"iconPath");At(this,"options");this.anchor=m,this.iconPath=g,this.options=p}static fromJSON(m){const g=p=>"scheme"in p?P.URI.from(p):{uri:P.URI.from(p.uri),range:p.range};return new A("variableName"in m.anchor?{variableName:m.anchor.variableName,value:m.anchor.value&&g(m.anchor.value)}:g(m.anchor),m.iconPath&&("scheme"in m.iconPath?P.URI.from(m.iconPath):"light"in m.iconPath?{light:P.URI.from(m.iconPath.light),dark:P.URI.from(m.iconPath.dark)}:m.iconPath),m.options)}toJSON(){return{anchor:this.anchor,iconPath:this.iconPath,options:this.options}}}G.PromptReference=A},82990:(s,G,F)=>{"use strict";Object.defineProperty(G,"__esModule",{value:!0}),G.AnyTokenizer=void 0;const P=F(96423);class L{constructor(A){At(this,"countTokens");this.countTokens=A}async tokenLength(A,h){return this.countTokens(A,h)}async countMessageTokens(A){const h=await Promise.resolve().then(()=>F(91398));return this.countTokens({role:this.toChatRole(A.role),content:[new h.LanguageModelTextPart(A.content)],name:"name"in A?A.name:void 0})}toChatRole(A){switch(A){case P.ChatRole.User:return 1;case P.ChatRole.Assistant:return 2;case P.ChatRole.System:return 1;case P.ChatRole.Function:return 1;case P.ChatRole.Tool:return 1}}}G.AnyTokenizer=L},3804:(s,G)=>{"use strict";Object.defineProperty(G,"__esModule",{value:!0})},63479:(s,G)=>{"use strict";Object.defineProperty(G,"__esModule",{value:!0})},10818:()=>{"use strict";function s(F,P,...L){return{ctor:F,props:P,children:L.flat()}}function G(){throw new Error("This should not be invoked!")}G.isFragment=!0,globalThis.vscpp=s,globalThis.vscppf=G},68504:(s,G)=>{"use strict";Object.defineProperty(G,"__esModule",{value:!0})},22177:(s,G,F)=>{"use strict";//!!! DO NOT modify, this file was COPIED from 'microsoft/vscode'
Object.defineProperty(G,"__esModule",{value:!0}),G.delimiter=G.sep=G.toNamespacedPath=G.parse=G.format=G.extname=G.basename=G.dirname=G.relative=G.resolve=G.join=G.isAbsolute=G.normalize=G.posix=G.win32=void 0;const P=F(13),L=65,D=97,A=90,h=122,m=46,g=47,p=92,k=58,b=63;class l extends Error{constructor(W,Q,Z){let ee;typeof Q=="string"&&Q.indexOf("not ")===0?(ee="must not be",Q=Q.replace(/^not /,"")):ee="must be";const J=W.indexOf(".")!==-1?"property":"argument";let O=`The "${W}" ${J} ${ee} of type ${Q}`;O+=`. Received type ${typeof Z}`;super(O);At(this,"code");this.code="ERR_INVALID_ARG_TYPE"}}function E(x,y){if(x===null||typeof x!="object")throw new l(y,"Object",x)}function c(x,y){if(typeof x!="string")throw new l(y,"string",x)}const v=P.platform==="win32";function f(x){return x===g||x===p}function w(x){return x===g}function _(x){return x>=L&&x<=A||x>=D&&x<=h}function R(x,y,W,Q){let Z="",ee=0,J=-1,O=0,H=0;for(let I=0;I<=x.length;++I){if(I<x.length)H=x.charCodeAt(I);else{if(Q(H))break;H=g}if(Q(H)){if(!(J===I-1||O===1))if(O===2){if(Z.length<2||ee!==2||Z.charCodeAt(Z.length-1)!==m||Z.charCodeAt(Z.length-2)!==m){if(Z.length>2){const u=Z.lastIndexOf(W);u===-1?(Z="",ee=0):(Z=Z.slice(0,u),ee=Z.length-1-Z.lastIndexOf(W)),J=I,O=0;continue}else if(Z.length!==0){Z="",ee=0,J=I,O=0;continue}}y&&(Z+=Z.length>0?`${W}..`:"..",ee=2)}else Z.length>0?Z+=`${W}${x.slice(J+1,I)}`:Z=x.slice(J+1,I),ee=I-J-1;J=I,O=0}else H===m&&O!==-1?++O:O=-1}return Z}function M(x,y){E(y,"pathObject");const W=y.dir||y.root,Q=y.base||`${y.name||""}${y.ext||""}`;return W?W===y.root?`${W}${Q}`:`${W}${x}${Q}`:Q}G.win32={resolve(...x){let y="",W="",Q=!1;for(let Z=x.length-1;Z>=-1;Z--){let ee;if(Z>=0){if(ee=x[Z],c(ee,"path"),ee.length===0)continue}else y.length===0?ee=P.cwd():(ee=P.env[`=${y}`]||P.cwd(),(ee===void 0||ee.slice(0,2).toLowerCase()!==y.toLowerCase()&&ee.charCodeAt(2)===p)&&(ee=`${y}\\`));const J=ee.length;let O=0,H="",I=!1;const u=ee.charCodeAt(0);if(J===1)f(u)&&(O=1,I=!0);else if(f(u))if(I=!0,f(ee.charCodeAt(1))){let N=2,q=N;for(;N<J&&!f(ee.charCodeAt(N));)N++;if(N<J&&N!==q){const V=ee.slice(q,N);for(q=N;N<J&&f(ee.charCodeAt(N));)N++;if(N<J&&N!==q){for(q=N;N<J&&!f(ee.charCodeAt(N));)N++;(N===J||N!==q)&&(H=`\\\\${V}\\${ee.slice(q,N)}`,O=N)}}}else O=1;else _(u)&&ee.charCodeAt(1)===k&&(H=ee.slice(0,2),O=2,J>2&&f(ee.charCodeAt(2))&&(I=!0,O=3));if(H.length>0)if(y.length>0){if(H.toLowerCase()!==y.toLowerCase())continue}else y=H;if(Q){if(y.length>0)break}else if(W=`${ee.slice(O)}\\${W}`,Q=I,I&&y.length>0)break}return W=R(W,!Q,"\\",f),Q?`${y}\\${W}`:`${y}${W}`||"."},normalize(x){c(x,"path");const y=x.length;if(y===0)return".";let W=0,Q,Z=!1;const ee=x.charCodeAt(0);if(y===1)return w(ee)?"\\":x;if(f(ee))if(Z=!0,f(x.charCodeAt(1))){let O=2,H=O;for(;O<y&&!f(x.charCodeAt(O));)O++;if(O<y&&O!==H){const I=x.slice(H,O);for(H=O;O<y&&f(x.charCodeAt(O));)O++;if(O<y&&O!==H){for(H=O;O<y&&!f(x.charCodeAt(O));)O++;if(O===y)return`\\\\${I}\\${x.slice(H)}\\`;O!==H&&(Q=`\\\\${I}\\${x.slice(H,O)}`,W=O)}}}else W=1;else _(ee)&&x.charCodeAt(1)===k&&(Q=x.slice(0,2),W=2,y>2&&f(x.charCodeAt(2))&&(Z=!0,W=3));let J=W<y?R(x.slice(W),!Z,"\\",f):"";return J.length===0&&!Z&&(J="."),J.length>0&&f(x.charCodeAt(y-1))&&(J+="\\"),Q===void 0?Z?`\\${J}`:J:Z?`${Q}\\${J}`:`${Q}${J}`},isAbsolute(x){c(x,"path");const y=x.length;if(y===0)return!1;const W=x.charCodeAt(0);return f(W)||y>2&&_(W)&&x.charCodeAt(1)===k&&f(x.charCodeAt(2))},join(...x){if(x.length===0)return".";let y,W;for(let ee=0;ee<x.length;++ee){const J=x[ee];c(J,"path"),J.length>0&&(y===void 0?y=W=J:y+=`\\${J}`)}if(y===void 0)return".";let Q=!0,Z=0;if(typeof W=="string"&&f(W.charCodeAt(0))){++Z;const ee=W.length;ee>1&&f(W.charCodeAt(1))&&(++Z,ee>2&&(f(W.charCodeAt(2))?++Z:Q=!1))}if(Q){for(;Z<y.length&&f(y.charCodeAt(Z));)Z++;Z>=2&&(y=`\\${y.slice(Z)}`)}return G.win32.normalize(y)},relative(x,y){if(c(x,"from"),c(y,"to"),x===y)return"";const W=G.win32.resolve(x),Q=G.win32.resolve(y);if(W===Q||(x=W.toLowerCase(),y=Q.toLowerCase(),x===y))return"";let Z=0;for(;Z<x.length&&x.charCodeAt(Z)===p;)Z++;let ee=x.length;for(;ee-1>Z&&x.charCodeAt(ee-1)===p;)ee--;const J=ee-Z;let O=0;for(;O<y.length&&y.charCodeAt(O)===p;)O++;let H=y.length;for(;H-1>O&&y.charCodeAt(H-1)===p;)H--;const I=H-O,u=J<I?J:I;let N=-1,q=0;for(;q<u;q++){const K=x.charCodeAt(Z+q);if(K!==y.charCodeAt(O+q))break;K===p&&(N=q)}if(q!==u){if(N===-1)return Q}else{if(I>u){if(y.charCodeAt(O+q)===p)return Q.slice(O+q+1);if(q===2)return Q.slice(O+q)}J>u&&(x.charCodeAt(Z+q)===p?N=q:q===2&&(N=3)),N===-1&&(N=0)}let V="";for(q=Z+N+1;q<=ee;++q)(q===ee||x.charCodeAt(q)===p)&&(V+=V.length===0?"..":"\\..");return O+=N,V.length>0?`${V}${Q.slice(O,H)}`:(Q.charCodeAt(O)===p&&++O,Q.slice(O,H))},toNamespacedPath(x){if(typeof x!="string"||x.length===0)return x;const y=G.win32.resolve(x);if(y.length<=2)return x;if(y.charCodeAt(0)===p){if(y.charCodeAt(1)===p){const W=y.charCodeAt(2);if(W!==b&&W!==m)return`\\\\?\\UNC\\${y.slice(2)}`}}else if(_(y.charCodeAt(0))&&y.charCodeAt(1)===k&&y.charCodeAt(2)===p)return`\\\\?\\${y}`;return x},dirname(x){c(x,"path");const y=x.length;if(y===0)return".";let W=-1,Q=0;const Z=x.charCodeAt(0);if(y===1)return f(Z)?x:".";if(f(Z)){if(W=Q=1,f(x.charCodeAt(1))){let O=2,H=O;for(;O<y&&!f(x.charCodeAt(O));)O++;if(O<y&&O!==H){for(H=O;O<y&&f(x.charCodeAt(O));)O++;if(O<y&&O!==H){for(H=O;O<y&&!f(x.charCodeAt(O));)O++;if(O===y)return x;O!==H&&(W=Q=O+1)}}}}else _(Z)&&x.charCodeAt(1)===k&&(W=y>2&&f(x.charCodeAt(2))?3:2,Q=W);let ee=-1,J=!0;for(let O=y-1;O>=Q;--O)if(f(x.charCodeAt(O))){if(!J){ee=O;break}}else J=!1;if(ee===-1){if(W===-1)return".";ee=W}return x.slice(0,ee)},basename(x,y){y!==void 0&&c(y,"ext"),c(x,"path");let W=0,Q=-1,Z=!0,ee;if(x.length>=2&&_(x.charCodeAt(0))&&x.charCodeAt(1)===k&&(W=2),y!==void 0&&y.length>0&&y.length<=x.length){if(y===x)return"";let J=y.length-1,O=-1;for(ee=x.length-1;ee>=W;--ee){const H=x.charCodeAt(ee);if(f(H)){if(!Z){W=ee+1;break}}else O===-1&&(Z=!1,O=ee+1),J>=0&&(H===y.charCodeAt(J)?--J===-1&&(Q=ee):(J=-1,Q=O))}return W===Q?Q=O:Q===-1&&(Q=x.length),x.slice(W,Q)}for(ee=x.length-1;ee>=W;--ee)if(f(x.charCodeAt(ee))){if(!Z){W=ee+1;break}}else Q===-1&&(Z=!1,Q=ee+1);return Q===-1?"":x.slice(W,Q)},extname(x){c(x,"path");let y=0,W=-1,Q=0,Z=-1,ee=!0,J=0;x.length>=2&&x.charCodeAt(1)===k&&_(x.charCodeAt(0))&&(y=Q=2);for(let O=x.length-1;O>=y;--O){const H=x.charCodeAt(O);if(f(H)){if(!ee){Q=O+1;break}continue}Z===-1&&(ee=!1,Z=O+1),H===m?W===-1?W=O:J!==1&&(J=1):W!==-1&&(J=-1)}return W===-1||Z===-1||J===0||J===1&&W===Z-1&&W===Q+1?"":x.slice(W,Z)},format:M.bind(null,"\\"),parse(x){c(x,"path");const y={root:"",dir:"",base:"",ext:"",name:""};if(x.length===0)return y;const W=x.length;let Q=0,Z=x.charCodeAt(0);if(W===1)return f(Z)?(y.root=y.dir=x,y):(y.base=y.name=x,y);if(f(Z)){if(Q=1,f(x.charCodeAt(1))){let N=2,q=N;for(;N<W&&!f(x.charCodeAt(N));)N++;if(N<W&&N!==q){for(q=N;N<W&&f(x.charCodeAt(N));)N++;if(N<W&&N!==q){for(q=N;N<W&&!f(x.charCodeAt(N));)N++;N===W?Q=N:N!==q&&(Q=N+1)}}}}else if(_(Z)&&x.charCodeAt(1)===k){if(W<=2)return y.root=y.dir=x,y;if(Q=2,f(x.charCodeAt(2))){if(W===3)return y.root=y.dir=x,y;Q=3}}Q>0&&(y.root=x.slice(0,Q));let ee=-1,J=Q,O=-1,H=!0,I=x.length-1,u=0;for(;I>=Q;--I){if(Z=x.charCodeAt(I),f(Z)){if(!H){J=I+1;break}continue}O===-1&&(H=!1,O=I+1),Z===m?ee===-1?ee=I:u!==1&&(u=1):ee!==-1&&(u=-1)}return O!==-1&&(ee===-1||u===0||u===1&&ee===O-1&&ee===J+1?y.base=y.name=x.slice(J,O):(y.name=x.slice(J,ee),y.base=x.slice(J,O),y.ext=x.slice(ee,O))),J>0&&J!==Q?y.dir=x.slice(0,J-1):y.dir=y.root,y},sep:"\\",delimiter:";",win32:null,posix:null};const U=(()=>{if(v){const x=/\\/g;return()=>{const y=P.cwd().replace(x,"/");return y.slice(y.indexOf("/"))}}return()=>P.cwd()})();G.posix={resolve(...x){let y="",W=!1;for(let Q=x.length-1;Q>=-1&&!W;Q--){const Z=Q>=0?x[Q]:U();c(Z,"path"),Z.length!==0&&(y=`${Z}/${y}`,W=Z.charCodeAt(0)===g)}return y=R(y,!W,"/",w),W?`/${y}`:y.length>0?y:"."},normalize(x){if(c(x,"path"),x.length===0)return".";const y=x.charCodeAt(0)===g,W=x.charCodeAt(x.length-1)===g;return x=R(x,!y,"/",w),x.length===0?y?"/":W?"./":".":(W&&(x+="/"),y?`/${x}`:x)},isAbsolute(x){return c(x,"path"),x.length>0&&x.charCodeAt(0)===g},join(...x){if(x.length===0)return".";let y;for(let W=0;W<x.length;++W){const Q=x[W];c(Q,"path"),Q.length>0&&(y===void 0?y=Q:y+=`/${Q}`)}return y===void 0?".":G.posix.normalize(y)},relative(x,y){if(c(x,"from"),c(y,"to"),x===y||(x=G.posix.resolve(x),y=G.posix.resolve(y),x===y))return"";const W=1,Q=x.length,Z=Q-W,ee=1,J=y.length-ee,O=Z<J?Z:J;let H=-1,I=0;for(;I<O;I++){const N=x.charCodeAt(W+I);if(N!==y.charCodeAt(ee+I))break;N===g&&(H=I)}if(I===O)if(J>O){if(y.charCodeAt(ee+I)===g)return y.slice(ee+I+1);if(I===0)return y.slice(ee+I)}else Z>O&&(x.charCodeAt(W+I)===g?H=I:I===0&&(H=0));let u="";for(I=W+H+1;I<=Q;++I)(I===Q||x.charCodeAt(I)===g)&&(u+=u.length===0?"..":"/..");return`${u}${y.slice(ee+H)}`},toNamespacedPath(x){return x},dirname(x){if(c(x,"path"),x.length===0)return".";const y=x.charCodeAt(0)===g;let W=-1,Q=!0;for(let Z=x.length-1;Z>=1;--Z)if(x.charCodeAt(Z)===g){if(!Q){W=Z;break}}else Q=!1;return W===-1?y?"/":".":y&&W===1?"//":x.slice(0,W)},basename(x,y){y!==void 0&&c(y,"ext"),c(x,"path");let W=0,Q=-1,Z=!0,ee;if(y!==void 0&&y.length>0&&y.length<=x.length){if(y===x)return"";let J=y.length-1,O=-1;for(ee=x.length-1;ee>=0;--ee){const H=x.charCodeAt(ee);if(H===g){if(!Z){W=ee+1;break}}else O===-1&&(Z=!1,O=ee+1),J>=0&&(H===y.charCodeAt(J)?--J===-1&&(Q=ee):(J=-1,Q=O))}return W===Q?Q=O:Q===-1&&(Q=x.length),x.slice(W,Q)}for(ee=x.length-1;ee>=0;--ee)if(x.charCodeAt(ee)===g){if(!Z){W=ee+1;break}}else Q===-1&&(Z=!1,Q=ee+1);return Q===-1?"":x.slice(W,Q)},extname(x){c(x,"path");let y=-1,W=0,Q=-1,Z=!0,ee=0;for(let J=x.length-1;J>=0;--J){const O=x.charCodeAt(J);if(O===g){if(!Z){W=J+1;break}continue}Q===-1&&(Z=!1,Q=J+1),O===m?y===-1?y=J:ee!==1&&(ee=1):y!==-1&&(ee=-1)}return y===-1||Q===-1||ee===0||ee===1&&y===Q-1&&y===W+1?"":x.slice(y,Q)},format:M.bind(null,"/"),parse(x){c(x,"path");const y={root:"",dir:"",base:"",ext:"",name:""};if(x.length===0)return y;const W=x.charCodeAt(0)===g;let Q;W?(y.root="/",Q=1):Q=0;let Z=-1,ee=0,J=-1,O=!0,H=x.length-1,I=0;for(;H>=Q;--H){const u=x.charCodeAt(H);if(u===g){if(!O){ee=H+1;break}continue}J===-1&&(O=!1,J=H+1),u===m?Z===-1?Z=H:I!==1&&(I=1):Z!==-1&&(I=-1)}if(J!==-1){const u=ee===0&&W?1:ee;Z===-1||I===0||I===1&&Z===J-1&&Z===ee+1?y.base=y.name=x.slice(u,J):(y.name=x.slice(u,Z),y.base=x.slice(u,J),y.ext=x.slice(Z,J))}return ee>0?y.dir=x.slice(0,ee-1):W&&(y.dir="/"),y},sep:"/",delimiter:":",win32:null,posix:null},G.posix.win32=G.win32.win32=G.win32,G.posix.posix=G.win32.posix=G.posix,G.normalize=v?G.win32.normalize:G.posix.normalize,G.isAbsolute=v?G.win32.isAbsolute:G.posix.isAbsolute,G.join=v?G.win32.join:G.posix.join,G.resolve=v?G.win32.resolve:G.posix.resolve,G.relative=v?G.win32.relative:G.posix.relative,G.dirname=v?G.win32.dirname:G.posix.dirname,G.basename=v?G.win32.basename:G.posix.basename,G.extname=v?G.win32.extname:G.posix.extname,G.format=v?G.win32.format:G.posix.format,G.parse=v?G.win32.parse:G.posix.parse,G.toNamespacedPath=v?G.win32.toNamespacedPath:G.posix.toNamespacedPath,G.sep=v?G.win32.sep:G.posix.sep,G.delimiter=v?G.win32.delimiter:G.posix.delimiter},821:(s,G,F)=>{"use strict";var H;var P=F(65606);//!!! DO NOT modify, this file was COPIED from 'microsoft/vscode'
Object.defineProperty(G,"__esModule",{value:!0}),G.isAndroid=G.isEdge=G.isSafari=G.isFirefox=G.isChrome=G.OS=G.setTimeout0=G.setTimeout0IsFaster=G.translationsConfigFile=G.platformLocale=G.locale=G.Language=G.language=G.userAgent=G.platform=G.isCI=G.isMobile=G.isIOS=G.webWorkerOrigin=G.isWebWorker=G.isWeb=G.isElectron=G.isNative=G.isLinuxSnap=G.isLinux=G.isMacintosh=G.isWindows=G.LANGUAGE_DEFAULT=void 0,G.PlatformToString=y,G.isLittleEndian=J,G.isBigSurOrNewer=O;const L=F(69175);G.LANGUAGE_DEFAULT="en";let D=!1,A=!1,h=!1,m=!1,g=!1,p=!1,k=!1,b=!1,l=!1,E=!1,c,v=G.LANGUAGE_DEFAULT,f=G.LANGUAGE_DEFAULT,w,_;const R=globalThis;let M;typeof R.vscode!="undefined"&&typeof R.vscode.process!="undefined"?M=R.vscode.process:typeof P!="undefined"&&(M=P);const U=typeof((H=M==null?void 0:M.versions)==null?void 0:H.electron)=="string",x=U&&(M==null?void 0:M.type)==="renderer";if(typeof M=="object"){D=M.platform==="win32",A=M.platform==="darwin",h=M.platform==="linux",m=h&&!!M.env.SNAP&&!!M.env.SNAP_REVISION,k=U,l=!!M.env.CI||!!M.env.BUILD_ARTIFACTSTAGINGDIRECTORY,c=G.LANGUAGE_DEFAULT,v=G.LANGUAGE_DEFAULT;const I=M.env.VSCODE_NLS_CONFIG;if(I)try{const u=JSON.parse(I),N=u.availableLanguages["*"];c=u.locale,f=u.osLocale,v=N||G.LANGUAGE_DEFAULT,w=u._translationsConfigFile}catch{}g=!0}else typeof navigator=="object"&&!x?(_=navigator.userAgent,D=_.indexOf("Windows")>=0,A=_.indexOf("Macintosh")>=0,b=(_.indexOf("Macintosh")>=0||_.indexOf("iPad")>=0||_.indexOf("iPhone")>=0)&&!!navigator.maxTouchPoints&&navigator.maxTouchPoints>0,h=_.indexOf("Linux")>=0,E=(_==null?void 0:_.indexOf("Mobi"))>=0,p=!0,c=L.getConfiguredDefaultLocale(L.localize({key:"ensureLoaderPluginIsLoaded",comment:["{Locked}"]},"_"))||G.LANGUAGE_DEFAULT,v=c,f=navigator.language):console.error("Unable to resolve platform.");function y(I){switch(I){case 0:return"Web";case 1:return"Mac";case 2:return"Linux";case 3:return"Windows"}}let W=0;A?W=1:D?W=3:h&&(W=2),G.isWindows=D,G.isMacintosh=A,G.isLinux=h,G.isLinuxSnap=m,G.isNative=g,G.isElectron=k,G.isWeb=p,G.isWebWorker=p&&typeof R.importScripts=="function",G.webWorkerOrigin=G.isWebWorker?R.origin:void 0,G.isIOS=b,G.isMobile=E,G.isCI=l,G.platform=W,G.userAgent=_,G.language=v;var Q;(function(I){function u(){return G.language}I.value=u;function N(){return G.language.length===2?G.language==="en":G.language.length>=3?G.language[0]==="e"&&G.language[1]==="n"&&G.language[2]==="-":!1}I.isDefaultVariant=N;function q(){return G.language==="en"}I.isDefault=q})(Q||(G.Language=Q={})),G.locale=c,G.platformLocale=f,G.translationsConfigFile=w,G.setTimeout0IsFaster=typeof R.postMessage=="function"&&!R.importScripts,G.setTimeout0=(()=>{if(G.setTimeout0IsFaster){const I=[];R.addEventListener("message",N=>{if(N.data&&N.data.vscodeScheduleAsyncWork)for(let q=0,V=I.length;q<V;q++){const K=I[q];if(K.id===N.data.vscodeScheduleAsyncWork){I.splice(q,1),K.callback();return}}});let u=0;return N=>{const q=++u;I.push({id:q,callback:N}),R.postMessage({vscodeScheduleAsyncWork:q},"*")}}return I=>setTimeout(I)})(),G.OS=A||b?2:D?1:3;let Z=!0,ee=!1;function J(){if(!ee){ee=!0;const I=new Uint8Array(2);I[0]=1,I[1]=2,Z=new Uint16Array(I.buffer)[0]===513}return Z}G.isChrome=!!(G.userAgent&&G.userAgent.indexOf("Chrome")>=0),G.isFirefox=!!(G.userAgent&&G.userAgent.indexOf("Firefox")>=0),G.isSafari=!!(!G.isChrome&&G.userAgent&&G.userAgent.indexOf("Safari")>=0),G.isEdge=!!(G.userAgent&&G.userAgent.indexOf("Edg/")>=0),G.isAndroid=!!(G.userAgent&&G.userAgent.indexOf("Android")>=0);function O(I){return parseFloat(I)>=20}},13:(s,G,F)=>{"use strict";var P=F(65606);//!!! DO NOT modify, this file was COPIED from 'microsoft/vscode'
Object.defineProperty(G,"__esModule",{value:!0}),G.arch=G.platform=G.env=G.cwd=void 0;const L=F(821);let D;const A=globalThis.vscode;if(typeof A!="undefined"&&typeof A.process!="undefined"){const h=A.process;D={get platform(){return h.platform},get arch(){return h.arch},get env(){return h.env},cwd(){return h.cwd()}}}else typeof P!="undefined"?D={get platform(){return P.platform},get arch(){return P.arch},get env(){return P.env},cwd(){return P.env.VSCODE_CWD||P.cwd()}}:D={get platform(){return L.isWindows?"win32":L.isMacintosh?"darwin":"linux"},get arch(){},get env(){return{}},cwd(){return"/"}};G.cwd=D.cwd,G.env=D.env,G.platform=D.platform,G.arch=D.arch},84326:(s,G,F)=>{"use strict";//!!! DO NOT modify, this file was COPIED from 'microsoft/vscode'
Object.defineProperty(G,"__esModule",{value:!0}),G.URI=void 0,G.isUriComponents=c,G.uriToFsPath=M;const P=F(22177),L=F(821),D=/^\w[\w\d+.-]*$/,A=/^\//,h=/^\/\//;function m(Q,Z){if(!Q.scheme&&Z)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${Q.authority}", path: "${Q.path}", query: "${Q.query}", fragment: "${Q.fragment}"}`);if(Q.scheme&&!D.test(Q.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(Q.path){if(Q.authority){if(!A.test(Q.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(h.test(Q.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}function g(Q,Z){return!Q&&!Z?"file":Q}function p(Q,Z){switch(Q){case"https":case"http":case"file":Z?Z[0]!==b&&(Z=b+Z):Z=b;break}return Z}const k="",b="/",l=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class E{constructor(Z,ee,J,O,H,I=!1){At(this,"scheme");At(this,"authority");At(this,"path");At(this,"query");At(this,"fragment");typeof Z=="object"?(this.scheme=Z.scheme||k,this.authority=Z.authority||k,this.path=Z.path||k,this.query=Z.query||k,this.fragment=Z.fragment||k):(this.scheme=g(Z,I),this.authority=ee||k,this.path=p(this.scheme,J||k),this.query=O||k,this.fragment=H||k,m(this,I))}static isUri(Z){return Z instanceof E?!0:Z?typeof Z.authority=="string"&&typeof Z.fragment=="string"&&typeof Z.path=="string"&&typeof Z.query=="string"&&typeof Z.scheme=="string"&&typeof Z.fsPath=="string"&&typeof Z.with=="function"&&typeof Z.toString=="function":!1}get fsPath(){return M(this,!1)}with(Z){if(!Z)return this;let{scheme:ee,authority:J,path:O,query:H,fragment:I}=Z;return ee===void 0?ee=this.scheme:ee===null&&(ee=k),J===void 0?J=this.authority:J===null&&(J=k),O===void 0?O=this.path:O===null&&(O=k),H===void 0?H=this.query:H===null&&(H=k),I===void 0?I=this.fragment:I===null&&(I=k),ee===this.scheme&&J===this.authority&&O===this.path&&H===this.query&&I===this.fragment?this:new f(ee,J,O,H,I)}static parse(Z,ee=!1){const J=l.exec(Z);return J?new f(J[2]||k,W(J[4]||k),W(J[5]||k),W(J[7]||k),W(J[9]||k),ee):new f(k,k,k,k,k)}static file(Z){let ee=k;if(L.isWindows&&(Z=Z.replace(/\\/g,b)),Z[0]===b&&Z[1]===b){const J=Z.indexOf(b,2);J===-1?(ee=Z.substring(2),Z=b):(ee=Z.substring(2,J),Z=Z.substring(J)||b)}return new f("file",ee,Z,k,k)}static from(Z,ee){return new f(Z.scheme,Z.authority,Z.path,Z.query,Z.fragment,ee)}static joinPath(Z,...ee){if(!Z.path)throw new Error("[UriError]: cannot call joinPath on URI without path");let J;return L.isWindows&&Z.scheme==="file"?J=E.file(P.win32.join(M(Z,!0),...ee)).path:J=P.posix.join(Z.path,...ee),Z.with({path:J})}toString(Z=!1){return U(this,Z)}toJSON(){return this}static revive(Z){var ee,J;if(Z){if(Z instanceof E)return Z;{const O=new f(Z);return O._formatted=(ee=Z.external)!=null?ee:null,O._fsPath=Z._sep===v&&(J=Z.fsPath)!=null?J:null,O}}else return Z}}G.URI=E;function c(Q){return!Q||typeof Q!="object"?!1:typeof Q.scheme=="string"&&(typeof Q.authority=="string"||typeof Q.authority=="undefined")&&(typeof Q.path=="string"||typeof Q.path=="undefined")&&(typeof Q.query=="string"||typeof Q.query=="undefined")&&(typeof Q.fragment=="string"||typeof Q.fragment=="undefined")}const v=L.isWindows?1:void 0;class f extends E{constructor(){super(...arguments);At(this,"_formatted",null);At(this,"_fsPath",null)}get fsPath(){return this._fsPath||(this._fsPath=M(this,!1)),this._fsPath}toString(ee=!1){return ee?U(this,!0):(this._formatted||(this._formatted=U(this,!1)),this._formatted)}toJSON(){const ee={$mid:1};return this._fsPath&&(ee.fsPath=this._fsPath,ee._sep=v),this._formatted&&(ee.external=this._formatted),this.path&&(ee.path=this.path),this.scheme&&(ee.scheme=this.scheme),this.authority&&(ee.authority=this.authority),this.query&&(ee.query=this.query),this.fragment&&(ee.fragment=this.fragment),ee}}const w={58:"%3A",47:"%2F",63:"%3F",35:"%23",91:"%5B",93:"%5D",64:"%40",33:"%21",36:"%24",38:"%26",39:"%27",40:"%28",41:"%29",42:"%2A",43:"%2B",44:"%2C",59:"%3B",61:"%3D",32:"%20"};function _(Q,Z,ee){let J,O=-1;for(let H=0;H<Q.length;H++){const I=Q.charCodeAt(H);if(I>=97&&I<=122||I>=65&&I<=90||I>=48&&I<=57||I===45||I===46||I===95||I===126||Z&&I===47||ee&&I===91||ee&&I===93||ee&&I===58)O!==-1&&(J+=encodeURIComponent(Q.substring(O,H)),O=-1),J!==void 0&&(J+=Q.charAt(H));else{J===void 0&&(J=Q.substr(0,H));const u=w[I];u!==void 0?(O!==-1&&(J+=encodeURIComponent(Q.substring(O,H)),O=-1),J+=u):O===-1&&(O=H)}}return O!==-1&&(J+=encodeURIComponent(Q.substring(O))),J!==void 0?J:Q}function R(Q){let Z;for(let ee=0;ee<Q.length;ee++){const J=Q.charCodeAt(ee);J===35||J===63?(Z===void 0&&(Z=Q.substr(0,ee)),Z+=w[J]):Z!==void 0&&(Z+=Q[ee])}return Z!==void 0?Z:Q}function M(Q,Z){let ee;return Q.authority&&Q.path.length>1&&Q.scheme==="file"?ee=`//${Q.authority}${Q.path}`:Q.path.charCodeAt(0)===47&&(Q.path.charCodeAt(1)>=65&&Q.path.charCodeAt(1)<=90||Q.path.charCodeAt(1)>=97&&Q.path.charCodeAt(1)<=122)&&Q.path.charCodeAt(2)===58?Z?ee=Q.path.substr(1):ee=Q.path[1].toLowerCase()+Q.path.substr(2):ee=Q.path,L.isWindows&&(ee=ee.replace(/\//g,"\\")),ee}function U(Q,Z){const ee=Z?R:_;let J="",{scheme:O,authority:H,path:I,query:u,fragment:N}=Q;if(O&&(J+=O,J+=":"),(H||O==="file")&&(J+=b,J+=b),H){let q=H.indexOf("@");if(q!==-1){const V=H.substr(0,q);H=H.substr(q+1),q=V.lastIndexOf(":"),q===-1?J+=ee(V,!1,!1):(J+=ee(V.substr(0,q),!1,!1),J+=":",J+=ee(V.substr(q+1),!1,!0)),J+="@"}H=H.toLowerCase(),q=H.lastIndexOf(":"),q===-1?J+=ee(H,!1,!0):(J+=ee(H.substr(0,q),!1,!0),J+=H.substr(q))}if(I){if(I.length>=3&&I.charCodeAt(0)===47&&I.charCodeAt(2)===58){const q=I.charCodeAt(1);q>=65&&q<=90&&(I=`/${String.fromCharCode(q+32)}:${I.substr(3)}`)}else if(I.length>=2&&I.charCodeAt(1)===58){const q=I.charCodeAt(0);q>=65&&q<=90&&(I=`${String.fromCharCode(q+32)}:${I.substr(2)}`)}J+=ee(I,!0,!1)}return u&&(J+="?",J+=ee(u,!1,!1)),N&&(J+="#",J+=Z?N:_(N,!1,!1)),J}function x(Q){try{return decodeURIComponent(Q)}catch{return Q.length>3?Q.substr(0,3)+x(Q.substr(3)):Q}}const y=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function W(Q){return Q.match(y)?Q.replace(y,Z=>x(Z)):Q}},69175:(s,G)=>{"use strict";//!!! DO NOT modify, this file was COPIED from 'microsoft/vscode'
Object.defineProperty(G,"__esModule",{value:!0}),G.localize=P,G.localize2=L,G.getConfiguredDefaultLocale=D;function F(A,h){let m;return h.length===0?m=A:m=A.replace(/\{(\d+)\}/g,function(g,p){const k=p[0];return typeof h[k]!="undefined"?h[k]:g}),m}function P(A,h,...m){return F(h,m)}function L(A,h,...m){const g=F(h,m);return{original:g,value:g}}function D(A){}},87568:(s,G,F)=>{"use strict";const P=G;P.bignum=F(39404),P.define=F(47363).define,P.base=F(9673),P.constants=F(22153),P.decoders=F(22853),P.encoders=F(24669)},47363:(s,G,F)=>{"use strict";const P=F(24669),L=F(22853),D=F(56698),A=G;A.define=function(g,p){return new h(g,p)};function h(m,g){this.name=m,this.body=g,this.decoders={},this.encoders={}}h.prototype._createNamed=function(g){const p=this.name;function k(b){this._initNamed(b,p)}return D(k,g),k.prototype._initNamed=function(l,E){g.call(this,l,E)},new k(this)},h.prototype._getDecoder=function(g){return g=g||"der",this.decoders.hasOwnProperty(g)||(this.decoders[g]=this._createNamed(L[g])),this.decoders[g]},h.prototype.decode=function(g,p,k){return this._getDecoder(p).decode(g,k)},h.prototype._getEncoder=function(g){return g=g||"der",this.encoders.hasOwnProperty(g)||(this.encoders[g]=this._createNamed(P[g])),this.encoders[g]},h.prototype.encode=function(g,p,k){return this._getEncoder(p).encode(g,k)}},47227:(s,G,F)=>{"use strict";const P=F(56698),L=F(89220).a,D=F(54774).Buffer;function A(m,g){if(L.call(this,g),!D.isBuffer(m)){this.error("Input not Buffer");return}this.base=m,this.offset=0,this.length=m.length}P(A,L),G.t=A,A.isDecoderBuffer=function(g){return g instanceof A?!0:typeof g=="object"&&D.isBuffer(g.base)&&g.constructor.name==="DecoderBuffer"&&typeof g.offset=="number"&&typeof g.length=="number"&&typeof g.save=="function"&&typeof g.restore=="function"&&typeof g.isEmpty=="function"&&typeof g.readUInt8=="function"&&typeof g.skip=="function"&&typeof g.raw=="function"},A.prototype.save=function(){return{offset:this.offset,reporter:L.prototype.save.call(this)}},A.prototype.restore=function(g){const p=new A(this.base);return p.offset=g.offset,p.length=this.offset,this.offset=g.offset,L.prototype.restore.call(this,g.reporter),p},A.prototype.isEmpty=function(){return this.offset===this.length},A.prototype.readUInt8=function(g){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(g||"DecoderBuffer overrun")},A.prototype.skip=function(g,p){if(!(this.offset+g<=this.length))return this.error(p||"DecoderBuffer overrun");const k=new A(this.base);return k._reporterState=this._reporterState,k.offset=this.offset,k.length=this.offset+g,this.offset+=g,k},A.prototype.raw=function(g){return this.base.slice(g?g.offset:this.offset,this.length)};function h(m,g){if(Array.isArray(m))this.length=0,this.value=m.map(function(p){return h.isEncoderBuffer(p)||(p=new h(p,g)),this.length+=p.length,p},this);else if(typeof m=="number"){if(!(0<=m&&m<=255))return g.error("non-byte EncoderBuffer value");this.value=m,this.length=1}else if(typeof m=="string")this.value=m,this.length=D.byteLength(m);else if(D.isBuffer(m))this.value=m,this.length=m.length;else return g.error("Unsupported type: "+typeof m)}G.d=h,h.isEncoderBuffer=function(g){return g instanceof h?!0:typeof g=="object"&&g.constructor.name==="EncoderBuffer"&&typeof g.length=="number"&&typeof g.join=="function"},h.prototype.join=function(g,p){return g||(g=D.alloc(this.length)),p||(p=0),this.length===0||(Array.isArray(this.value)?this.value.forEach(function(k){k.join(g,p),p+=k.length}):(typeof this.value=="number"?g[p]=this.value:typeof this.value=="string"?g.write(this.value,p):D.isBuffer(this.value)&&this.value.copy(g,p),p+=this.length)),g}},9673:(s,G,F)=>{"use strict";const P=G;P.Reporter=F(89220).a,P.DecoderBuffer=F(47227).t,P.EncoderBuffer=F(47227).d,P.Node=F(90993)},90993:(s,G,F)=>{"use strict";const P=F(89220).a,L=F(47227).d,D=F(47227).t,A=F(43349),h=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],m=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(h),g=["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"];function p(b,l,E){const c={};this._baseState=c,c.name=E,c.enc=b,c.parent=l||null,c.children=null,c.tag=null,c.args=null,c.reverseArgs=null,c.choice=null,c.optional=!1,c.any=!1,c.obj=!1,c.use=null,c.useDecoder=null,c.key=null,c.default=null,c.explicit=null,c.implicit=null,c.contains=null,c.parent||(c.children=[],this._wrap())}s.exports=p;const k=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];p.prototype.clone=function(){const l=this._baseState,E={};k.forEach(function(v){E[v]=l[v]});const c=new this.constructor(E.parent);return c._baseState=E,c},p.prototype._wrap=function(){const l=this._baseState;m.forEach(function(E){this[E]=function(){const v=new this.constructor(this);return l.children.push(v),v[E].apply(v,arguments)}},this)},p.prototype._init=function(l){const E=this._baseState;A(E.parent===null),l.call(this),E.children=E.children.filter(function(c){return c._baseState.parent===this},this),A.equal(E.children.length,1,"Root node can have only one child")},p.prototype._useArgs=function(l){const E=this._baseState,c=l.filter(function(v){return v instanceof this.constructor},this);l=l.filter(function(v){return!(v instanceof this.constructor)},this),c.length!==0&&(A(E.children===null),E.children=c,c.forEach(function(v){v._baseState.parent=this},this)),l.length!==0&&(A(E.args===null),E.args=l,E.reverseArgs=l.map(function(v){if(typeof v!="object"||v.constructor!==Object)return v;const f={};return Object.keys(v).forEach(function(w){w==(w|0)&&(w|=0);const _=v[w];f[_]=w}),f}))},g.forEach(function(b){p.prototype[b]=function(){const E=this._baseState;throw new Error(b+" not implemented for encoding: "+E.enc)}}),h.forEach(function(b){p.prototype[b]=function(){const E=this._baseState,c=Array.prototype.slice.call(arguments);return A(E.tag===null),E.tag=b,this._useArgs(c),this}}),p.prototype.use=function(l){A(l);const E=this._baseState;return A(E.use===null),E.use=l,this},p.prototype.optional=function(){const l=this._baseState;return l.optional=!0,this},p.prototype.def=function(l){const E=this._baseState;return A(E.default===null),E.default=l,E.optional=!0,this},p.prototype.explicit=function(l){const E=this._baseState;return A(E.explicit===null&&E.implicit===null),E.explicit=l,this},p.prototype.implicit=function(l){const E=this._baseState;return A(E.explicit===null&&E.implicit===null),E.implicit=l,this},p.prototype.obj=function(){const l=this._baseState,E=Array.prototype.slice.call(arguments);return l.obj=!0,E.length!==0&&this._useArgs(E),this},p.prototype.key=function(l){const E=this._baseState;return A(E.key===null),E.key=l,this},p.prototype.any=function(){const l=this._baseState;return l.any=!0,this},p.prototype.choice=function(l){const E=this._baseState;return A(E.choice===null),E.choice=l,this._useArgs(Object.keys(l).map(function(c){return l[c]})),this},p.prototype.contains=function(l){const E=this._baseState;return A(E.use===null),E.contains=l,this},p.prototype._decode=function(l,E){const c=this._baseState;if(c.parent===null)return l.wrapResult(c.children[0]._decode(l,E));let v=c.default,f=!0,w=null;if(c.key!==null&&(w=l.enterKey(c.key)),c.optional){let R=null;if(c.explicit!==null?R=c.explicit:c.implicit!==null?R=c.implicit:c.tag!==null&&(R=c.tag),R===null&&!c.any){const M=l.save();try{c.choice===null?this._decodeGeneric(c.tag,l,E):this._decodeChoice(l,E),f=!0}catch{f=!1}l.restore(M)}else if(f=this._peekTag(l,R,c.any),l.isError(f))return f}let _;if(c.obj&&f&&(_=l.enterObject()),f){if(c.explicit!==null){const M=this._decodeTag(l,c.explicit);if(l.isError(M))return M;l=M}const R=l.offset;if(c.use===null&&c.choice===null){let M;c.any&&(M=l.save());const U=this._decodeTag(l,c.implicit!==null?c.implicit:c.tag,c.any);if(l.isError(U))return U;c.any?v=l.raw(M):l=U}if(E&&E.track&&c.tag!==null&&E.track(l.path(),R,l.length,"tagged"),E&&E.track&&c.tag!==null&&E.track(l.path(),l.offset,l.length,"content"),c.any||(c.choice===null?v=this._decodeGeneric(c.tag,l,E):v=this._decodeChoice(l,E)),l.isError(v))return v;if(!c.any&&c.choice===null&&c.children!==null&&c.children.forEach(function(U){U._decode(l,E)}),c.contains&&(c.tag==="octstr"||c.tag==="bitstr")){const M=new D(v);v=this._getUse(c.contains,l._reporterState.obj)._decode(M,E)}}return c.obj&&f&&(v=l.leaveObject(_)),c.key!==null&&(v!==null||f===!0)?l.leaveKey(w,c.key,v):w!==null&&l.exitKey(w),v},p.prototype._decodeGeneric=function(l,E,c){const v=this._baseState;return l==="seq"||l==="set"?null:l==="seqof"||l==="setof"?this._decodeList(E,l,v.args[0],c):/str$/.test(l)?this._decodeStr(E,l,c):l==="objid"&&v.args?this._decodeObjid(E,v.args[0],v.args[1],c):l==="objid"?this._decodeObjid(E,null,null,c):l==="gentime"||l==="utctime"?this._decodeTime(E,l,c):l==="null_"?this._decodeNull(E,c):l==="bool"?this._decodeBool(E,c):l==="objDesc"?this._decodeStr(E,l,c):l==="int"||l==="enum"?this._decodeInt(E,v.args&&v.args[0],c):v.use!==null?this._getUse(v.use,E._reporterState.obj)._decode(E,c):E.error("unknown tag: "+l)},p.prototype._getUse=function(l,E){const c=this._baseState;return c.useDecoder=this._use(l,E),A(c.useDecoder._baseState.parent===null),c.useDecoder=c.useDecoder._baseState.children[0],c.implicit!==c.useDecoder._baseState.implicit&&(c.useDecoder=c.useDecoder.clone(),c.useDecoder._baseState.implicit=c.implicit),c.useDecoder},p.prototype._decodeChoice=function(l,E){const c=this._baseState;let v=null,f=!1;return Object.keys(c.choice).some(function(w){const _=l.save(),R=c.choice[w];try{const M=R._decode(l,E);if(l.isError(M))return!1;v={type:w,value:M},f=!0}catch{return l.restore(_),!1}return!0},this),f?v:l.error("Choice not matched")},p.prototype._createEncoderBuffer=function(l){return new L(l,this.reporter)},p.prototype._encode=function(l,E,c){const v=this._baseState;if(v.default!==null&&v.default===l)return;const f=this._encodeValue(l,E,c);if(f!==void 0&&!this._skipDefault(f,E,c))return f},p.prototype._encodeValue=function(l,E,c){const v=this._baseState;if(v.parent===null)return v.children[0]._encode(l,E||new P);let f=null;if(this.reporter=E,v.optional&&l===void 0)if(v.default!==null)l=v.default;else return;let w=null,_=!1;if(v.any)f=this._createEncoderBuffer(l);else if(v.choice)f=this._encodeChoice(l,E);else if(v.contains)w=this._getUse(v.contains,c)._encode(l,E),_=!0;else if(v.children)w=v.children.map(function(R){if(R._baseState.tag==="null_")return R._encode(null,E,l);if(R._baseState.key===null)return E.error("Child should have a key");const M=E.enterKey(R._baseState.key);if(typeof l!="object")return E.error("Child expected, but input is not object");const U=R._encode(l[R._baseState.key],E,l);return E.leaveKey(M),U},this).filter(function(R){return R}),w=this._createEncoderBuffer(w);else if(v.tag==="seqof"||v.tag==="setof"){if(!(v.args&&v.args.length===1))return E.error("Too many args for : "+v.tag);if(!Array.isArray(l))return E.error("seqof/setof, but data is not Array");const R=this.clone();R._baseState.implicit=null,w=this._createEncoderBuffer(l.map(function(M){const U=this._baseState;return this._getUse(U.args[0],l)._encode(M,E)},R))}else v.use!==null?f=this._getUse(v.use,c)._encode(l,E):(w=this._encodePrimitive(v.tag,l),_=!0);if(!v.any&&v.choice===null){const R=v.implicit!==null?v.implicit:v.tag,M=v.implicit===null?"universal":"context";R===null?v.use===null&&E.error("Tag could be omitted only for .use()"):v.use===null&&(f=this._encodeComposite(R,_,M,w))}return v.explicit!==null&&(f=this._encodeComposite(v.explicit,!1,"context",f)),f},p.prototype._encodeChoice=function(l,E){const c=this._baseState,v=c.choice[l.type];return v||A(!1,l.type+" not found in "+JSON.stringify(Object.keys(c.choice))),v._encode(l.value,E)},p.prototype._encodePrimitive=function(l,E){const c=this._baseState;if(/str$/.test(l))return this._encodeStr(E,l);if(l==="objid"&&c.args)return this._encodeObjid(E,c.reverseArgs[0],c.args[1]);if(l==="objid")return this._encodeObjid(E,null,null);if(l==="gentime"||l==="utctime")return this._encodeTime(E,l);if(l==="null_")return this._encodeNull();if(l==="int"||l==="enum")return this._encodeInt(E,c.args&&c.reverseArgs[0]);if(l==="bool")return this._encodeBool(E);if(l==="objDesc")return this._encodeStr(E,l);throw new Error("Unsupported tag: "+l)},p.prototype._isNumstr=function(l){return/^[0-9 ]*$/.test(l)},p.prototype._isPrintstr=function(l){return/^[A-Za-z0-9 '()+,-./:=?]*$/.test(l)}},89220:(s,G,F)=>{"use strict";const P=F(56698);function L(A){this._reporterState={obj:null,path:[],options:A||{},errors:[]}}G.a=L,L.prototype.isError=function(h){return h instanceof D},L.prototype.save=function(){const h=this._reporterState;return{obj:h.obj,pathLen:h.path.length}},L.prototype.restore=function(h){const m=this._reporterState;m.obj=h.obj,m.path=m.path.slice(0,h.pathLen)},L.prototype.enterKey=function(h){return this._reporterState.path.push(h)},L.prototype.exitKey=function(h){const m=this._reporterState;m.path=m.path.slice(0,h-1)},L.prototype.leaveKey=function(h,m,g){const p=this._reporterState;this.exitKey(h),p.obj!==null&&(p.obj[m]=g)},L.prototype.path=function(){return this._reporterState.path.join("/")},L.prototype.enterObject=function(){const h=this._reporterState,m=h.obj;return h.obj={},m},L.prototype.leaveObject=function(h){const m=this._reporterState,g=m.obj;return m.obj=h,g},L.prototype.error=function(h){let m;const g=this._reporterState,p=h instanceof D;if(p?m=h:m=new D(g.path.map(function(k){return"["+JSON.stringify(k)+"]"}).join(""),h.message||h,h.stack),!g.options.partial)throw m;return p||g.errors.push(m),m},L.prototype.wrapResult=function(h){const m=this._reporterState;return m.options.partial?{result:this.isError(h)?null:h,errors:m.errors}:h};function D(A,h){this.path=A,this.rethrow(h)}P(D,Error),D.prototype.rethrow=function(h){if(this.message=h+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,D),!this.stack)try{throw new Error(this.message)}catch(m){this.stack=m.stack}return this}},74598:(s,G)=>{"use strict";function F(P){const L={};return Object.keys(P).forEach(function(D){(D|0)==D&&(D=D|0);const A=P[D];L[A]=D}),L}G.tagClass={0:"universal",1:"application",2:"context",3:"private"},G.tagClassByName=F(G.tagClass),G.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},G.tagByName=F(G.tag)},22153:(s,G,F)=>{"use strict";const P=G;P._reverse=function(D){const A={};return Object.keys(D).forEach(function(h){(h|0)==h&&(h=h|0);const m=D[h];A[m]=h}),A},P.der=F(74598)},62010:(s,G,F)=>{"use strict";const P=F(56698),L=F(39404),D=F(47227).t,A=F(90993),h=F(74598);function m(b){this.enc="der",this.name=b.name,this.entity=b,this.tree=new g,this.tree._init(b.body)}s.exports=m,m.prototype.decode=function(l,E){return D.isDecoderBuffer(l)||(l=new D(l,E)),this.tree._decode(l,E)};function g(b){A.call(this,"der",b)}P(g,A),g.prototype._peekTag=function(l,E,c){if(l.isEmpty())return!1;const v=l.save(),f=p(l,'Failed to peek tag: "'+E+'"');return l.isError(f)?f:(l.restore(v),f.tag===E||f.tagStr===E||f.tagStr+"of"===E||c)},g.prototype._decodeTag=function(l,E,c){const v=p(l,'Failed to decode tag of "'+E+'"');if(l.isError(v))return v;let f=k(l,v.primitive,'Failed to get length of "'+E+'"');if(l.isError(f))return f;if(!c&&v.tag!==E&&v.tagStr!==E&&v.tagStr+"of"!==E)return l.error('Failed to match tag: "'+E+'"');if(v.primitive||f!==null)return l.skip(f,'Failed to match body of: "'+E+'"');const w=l.save(),_=this._skipUntilEnd(l,'Failed to skip indefinite length body: "'+this.tag+'"');return l.isError(_)?_:(f=l.offset-w.offset,l.restore(w),l.skip(f,'Failed to match body of: "'+E+'"'))},g.prototype._skipUntilEnd=function(l,E){for(;;){const c=p(l,E);if(l.isError(c))return c;const v=k(l,c.primitive,E);if(l.isError(v))return v;let f;if(c.primitive||v!==null?f=l.skip(v):f=this._skipUntilEnd(l,E),l.isError(f))return f;if(c.tagStr==="end")break}},g.prototype._decodeList=function(l,E,c,v){const f=[];for(;!l.isEmpty();){const w=this._peekTag(l,"end");if(l.isError(w))return w;const _=c.decode(l,"der",v);if(l.isError(_)&&w)break;f.push(_)}return f},g.prototype._decodeStr=function(l,E){if(E==="bitstr"){const c=l.readUInt8();return l.isError(c)?c:{unused:c,data:l.raw()}}else if(E==="bmpstr"){const c=l.raw();if(c.length%2===1)return l.error("Decoding of string type: bmpstr length mismatch");let v="";for(let f=0;f<c.length/2;f++)v+=String.fromCharCode(c.readUInt16BE(f*2));return v}else if(E==="numstr"){const c=l.raw().toString("ascii");return this._isNumstr(c)?c:l.error("Decoding of string type: numstr unsupported characters")}else{if(E==="octstr")return l.raw();if(E==="objDesc")return l.raw();if(E==="printstr"){const c=l.raw().toString("ascii");return this._isPrintstr(c)?c:l.error("Decoding of string type: printstr unsupported characters")}else return/str$/.test(E)?l.raw().toString():l.error("Decoding of string type: "+E+" unsupported")}},g.prototype._decodeObjid=function(l,E,c){let v;const f=[];let w=0,_=0;for(;!l.isEmpty();)_=l.readUInt8(),w<<=7,w|=_&127,_&128||(f.push(w),w=0);_&128&&f.push(w);const R=f[0]/40|0,M=f[0]%40;if(c?v=f:v=[R,M].concat(f.slice(1)),E){let U=E[v.join(" ")];U===void 0&&(U=E[v.join(".")]),U!==void 0&&(v=U)}return v},g.prototype._decodeTime=function(l,E){const c=l.raw().toString();let v,f,w,_,R,M;if(E==="gentime")v=c.slice(0,4)|0,f=c.slice(4,6)|0,w=c.slice(6,8)|0,_=c.slice(8,10)|0,R=c.slice(10,12)|0,M=c.slice(12,14)|0;else if(E==="utctime")v=c.slice(0,2)|0,f=c.slice(2,4)|0,w=c.slice(4,6)|0,_=c.slice(6,8)|0,R=c.slice(8,10)|0,M=c.slice(10,12)|0,v<70?v=2e3+v:v=1900+v;else return l.error("Decoding "+E+" time is not supported yet");return Date.UTC(v,f-1,w,_,R,M,0)},g.prototype._decodeNull=function(){return null},g.prototype._decodeBool=function(l){const E=l.readUInt8();return l.isError(E)?E:E!==0},g.prototype._decodeInt=function(l,E){const c=l.raw();let v=new L(c);return E&&(v=E[v.toString(10)]||v),v},g.prototype._use=function(l,E){return typeof l=="function"&&(l=l(E)),l._getDecoder("der").tree};function p(b,l){let E=b.readUInt8(l);if(b.isError(E))return E;const c=h.tagClass[E>>6],v=(E&32)===0;if((E&31)===31){let w=E;for(E=0;(w&128)===128;){if(w=b.readUInt8(l),b.isError(w))return w;E<<=7,E|=w&127}}else E&=31;const f=h.tag[E];return{cls:c,primitive:v,tag:E,tagStr:f}}function k(b,l,E){let c=b.readUInt8(E);if(b.isError(c))return c;if(!l&&c===128)return null;if(!(c&128))return c;const v=c&127;if(v>4)return b.error("length octect is too long");c=0;for(let f=0;f<v;f++){c<<=8;const w=b.readUInt8(E);if(b.isError(w))return w;c|=w}return c}},22853:(s,G,F)=>{"use strict";const P=G;P.der=F(62010),P.pem=F(58903)},58903:(s,G,F)=>{"use strict";const P=F(56698),L=F(54774).Buffer,D=F(62010);function A(h){D.call(this,h),this.enc="pem"}P(A,D),s.exports=A,A.prototype.decode=function(m,g){const p=m.toString().split(/[\r\n]+/g),k=g.label.toUpperCase(),b=/^-----(BEGIN|END) ([^-]+)-----$/;let l=-1,E=-1;for(let f=0;f<p.length;f++){const w=p[f].match(b);if(w!==null&&w[2]===k)if(l===-1){if(w[1]!=="BEGIN")break;l=f}else{if(w[1]!=="END")break;E=f;break}}if(l===-1||E===-1)throw new Error("PEM section not found for: "+k);const c=p.slice(l+1,E).join("");c.replace(/[^a-z0-9+/=]+/gi,"");const v=L.from(c,"base64");return D.prototype.decode.call(this,v,g)}},70082:(s,G,F)=>{"use strict";const P=F(56698),L=F(54774).Buffer,D=F(90993),A=F(74598);function h(k){this.enc="der",this.name=k.name,this.entity=k,this.tree=new m,this.tree._init(k.body)}s.exports=h,h.prototype.encode=function(b,l){return this.tree._encode(b,l).join()};function m(k){D.call(this,"der",k)}P(m,D),m.prototype._encodeComposite=function(b,l,E,c){const v=p(b,l,E,this.reporter);if(c.length<128){const _=L.alloc(2);return _[0]=v,_[1]=c.length,this._createEncoderBuffer([_,c])}let f=1;for(let _=c.length;_>=256;_>>=8)f++;const w=L.alloc(2+f);w[0]=v,w[1]=128|f;for(let _=1+f,R=c.length;R>0;_--,R>>=8)w[_]=R&255;return this._createEncoderBuffer([w,c])},m.prototype._encodeStr=function(b,l){if(l==="bitstr")return this._createEncoderBuffer([b.unused|0,b.data]);if(l==="bmpstr"){const E=L.alloc(b.length*2);for(let c=0;c<b.length;c++)E.writeUInt16BE(b.charCodeAt(c),c*2);return this._createEncoderBuffer(E)}else return l==="numstr"?this._isNumstr(b)?this._createEncoderBuffer(b):this.reporter.error("Encoding of string type: numstr supports only digits and space"):l==="printstr"?this._isPrintstr(b)?this._createEncoderBuffer(b):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(l)?this._createEncoderBuffer(b):l==="objDesc"?this._createEncoderBuffer(b):this.reporter.error("Encoding of string type: "+l+" unsupported")},m.prototype._encodeObjid=function(b,l,E){if(typeof b=="string"){if(!l)return this.reporter.error("string objid given, but no values map found");if(!l.hasOwnProperty(b))return this.reporter.error("objid not found in values map");b=l[b].split(/[\s.]+/g);for(let w=0;w<b.length;w++)b[w]|=0}else if(Array.isArray(b)){b=b.slice();for(let w=0;w<b.length;w++)b[w]|=0}if(!Array.isArray(b))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(b));if(!E){if(b[1]>=40)return this.reporter.error("Second objid identifier OOB");b.splice(0,2,b[0]*40+b[1])}let c=0;for(let w=0;w<b.length;w++){let _=b[w];for(c++;_>=128;_>>=7)c++}const v=L.alloc(c);let f=v.length-1;for(let w=b.length-1;w>=0;w--){let _=b[w];for(v[f--]=_&127;(_>>=7)>0;)v[f--]=128|_&127}return this._createEncoderBuffer(v)};function g(k){return k<10?"0"+k:k}m.prototype._encodeTime=function(b,l){let E;const c=new Date(b);return l==="gentime"?E=[g(c.getUTCFullYear()),g(c.getUTCMonth()+1),g(c.getUTCDate()),g(c.getUTCHours()),g(c.getUTCMinutes()),g(c.getUTCSeconds()),"Z"].join(""):l==="utctime"?E=[g(c.getUTCFullYear()%100),g(c.getUTCMonth()+1),g(c.getUTCDate()),g(c.getUTCHours()),g(c.getUTCMinutes()),g(c.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+l+" time is not supported yet"),this._encodeStr(E,"octstr")},m.prototype._encodeNull=function(){return this._createEncoderBuffer("")},m.prototype._encodeInt=function(b,l){if(typeof b=="string"){if(!l)return this.reporter.error("String int or enum given, but no values map");if(!l.hasOwnProperty(b))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(b));b=l[b]}if(typeof b!="number"&&!L.isBuffer(b)){const v=b.toArray();!b.sign&&v[0]&128&&v.unshift(0),b=L.from(v)}if(L.isBuffer(b)){let v=b.length;b.length===0&&v++;const f=L.alloc(v);return b.copy(f),b.length===0&&(f[0]=0),this._createEncoderBuffer(f)}if(b<128)return this._createEncoderBuffer(b);if(b<256)return this._createEncoderBuffer([0,b]);let E=1;for(let v=b;v>=256;v>>=8)E++;const c=new Array(E);for(let v=c.length-1;v>=0;v--)c[v]=b&255,b>>=8;return c[0]&128&&c.unshift(0),this._createEncoderBuffer(L.from(c))},m.prototype._encodeBool=function(b){return this._createEncoderBuffer(b?255:0)},m.prototype._use=function(b,l){return typeof b=="function"&&(b=b(l)),b._getEncoder("der").tree},m.prototype._skipDefault=function(b,l,E){const c=this._baseState;let v;if(c.default===null)return!1;const f=b.join();if(c.defaultBuffer===void 0&&(c.defaultBuffer=this._encodeValue(c.default,l,E).join()),f.length!==c.defaultBuffer.length)return!1;for(v=0;v<f.length;v++)if(f[v]!==c.defaultBuffer[v])return!1;return!0};function p(k,b,l,E){let c;if(k==="seqof"?k="seq":k==="setof"&&(k="set"),A.tagByName.hasOwnProperty(k))c=A.tagByName[k];else if(typeof k=="number"&&(k|0)===k)c=k;else return E.error("Unknown tag: "+k);return c>=31?E.error("Multi-octet tag encoding unsupported"):(b||(c|=32),c|=A.tagClassByName[l||"universal"]<<6,c)}},24669:(s,G,F)=>{"use strict";const P=G;P.der=F(70082),P.pem=F(90735)},90735:(s,G,F)=>{"use strict";const P=F(56698),L=F(70082);function D(A){L.call(this,A),this.enc="pem"}P(D,L),s.exports=D,D.prototype.encode=function(h,m){const p=L.prototype.encode.call(this,h).toString("base64"),k=["-----BEGIN "+m.label+"-----"];for(let b=0;b<p.length;b+=64)k.push(p.slice(b,b+64));return k.push("-----END "+m.label+"-----"),k.join(`
`)}},67526:(s,G)=>{"use strict";G.byteLength=g,G.toByteArray=k,G.fromByteArray=E;for(var F=[],P=[],L=typeof Uint8Array!="undefined"?Uint8Array:Array,D="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",A=0,h=D.length;A<h;++A)F[A]=D[A],P[D.charCodeAt(A)]=A;P[45]=62,P[95]=63;function m(c){var v=c.length;if(v%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var f=c.indexOf("=");f===-1&&(f=v);var w=f===v?0:4-f%4;return[f,w]}function g(c){var v=m(c),f=v[0],w=v[1];return(f+w)*3/4-w}function p(c,v,f){return(v+f)*3/4-f}function k(c){var v,f=m(c),w=f[0],_=f[1],R=new L(p(c,w,_)),M=0,U=_>0?w-4:w,x;for(x=0;x<U;x+=4)v=P[c.charCodeAt(x)]<<18|P[c.charCodeAt(x+1)]<<12|P[c.charCodeAt(x+2)]<<6|P[c.charCodeAt(x+3)],R[M++]=v>>16&255,R[M++]=v>>8&255,R[M++]=v&255;return _===2&&(v=P[c.charCodeAt(x)]<<2|P[c.charCodeAt(x+1)]>>4,R[M++]=v&255),_===1&&(v=P[c.charCodeAt(x)]<<10|P[c.charCodeAt(x+1)]<<4|P[c.charCodeAt(x+2)]>>2,R[M++]=v>>8&255,R[M++]=v&255),R}function b(c){return F[c>>18&63]+F[c>>12&63]+F[c>>6&63]+F[c&63]}function l(c,v,f){for(var w,_=[],R=v;R<f;R+=3)w=(c[R]<<16&16711680)+(c[R+1]<<8&65280)+(c[R+2]&255),_.push(b(w));return _.join("")}function E(c){for(var v,f=c.length,w=f%3,_=[],R=16383,M=0,U=f-w;M<U;M+=R)_.push(l(c,M,M+R>U?U:M+R));return w===1?(v=c[f-1],_.push(F[v>>2]+F[v<<4&63]+"==")):w===2&&(v=(c[f-2]<<8)+c[f-1],_.push(F[v>>10]+F[v>>4&63]+F[v<<2&63]+"=")),_.join("")}},39404:function(s,G,F){s=F.nmd(s),function(P,L){"use strict";function D(J,O){if(!J)throw new Error(O||"Assertion failed")}function A(J,O){J.super_=O;var H=function(){};H.prototype=O.prototype,J.prototype=new H,J.prototype.constructor=J}function h(J,O,H){if(h.isBN(J))return J;this.negative=0,this.words=null,this.length=0,this.red=null,J!==null&&((O==="le"||O==="be")&&(H=O,O=10),this._init(J||0,O||10,H||"be"))}typeof P=="object"?P.exports=h:L.BN=h,h.BN=h,h.wordSize=26;var m;try{typeof window!="undefined"&&typeof window.Buffer!="undefined"?m=window.Buffer:m=F(47790).Buffer}catch{}h.isBN=function(O){return O instanceof h?!0:O!==null&&typeof O=="object"&&O.constructor.wordSize===h.wordSize&&Array.isArray(O.words)},h.max=function(O,H){return O.cmp(H)>0?O:H},h.min=function(O,H){return O.cmp(H)<0?O:H},h.prototype._init=function(O,H,I){if(typeof O=="number")return this._initNumber(O,H,I);if(typeof O=="object")return this._initArray(O,H,I);H==="hex"&&(H=16),D(H===(H|0)&&H>=2&&H<=36),O=O.toString().replace(/\s+/g,"");var u=0;O[0]==="-"&&(u++,this.negative=1),u<O.length&&(H===16?this._parseHex(O,u,I):(this._parseBase(O,H,u),I==="le"&&this._initArray(this.toArray(),H,I)))},h.prototype._initNumber=function(O,H,I){O<0&&(this.negative=1,O=-O),O<67108864?(this.words=[O&67108863],this.length=1):O<4503599627370496?(this.words=[O&67108863,O/67108864&67108863],this.length=2):(D(O<9007199254740992),this.words=[O&67108863,O/67108864&67108863,1],this.length=3),I==="le"&&this._initArray(this.toArray(),H,I)},h.prototype._initArray=function(O,H,I){if(D(typeof O.length=="number"),O.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(O.length/3),this.words=new Array(this.length);for(var u=0;u<this.length;u++)this.words[u]=0;var N,q,V=0;if(I==="be")for(u=O.length-1,N=0;u>=0;u-=3)q=O[u]|O[u-1]<<8|O[u-2]<<16,this.words[N]|=q<<V&67108863,this.words[N+1]=q>>>26-V&67108863,V+=24,V>=26&&(V-=26,N++);else if(I==="le")for(u=0,N=0;u<O.length;u+=3)q=O[u]|O[u+1]<<8|O[u+2]<<16,this.words[N]|=q<<V&67108863,this.words[N+1]=q>>>26-V&67108863,V+=24,V>=26&&(V-=26,N++);return this.strip()};function g(J,O){var H=J.charCodeAt(O);return H>=65&&H<=70?H-55:H>=97&&H<=102?H-87:H-48&15}function p(J,O,H){var I=g(J,H);return H-1>=O&&(I|=g(J,H-1)<<4),I}h.prototype._parseHex=function(O,H,I){this.length=Math.ceil((O.length-H)/6),this.words=new Array(this.length);for(var u=0;u<this.length;u++)this.words[u]=0;var N=0,q=0,V;if(I==="be")for(u=O.length-1;u>=H;u-=2)V=p(O,H,u)<<N,this.words[q]|=V&67108863,N>=18?(N-=18,q+=1,this.words[q]|=V>>>26):N+=8;else{var K=O.length-H;for(u=K%2===0?H+1:H;u<O.length;u+=2)V=p(O,H,u)<<N,this.words[q]|=V&67108863,N>=18?(N-=18,q+=1,this.words[q]|=V>>>26):N+=8}this.strip()};function k(J,O,H,I){for(var u=0,N=Math.min(J.length,H),q=O;q<N;q++){var V=J.charCodeAt(q)-48;u*=I,V>=49?u+=V-49+10:V>=17?u+=V-17+10:u+=V}return u}h.prototype._parseBase=function(O,H,I){this.words=[0],this.length=1;for(var u=0,N=1;N<=67108863;N*=H)u++;u--,N=N/H|0;for(var q=O.length-I,V=q%u,K=Math.min(q,q-V)+I,j=0,ie=I;ie<K;ie+=u)j=k(O,ie,ie+u,H),this.imuln(N),this.words[0]+j<67108864?this.words[0]+=j:this._iaddn(j);if(V!==0){var X=1;for(j=k(O,ie,O.length,H),ie=0;ie<V;ie++)X*=H;this.imuln(X),this.words[0]+j<67108864?this.words[0]+=j:this._iaddn(j)}this.strip()},h.prototype.copy=function(O){O.words=new Array(this.length);for(var H=0;H<this.length;H++)O.words[H]=this.words[H];O.length=this.length,O.negative=this.negative,O.red=this.red},h.prototype.clone=function(){var O=new h(null);return this.copy(O),O},h.prototype._expand=function(O){for(;this.length<O;)this.words[this.length++]=0;return this},h.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},h.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},h.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var b=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],l=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],E=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];h.prototype.toString=function(O,H){O=O||10,H=H|0||1;var I;if(O===16||O==="hex"){I="";for(var u=0,N=0,q=0;q<this.length;q++){var V=this.words[q],K=((V<<u|N)&16777215).toString(16);N=V>>>24-u&16777215,N!==0||q!==this.length-1?I=b[6-K.length]+K+I:I=K+I,u+=2,u>=26&&(u-=26,q--)}for(N!==0&&(I=N.toString(16)+I);I.length%H!==0;)I="0"+I;return this.negative!==0&&(I="-"+I),I}if(O===(O|0)&&O>=2&&O<=36){var j=l[O],ie=E[O];I="";var X=this.clone();for(X.negative=0;!X.isZero();){var B=X.modn(ie).toString(O);X=X.idivn(ie),X.isZero()?I=B+I:I=b[j-B.length]+B+I}for(this.isZero()&&(I="0"+I);I.length%H!==0;)I="0"+I;return this.negative!==0&&(I="-"+I),I}D(!1,"Base should be between 2 and 36")},h.prototype.toNumber=function(){var O=this.words[0];return this.length===2?O+=this.words[1]*67108864:this.length===3&&this.words[2]===1?O+=4503599627370496+this.words[1]*67108864:this.length>2&&D(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-O:O},h.prototype.toJSON=function(){return this.toString(16)},h.prototype.toBuffer=function(O,H){return D(typeof m!="undefined"),this.toArrayLike(m,O,H)},h.prototype.toArray=function(O,H){return this.toArrayLike(Array,O,H)},h.prototype.toArrayLike=function(O,H,I){var u=this.byteLength(),N=I||Math.max(1,u);D(u<=N,"byte array longer than desired length"),D(N>0,"Requested array length <= 0"),this.strip();var q=H==="le",V=new O(N),K,j,ie=this.clone();if(q){for(j=0;!ie.isZero();j++)K=ie.andln(255),ie.iushrn(8),V[j]=K;for(;j<N;j++)V[j]=0}else{for(j=0;j<N-u;j++)V[j]=0;for(j=0;!ie.isZero();j++)K=ie.andln(255),ie.iushrn(8),V[N-j-1]=K}return V},Math.clz32?h.prototype._countBits=function(O){return 32-Math.clz32(O)}:h.prototype._countBits=function(O){var H=O,I=0;return H>=4096&&(I+=13,H>>>=13),H>=64&&(I+=7,H>>>=7),H>=8&&(I+=4,H>>>=4),H>=2&&(I+=2,H>>>=2),I+H},h.prototype._zeroBits=function(O){if(O===0)return 26;var H=O,I=0;return H&8191||(I+=13,H>>>=13),H&127||(I+=7,H>>>=7),H&15||(I+=4,H>>>=4),H&3||(I+=2,H>>>=2),H&1||I++,I},h.prototype.bitLength=function(){var O=this.words[this.length-1],H=this._countBits(O);return(this.length-1)*26+H};function c(J){for(var O=new Array(J.bitLength()),H=0;H<O.length;H++){var I=H/26|0,u=H%26;O[H]=(J.words[I]&1<<u)>>>u}return O}h.prototype.zeroBits=function(){if(this.isZero())return 0;for(var O=0,H=0;H<this.length;H++){var I=this._zeroBits(this.words[H]);if(O+=I,I!==26)break}return O},h.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},h.prototype.toTwos=function(O){return this.negative!==0?this.abs().inotn(O).iaddn(1):this.clone()},h.prototype.fromTwos=function(O){return this.testn(O-1)?this.notn(O).iaddn(1).ineg():this.clone()},h.prototype.isNeg=function(){return this.negative!==0},h.prototype.neg=function(){return this.clone().ineg()},h.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},h.prototype.iuor=function(O){for(;this.length<O.length;)this.words[this.length++]=0;for(var H=0;H<O.length;H++)this.words[H]=this.words[H]|O.words[H];return this.strip()},h.prototype.ior=function(O){return D((this.negative|O.negative)===0),this.iuor(O)},h.prototype.or=function(O){return this.length>O.length?this.clone().ior(O):O.clone().ior(this)},h.prototype.uor=function(O){return this.length>O.length?this.clone().iuor(O):O.clone().iuor(this)},h.prototype.iuand=function(O){var H;this.length>O.length?H=O:H=this;for(var I=0;I<H.length;I++)this.words[I]=this.words[I]&O.words[I];return this.length=H.length,this.strip()},h.prototype.iand=function(O){return D((this.negative|O.negative)===0),this.iuand(O)},h.prototype.and=function(O){return this.length>O.length?this.clone().iand(O):O.clone().iand(this)},h.prototype.uand=function(O){return this.length>O.length?this.clone().iuand(O):O.clone().iuand(this)},h.prototype.iuxor=function(O){var H,I;this.length>O.length?(H=this,I=O):(H=O,I=this);for(var u=0;u<I.length;u++)this.words[u]=H.words[u]^I.words[u];if(this!==H)for(;u<H.length;u++)this.words[u]=H.words[u];return this.length=H.length,this.strip()},h.prototype.ixor=function(O){return D((this.negative|O.negative)===0),this.iuxor(O)},h.prototype.xor=function(O){return this.length>O.length?this.clone().ixor(O):O.clone().ixor(this)},h.prototype.uxor=function(O){return this.length>O.length?this.clone().iuxor(O):O.clone().iuxor(this)},h.prototype.inotn=function(O){D(typeof O=="number"&&O>=0);var H=Math.ceil(O/26)|0,I=O%26;this._expand(H),I>0&&H--;for(var u=0;u<H;u++)this.words[u]=~this.words[u]&67108863;return I>0&&(this.words[u]=~this.words[u]&67108863>>26-I),this.strip()},h.prototype.notn=function(O){return this.clone().inotn(O)},h.prototype.setn=function(O,H){D(typeof O=="number"&&O>=0);var I=O/26|0,u=O%26;return this._expand(I+1),H?this.words[I]=this.words[I]|1<<u:this.words[I]=this.words[I]&~(1<<u),this.strip()},h.prototype.iadd=function(O){var H;if(this.negative!==0&&O.negative===0)return this.negative=0,H=this.isub(O),this.negative^=1,this._normSign();if(this.negative===0&&O.negative!==0)return O.negative=0,H=this.isub(O),O.negative=1,H._normSign();var I,u;this.length>O.length?(I=this,u=O):(I=O,u=this);for(var N=0,q=0;q<u.length;q++)H=(I.words[q]|0)+(u.words[q]|0)+N,this.words[q]=H&67108863,N=H>>>26;for(;N!==0&&q<I.length;q++)H=(I.words[q]|0)+N,this.words[q]=H&67108863,N=H>>>26;if(this.length=I.length,N!==0)this.words[this.length]=N,this.length++;else if(I!==this)for(;q<I.length;q++)this.words[q]=I.words[q];return this},h.prototype.add=function(O){var H;return O.negative!==0&&this.negative===0?(O.negative=0,H=this.sub(O),O.negative^=1,H):O.negative===0&&this.negative!==0?(this.negative=0,H=O.sub(this),this.negative=1,H):this.length>O.length?this.clone().iadd(O):O.clone().iadd(this)},h.prototype.isub=function(O){if(O.negative!==0){O.negative=0;var H=this.iadd(O);return O.negative=1,H._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(O),this.negative=1,this._normSign();var I=this.cmp(O);if(I===0)return this.negative=0,this.length=1,this.words[0]=0,this;var u,N;I>0?(u=this,N=O):(u=O,N=this);for(var q=0,V=0;V<N.length;V++)H=(u.words[V]|0)-(N.words[V]|0)+q,q=H>>26,this.words[V]=H&67108863;for(;q!==0&&V<u.length;V++)H=(u.words[V]|0)+q,q=H>>26,this.words[V]=H&67108863;if(q===0&&V<u.length&&u!==this)for(;V<u.length;V++)this.words[V]=u.words[V];return this.length=Math.max(this.length,V),u!==this&&(this.negative=1),this.strip()},h.prototype.sub=function(O){return this.clone().isub(O)};function v(J,O,H){H.negative=O.negative^J.negative;var I=J.length+O.length|0;H.length=I,I=I-1|0;var u=J.words[0]|0,N=O.words[0]|0,q=u*N,V=q&67108863,K=q/67108864|0;H.words[0]=V;for(var j=1;j<I;j++){for(var ie=K>>>26,X=K&67108863,B=Math.min(j,O.length-1),se=Math.max(0,j-J.length+1);se<=B;se++){var Pe=j-se|0;u=J.words[Pe]|0,N=O.words[se]|0,q=u*N+X,ie+=q/67108864|0,X=q&67108863}H.words[j]=X|0,K=ie|0}return K!==0?H.words[j]=K|0:H.length--,H.strip()}var f=function(O,H,I){var u=O.words,N=H.words,q=I.words,V=0,K,j,ie,X=u[0]|0,B=X&8191,se=X>>>13,Pe=u[1]|0,we=Pe&8191,_e=Pe>>>13,Me=u[2]|0,te=Me&8191,re=Me>>>13,ge=u[3]|0,ye=ge&8191,Ee=ge>>>13,z=u[4]|0,T=z&8191,oe=z>>>13,fe=u[5]|0,de=fe&8191,ue=fe>>>13,ve=u[6]|0,Fe=ve&8191,Oe=ve>>>13,$e=u[7]|0,qe=$e&8191,Ve=$e>>>13,Je=u[8]|0,me=Je&8191,ae=Je>>>13,ce=u[9]|0,Re=ce&8191,xe=ce>>>13,Ye=N[0]|0,Ue=Ye&8191,Ze=Ye>>>13,It=N[1]|0,st=It&8191,ut=It>>>13,wt=N[2]|0,vt=wt&8191,_t=wt>>>13,oi=N[3]|0,yt=oi&8191,Pt=oi>>>13,Hi=N[4]|0,Lt=Hi&8191,Kt=Hi>>>13,Zn=N[5]|0,Xt=Zn&8191,Wt=Zn>>>13,Gn=N[6]|0,Ft=Gn&8191,ht=Gn>>>13,bt=N[7]|0,Le=bt&8191,et=bt>>>13,Tt=N[8]|0,dt=Tt&8191,mt=Tt>>>13,ni=N[9]|0,Ot=ni&8191,jt=ni>>>13;I.negative=O.negative^H.negative,I.length=19,K=Math.imul(B,Ue),j=Math.imul(B,Ze),j=j+Math.imul(se,Ue)|0,ie=Math.imul(se,Ze);var qt=(V+K|0)+((j&8191)<<13)|0;V=(ie+(j>>>13)|0)+(qt>>>26)|0,qt&=67108863,K=Math.imul(we,Ue),j=Math.imul(we,Ze),j=j+Math.imul(_e,Ue)|0,ie=Math.imul(_e,Ze),K=K+Math.imul(B,st)|0,j=j+Math.imul(B,ut)|0,j=j+Math.imul(se,st)|0,ie=ie+Math.imul(se,ut)|0;var gt=(V+K|0)+((j&8191)<<13)|0;V=(ie+(j>>>13)|0)+(gt>>>26)|0,gt&=67108863,K=Math.imul(te,Ue),j=Math.imul(te,Ze),j=j+Math.imul(re,Ue)|0,ie=Math.imul(re,Ze),K=K+Math.imul(we,st)|0,j=j+Math.imul(we,ut)|0,j=j+Math.imul(_e,st)|0,ie=ie+Math.imul(_e,ut)|0,K=K+Math.imul(B,vt)|0,j=j+Math.imul(B,_t)|0,j=j+Math.imul(se,vt)|0,ie=ie+Math.imul(se,_t)|0;var Rt=(V+K|0)+((j&8191)<<13)|0;V=(ie+(j>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,K=Math.imul(ye,Ue),j=Math.imul(ye,Ze),j=j+Math.imul(Ee,Ue)|0,ie=Math.imul(Ee,Ze),K=K+Math.imul(te,st)|0,j=j+Math.imul(te,ut)|0,j=j+Math.imul(re,st)|0,ie=ie+Math.imul(re,ut)|0,K=K+Math.imul(we,vt)|0,j=j+Math.imul(we,_t)|0,j=j+Math.imul(_e,vt)|0,ie=ie+Math.imul(_e,_t)|0,K=K+Math.imul(B,yt)|0,j=j+Math.imul(B,Pt)|0,j=j+Math.imul(se,yt)|0,ie=ie+Math.imul(se,Pt)|0;var Dt=(V+K|0)+((j&8191)<<13)|0;V=(ie+(j>>>13)|0)+(Dt>>>26)|0,Dt&=67108863,K=Math.imul(T,Ue),j=Math.imul(T,Ze),j=j+Math.imul(oe,Ue)|0,ie=Math.imul(oe,Ze),K=K+Math.imul(ye,st)|0,j=j+Math.imul(ye,ut)|0,j=j+Math.imul(Ee,st)|0,ie=ie+Math.imul(Ee,ut)|0,K=K+Math.imul(te,vt)|0,j=j+Math.imul(te,_t)|0,j=j+Math.imul(re,vt)|0,ie=ie+Math.imul(re,_t)|0,K=K+Math.imul(we,yt)|0,j=j+Math.imul(we,Pt)|0,j=j+Math.imul(_e,yt)|0,ie=ie+Math.imul(_e,Pt)|0,K=K+Math.imul(B,Lt)|0,j=j+Math.imul(B,Kt)|0,j=j+Math.imul(se,Lt)|0,ie=ie+Math.imul(se,Kt)|0;var di=(V+K|0)+((j&8191)<<13)|0;V=(ie+(j>>>13)|0)+(di>>>26)|0,di&=67108863,K=Math.imul(de,Ue),j=Math.imul(de,Ze),j=j+Math.imul(ue,Ue)|0,ie=Math.imul(ue,Ze),K=K+Math.imul(T,st)|0,j=j+Math.imul(T,ut)|0,j=j+Math.imul(oe,st)|0,ie=ie+Math.imul(oe,ut)|0,K=K+Math.imul(ye,vt)|0,j=j+Math.imul(ye,_t)|0,j=j+Math.imul(Ee,vt)|0,ie=ie+Math.imul(Ee,_t)|0,K=K+Math.imul(te,yt)|0,j=j+Math.imul(te,Pt)|0,j=j+Math.imul(re,yt)|0,ie=ie+Math.imul(re,Pt)|0,K=K+Math.imul(we,Lt)|0,j=j+Math.imul(we,Kt)|0,j=j+Math.imul(_e,Lt)|0,ie=ie+Math.imul(_e,Kt)|0,K=K+Math.imul(B,Xt)|0,j=j+Math.imul(B,Wt)|0,j=j+Math.imul(se,Xt)|0,ie=ie+Math.imul(se,Wt)|0;var ri=(V+K|0)+((j&8191)<<13)|0;V=(ie+(j>>>13)|0)+(ri>>>26)|0,ri&=67108863,K=Math.imul(Fe,Ue),j=Math.imul(Fe,Ze),j=j+Math.imul(Oe,Ue)|0,ie=Math.imul(Oe,Ze),K=K+Math.imul(de,st)|0,j=j+Math.imul(de,ut)|0,j=j+Math.imul(ue,st)|0,ie=ie+Math.imul(ue,ut)|0,K=K+Math.imul(T,vt)|0,j=j+Math.imul(T,_t)|0,j=j+Math.imul(oe,vt)|0,ie=ie+Math.imul(oe,_t)|0,K=K+Math.imul(ye,yt)|0,j=j+Math.imul(ye,Pt)|0,j=j+Math.imul(Ee,yt)|0,ie=ie+Math.imul(Ee,Pt)|0,K=K+Math.imul(te,Lt)|0,j=j+Math.imul(te,Kt)|0,j=j+Math.imul(re,Lt)|0,ie=ie+Math.imul(re,Kt)|0,K=K+Math.imul(we,Xt)|0,j=j+Math.imul(we,Wt)|0,j=j+Math.imul(_e,Xt)|0,ie=ie+Math.imul(_e,Wt)|0,K=K+Math.imul(B,Ft)|0,j=j+Math.imul(B,ht)|0,j=j+Math.imul(se,Ft)|0,ie=ie+Math.imul(se,ht)|0;var Gt=(V+K|0)+((j&8191)<<13)|0;V=(ie+(j>>>13)|0)+(Gt>>>26)|0,Gt&=67108863,K=Math.imul(qe,Ue),j=Math.imul(qe,Ze),j=j+Math.imul(Ve,Ue)|0,ie=Math.imul(Ve,Ze),K=K+Math.imul(Fe,st)|0,j=j+Math.imul(Fe,ut)|0,j=j+Math.imul(Oe,st)|0,ie=ie+Math.imul(Oe,ut)|0,K=K+Math.imul(de,vt)|0,j=j+Math.imul(de,_t)|0,j=j+Math.imul(ue,vt)|0,ie=ie+Math.imul(ue,_t)|0,K=K+Math.imul(T,yt)|0,j=j+Math.imul(T,Pt)|0,j=j+Math.imul(oe,yt)|0,ie=ie+Math.imul(oe,Pt)|0,K=K+Math.imul(ye,Lt)|0,j=j+Math.imul(ye,Kt)|0,j=j+Math.imul(Ee,Lt)|0,ie=ie+Math.imul(Ee,Kt)|0,K=K+Math.imul(te,Xt)|0,j=j+Math.imul(te,Wt)|0,j=j+Math.imul(re,Xt)|0,ie=ie+Math.imul(re,Wt)|0,K=K+Math.imul(we,Ft)|0,j=j+Math.imul(we,ht)|0,j=j+Math.imul(_e,Ft)|0,ie=ie+Math.imul(_e,ht)|0,K=K+Math.imul(B,Le)|0,j=j+Math.imul(B,et)|0,j=j+Math.imul(se,Le)|0,ie=ie+Math.imul(se,et)|0;var _i=(V+K|0)+((j&8191)<<13)|0;V=(ie+(j>>>13)|0)+(_i>>>26)|0,_i&=67108863,K=Math.imul(me,Ue),j=Math.imul(me,Ze),j=j+Math.imul(ae,Ue)|0,ie=Math.imul(ae,Ze),K=K+Math.imul(qe,st)|0,j=j+Math.imul(qe,ut)|0,j=j+Math.imul(Ve,st)|0,ie=ie+Math.imul(Ve,ut)|0,K=K+Math.imul(Fe,vt)|0,j=j+Math.imul(Fe,_t)|0,j=j+Math.imul(Oe,vt)|0,ie=ie+Math.imul(Oe,_t)|0,K=K+Math.imul(de,yt)|0,j=j+Math.imul(de,Pt)|0,j=j+Math.imul(ue,yt)|0,ie=ie+Math.imul(ue,Pt)|0,K=K+Math.imul(T,Lt)|0,j=j+Math.imul(T,Kt)|0,j=j+Math.imul(oe,Lt)|0,ie=ie+Math.imul(oe,Kt)|0,K=K+Math.imul(ye,Xt)|0,j=j+Math.imul(ye,Wt)|0,j=j+Math.imul(Ee,Xt)|0,ie=ie+Math.imul(Ee,Wt)|0,K=K+Math.imul(te,Ft)|0,j=j+Math.imul(te,ht)|0,j=j+Math.imul(re,Ft)|0,ie=ie+Math.imul(re,ht)|0,K=K+Math.imul(we,Le)|0,j=j+Math.imul(we,et)|0,j=j+Math.imul(_e,Le)|0,ie=ie+Math.imul(_e,et)|0,K=K+Math.imul(B,dt)|0,j=j+Math.imul(B,mt)|0,j=j+Math.imul(se,dt)|0,ie=ie+Math.imul(se,mt)|0;var ci=(V+K|0)+((j&8191)<<13)|0;V=(ie+(j>>>13)|0)+(ci>>>26)|0,ci&=67108863,K=Math.imul(Re,Ue),j=Math.imul(Re,Ze),j=j+Math.imul(xe,Ue)|0,ie=Math.imul(xe,Ze),K=K+Math.imul(me,st)|0,j=j+Math.imul(me,ut)|0,j=j+Math.imul(ae,st)|0,ie=ie+Math.imul(ae,ut)|0,K=K+Math.imul(qe,vt)|0,j=j+Math.imul(qe,_t)|0,j=j+Math.imul(Ve,vt)|0,ie=ie+Math.imul(Ve,_t)|0,K=K+Math.imul(Fe,yt)|0,j=j+Math.imul(Fe,Pt)|0,j=j+Math.imul(Oe,yt)|0,ie=ie+Math.imul(Oe,Pt)|0,K=K+Math.imul(de,Lt)|0,j=j+Math.imul(de,Kt)|0,j=j+Math.imul(ue,Lt)|0,ie=ie+Math.imul(ue,Kt)|0,K=K+Math.imul(T,Xt)|0,j=j+Math.imul(T,Wt)|0,j=j+Math.imul(oe,Xt)|0,ie=ie+Math.imul(oe,Wt)|0,K=K+Math.imul(ye,Ft)|0,j=j+Math.imul(ye,ht)|0,j=j+Math.imul(Ee,Ft)|0,ie=ie+Math.imul(Ee,ht)|0,K=K+Math.imul(te,Le)|0,j=j+Math.imul(te,et)|0,j=j+Math.imul(re,Le)|0,ie=ie+Math.imul(re,et)|0,K=K+Math.imul(we,dt)|0,j=j+Math.imul(we,mt)|0,j=j+Math.imul(_e,dt)|0,ie=ie+Math.imul(_e,mt)|0,K=K+Math.imul(B,Ot)|0,j=j+Math.imul(B,jt)|0,j=j+Math.imul(se,Ot)|0,ie=ie+Math.imul(se,jt)|0;var Di=(V+K|0)+((j&8191)<<13)|0;V=(ie+(j>>>13)|0)+(Di>>>26)|0,Di&=67108863,K=Math.imul(Re,st),j=Math.imul(Re,ut),j=j+Math.imul(xe,st)|0,ie=Math.imul(xe,ut),K=K+Math.imul(me,vt)|0,j=j+Math.imul(me,_t)|0,j=j+Math.imul(ae,vt)|0,ie=ie+Math.imul(ae,_t)|0,K=K+Math.imul(qe,yt)|0,j=j+Math.imul(qe,Pt)|0,j=j+Math.imul(Ve,yt)|0,ie=ie+Math.imul(Ve,Pt)|0,K=K+Math.imul(Fe,Lt)|0,j=j+Math.imul(Fe,Kt)|0,j=j+Math.imul(Oe,Lt)|0,ie=ie+Math.imul(Oe,Kt)|0,K=K+Math.imul(de,Xt)|0,j=j+Math.imul(de,Wt)|0,j=j+Math.imul(ue,Xt)|0,ie=ie+Math.imul(ue,Wt)|0,K=K+Math.imul(T,Ft)|0,j=j+Math.imul(T,ht)|0,j=j+Math.imul(oe,Ft)|0,ie=ie+Math.imul(oe,ht)|0,K=K+Math.imul(ye,Le)|0,j=j+Math.imul(ye,et)|0,j=j+Math.imul(Ee,Le)|0,ie=ie+Math.imul(Ee,et)|0,K=K+Math.imul(te,dt)|0,j=j+Math.imul(te,mt)|0,j=j+Math.imul(re,dt)|0,ie=ie+Math.imul(re,mt)|0,K=K+Math.imul(we,Ot)|0,j=j+Math.imul(we,jt)|0,j=j+Math.imul(_e,Ot)|0,ie=ie+Math.imul(_e,jt)|0;var Ii=(V+K|0)+((j&8191)<<13)|0;V=(ie+(j>>>13)|0)+(Ii>>>26)|0,Ii&=67108863,K=Math.imul(Re,vt),j=Math.imul(Re,_t),j=j+Math.imul(xe,vt)|0,ie=Math.imul(xe,_t),K=K+Math.imul(me,yt)|0,j=j+Math.imul(me,Pt)|0,j=j+Math.imul(ae,yt)|0,ie=ie+Math.imul(ae,Pt)|0,K=K+Math.imul(qe,Lt)|0,j=j+Math.imul(qe,Kt)|0,j=j+Math.imul(Ve,Lt)|0,ie=ie+Math.imul(Ve,Kt)|0,K=K+Math.imul(Fe,Xt)|0,j=j+Math.imul(Fe,Wt)|0,j=j+Math.imul(Oe,Xt)|0,ie=ie+Math.imul(Oe,Wt)|0,K=K+Math.imul(de,Ft)|0,j=j+Math.imul(de,ht)|0,j=j+Math.imul(ue,Ft)|0,ie=ie+Math.imul(ue,ht)|0,K=K+Math.imul(T,Le)|0,j=j+Math.imul(T,et)|0,j=j+Math.imul(oe,Le)|0,ie=ie+Math.imul(oe,et)|0,K=K+Math.imul(ye,dt)|0,j=j+Math.imul(ye,mt)|0,j=j+Math.imul(Ee,dt)|0,ie=ie+Math.imul(Ee,mt)|0,K=K+Math.imul(te,Ot)|0,j=j+Math.imul(te,jt)|0,j=j+Math.imul(re,Ot)|0,ie=ie+Math.imul(re,jt)|0;var Zi=(V+K|0)+((j&8191)<<13)|0;V=(ie+(j>>>13)|0)+(Zi>>>26)|0,Zi&=67108863,K=Math.imul(Re,yt),j=Math.imul(Re,Pt),j=j+Math.imul(xe,yt)|0,ie=Math.imul(xe,Pt),K=K+Math.imul(me,Lt)|0,j=j+Math.imul(me,Kt)|0,j=j+Math.imul(ae,Lt)|0,ie=ie+Math.imul(ae,Kt)|0,K=K+Math.imul(qe,Xt)|0,j=j+Math.imul(qe,Wt)|0,j=j+Math.imul(Ve,Xt)|0,ie=ie+Math.imul(Ve,Wt)|0,K=K+Math.imul(Fe,Ft)|0,j=j+Math.imul(Fe,ht)|0,j=j+Math.imul(Oe,Ft)|0,ie=ie+Math.imul(Oe,ht)|0,K=K+Math.imul(de,Le)|0,j=j+Math.imul(de,et)|0,j=j+Math.imul(ue,Le)|0,ie=ie+Math.imul(ue,et)|0,K=K+Math.imul(T,dt)|0,j=j+Math.imul(T,mt)|0,j=j+Math.imul(oe,dt)|0,ie=ie+Math.imul(oe,mt)|0,K=K+Math.imul(ye,Ot)|0,j=j+Math.imul(ye,jt)|0,j=j+Math.imul(Ee,Ot)|0,ie=ie+Math.imul(Ee,jt)|0;var fi=(V+K|0)+((j&8191)<<13)|0;V=(ie+(j>>>13)|0)+(fi>>>26)|0,fi&=67108863,K=Math.imul(Re,Lt),j=Math.imul(Re,Kt),j=j+Math.imul(xe,Lt)|0,ie=Math.imul(xe,Kt),K=K+Math.imul(me,Xt)|0,j=j+Math.imul(me,Wt)|0,j=j+Math.imul(ae,Xt)|0,ie=ie+Math.imul(ae,Wt)|0,K=K+Math.imul(qe,Ft)|0,j=j+Math.imul(qe,ht)|0,j=j+Math.imul(Ve,Ft)|0,ie=ie+Math.imul(Ve,ht)|0,K=K+Math.imul(Fe,Le)|0,j=j+Math.imul(Fe,et)|0,j=j+Math.imul(Oe,Le)|0,ie=ie+Math.imul(Oe,et)|0,K=K+Math.imul(de,dt)|0,j=j+Math.imul(de,mt)|0,j=j+Math.imul(ue,dt)|0,ie=ie+Math.imul(ue,mt)|0,K=K+Math.imul(T,Ot)|0,j=j+Math.imul(T,jt)|0,j=j+Math.imul(oe,Ot)|0,ie=ie+Math.imul(oe,jt)|0;var Yi=(V+K|0)+((j&8191)<<13)|0;V=(ie+(j>>>13)|0)+(Yi>>>26)|0,Yi&=67108863,K=Math.imul(Re,Xt),j=Math.imul(Re,Wt),j=j+Math.imul(xe,Xt)|0,ie=Math.imul(xe,Wt),K=K+Math.imul(me,Ft)|0,j=j+Math.imul(me,ht)|0,j=j+Math.imul(ae,Ft)|0,ie=ie+Math.imul(ae,ht)|0,K=K+Math.imul(qe,Le)|0,j=j+Math.imul(qe,et)|0,j=j+Math.imul(Ve,Le)|0,ie=ie+Math.imul(Ve,et)|0,K=K+Math.imul(Fe,dt)|0,j=j+Math.imul(Fe,mt)|0,j=j+Math.imul(Oe,dt)|0,ie=ie+Math.imul(Oe,mt)|0,K=K+Math.imul(de,Ot)|0,j=j+Math.imul(de,jt)|0,j=j+Math.imul(ue,Ot)|0,ie=ie+Math.imul(ue,jt)|0;var ji=(V+K|0)+((j&8191)<<13)|0;V=(ie+(j>>>13)|0)+(ji>>>26)|0,ji&=67108863,K=Math.imul(Re,Ft),j=Math.imul(Re,ht),j=j+Math.imul(xe,Ft)|0,ie=Math.imul(xe,ht),K=K+Math.imul(me,Le)|0,j=j+Math.imul(me,et)|0,j=j+Math.imul(ae,Le)|0,ie=ie+Math.imul(ae,et)|0,K=K+Math.imul(qe,dt)|0,j=j+Math.imul(qe,mt)|0,j=j+Math.imul(Ve,dt)|0,ie=ie+Math.imul(Ve,mt)|0,K=K+Math.imul(Fe,Ot)|0,j=j+Math.imul(Fe,jt)|0,j=j+Math.imul(Oe,Ot)|0,ie=ie+Math.imul(Oe,jt)|0;var ei=(V+K|0)+((j&8191)<<13)|0;V=(ie+(j>>>13)|0)+(ei>>>26)|0,ei&=67108863,K=Math.imul(Re,Le),j=Math.imul(Re,et),j=j+Math.imul(xe,Le)|0,ie=Math.imul(xe,et),K=K+Math.imul(me,dt)|0,j=j+Math.imul(me,mt)|0,j=j+Math.imul(ae,dt)|0,ie=ie+Math.imul(ae,mt)|0,K=K+Math.imul(qe,Ot)|0,j=j+Math.imul(qe,jt)|0,j=j+Math.imul(Ve,Ot)|0,ie=ie+Math.imul(Ve,jt)|0;var li=(V+K|0)+((j&8191)<<13)|0;V=(ie+(j>>>13)|0)+(li>>>26)|0,li&=67108863,K=Math.imul(Re,dt),j=Math.imul(Re,mt),j=j+Math.imul(xe,dt)|0,ie=Math.imul(xe,mt),K=K+Math.imul(me,Ot)|0,j=j+Math.imul(me,jt)|0,j=j+Math.imul(ae,Ot)|0,ie=ie+Math.imul(ae,jt)|0;var Ti=(V+K|0)+((j&8191)<<13)|0;V=(ie+(j>>>13)|0)+(Ti>>>26)|0,Ti&=67108863,K=Math.imul(Re,Ot),j=Math.imul(Re,jt),j=j+Math.imul(xe,Ot)|0,ie=Math.imul(xe,jt);var zi=(V+K|0)+((j&8191)<<13)|0;return V=(ie+(j>>>13)|0)+(zi>>>26)|0,zi&=67108863,q[0]=qt,q[1]=gt,q[2]=Rt,q[3]=Dt,q[4]=di,q[5]=ri,q[6]=Gt,q[7]=_i,q[8]=ci,q[9]=Di,q[10]=Ii,q[11]=Zi,q[12]=fi,q[13]=Yi,q[14]=ji,q[15]=ei,q[16]=li,q[17]=Ti,q[18]=zi,V!==0&&(q[19]=V,I.length++),I};Math.imul||(f=v);function w(J,O,H){H.negative=O.negative^J.negative,H.length=J.length+O.length;for(var I=0,u=0,N=0;N<H.length-1;N++){var q=u;u=0;for(var V=I&67108863,K=Math.min(N,O.length-1),j=Math.max(0,N-J.length+1);j<=K;j++){var ie=N-j,X=J.words[ie]|0,B=O.words[j]|0,se=X*B,Pe=se&67108863;q=q+(se/67108864|0)|0,Pe=Pe+V|0,V=Pe&67108863,q=q+(Pe>>>26)|0,u+=q>>>26,q&=67108863}H.words[N]=V,I=q,q=u}return I!==0?H.words[N]=I:H.length--,H.strip()}function _(J,O,H){var I=new R;return I.mulp(J,O,H)}h.prototype.mulTo=function(O,H){var I,u=this.length+O.length;return this.length===10&&O.length===10?I=f(this,O,H):u<63?I=v(this,O,H):u<1024?I=w(this,O,H):I=_(this,O,H),I};function R(J,O){this.x=J,this.y=O}R.prototype.makeRBT=function(O){for(var H=new Array(O),I=h.prototype._countBits(O)-1,u=0;u<O;u++)H[u]=this.revBin(u,I,O);return H},R.prototype.revBin=function(O,H,I){if(O===0||O===I-1)return O;for(var u=0,N=0;N<H;N++)u|=(O&1)<<H-N-1,O>>=1;return u},R.prototype.permute=function(O,H,I,u,N,q){for(var V=0;V<q;V++)u[V]=H[O[V]],N[V]=I[O[V]]},R.prototype.transform=function(O,H,I,u,N,q){this.permute(q,O,H,I,u,N);for(var V=1;V<N;V<<=1)for(var K=V<<1,j=Math.cos(2*Math.PI/K),ie=Math.sin(2*Math.PI/K),X=0;X<N;X+=K)for(var B=j,se=ie,Pe=0;Pe<V;Pe++){var we=I[X+Pe],_e=u[X+Pe],Me=I[X+Pe+V],te=u[X+Pe+V],re=B*Me-se*te;te=B*te+se*Me,Me=re,I[X+Pe]=we+Me,u[X+Pe]=_e+te,I[X+Pe+V]=we-Me,u[X+Pe+V]=_e-te,Pe!==K&&(re=j*B-ie*se,se=j*se+ie*B,B=re)}},R.prototype.guessLen13b=function(O,H){var I=Math.max(H,O)|1,u=I&1,N=0;for(I=I/2|0;I;I=I>>>1)N++;return 1<<N+1+u},R.prototype.conjugate=function(O,H,I){if(!(I<=1))for(var u=0;u<I/2;u++){var N=O[u];O[u]=O[I-u-1],O[I-u-1]=N,N=H[u],H[u]=-H[I-u-1],H[I-u-1]=-N}},R.prototype.normalize13b=function(O,H){for(var I=0,u=0;u<H/2;u++){var N=Math.round(O[2*u+1]/H)*8192+Math.round(O[2*u]/H)+I;O[u]=N&67108863,N<67108864?I=0:I=N/67108864|0}return O},R.prototype.convert13b=function(O,H,I,u){for(var N=0,q=0;q<H;q++)N=N+(O[q]|0),I[2*q]=N&8191,N=N>>>13,I[2*q+1]=N&8191,N=N>>>13;for(q=2*H;q<u;++q)I[q]=0;D(N===0),D((N&-8192)===0)},R.prototype.stub=function(O){for(var H=new Array(O),I=0;I<O;I++)H[I]=0;return H},R.prototype.mulp=function(O,H,I){var u=2*this.guessLen13b(O.length,H.length),N=this.makeRBT(u),q=this.stub(u),V=new Array(u),K=new Array(u),j=new Array(u),ie=new Array(u),X=new Array(u),B=new Array(u),se=I.words;se.length=u,this.convert13b(O.words,O.length,V,u),this.convert13b(H.words,H.length,ie,u),this.transform(V,q,K,j,u,N),this.transform(ie,q,X,B,u,N);for(var Pe=0;Pe<u;Pe++){var we=K[Pe]*X[Pe]-j[Pe]*B[Pe];j[Pe]=K[Pe]*B[Pe]+j[Pe]*X[Pe],K[Pe]=we}return this.conjugate(K,j,u),this.transform(K,j,se,q,u,N),this.conjugate(se,q,u),this.normalize13b(se,u),I.negative=O.negative^H.negative,I.length=O.length+H.length,I.strip()},h.prototype.mul=function(O){var H=new h(null);return H.words=new Array(this.length+O.length),this.mulTo(O,H)},h.prototype.mulf=function(O){var H=new h(null);return H.words=new Array(this.length+O.length),_(this,O,H)},h.prototype.imul=function(O){return this.clone().mulTo(O,this)},h.prototype.imuln=function(O){D(typeof O=="number"),D(O<67108864);for(var H=0,I=0;I<this.length;I++){var u=(this.words[I]|0)*O,N=(u&67108863)+(H&67108863);H>>=26,H+=u/67108864|0,H+=N>>>26,this.words[I]=N&67108863}return H!==0&&(this.words[I]=H,this.length++),this},h.prototype.muln=function(O){return this.clone().imuln(O)},h.prototype.sqr=function(){return this.mul(this)},h.prototype.isqr=function(){return this.imul(this.clone())},h.prototype.pow=function(O){var H=c(O);if(H.length===0)return new h(1);for(var I=this,u=0;u<H.length&&H[u]===0;u++,I=I.sqr());if(++u<H.length)for(var N=I.sqr();u<H.length;u++,N=N.sqr())H[u]!==0&&(I=I.mul(N));return I},h.prototype.iushln=function(O){D(typeof O=="number"&&O>=0);var H=O%26,I=(O-H)/26,u=67108863>>>26-H<<26-H,N;if(H!==0){var q=0;for(N=0;N<this.length;N++){var V=this.words[N]&u,K=(this.words[N]|0)-V<<H;this.words[N]=K|q,q=V>>>26-H}q&&(this.words[N]=q,this.length++)}if(I!==0){for(N=this.length-1;N>=0;N--)this.words[N+I]=this.words[N];for(N=0;N<I;N++)this.words[N]=0;this.length+=I}return this.strip()},h.prototype.ishln=function(O){return D(this.negative===0),this.iushln(O)},h.prototype.iushrn=function(O,H,I){D(typeof O=="number"&&O>=0);var u;H?u=(H-H%26)/26:u=0;var N=O%26,q=Math.min((O-N)/26,this.length),V=67108863^67108863>>>N<<N,K=I;if(u-=q,u=Math.max(0,u),K){for(var j=0;j<q;j++)K.words[j]=this.words[j];K.length=q}if(q!==0)if(this.length>q)for(this.length-=q,j=0;j<this.length;j++)this.words[j]=this.words[j+q];else this.words[0]=0,this.length=1;var ie=0;for(j=this.length-1;j>=0&&(ie!==0||j>=u);j--){var X=this.words[j]|0;this.words[j]=ie<<26-N|X>>>N,ie=X&V}return K&&ie!==0&&(K.words[K.length++]=ie),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},h.prototype.ishrn=function(O,H,I){return D(this.negative===0),this.iushrn(O,H,I)},h.prototype.shln=function(O){return this.clone().ishln(O)},h.prototype.ushln=function(O){return this.clone().iushln(O)},h.prototype.shrn=function(O){return this.clone().ishrn(O)},h.prototype.ushrn=function(O){return this.clone().iushrn(O)},h.prototype.testn=function(O){D(typeof O=="number"&&O>=0);var H=O%26,I=(O-H)/26,u=1<<H;if(this.length<=I)return!1;var N=this.words[I];return!!(N&u)},h.prototype.imaskn=function(O){D(typeof O=="number"&&O>=0);var H=O%26,I=(O-H)/26;if(D(this.negative===0,"imaskn works only with positive numbers"),this.length<=I)return this;if(H!==0&&I++,this.length=Math.min(I,this.length),H!==0){var u=67108863^67108863>>>H<<H;this.words[this.length-1]&=u}return this.strip()},h.prototype.maskn=function(O){return this.clone().imaskn(O)},h.prototype.iaddn=function(O){return D(typeof O=="number"),D(O<67108864),O<0?this.isubn(-O):this.negative!==0?this.length===1&&(this.words[0]|0)<O?(this.words[0]=O-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(O),this.negative=1,this):this._iaddn(O)},h.prototype._iaddn=function(O){this.words[0]+=O;for(var H=0;H<this.length&&this.words[H]>=67108864;H++)this.words[H]-=67108864,H===this.length-1?this.words[H+1]=1:this.words[H+1]++;return this.length=Math.max(this.length,H+1),this},h.prototype.isubn=function(O){if(D(typeof O=="number"),D(O<67108864),O<0)return this.iaddn(-O);if(this.negative!==0)return this.negative=0,this.iaddn(O),this.negative=1,this;if(this.words[0]-=O,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var H=0;H<this.length&&this.words[H]<0;H++)this.words[H]+=67108864,this.words[H+1]-=1;return this.strip()},h.prototype.addn=function(O){return this.clone().iaddn(O)},h.prototype.subn=function(O){return this.clone().isubn(O)},h.prototype.iabs=function(){return this.negative=0,this},h.prototype.abs=function(){return this.clone().iabs()},h.prototype._ishlnsubmul=function(O,H,I){var u=O.length+I,N;this._expand(u);var q,V=0;for(N=0;N<O.length;N++){q=(this.words[N+I]|0)+V;var K=(O.words[N]|0)*H;q-=K&67108863,V=(q>>26)-(K/67108864|0),this.words[N+I]=q&67108863}for(;N<this.length-I;N++)q=(this.words[N+I]|0)+V,V=q>>26,this.words[N+I]=q&67108863;if(V===0)return this.strip();for(D(V===-1),V=0,N=0;N<this.length;N++)q=-(this.words[N]|0)+V,V=q>>26,this.words[N]=q&67108863;return this.negative=1,this.strip()},h.prototype._wordDiv=function(O,H){var I=this.length-O.length,u=this.clone(),N=O,q=N.words[N.length-1]|0,V=this._countBits(q);I=26-V,I!==0&&(N=N.ushln(I),u.iushln(I),q=N.words[N.length-1]|0);var K=u.length-N.length,j;if(H!=="mod"){j=new h(null),j.length=K+1,j.words=new Array(j.length);for(var ie=0;ie<j.length;ie++)j.words[ie]=0}var X=u.clone()._ishlnsubmul(N,1,K);X.negative===0&&(u=X,j&&(j.words[K]=1));for(var B=K-1;B>=0;B--){var se=(u.words[N.length+B]|0)*67108864+(u.words[N.length+B-1]|0);for(se=Math.min(se/q|0,67108863),u._ishlnsubmul(N,se,B);u.negative!==0;)se--,u.negative=0,u._ishlnsubmul(N,1,B),u.isZero()||(u.negative^=1);j&&(j.words[B]=se)}return j&&j.strip(),u.strip(),H!=="div"&&I!==0&&u.iushrn(I),{div:j||null,mod:u}},h.prototype.divmod=function(O,H,I){if(D(!O.isZero()),this.isZero())return{div:new h(0),mod:new h(0)};var u,N,q;return this.negative!==0&&O.negative===0?(q=this.neg().divmod(O,H),H!=="mod"&&(u=q.div.neg()),H!=="div"&&(N=q.mod.neg(),I&&N.negative!==0&&N.iadd(O)),{div:u,mod:N}):this.negative===0&&O.negative!==0?(q=this.divmod(O.neg(),H),H!=="mod"&&(u=q.div.neg()),{div:u,mod:q.mod}):this.negative&O.negative?(q=this.neg().divmod(O.neg(),H),H!=="div"&&(N=q.mod.neg(),I&&N.negative!==0&&N.isub(O)),{div:q.div,mod:N}):O.length>this.length||this.cmp(O)<0?{div:new h(0),mod:this}:O.length===1?H==="div"?{div:this.divn(O.words[0]),mod:null}:H==="mod"?{div:null,mod:new h(this.modn(O.words[0]))}:{div:this.divn(O.words[0]),mod:new h(this.modn(O.words[0]))}:this._wordDiv(O,H)},h.prototype.div=function(O){return this.divmod(O,"div",!1).div},h.prototype.mod=function(O){return this.divmod(O,"mod",!1).mod},h.prototype.umod=function(O){return this.divmod(O,"mod",!0).mod},h.prototype.divRound=function(O){var H=this.divmod(O);if(H.mod.isZero())return H.div;var I=H.div.negative!==0?H.mod.isub(O):H.mod,u=O.ushrn(1),N=O.andln(1),q=I.cmp(u);return q<0||N===1&&q===0?H.div:H.div.negative!==0?H.div.isubn(1):H.div.iaddn(1)},h.prototype.modn=function(O){D(O<=67108863);for(var H=(1<<26)%O,I=0,u=this.length-1;u>=0;u--)I=(H*I+(this.words[u]|0))%O;return I},h.prototype.idivn=function(O){D(O<=67108863);for(var H=0,I=this.length-1;I>=0;I--){var u=(this.words[I]|0)+H*67108864;this.words[I]=u/O|0,H=u%O}return this.strip()},h.prototype.divn=function(O){return this.clone().idivn(O)},h.prototype.egcd=function(O){D(O.negative===0),D(!O.isZero());var H=this,I=O.clone();H.negative!==0?H=H.umod(O):H=H.clone();for(var u=new h(1),N=new h(0),q=new h(0),V=new h(1),K=0;H.isEven()&&I.isEven();)H.iushrn(1),I.iushrn(1),++K;for(var j=I.clone(),ie=H.clone();!H.isZero();){for(var X=0,B=1;!(H.words[0]&B)&&X<26;++X,B<<=1);if(X>0)for(H.iushrn(X);X-- >0;)(u.isOdd()||N.isOdd())&&(u.iadd(j),N.isub(ie)),u.iushrn(1),N.iushrn(1);for(var se=0,Pe=1;!(I.words[0]&Pe)&&se<26;++se,Pe<<=1);if(se>0)for(I.iushrn(se);se-- >0;)(q.isOdd()||V.isOdd())&&(q.iadd(j),V.isub(ie)),q.iushrn(1),V.iushrn(1);H.cmp(I)>=0?(H.isub(I),u.isub(q),N.isub(V)):(I.isub(H),q.isub(u),V.isub(N))}return{a:q,b:V,gcd:I.iushln(K)}},h.prototype._invmp=function(O){D(O.negative===0),D(!O.isZero());var H=this,I=O.clone();H.negative!==0?H=H.umod(O):H=H.clone();for(var u=new h(1),N=new h(0),q=I.clone();H.cmpn(1)>0&&I.cmpn(1)>0;){for(var V=0,K=1;!(H.words[0]&K)&&V<26;++V,K<<=1);if(V>0)for(H.iushrn(V);V-- >0;)u.isOdd()&&u.iadd(q),u.iushrn(1);for(var j=0,ie=1;!(I.words[0]&ie)&&j<26;++j,ie<<=1);if(j>0)for(I.iushrn(j);j-- >0;)N.isOdd()&&N.iadd(q),N.iushrn(1);H.cmp(I)>=0?(H.isub(I),u.isub(N)):(I.isub(H),N.isub(u))}var X;return H.cmpn(1)===0?X=u:X=N,X.cmpn(0)<0&&X.iadd(O),X},h.prototype.gcd=function(O){if(this.isZero())return O.abs();if(O.isZero())return this.abs();var H=this.clone(),I=O.clone();H.negative=0,I.negative=0;for(var u=0;H.isEven()&&I.isEven();u++)H.iushrn(1),I.iushrn(1);do{for(;H.isEven();)H.iushrn(1);for(;I.isEven();)I.iushrn(1);var N=H.cmp(I);if(N<0){var q=H;H=I,I=q}else if(N===0||I.cmpn(1)===0)break;H.isub(I)}while(!0);return I.iushln(u)},h.prototype.invm=function(O){return this.egcd(O).a.umod(O)},h.prototype.isEven=function(){return(this.words[0]&1)===0},h.prototype.isOdd=function(){return(this.words[0]&1)===1},h.prototype.andln=function(O){return this.words[0]&O},h.prototype.bincn=function(O){D(typeof O=="number");var H=O%26,I=(O-H)/26,u=1<<H;if(this.length<=I)return this._expand(I+1),this.words[I]|=u,this;for(var N=u,q=I;N!==0&&q<this.length;q++){var V=this.words[q]|0;V+=N,N=V>>>26,V&=67108863,this.words[q]=V}return N!==0&&(this.words[q]=N,this.length++),this},h.prototype.isZero=function(){return this.length===1&&this.words[0]===0},h.prototype.cmpn=function(O){var H=O<0;if(this.negative!==0&&!H)return-1;if(this.negative===0&&H)return 1;this.strip();var I;if(this.length>1)I=1;else{H&&(O=-O),D(O<=67108863,"Number is too big");var u=this.words[0]|0;I=u===O?0:u<O?-1:1}return this.negative!==0?-I|0:I},h.prototype.cmp=function(O){if(this.negative!==0&&O.negative===0)return-1;if(this.negative===0&&O.negative!==0)return 1;var H=this.ucmp(O);return this.negative!==0?-H|0:H},h.prototype.ucmp=function(O){if(this.length>O.length)return 1;if(this.length<O.length)return-1;for(var H=0,I=this.length-1;I>=0;I--){var u=this.words[I]|0,N=O.words[I]|0;if(u!==N){u<N?H=-1:u>N&&(H=1);break}}return H},h.prototype.gtn=function(O){return this.cmpn(O)===1},h.prototype.gt=function(O){return this.cmp(O)===1},h.prototype.gten=function(O){return this.cmpn(O)>=0},h.prototype.gte=function(O){return this.cmp(O)>=0},h.prototype.ltn=function(O){return this.cmpn(O)===-1},h.prototype.lt=function(O){return this.cmp(O)===-1},h.prototype.lten=function(O){return this.cmpn(O)<=0},h.prototype.lte=function(O){return this.cmp(O)<=0},h.prototype.eqn=function(O){return this.cmpn(O)===0},h.prototype.eq=function(O){return this.cmp(O)===0},h.red=function(O){return new Z(O)},h.prototype.toRed=function(O){return D(!this.red,"Already a number in reduction context"),D(this.negative===0,"red works only with positives"),O.convertTo(this)._forceRed(O)},h.prototype.fromRed=function(){return D(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},h.prototype._forceRed=function(O){return this.red=O,this},h.prototype.forceRed=function(O){return D(!this.red,"Already a number in reduction context"),this._forceRed(O)},h.prototype.redAdd=function(O){return D(this.red,"redAdd works only with red numbers"),this.red.add(this,O)},h.prototype.redIAdd=function(O){return D(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,O)},h.prototype.redSub=function(O){return D(this.red,"redSub works only with red numbers"),this.red.sub(this,O)},h.prototype.redISub=function(O){return D(this.red,"redISub works only with red numbers"),this.red.isub(this,O)},h.prototype.redShl=function(O){return D(this.red,"redShl works only with red numbers"),this.red.shl(this,O)},h.prototype.redMul=function(O){return D(this.red,"redMul works only with red numbers"),this.red._verify2(this,O),this.red.mul(this,O)},h.prototype.redIMul=function(O){return D(this.red,"redMul works only with red numbers"),this.red._verify2(this,O),this.red.imul(this,O)},h.prototype.redSqr=function(){return D(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},h.prototype.redISqr=function(){return D(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},h.prototype.redSqrt=function(){return D(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},h.prototype.redInvm=function(){return D(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},h.prototype.redNeg=function(){return D(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},h.prototype.redPow=function(O){return D(this.red&&!O.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,O)};var M={k256:null,p224:null,p192:null,p25519:null};function U(J,O){this.name=J,this.p=new h(O,16),this.n=this.p.bitLength(),this.k=new h(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}U.prototype._tmp=function(){var O=new h(null);return O.words=new Array(Math.ceil(this.n/13)),O},U.prototype.ireduce=function(O){var H=O,I;do this.split(H,this.tmp),H=this.imulK(H),H=H.iadd(this.tmp),I=H.bitLength();while(I>this.n);var u=I<this.n?-1:H.ucmp(this.p);return u===0?(H.words[0]=0,H.length=1):u>0?H.isub(this.p):H.strip!==void 0?H.strip():H._strip(),H},U.prototype.split=function(O,H){O.iushrn(this.n,0,H)},U.prototype.imulK=function(O){return O.imul(this.k)};function x(){U.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}A(x,U),x.prototype.split=function(O,H){for(var I=4194303,u=Math.min(O.length,9),N=0;N<u;N++)H.words[N]=O.words[N];if(H.length=u,O.length<=9){O.words[0]=0,O.length=1;return}var q=O.words[9];for(H.words[H.length++]=q&I,N=10;N<O.length;N++){var V=O.words[N]|0;O.words[N-10]=(V&I)<<4|q>>>22,q=V}q>>>=22,O.words[N-10]=q,q===0&&O.length>10?O.length-=10:O.length-=9},x.prototype.imulK=function(O){O.words[O.length]=0,O.words[O.length+1]=0,O.length+=2;for(var H=0,I=0;I<O.length;I++){var u=O.words[I]|0;H+=u*977,O.words[I]=H&67108863,H=u*64+(H/67108864|0)}return O.words[O.length-1]===0&&(O.length--,O.words[O.length-1]===0&&O.length--),O};function y(){U.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}A(y,U);function W(){U.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}A(W,U);function Q(){U.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}A(Q,U),Q.prototype.imulK=function(O){for(var H=0,I=0;I<O.length;I++){var u=(O.words[I]|0)*19+H,N=u&67108863;u>>>=26,O.words[I]=N,H=u}return H!==0&&(O.words[O.length++]=H),O},h._prime=function(O){if(M[O])return M[O];var H;if(O==="k256")H=new x;else if(O==="p224")H=new y;else if(O==="p192")H=new W;else if(O==="p25519")H=new Q;else throw new Error("Unknown prime "+O);return M[O]=H,H};function Z(J){if(typeof J=="string"){var O=h._prime(J);this.m=O.p,this.prime=O}else D(J.gtn(1),"modulus must be greater than 1"),this.m=J,this.prime=null}Z.prototype._verify1=function(O){D(O.negative===0,"red works only with positives"),D(O.red,"red works only with red numbers")},Z.prototype._verify2=function(O,H){D((O.negative|H.negative)===0,"red works only with positives"),D(O.red&&O.red===H.red,"red works only with red numbers")},Z.prototype.imod=function(O){return this.prime?this.prime.ireduce(O)._forceRed(this):O.umod(this.m)._forceRed(this)},Z.prototype.neg=function(O){return O.isZero()?O.clone():this.m.sub(O)._forceRed(this)},Z.prototype.add=function(O,H){this._verify2(O,H);var I=O.add(H);return I.cmp(this.m)>=0&&I.isub(this.m),I._forceRed(this)},Z.prototype.iadd=function(O,H){this._verify2(O,H);var I=O.iadd(H);return I.cmp(this.m)>=0&&I.isub(this.m),I},Z.prototype.sub=function(O,H){this._verify2(O,H);var I=O.sub(H);return I.cmpn(0)<0&&I.iadd(this.m),I._forceRed(this)},Z.prototype.isub=function(O,H){this._verify2(O,H);var I=O.isub(H);return I.cmpn(0)<0&&I.iadd(this.m),I},Z.prototype.shl=function(O,H){return this._verify1(O),this.imod(O.ushln(H))},Z.prototype.imul=function(O,H){return this._verify2(O,H),this.imod(O.imul(H))},Z.prototype.mul=function(O,H){return this._verify2(O,H),this.imod(O.mul(H))},Z.prototype.isqr=function(O){return this.imul(O,O.clone())},Z.prototype.sqr=function(O){return this.mul(O,O)},Z.prototype.sqrt=function(O){if(O.isZero())return O.clone();var H=this.m.andln(3);if(D(H%2===1),H===3){var I=this.m.add(new h(1)).iushrn(2);return this.pow(O,I)}for(var u=this.m.subn(1),N=0;!u.isZero()&&u.andln(1)===0;)N++,u.iushrn(1);D(!u.isZero());var q=new h(1).toRed(this),V=q.redNeg(),K=this.m.subn(1).iushrn(1),j=this.m.bitLength();for(j=new h(2*j*j).toRed(this);this.pow(j,K).cmp(V)!==0;)j.redIAdd(V);for(var ie=this.pow(j,u),X=this.pow(O,u.addn(1).iushrn(1)),B=this.pow(O,u),se=N;B.cmp(q)!==0;){for(var Pe=B,we=0;Pe.cmp(q)!==0;we++)Pe=Pe.redSqr();D(we<se);var _e=this.pow(ie,new h(1).iushln(se-we-1));X=X.redMul(_e),ie=_e.redSqr(),B=B.redMul(ie),se=we}return X},Z.prototype.invm=function(O){var H=O._invmp(this.m);return H.negative!==0?(H.negative=0,this.imod(H).redNeg()):this.imod(H)},Z.prototype.pow=function(O,H){if(H.isZero())return new h(1).toRed(this);if(H.cmpn(1)===0)return O.clone();var I=4,u=new Array(1<<I);u[0]=new h(1).toRed(this),u[1]=O;for(var N=2;N<u.length;N++)u[N]=this.mul(u[N-1],O);var q=u[0],V=0,K=0,j=H.bitLength()%26;for(j===0&&(j=26),N=H.length-1;N>=0;N--){for(var ie=H.words[N],X=j-1;X>=0;X--){var B=ie>>X&1;if(q!==u[0]&&(q=this.sqr(q)),B===0&&V===0){K=0;continue}V<<=1,V|=B,K++,!(K!==I&&(N!==0||X!==0))&&(q=this.mul(q,u[V]),K=0,V=0)}j=26}return q},Z.prototype.convertTo=function(O){var H=O.umod(this.m);return H===O?H.clone():H},Z.prototype.convertFrom=function(O){var H=O.clone();return H.red=null,H},h.mont=function(O){return new ee(O)};function ee(J){Z.call(this,J),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new h(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}A(ee,Z),ee.prototype.convertTo=function(O){return this.imod(O.ushln(this.shift))},ee.prototype.convertFrom=function(O){var H=this.imod(O.mul(this.rinv));return H.red=null,H},ee.prototype.imul=function(O,H){if(O.isZero()||H.isZero())return O.words[0]=0,O.length=1,O;var I=O.imul(H),u=I.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),N=I.isub(u).iushrn(this.shift),q=N;return N.cmp(this.m)>=0?q=N.isub(this.m):N.cmpn(0)<0&&(q=N.iadd(this.m)),q._forceRed(this)},ee.prototype.mul=function(O,H){if(O.isZero()||H.isZero())return new h(0)._forceRed(this);var I=O.mul(H),u=I.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),N=I.isub(u).iushrn(this.shift),q=N;return N.cmp(this.m)>=0?q=N.isub(this.m):N.cmpn(0)<0&&(q=N.iadd(this.m)),q._forceRed(this)},ee.prototype.invm=function(O){var H=this.imod(O._invmp(this.m).mul(this.r2));return H._forceRed(this)}}(s,this)},15037:(s,G,F)=>{var P;s.exports=function(h){return P||(P=new L(null)),P.generate(h)};function L(A){this.rand=A}if(s.exports.Rand=L,L.prototype.generate=function(h){return this._rand(h)},L.prototype._rand=function(h){if(this.rand.getBytes)return this.rand.getBytes(h);for(var m=new Uint8Array(h),g=0;g<m.length;g++)m[g]=this.rand.getByte();return m},typeof self=="object")self.crypto&&self.crypto.getRandomValues?L.prototype._rand=function(h){var m=new Uint8Array(h);return self.crypto.getRandomValues(m),m}:self.msCrypto&&self.msCrypto.getRandomValues?L.prototype._rand=function(h){var m=new Uint8Array(h);return self.msCrypto.getRandomValues(m),m}:typeof window=="object"&&(L.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var D=F(73776);if(typeof D.randomBytes!="function")throw new Error("Not supported");L.prototype._rand=function(h){return D.randomBytes(h)}}catch{}},50462:(s,G,F)=>{var P=F(92861).Buffer;function L(p){P.isBuffer(p)||(p=P.from(p));for(var k=p.length/4|0,b=new Array(k),l=0;l<k;l++)b[l]=p.readUInt32BE(l*4);return b}function D(p){for(var k=0;k<p.length;p++)p[k]=0}function A(p,k,b,l,E){for(var c=b[0],v=b[1],f=b[2],w=b[3],_=p[0]^k[0],R=p[1]^k[1],M=p[2]^k[2],U=p[3]^k[3],x,y,W,Q,Z=4,ee=1;ee<E;ee++)x=c[_>>>24]^v[R>>>16&255]^f[M>>>8&255]^w[U&255]^k[Z++],y=c[R>>>24]^v[M>>>16&255]^f[U>>>8&255]^w[_&255]^k[Z++],W=c[M>>>24]^v[U>>>16&255]^f[_>>>8&255]^w[R&255]^k[Z++],Q=c[U>>>24]^v[_>>>16&255]^f[R>>>8&255]^w[M&255]^k[Z++],_=x,R=y,M=W,U=Q;return x=(l[_>>>24]<<24|l[R>>>16&255]<<16|l[M>>>8&255]<<8|l[U&255])^k[Z++],y=(l[R>>>24]<<24|l[M>>>16&255]<<16|l[U>>>8&255]<<8|l[_&255])^k[Z++],W=(l[M>>>24]<<24|l[U>>>16&255]<<16|l[_>>>8&255]<<8|l[R&255])^k[Z++],Q=(l[U>>>24]<<24|l[_>>>16&255]<<16|l[R>>>8&255]<<8|l[M&255])^k[Z++],x=x>>>0,y=y>>>0,W=W>>>0,Q=Q>>>0,[x,y,W,Q]}var h=[0,1,2,4,8,16,32,64,128,27,54],m=function(){for(var p=new Array(256),k=0;k<256;k++)k<128?p[k]=k<<1:p[k]=k<<1^283;for(var b=[],l=[],E=[[],[],[],[]],c=[[],[],[],[]],v=0,f=0,w=0;w<256;++w){var _=f^f<<1^f<<2^f<<3^f<<4;_=_>>>8^_&255^99,b[v]=_,l[_]=v;var R=p[v],M=p[R],U=p[M],x=p[_]*257^_*16843008;E[0][v]=x<<24|x>>>8,E[1][v]=x<<16|x>>>16,E[2][v]=x<<8|x>>>24,E[3][v]=x,x=U*16843009^M*65537^R*257^v*16843008,c[0][_]=x<<24|x>>>8,c[1][_]=x<<16|x>>>16,c[2][_]=x<<8|x>>>24,c[3][_]=x,v===0?v=f=1:(v=R^p[p[p[U^R]]],f^=p[p[f]])}return{SBOX:b,INV_SBOX:l,SUB_MIX:E,INV_SUB_MIX:c}}();function g(p){this._key=L(p),this._reset()}g.blockSize=16,g.keySize=32,g.prototype.blockSize=g.blockSize,g.prototype.keySize=g.keySize,g.prototype._reset=function(){for(var p=this._key,k=p.length,b=k+6,l=(b+1)*4,E=[],c=0;c<k;c++)E[c]=p[c];for(c=k;c<l;c++){var v=E[c-1];c%k===0?(v=v<<8|v>>>24,v=m.SBOX[v>>>24]<<24|m.SBOX[v>>>16&255]<<16|m.SBOX[v>>>8&255]<<8|m.SBOX[v&255],v^=h[c/k|0]<<24):k>6&&c%k===4&&(v=m.SBOX[v>>>24]<<24|m.SBOX[v>>>16&255]<<16|m.SBOX[v>>>8&255]<<8|m.SBOX[v&255]),E[c]=E[c-k]^v}for(var f=[],w=0;w<l;w++){var _=l-w,R=E[_-(w%4?0:4)];w<4||_<=4?f[w]=R:f[w]=m.INV_SUB_MIX[0][m.SBOX[R>>>24]]^m.INV_SUB_MIX[1][m.SBOX[R>>>16&255]]^m.INV_SUB_MIX[2][m.SBOX[R>>>8&255]]^m.INV_SUB_MIX[3][m.SBOX[R&255]]}this._nRounds=b,this._keySchedule=E,this._invKeySchedule=f},g.prototype.encryptBlockRaw=function(p){return p=L(p),A(p,this._keySchedule,m.SUB_MIX,m.SBOX,this._nRounds)},g.prototype.encryptBlock=function(p){var k=this.encryptBlockRaw(p),b=P.allocUnsafe(16);return b.writeUInt32BE(k[0],0),b.writeUInt32BE(k[1],4),b.writeUInt32BE(k[2],8),b.writeUInt32BE(k[3],12),b},g.prototype.decryptBlock=function(p){p=L(p);var k=p[1];p[1]=p[3],p[3]=k;var b=A(p,this._invKeySchedule,m.INV_SUB_MIX,m.INV_SBOX,this._nRounds),l=P.allocUnsafe(16);return l.writeUInt32BE(b[0],0),l.writeUInt32BE(b[3],4),l.writeUInt32BE(b[2],8),l.writeUInt32BE(b[1],12),l},g.prototype.scrub=function(){D(this._keySchedule),D(this._invKeySchedule),D(this._key)},s.exports.AES=g},92356:(s,G,F)=>{var P=F(50462),L=F(92861).Buffer,D=F(56168),A=F(56698),h=F(25892),m=F(30295),g=F(45122);function p(l,E){var c=0;l.length!==E.length&&c++;for(var v=Math.min(l.length,E.length),f=0;f<v;++f)c+=l[f]^E[f];return c}function k(l,E,c){if(E.length===12)return l._finID=L.concat([E,L.from([0,0,0,1])]),L.concat([E,L.from([0,0,0,2])]);var v=new h(c),f=E.length,w=f%16;v.update(E),w&&(w=16-w,v.update(L.alloc(w,0))),v.update(L.alloc(8,0));var _=f*8,R=L.alloc(8);R.writeUIntBE(_,0,8),v.update(R),l._finID=v.state;var M=L.from(l._finID);return g(M),M}function b(l,E,c,v){D.call(this);var f=L.alloc(4,0);this._cipher=new P.AES(E);var w=this._cipher.encryptBlock(f);this._ghash=new h(w),c=k(this,c,w),this._prev=L.from(c),this._cache=L.allocUnsafe(0),this._secCache=L.allocUnsafe(0),this._decrypt=v,this._alen=0,this._len=0,this._mode=l,this._authTag=null,this._called=!1}A(b,D),b.prototype._update=function(l){if(!this._called&&this._alen){var E=16-this._alen%16;E<16&&(E=L.alloc(E,0),this._ghash.update(E))}this._called=!0;var c=this._mode.encrypt(this,l);return this._decrypt?this._ghash.update(l):this._ghash.update(c),this._len+=l.length,c},b.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var l=m(this._ghash.final(this._alen*8,this._len*8),this._cipher.encryptBlock(this._finID));if(this._decrypt&&p(l,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=l,this._cipher.scrub()},b.prototype.getAuthTag=function(){if(this._decrypt||!L.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},b.prototype.setAuthTag=function(E){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=E},b.prototype.setAAD=function(E){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(E),this._alen+=E.length},s.exports=b},1241:(s,G,F)=>{var P=F(25799),L=F(36171),D=F(3219);function A(){return Object.keys(D)}G.createCipher=G.Cipher=P.createCipher,G.createCipheriv=G.Cipheriv=P.createCipheriv,G.createDecipher=G.Decipher=L.createDecipher,G.createDecipheriv=G.Decipheriv=L.createDecipheriv,G.listCiphers=G.getCiphers=A},36171:(s,G,F)=>{var P=F(92356),L=F(92861).Buffer,D=F(530),A=F(50650),h=F(56168),m=F(50462),g=F(68078),p=F(56698);function k(v,f,w){h.call(this),this._cache=new b,this._last=void 0,this._cipher=new m.AES(f),this._prev=L.from(w),this._mode=v,this._autopadding=!0}p(k,h),k.prototype._update=function(v){this._cache.add(v);for(var f,w,_=[];f=this._cache.get(this._autopadding);)w=this._mode.decrypt(this,f),_.push(w);return L.concat(_)},k.prototype._final=function(){var v=this._cache.flush();if(this._autopadding)return l(this._mode.decrypt(this,v));if(v)throw new Error("data not multiple of block length")},k.prototype.setAutoPadding=function(v){return this._autopadding=!!v,this};function b(){this.cache=L.allocUnsafe(0)}b.prototype.add=function(v){this.cache=L.concat([this.cache,v])},b.prototype.get=function(v){var f;if(v){if(this.cache.length>16)return f=this.cache.slice(0,16),this.cache=this.cache.slice(16),f}else if(this.cache.length>=16)return f=this.cache.slice(0,16),this.cache=this.cache.slice(16),f;return null},b.prototype.flush=function(){if(this.cache.length)return this.cache};function l(v){var f=v[15];if(f<1||f>16)throw new Error("unable to decrypt data");for(var w=-1;++w<f;)if(v[w+(16-f)]!==f)throw new Error("unable to decrypt data");if(f!==16)return v.slice(0,16-f)}function E(v,f,w){var _=D[v.toLowerCase()];if(!_)throw new TypeError("invalid suite type");if(typeof w=="string"&&(w=L.from(w)),_.mode!=="GCM"&&w.length!==_.iv)throw new TypeError("invalid iv length "+w.length);if(typeof f=="string"&&(f=L.from(f)),f.length!==_.key/8)throw new TypeError("invalid key length "+f.length);return _.type==="stream"?new A(_.module,f,w,!0):_.type==="auth"?new P(_.module,f,w,!0):new k(_.module,f,w)}function c(v,f){var w=D[v.toLowerCase()];if(!w)throw new TypeError("invalid suite type");var _=g(f,!1,w.key,w.iv);return E(v,_.key,_.iv)}G.createDecipher=c,G.createDecipheriv=E},25799:(s,G,F)=>{var P=F(530),L=F(92356),D=F(92861).Buffer,A=F(50650),h=F(56168),m=F(50462),g=F(68078),p=F(56698);function k(v,f,w){h.call(this),this._cache=new l,this._cipher=new m.AES(f),this._prev=D.from(w),this._mode=v,this._autopadding=!0}p(k,h),k.prototype._update=function(v){this._cache.add(v);for(var f,w,_=[];f=this._cache.get();)w=this._mode.encrypt(this,f),_.push(w);return D.concat(_)};var b=D.alloc(16,16);k.prototype._final=function(){var v=this._cache.flush();if(this._autopadding)return v=this._mode.encrypt(this,v),this._cipher.scrub(),v;if(!v.equals(b))throw this._cipher.scrub(),new Error("data not multiple of block length")},k.prototype.setAutoPadding=function(v){return this._autopadding=!!v,this};function l(){this.cache=D.allocUnsafe(0)}l.prototype.add=function(v){this.cache=D.concat([this.cache,v])},l.prototype.get=function(){if(this.cache.length>15){var v=this.cache.slice(0,16);return this.cache=this.cache.slice(16),v}return null},l.prototype.flush=function(){for(var v=16-this.cache.length,f=D.allocUnsafe(v),w=-1;++w<v;)f.writeUInt8(v,w);return D.concat([this.cache,f])};function E(v,f,w){var _=P[v.toLowerCase()];if(!_)throw new TypeError("invalid suite type");if(typeof f=="string"&&(f=D.from(f)),f.length!==_.key/8)throw new TypeError("invalid key length "+f.length);if(typeof w=="string"&&(w=D.from(w)),_.mode!=="GCM"&&w.length!==_.iv)throw new TypeError("invalid iv length "+w.length);return _.type==="stream"?new A(_.module,f,w):_.type==="auth"?new L(_.module,f,w):new k(_.module,f,w)}function c(v,f){var w=P[v.toLowerCase()];if(!w)throw new TypeError("invalid suite type");var _=g(f,!1,w.key,w.iv);return E(v,_.key,_.iv)}G.createCipheriv=E,G.createCipher=c},25892:(s,G,F)=>{var P=F(92861).Buffer,L=P.alloc(16,0);function D(m){return[m.readUInt32BE(0),m.readUInt32BE(4),m.readUInt32BE(8),m.readUInt32BE(12)]}function A(m){var g=P.allocUnsafe(16);return g.writeUInt32BE(m[0]>>>0,0),g.writeUInt32BE(m[1]>>>0,4),g.writeUInt32BE(m[2]>>>0,8),g.writeUInt32BE(m[3]>>>0,12),g}function h(m){this.h=m,this.state=P.alloc(16,0),this.cache=P.allocUnsafe(0)}h.prototype.ghash=function(m){for(var g=-1;++g<m.length;)this.state[g]^=m[g];this._multiply()},h.prototype._multiply=function(){for(var m=D(this.h),g=[0,0,0,0],p,k,b,l=-1;++l<128;){for(k=(this.state[~~(l/8)]&1<<7-l%8)!==0,k&&(g[0]^=m[0],g[1]^=m[1],g[2]^=m[2],g[3]^=m[3]),b=(m[3]&1)!==0,p=3;p>0;p--)m[p]=m[p]>>>1|(m[p-1]&1)<<31;m[0]=m[0]>>>1,b&&(m[0]=m[0]^-520093696)}this.state=A(g)},h.prototype.update=function(m){this.cache=P.concat([this.cache,m]);for(var g;this.cache.length>=16;)g=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(g)},h.prototype.final=function(m,g){return this.cache.length&&this.ghash(P.concat([this.cache,L],16)),this.ghash(A([0,m,0,g])),this.state},s.exports=h},45122:s=>{function G(F){for(var P=F.length,L;P--;)if(L=F.readUInt8(P),L===255)F.writeUInt8(0,P);else{L++,F.writeUInt8(L,P);break}}s.exports=G},92884:(s,G,F)=>{var P=F(30295);G.encrypt=function(L,D){var A=P(D,L._prev);return L._prev=L._cipher.encryptBlock(A),L._prev},G.decrypt=function(L,D){var A=L._prev;L._prev=D;var h=L._cipher.decryptBlock(D);return P(h,A)}},46383:(s,G,F)=>{var P=F(92861).Buffer,L=F(30295);function D(A,h,m){var g=h.length,p=L(h,A._cache);return A._cache=A._cache.slice(g),A._prev=P.concat([A._prev,m?h:p]),p}G.encrypt=function(A,h,m){for(var g=P.allocUnsafe(0),p;h.length;)if(A._cache.length===0&&(A._cache=A._cipher.encryptBlock(A._prev),A._prev=P.allocUnsafe(0)),A._cache.length<=h.length)p=A._cache.length,g=P.concat([g,D(A,h.slice(0,p),m)]),h=h.slice(p);else{g=P.concat([g,D(A,h,m)]);break}return g}},55264:(s,G,F)=>{var P=F(92861).Buffer;function L(A,h,m){for(var g,p=-1,k=8,b=0,l,E;++p<k;)g=A._cipher.encryptBlock(A._prev),l=h&1<<7-p?128:0,E=g[0]^l,b+=(E&128)>>p%8,A._prev=D(A._prev,m?l:E);return b}function D(A,h){var m=A.length,g=-1,p=P.allocUnsafe(A.length);for(A=P.concat([A,P.from([h])]);++g<m;)p[g]=A[g]<<1|A[g+1]>>7;return p}G.encrypt=function(A,h,m){for(var g=h.length,p=P.allocUnsafe(g),k=-1;++k<g;)p[k]=L(A,h[k],m);return p}},86975:(s,G,F)=>{var P=F(92861).Buffer;function L(D,A,h){var m=D._cipher.encryptBlock(D._prev),g=m[0]^A;return D._prev=P.concat([D._prev.slice(1),P.from([h?A:g])]),g}G.encrypt=function(D,A,h){for(var m=A.length,g=P.allocUnsafe(m),p=-1;++p<m;)g[p]=L(D,A[p],h);return g}},63053:(s,G,F)=>{var P=F(30295),L=F(92861).Buffer,D=F(45122);function A(m){var g=m._cipher.encryptBlockRaw(m._prev);return D(m._prev),g}var h=16;G.encrypt=function(m,g){var p=Math.ceil(g.length/h),k=m._cache.length;m._cache=L.concat([m._cache,L.allocUnsafe(p*h)]);for(var b=0;b<p;b++){var l=A(m),E=k+b*h;m._cache.writeUInt32BE(l[0],E+0),m._cache.writeUInt32BE(l[1],E+4),m._cache.writeUInt32BE(l[2],E+8),m._cache.writeUInt32BE(l[3],E+12)}var c=m._cache.slice(0,g.length);return m._cache=m._cache.slice(g.length),P(g,c)}},52632:(s,G)=>{G.encrypt=function(F,P){return F._cipher.encryptBlock(P)},G.decrypt=function(F,P){return F._cipher.decryptBlock(P)}},530:(s,G,F)=>{var P={ECB:F(52632),CBC:F(92884),CFB:F(46383),CFB8:F(86975),CFB1:F(55264),OFB:F(46843),CTR:F(63053),GCM:F(63053)},L=F(3219);for(var D in L)L[D].module=P[L[D].mode];s.exports=L},46843:(s,G,F)=>{var P=F(48287).Buffer,L=F(30295);function D(A){return A._prev=A._cipher.encryptBlock(A._prev),A._prev}G.encrypt=function(A,h){for(;A._cache.length<h.length;)A._cache=P.concat([A._cache,D(A)]);var m=A._cache.slice(0,h.length);return A._cache=A._cache.slice(h.length),L(h,m)}},50650:(s,G,F)=>{var P=F(50462),L=F(92861).Buffer,D=F(56168),A=F(56698);function h(m,g,p,k){D.call(this),this._cipher=new P.AES(g),this._prev=L.from(p),this._cache=L.allocUnsafe(0),this._secCache=L.allocUnsafe(0),this._decrypt=k,this._mode=m}A(h,D),h.prototype._update=function(m){return this._mode.encrypt(this,m,this._decrypt)},h.prototype._final=function(){this._cipher.scrub()},s.exports=h},30125:(s,G,F)=>{var P=F(84050),L=F(1241),D=F(530),A=F(32438),h=F(68078);function m(l,E){l=l.toLowerCase();var c,v;if(D[l])c=D[l].key,v=D[l].iv;else if(A[l])c=A[l].key*8,v=A[l].iv;else throw new TypeError("invalid suite type");var f=h(E,!1,c,v);return p(l,f.key,f.iv)}function g(l,E){l=l.toLowerCase();var c,v;if(D[l])c=D[l].key,v=D[l].iv;else if(A[l])c=A[l].key*8,v=A[l].iv;else throw new TypeError("invalid suite type");var f=h(E,!1,c,v);return k(l,f.key,f.iv)}function p(l,E,c){if(l=l.toLowerCase(),D[l])return L.createCipheriv(l,E,c);if(A[l])return new P({key:E,iv:c,mode:l});throw new TypeError("invalid suite type")}function k(l,E,c){if(l=l.toLowerCase(),D[l])return L.createDecipheriv(l,E,c);if(A[l])return new P({key:E,iv:c,mode:l,decrypt:!0});throw new TypeError("invalid suite type")}function b(){return Object.keys(A).concat(L.getCiphers())}G.createCipher=G.Cipher=m,G.createCipheriv=G.Cipheriv=p,G.createDecipher=G.Decipher=g,G.createDecipheriv=G.Decipheriv=k,G.listCiphers=G.getCiphers=b},84050:(s,G,F)=>{var P=F(56168),L=F(29560),D=F(56698),A=F(92861).Buffer,h={"des-ede3-cbc":L.CBC.instantiate(L.EDE),"des-ede3":L.EDE,"des-ede-cbc":L.CBC.instantiate(L.EDE),"des-ede":L.EDE,"des-cbc":L.CBC.instantiate(L.DES),"des-ecb":L.DES};h.des=h["des-cbc"],h.des3=h["des-ede3-cbc"],s.exports=m,D(m,P);function m(g){P.call(this);var p=g.mode.toLowerCase(),k=h[p],b;g.decrypt?b="decrypt":b="encrypt";var l=g.key;A.isBuffer(l)||(l=A.from(l)),(p==="des-ede"||p==="des-ede-cbc")&&(l=A.concat([l,l.slice(0,8)]));var E=g.iv;A.isBuffer(E)||(E=A.from(E)),this._des=k.create({key:l,iv:E,type:b})}m.prototype._update=function(g){return A.from(this._des.update(g))},m.prototype._final=function(){return A.from(this._des.final())}},32438:(s,G)=>{G["des-ecb"]={key:8,iv:0},G["des-cbc"]=G.des={key:8,iv:8},G["des-ede3-cbc"]=G.des3={key:24,iv:8},G["des-ede3"]={key:24,iv:0},G["des-ede-cbc"]={key:16,iv:8},G["des-ede"]={key:16,iv:0}},67332:(s,G,F)=>{var P=F(48287).Buffer,L=F(78893),D=F(53209);function A(g){var p=h(g),k=p.toRed(L.mont(g.modulus)).redPow(new L(g.publicExponent)).fromRed();return{blinder:k,unblinder:p.invm(g.modulus)}}function h(g){var p=g.modulus.byteLength(),k;do k=new L(D(p));while(k.cmp(g.modulus)>=0||!k.umod(g.prime1)||!k.umod(g.prime2));return k}function m(g,p){var k=A(p),b=p.modulus.byteLength(),l=new L(g).mul(k.blinder).umod(p.modulus),E=l.toRed(L.mont(p.prime1)),c=l.toRed(L.mont(p.prime2)),v=p.coefficient,f=p.prime1,w=p.prime2,_=E.redPow(p.exponent1).fromRed(),R=c.redPow(p.exponent2).fromRed(),M=_.isub(R).imul(v).umod(f).imul(w);return R.iadd(M).imul(k.unblinder).umod(p.modulus).toArrayLike(P,"be",b)}m.getr=h,s.exports=m},78893:function(s,G,F){s=F.nmd(s),function(P,L){"use strict";function D(I,u){if(!I)throw new Error(u||"Assertion failed")}function A(I,u){I.super_=u;var N=function(){};N.prototype=u.prototype,I.prototype=new N,I.prototype.constructor=I}function h(I,u,N){if(h.isBN(I))return I;this.negative=0,this.words=null,this.length=0,this.red=null,I!==null&&((u==="le"||u==="be")&&(N=u,u=10),this._init(I||0,u||10,N||"be"))}typeof P=="object"?P.exports=h:L.BN=h,h.BN=h,h.wordSize=26;var m;try{typeof window!="undefined"&&typeof window.Buffer!="undefined"?m=window.Buffer:m=F(98285).Buffer}catch{}h.isBN=function(u){return u instanceof h?!0:u!==null&&typeof u=="object"&&u.constructor.wordSize===h.wordSize&&Array.isArray(u.words)},h.max=function(u,N){return u.cmp(N)>0?u:N},h.min=function(u,N){return u.cmp(N)<0?u:N},h.prototype._init=function(u,N,q){if(typeof u=="number")return this._initNumber(u,N,q);if(typeof u=="object")return this._initArray(u,N,q);N==="hex"&&(N=16),D(N===(N|0)&&N>=2&&N<=36),u=u.toString().replace(/\s+/g,"");var V=0;u[0]==="-"&&(V++,this.negative=1),V<u.length&&(N===16?this._parseHex(u,V,q):(this._parseBase(u,N,V),q==="le"&&this._initArray(this.toArray(),N,q)))},h.prototype._initNumber=function(u,N,q){u<0&&(this.negative=1,u=-u),u<67108864?(this.words=[u&67108863],this.length=1):u<4503599627370496?(this.words=[u&67108863,u/67108864&67108863],this.length=2):(D(u<9007199254740992),this.words=[u&67108863,u/67108864&67108863,1],this.length=3),q==="le"&&this._initArray(this.toArray(),N,q)},h.prototype._initArray=function(u,N,q){if(D(typeof u.length=="number"),u.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(u.length/3),this.words=new Array(this.length);for(var V=0;V<this.length;V++)this.words[V]=0;var K,j,ie=0;if(q==="be")for(V=u.length-1,K=0;V>=0;V-=3)j=u[V]|u[V-1]<<8|u[V-2]<<16,this.words[K]|=j<<ie&67108863,this.words[K+1]=j>>>26-ie&67108863,ie+=24,ie>=26&&(ie-=26,K++);else if(q==="le")for(V=0,K=0;V<u.length;V+=3)j=u[V]|u[V+1]<<8|u[V+2]<<16,this.words[K]|=j<<ie&67108863,this.words[K+1]=j>>>26-ie&67108863,ie+=24,ie>=26&&(ie-=26,K++);return this._strip()};function g(I,u){var N=I.charCodeAt(u);if(N>=48&&N<=57)return N-48;if(N>=65&&N<=70)return N-55;if(N>=97&&N<=102)return N-87;D(!1,"Invalid character in "+I)}function p(I,u,N){var q=g(I,N);return N-1>=u&&(q|=g(I,N-1)<<4),q}h.prototype._parseHex=function(u,N,q){this.length=Math.ceil((u.length-N)/6),this.words=new Array(this.length);for(var V=0;V<this.length;V++)this.words[V]=0;var K=0,j=0,ie;if(q==="be")for(V=u.length-1;V>=N;V-=2)ie=p(u,N,V)<<K,this.words[j]|=ie&67108863,K>=18?(K-=18,j+=1,this.words[j]|=ie>>>26):K+=8;else{var X=u.length-N;for(V=X%2===0?N+1:N;V<u.length;V+=2)ie=p(u,N,V)<<K,this.words[j]|=ie&67108863,K>=18?(K-=18,j+=1,this.words[j]|=ie>>>26):K+=8}this._strip()};function k(I,u,N,q){for(var V=0,K=0,j=Math.min(I.length,N),ie=u;ie<j;ie++){var X=I.charCodeAt(ie)-48;V*=q,X>=49?K=X-49+10:X>=17?K=X-17+10:K=X,D(X>=0&&K<q,"Invalid character"),V+=K}return V}h.prototype._parseBase=function(u,N,q){this.words=[0],this.length=1;for(var V=0,K=1;K<=67108863;K*=N)V++;V--,K=K/N|0;for(var j=u.length-q,ie=j%V,X=Math.min(j,j-ie)+q,B=0,se=q;se<X;se+=V)B=k(u,se,se+V,N),this.imuln(K),this.words[0]+B<67108864?this.words[0]+=B:this._iaddn(B);if(ie!==0){var Pe=1;for(B=k(u,se,u.length,N),se=0;se<ie;se++)Pe*=N;this.imuln(Pe),this.words[0]+B<67108864?this.words[0]+=B:this._iaddn(B)}this._strip()},h.prototype.copy=function(u){u.words=new Array(this.length);for(var N=0;N<this.length;N++)u.words[N]=this.words[N];u.length=this.length,u.negative=this.negative,u.red=this.red};function b(I,u){I.words=u.words,I.length=u.length,I.negative=u.negative,I.red=u.red}if(h.prototype._move=function(u){b(u,this)},h.prototype.clone=function(){var u=new h(null);return this.copy(u),u},h.prototype._expand=function(u){for(;this.length<u;)this.words[this.length++]=0;return this},h.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},h.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol!="undefined"&&typeof Symbol.for=="function")try{h.prototype[Symbol.for("nodejs.util.inspect.custom")]=l}catch{h.prototype.inspect=l}else h.prototype.inspect=l;function l(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var E=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],c=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],v=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];h.prototype.toString=function(u,N){u=u||10,N=N|0||1;var q;if(u===16||u==="hex"){q="";for(var V=0,K=0,j=0;j<this.length;j++){var ie=this.words[j],X=((ie<<V|K)&16777215).toString(16);K=ie>>>24-V&16777215,K!==0||j!==this.length-1?q=E[6-X.length]+X+q:q=X+q,V+=2,V>=26&&(V-=26,j--)}for(K!==0&&(q=K.toString(16)+q);q.length%N!==0;)q="0"+q;return this.negative!==0&&(q="-"+q),q}if(u===(u|0)&&u>=2&&u<=36){var B=c[u],se=v[u];q="";var Pe=this.clone();for(Pe.negative=0;!Pe.isZero();){var we=Pe.modrn(se).toString(u);Pe=Pe.idivn(se),Pe.isZero()?q=we+q:q=E[B-we.length]+we+q}for(this.isZero()&&(q="0"+q);q.length%N!==0;)q="0"+q;return this.negative!==0&&(q="-"+q),q}D(!1,"Base should be between 2 and 36")},h.prototype.toNumber=function(){var u=this.words[0];return this.length===2?u+=this.words[1]*67108864:this.length===3&&this.words[2]===1?u+=4503599627370496+this.words[1]*67108864:this.length>2&&D(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-u:u},h.prototype.toJSON=function(){return this.toString(16,2)},m&&(h.prototype.toBuffer=function(u,N){return this.toArrayLike(m,u,N)}),h.prototype.toArray=function(u,N){return this.toArrayLike(Array,u,N)};var f=function(u,N){return u.allocUnsafe?u.allocUnsafe(N):new u(N)};h.prototype.toArrayLike=function(u,N,q){this._strip();var V=this.byteLength(),K=q||Math.max(1,V);D(V<=K,"byte array longer than desired length"),D(K>0,"Requested array length <= 0");var j=f(u,K),ie=N==="le"?"LE":"BE";return this["_toArrayLike"+ie](j,V),j},h.prototype._toArrayLikeLE=function(u,N){for(var q=0,V=0,K=0,j=0;K<this.length;K++){var ie=this.words[K]<<j|V;u[q++]=ie&255,q<u.length&&(u[q++]=ie>>8&255),q<u.length&&(u[q++]=ie>>16&255),j===6?(q<u.length&&(u[q++]=ie>>24&255),V=0,j=0):(V=ie>>>24,j+=2)}if(q<u.length)for(u[q++]=V;q<u.length;)u[q++]=0},h.prototype._toArrayLikeBE=function(u,N){for(var q=u.length-1,V=0,K=0,j=0;K<this.length;K++){var ie=this.words[K]<<j|V;u[q--]=ie&255,q>=0&&(u[q--]=ie>>8&255),q>=0&&(u[q--]=ie>>16&255),j===6?(q>=0&&(u[q--]=ie>>24&255),V=0,j=0):(V=ie>>>24,j+=2)}if(q>=0)for(u[q--]=V;q>=0;)u[q--]=0},Math.clz32?h.prototype._countBits=function(u){return 32-Math.clz32(u)}:h.prototype._countBits=function(u){var N=u,q=0;return N>=4096&&(q+=13,N>>>=13),N>=64&&(q+=7,N>>>=7),N>=8&&(q+=4,N>>>=4),N>=2&&(q+=2,N>>>=2),q+N},h.prototype._zeroBits=function(u){if(u===0)return 26;var N=u,q=0;return N&8191||(q+=13,N>>>=13),N&127||(q+=7,N>>>=7),N&15||(q+=4,N>>>=4),N&3||(q+=2,N>>>=2),N&1||q++,q},h.prototype.bitLength=function(){var u=this.words[this.length-1],N=this._countBits(u);return(this.length-1)*26+N};function w(I){for(var u=new Array(I.bitLength()),N=0;N<u.length;N++){var q=N/26|0,V=N%26;u[N]=I.words[q]>>>V&1}return u}h.prototype.zeroBits=function(){if(this.isZero())return 0;for(var u=0,N=0;N<this.length;N++){var q=this._zeroBits(this.words[N]);if(u+=q,q!==26)break}return u},h.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},h.prototype.toTwos=function(u){return this.negative!==0?this.abs().inotn(u).iaddn(1):this.clone()},h.prototype.fromTwos=function(u){return this.testn(u-1)?this.notn(u).iaddn(1).ineg():this.clone()},h.prototype.isNeg=function(){return this.negative!==0},h.prototype.neg=function(){return this.clone().ineg()},h.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},h.prototype.iuor=function(u){for(;this.length<u.length;)this.words[this.length++]=0;for(var N=0;N<u.length;N++)this.words[N]=this.words[N]|u.words[N];return this._strip()},h.prototype.ior=function(u){return D((this.negative|u.negative)===0),this.iuor(u)},h.prototype.or=function(u){return this.length>u.length?this.clone().ior(u):u.clone().ior(this)},h.prototype.uor=function(u){return this.length>u.length?this.clone().iuor(u):u.clone().iuor(this)},h.prototype.iuand=function(u){var N;this.length>u.length?N=u:N=this;for(var q=0;q<N.length;q++)this.words[q]=this.words[q]&u.words[q];return this.length=N.length,this._strip()},h.prototype.iand=function(u){return D((this.negative|u.negative)===0),this.iuand(u)},h.prototype.and=function(u){return this.length>u.length?this.clone().iand(u):u.clone().iand(this)},h.prototype.uand=function(u){return this.length>u.length?this.clone().iuand(u):u.clone().iuand(this)},h.prototype.iuxor=function(u){var N,q;this.length>u.length?(N=this,q=u):(N=u,q=this);for(var V=0;V<q.length;V++)this.words[V]=N.words[V]^q.words[V];if(this!==N)for(;V<N.length;V++)this.words[V]=N.words[V];return this.length=N.length,this._strip()},h.prototype.ixor=function(u){return D((this.negative|u.negative)===0),this.iuxor(u)},h.prototype.xor=function(u){return this.length>u.length?this.clone().ixor(u):u.clone().ixor(this)},h.prototype.uxor=function(u){return this.length>u.length?this.clone().iuxor(u):u.clone().iuxor(this)},h.prototype.inotn=function(u){D(typeof u=="number"&&u>=0);var N=Math.ceil(u/26)|0,q=u%26;this._expand(N),q>0&&N--;for(var V=0;V<N;V++)this.words[V]=~this.words[V]&67108863;return q>0&&(this.words[V]=~this.words[V]&67108863>>26-q),this._strip()},h.prototype.notn=function(u){return this.clone().inotn(u)},h.prototype.setn=function(u,N){D(typeof u=="number"&&u>=0);var q=u/26|0,V=u%26;return this._expand(q+1),N?this.words[q]=this.words[q]|1<<V:this.words[q]=this.words[q]&~(1<<V),this._strip()},h.prototype.iadd=function(u){var N;if(this.negative!==0&&u.negative===0)return this.negative=0,N=this.isub(u),this.negative^=1,this._normSign();if(this.negative===0&&u.negative!==0)return u.negative=0,N=this.isub(u),u.negative=1,N._normSign();var q,V;this.length>u.length?(q=this,V=u):(q=u,V=this);for(var K=0,j=0;j<V.length;j++)N=(q.words[j]|0)+(V.words[j]|0)+K,this.words[j]=N&67108863,K=N>>>26;for(;K!==0&&j<q.length;j++)N=(q.words[j]|0)+K,this.words[j]=N&67108863,K=N>>>26;if(this.length=q.length,K!==0)this.words[this.length]=K,this.length++;else if(q!==this)for(;j<q.length;j++)this.words[j]=q.words[j];return this},h.prototype.add=function(u){var N;return u.negative!==0&&this.negative===0?(u.negative=0,N=this.sub(u),u.negative^=1,N):u.negative===0&&this.negative!==0?(this.negative=0,N=u.sub(this),this.negative=1,N):this.length>u.length?this.clone().iadd(u):u.clone().iadd(this)},h.prototype.isub=function(u){if(u.negative!==0){u.negative=0;var N=this.iadd(u);return u.negative=1,N._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(u),this.negative=1,this._normSign();var q=this.cmp(u);if(q===0)return this.negative=0,this.length=1,this.words[0]=0,this;var V,K;q>0?(V=this,K=u):(V=u,K=this);for(var j=0,ie=0;ie<K.length;ie++)N=(V.words[ie]|0)-(K.words[ie]|0)+j,j=N>>26,this.words[ie]=N&67108863;for(;j!==0&&ie<V.length;ie++)N=(V.words[ie]|0)+j,j=N>>26,this.words[ie]=N&67108863;if(j===0&&ie<V.length&&V!==this)for(;ie<V.length;ie++)this.words[ie]=V.words[ie];return this.length=Math.max(this.length,ie),V!==this&&(this.negative=1),this._strip()},h.prototype.sub=function(u){return this.clone().isub(u)};function _(I,u,N){N.negative=u.negative^I.negative;var q=I.length+u.length|0;N.length=q,q=q-1|0;var V=I.words[0]|0,K=u.words[0]|0,j=V*K,ie=j&67108863,X=j/67108864|0;N.words[0]=ie;for(var B=1;B<q;B++){for(var se=X>>>26,Pe=X&67108863,we=Math.min(B,u.length-1),_e=Math.max(0,B-I.length+1);_e<=we;_e++){var Me=B-_e|0;V=I.words[Me]|0,K=u.words[_e]|0,j=V*K+Pe,se+=j/67108864|0,Pe=j&67108863}N.words[B]=Pe|0,X=se|0}return X!==0?N.words[B]=X|0:N.length--,N._strip()}var R=function(u,N,q){var V=u.words,K=N.words,j=q.words,ie=0,X,B,se,Pe=V[0]|0,we=Pe&8191,_e=Pe>>>13,Me=V[1]|0,te=Me&8191,re=Me>>>13,ge=V[2]|0,ye=ge&8191,Ee=ge>>>13,z=V[3]|0,T=z&8191,oe=z>>>13,fe=V[4]|0,de=fe&8191,ue=fe>>>13,ve=V[5]|0,Fe=ve&8191,Oe=ve>>>13,$e=V[6]|0,qe=$e&8191,Ve=$e>>>13,Je=V[7]|0,me=Je&8191,ae=Je>>>13,ce=V[8]|0,Re=ce&8191,xe=ce>>>13,Ye=V[9]|0,Ue=Ye&8191,Ze=Ye>>>13,It=K[0]|0,st=It&8191,ut=It>>>13,wt=K[1]|0,vt=wt&8191,_t=wt>>>13,oi=K[2]|0,yt=oi&8191,Pt=oi>>>13,Hi=K[3]|0,Lt=Hi&8191,Kt=Hi>>>13,Zn=K[4]|0,Xt=Zn&8191,Wt=Zn>>>13,Gn=K[5]|0,Ft=Gn&8191,ht=Gn>>>13,bt=K[6]|0,Le=bt&8191,et=bt>>>13,Tt=K[7]|0,dt=Tt&8191,mt=Tt>>>13,ni=K[8]|0,Ot=ni&8191,jt=ni>>>13,qt=K[9]|0,gt=qt&8191,Rt=qt>>>13;q.negative=u.negative^N.negative,q.length=19,X=Math.imul(we,st),B=Math.imul(we,ut),B=B+Math.imul(_e,st)|0,se=Math.imul(_e,ut);var Dt=(ie+X|0)+((B&8191)<<13)|0;ie=(se+(B>>>13)|0)+(Dt>>>26)|0,Dt&=67108863,X=Math.imul(te,st),B=Math.imul(te,ut),B=B+Math.imul(re,st)|0,se=Math.imul(re,ut),X=X+Math.imul(we,vt)|0,B=B+Math.imul(we,_t)|0,B=B+Math.imul(_e,vt)|0,se=se+Math.imul(_e,_t)|0;var di=(ie+X|0)+((B&8191)<<13)|0;ie=(se+(B>>>13)|0)+(di>>>26)|0,di&=67108863,X=Math.imul(ye,st),B=Math.imul(ye,ut),B=B+Math.imul(Ee,st)|0,se=Math.imul(Ee,ut),X=X+Math.imul(te,vt)|0,B=B+Math.imul(te,_t)|0,B=B+Math.imul(re,vt)|0,se=se+Math.imul(re,_t)|0,X=X+Math.imul(we,yt)|0,B=B+Math.imul(we,Pt)|0,B=B+Math.imul(_e,yt)|0,se=se+Math.imul(_e,Pt)|0;var ri=(ie+X|0)+((B&8191)<<13)|0;ie=(se+(B>>>13)|0)+(ri>>>26)|0,ri&=67108863,X=Math.imul(T,st),B=Math.imul(T,ut),B=B+Math.imul(oe,st)|0,se=Math.imul(oe,ut),X=X+Math.imul(ye,vt)|0,B=B+Math.imul(ye,_t)|0,B=B+Math.imul(Ee,vt)|0,se=se+Math.imul(Ee,_t)|0,X=X+Math.imul(te,yt)|0,B=B+Math.imul(te,Pt)|0,B=B+Math.imul(re,yt)|0,se=se+Math.imul(re,Pt)|0,X=X+Math.imul(we,Lt)|0,B=B+Math.imul(we,Kt)|0,B=B+Math.imul(_e,Lt)|0,se=se+Math.imul(_e,Kt)|0;var Gt=(ie+X|0)+((B&8191)<<13)|0;ie=(se+(B>>>13)|0)+(Gt>>>26)|0,Gt&=67108863,X=Math.imul(de,st),B=Math.imul(de,ut),B=B+Math.imul(ue,st)|0,se=Math.imul(ue,ut),X=X+Math.imul(T,vt)|0,B=B+Math.imul(T,_t)|0,B=B+Math.imul(oe,vt)|0,se=se+Math.imul(oe,_t)|0,X=X+Math.imul(ye,yt)|0,B=B+Math.imul(ye,Pt)|0,B=B+Math.imul(Ee,yt)|0,se=se+Math.imul(Ee,Pt)|0,X=X+Math.imul(te,Lt)|0,B=B+Math.imul(te,Kt)|0,B=B+Math.imul(re,Lt)|0,se=se+Math.imul(re,Kt)|0,X=X+Math.imul(we,Xt)|0,B=B+Math.imul(we,Wt)|0,B=B+Math.imul(_e,Xt)|0,se=se+Math.imul(_e,Wt)|0;var _i=(ie+X|0)+((B&8191)<<13)|0;ie=(se+(B>>>13)|0)+(_i>>>26)|0,_i&=67108863,X=Math.imul(Fe,st),B=Math.imul(Fe,ut),B=B+Math.imul(Oe,st)|0,se=Math.imul(Oe,ut),X=X+Math.imul(de,vt)|0,B=B+Math.imul(de,_t)|0,B=B+Math.imul(ue,vt)|0,se=se+Math.imul(ue,_t)|0,X=X+Math.imul(T,yt)|0,B=B+Math.imul(T,Pt)|0,B=B+Math.imul(oe,yt)|0,se=se+Math.imul(oe,Pt)|0,X=X+Math.imul(ye,Lt)|0,B=B+Math.imul(ye,Kt)|0,B=B+Math.imul(Ee,Lt)|0,se=se+Math.imul(Ee,Kt)|0,X=X+Math.imul(te,Xt)|0,B=B+Math.imul(te,Wt)|0,B=B+Math.imul(re,Xt)|0,se=se+Math.imul(re,Wt)|0,X=X+Math.imul(we,Ft)|0,B=B+Math.imul(we,ht)|0,B=B+Math.imul(_e,Ft)|0,se=se+Math.imul(_e,ht)|0;var ci=(ie+X|0)+((B&8191)<<13)|0;ie=(se+(B>>>13)|0)+(ci>>>26)|0,ci&=67108863,X=Math.imul(qe,st),B=Math.imul(qe,ut),B=B+Math.imul(Ve,st)|0,se=Math.imul(Ve,ut),X=X+Math.imul(Fe,vt)|0,B=B+Math.imul(Fe,_t)|0,B=B+Math.imul(Oe,vt)|0,se=se+Math.imul(Oe,_t)|0,X=X+Math.imul(de,yt)|0,B=B+Math.imul(de,Pt)|0,B=B+Math.imul(ue,yt)|0,se=se+Math.imul(ue,Pt)|0,X=X+Math.imul(T,Lt)|0,B=B+Math.imul(T,Kt)|0,B=B+Math.imul(oe,Lt)|0,se=se+Math.imul(oe,Kt)|0,X=X+Math.imul(ye,Xt)|0,B=B+Math.imul(ye,Wt)|0,B=B+Math.imul(Ee,Xt)|0,se=se+Math.imul(Ee,Wt)|0,X=X+Math.imul(te,Ft)|0,B=B+Math.imul(te,ht)|0,B=B+Math.imul(re,Ft)|0,se=se+Math.imul(re,ht)|0,X=X+Math.imul(we,Le)|0,B=B+Math.imul(we,et)|0,B=B+Math.imul(_e,Le)|0,se=se+Math.imul(_e,et)|0;var Di=(ie+X|0)+((B&8191)<<13)|0;ie=(se+(B>>>13)|0)+(Di>>>26)|0,Di&=67108863,X=Math.imul(me,st),B=Math.imul(me,ut),B=B+Math.imul(ae,st)|0,se=Math.imul(ae,ut),X=X+Math.imul(qe,vt)|0,B=B+Math.imul(qe,_t)|0,B=B+Math.imul(Ve,vt)|0,se=se+Math.imul(Ve,_t)|0,X=X+Math.imul(Fe,yt)|0,B=B+Math.imul(Fe,Pt)|0,B=B+Math.imul(Oe,yt)|0,se=se+Math.imul(Oe,Pt)|0,X=X+Math.imul(de,Lt)|0,B=B+Math.imul(de,Kt)|0,B=B+Math.imul(ue,Lt)|0,se=se+Math.imul(ue,Kt)|0,X=X+Math.imul(T,Xt)|0,B=B+Math.imul(T,Wt)|0,B=B+Math.imul(oe,Xt)|0,se=se+Math.imul(oe,Wt)|0,X=X+Math.imul(ye,Ft)|0,B=B+Math.imul(ye,ht)|0,B=B+Math.imul(Ee,Ft)|0,se=se+Math.imul(Ee,ht)|0,X=X+Math.imul(te,Le)|0,B=B+Math.imul(te,et)|0,B=B+Math.imul(re,Le)|0,se=se+Math.imul(re,et)|0,X=X+Math.imul(we,dt)|0,B=B+Math.imul(we,mt)|0,B=B+Math.imul(_e,dt)|0,se=se+Math.imul(_e,mt)|0;var Ii=(ie+X|0)+((B&8191)<<13)|0;ie=(se+(B>>>13)|0)+(Ii>>>26)|0,Ii&=67108863,X=Math.imul(Re,st),B=Math.imul(Re,ut),B=B+Math.imul(xe,st)|0,se=Math.imul(xe,ut),X=X+Math.imul(me,vt)|0,B=B+Math.imul(me,_t)|0,B=B+Math.imul(ae,vt)|0,se=se+Math.imul(ae,_t)|0,X=X+Math.imul(qe,yt)|0,B=B+Math.imul(qe,Pt)|0,B=B+Math.imul(Ve,yt)|0,se=se+Math.imul(Ve,Pt)|0,X=X+Math.imul(Fe,Lt)|0,B=B+Math.imul(Fe,Kt)|0,B=B+Math.imul(Oe,Lt)|0,se=se+Math.imul(Oe,Kt)|0,X=X+Math.imul(de,Xt)|0,B=B+Math.imul(de,Wt)|0,B=B+Math.imul(ue,Xt)|0,se=se+Math.imul(ue,Wt)|0,X=X+Math.imul(T,Ft)|0,B=B+Math.imul(T,ht)|0,B=B+Math.imul(oe,Ft)|0,se=se+Math.imul(oe,ht)|0,X=X+Math.imul(ye,Le)|0,B=B+Math.imul(ye,et)|0,B=B+Math.imul(Ee,Le)|0,se=se+Math.imul(Ee,et)|0,X=X+Math.imul(te,dt)|0,B=B+Math.imul(te,mt)|0,B=B+Math.imul(re,dt)|0,se=se+Math.imul(re,mt)|0,X=X+Math.imul(we,Ot)|0,B=B+Math.imul(we,jt)|0,B=B+Math.imul(_e,Ot)|0,se=se+Math.imul(_e,jt)|0;var Zi=(ie+X|0)+((B&8191)<<13)|0;ie=(se+(B>>>13)|0)+(Zi>>>26)|0,Zi&=67108863,X=Math.imul(Ue,st),B=Math.imul(Ue,ut),B=B+Math.imul(Ze,st)|0,se=Math.imul(Ze,ut),X=X+Math.imul(Re,vt)|0,B=B+Math.imul(Re,_t)|0,B=B+Math.imul(xe,vt)|0,se=se+Math.imul(xe,_t)|0,X=X+Math.imul(me,yt)|0,B=B+Math.imul(me,Pt)|0,B=B+Math.imul(ae,yt)|0,se=se+Math.imul(ae,Pt)|0,X=X+Math.imul(qe,Lt)|0,B=B+Math.imul(qe,Kt)|0,B=B+Math.imul(Ve,Lt)|0,se=se+Math.imul(Ve,Kt)|0,X=X+Math.imul(Fe,Xt)|0,B=B+Math.imul(Fe,Wt)|0,B=B+Math.imul(Oe,Xt)|0,se=se+Math.imul(Oe,Wt)|0,X=X+Math.imul(de,Ft)|0,B=B+Math.imul(de,ht)|0,B=B+Math.imul(ue,Ft)|0,se=se+Math.imul(ue,ht)|0,X=X+Math.imul(T,Le)|0,B=B+Math.imul(T,et)|0,B=B+Math.imul(oe,Le)|0,se=se+Math.imul(oe,et)|0,X=X+Math.imul(ye,dt)|0,B=B+Math.imul(ye,mt)|0,B=B+Math.imul(Ee,dt)|0,se=se+Math.imul(Ee,mt)|0,X=X+Math.imul(te,Ot)|0,B=B+Math.imul(te,jt)|0,B=B+Math.imul(re,Ot)|0,se=se+Math.imul(re,jt)|0,X=X+Math.imul(we,gt)|0,B=B+Math.imul(we,Rt)|0,B=B+Math.imul(_e,gt)|0,se=se+Math.imul(_e,Rt)|0;var fi=(ie+X|0)+((B&8191)<<13)|0;ie=(se+(B>>>13)|0)+(fi>>>26)|0,fi&=67108863,X=Math.imul(Ue,vt),B=Math.imul(Ue,_t),B=B+Math.imul(Ze,vt)|0,se=Math.imul(Ze,_t),X=X+Math.imul(Re,yt)|0,B=B+Math.imul(Re,Pt)|0,B=B+Math.imul(xe,yt)|0,se=se+Math.imul(xe,Pt)|0,X=X+Math.imul(me,Lt)|0,B=B+Math.imul(me,Kt)|0,B=B+Math.imul(ae,Lt)|0,se=se+Math.imul(ae,Kt)|0,X=X+Math.imul(qe,Xt)|0,B=B+Math.imul(qe,Wt)|0,B=B+Math.imul(Ve,Xt)|0,se=se+Math.imul(Ve,Wt)|0,X=X+Math.imul(Fe,Ft)|0,B=B+Math.imul(Fe,ht)|0,B=B+Math.imul(Oe,Ft)|0,se=se+Math.imul(Oe,ht)|0,X=X+Math.imul(de,Le)|0,B=B+Math.imul(de,et)|0,B=B+Math.imul(ue,Le)|0,se=se+Math.imul(ue,et)|0,X=X+Math.imul(T,dt)|0,B=B+Math.imul(T,mt)|0,B=B+Math.imul(oe,dt)|0,se=se+Math.imul(oe,mt)|0,X=X+Math.imul(ye,Ot)|0,B=B+Math.imul(ye,jt)|0,B=B+Math.imul(Ee,Ot)|0,se=se+Math.imul(Ee,jt)|0,X=X+Math.imul(te,gt)|0,B=B+Math.imul(te,Rt)|0,B=B+Math.imul(re,gt)|0,se=se+Math.imul(re,Rt)|0;var Yi=(ie+X|0)+((B&8191)<<13)|0;ie=(se+(B>>>13)|0)+(Yi>>>26)|0,Yi&=67108863,X=Math.imul(Ue,yt),B=Math.imul(Ue,Pt),B=B+Math.imul(Ze,yt)|0,se=Math.imul(Ze,Pt),X=X+Math.imul(Re,Lt)|0,B=B+Math.imul(Re,Kt)|0,B=B+Math.imul(xe,Lt)|0,se=se+Math.imul(xe,Kt)|0,X=X+Math.imul(me,Xt)|0,B=B+Math.imul(me,Wt)|0,B=B+Math.imul(ae,Xt)|0,se=se+Math.imul(ae,Wt)|0,X=X+Math.imul(qe,Ft)|0,B=B+Math.imul(qe,ht)|0,B=B+Math.imul(Ve,Ft)|0,se=se+Math.imul(Ve,ht)|0,X=X+Math.imul(Fe,Le)|0,B=B+Math.imul(Fe,et)|0,B=B+Math.imul(Oe,Le)|0,se=se+Math.imul(Oe,et)|0,X=X+Math.imul(de,dt)|0,B=B+Math.imul(de,mt)|0,B=B+Math.imul(ue,dt)|0,se=se+Math.imul(ue,mt)|0,X=X+Math.imul(T,Ot)|0,B=B+Math.imul(T,jt)|0,B=B+Math.imul(oe,Ot)|0,se=se+Math.imul(oe,jt)|0,X=X+Math.imul(ye,gt)|0,B=B+Math.imul(ye,Rt)|0,B=B+Math.imul(Ee,gt)|0,se=se+Math.imul(Ee,Rt)|0;var ji=(ie+X|0)+((B&8191)<<13)|0;ie=(se+(B>>>13)|0)+(ji>>>26)|0,ji&=67108863,X=Math.imul(Ue,Lt),B=Math.imul(Ue,Kt),B=B+Math.imul(Ze,Lt)|0,se=Math.imul(Ze,Kt),X=X+Math.imul(Re,Xt)|0,B=B+Math.imul(Re,Wt)|0,B=B+Math.imul(xe,Xt)|0,se=se+Math.imul(xe,Wt)|0,X=X+Math.imul(me,Ft)|0,B=B+Math.imul(me,ht)|0,B=B+Math.imul(ae,Ft)|0,se=se+Math.imul(ae,ht)|0,X=X+Math.imul(qe,Le)|0,B=B+Math.imul(qe,et)|0,B=B+Math.imul(Ve,Le)|0,se=se+Math.imul(Ve,et)|0,X=X+Math.imul(Fe,dt)|0,B=B+Math.imul(Fe,mt)|0,B=B+Math.imul(Oe,dt)|0,se=se+Math.imul(Oe,mt)|0,X=X+Math.imul(de,Ot)|0,B=B+Math.imul(de,jt)|0,B=B+Math.imul(ue,Ot)|0,se=se+Math.imul(ue,jt)|0,X=X+Math.imul(T,gt)|0,B=B+Math.imul(T,Rt)|0,B=B+Math.imul(oe,gt)|0,se=se+Math.imul(oe,Rt)|0;var ei=(ie+X|0)+((B&8191)<<13)|0;ie=(se+(B>>>13)|0)+(ei>>>26)|0,ei&=67108863,X=Math.imul(Ue,Xt),B=Math.imul(Ue,Wt),B=B+Math.imul(Ze,Xt)|0,se=Math.imul(Ze,Wt),X=X+Math.imul(Re,Ft)|0,B=B+Math.imul(Re,ht)|0,B=B+Math.imul(xe,Ft)|0,se=se+Math.imul(xe,ht)|0,X=X+Math.imul(me,Le)|0,B=B+Math.imul(me,et)|0,B=B+Math.imul(ae,Le)|0,se=se+Math.imul(ae,et)|0,X=X+Math.imul(qe,dt)|0,B=B+Math.imul(qe,mt)|0,B=B+Math.imul(Ve,dt)|0,se=se+Math.imul(Ve,mt)|0,X=X+Math.imul(Fe,Ot)|0,B=B+Math.imul(Fe,jt)|0,B=B+Math.imul(Oe,Ot)|0,se=se+Math.imul(Oe,jt)|0,X=X+Math.imul(de,gt)|0,B=B+Math.imul(de,Rt)|0,B=B+Math.imul(ue,gt)|0,se=se+Math.imul(ue,Rt)|0;var li=(ie+X|0)+((B&8191)<<13)|0;ie=(se+(B>>>13)|0)+(li>>>26)|0,li&=67108863,X=Math.imul(Ue,Ft),B=Math.imul(Ue,ht),B=B+Math.imul(Ze,Ft)|0,se=Math.imul(Ze,ht),X=X+Math.imul(Re,Le)|0,B=B+Math.imul(Re,et)|0,B=B+Math.imul(xe,Le)|0,se=se+Math.imul(xe,et)|0,X=X+Math.imul(me,dt)|0,B=B+Math.imul(me,mt)|0,B=B+Math.imul(ae,dt)|0,se=se+Math.imul(ae,mt)|0,X=X+Math.imul(qe,Ot)|0,B=B+Math.imul(qe,jt)|0,B=B+Math.imul(Ve,Ot)|0,se=se+Math.imul(Ve,jt)|0,X=X+Math.imul(Fe,gt)|0,B=B+Math.imul(Fe,Rt)|0,B=B+Math.imul(Oe,gt)|0,se=se+Math.imul(Oe,Rt)|0;var Ti=(ie+X|0)+((B&8191)<<13)|0;ie=(se+(B>>>13)|0)+(Ti>>>26)|0,Ti&=67108863,X=Math.imul(Ue,Le),B=Math.imul(Ue,et),B=B+Math.imul(Ze,Le)|0,se=Math.imul(Ze,et),X=X+Math.imul(Re,dt)|0,B=B+Math.imul(Re,mt)|0,B=B+Math.imul(xe,dt)|0,se=se+Math.imul(xe,mt)|0,X=X+Math.imul(me,Ot)|0,B=B+Math.imul(me,jt)|0,B=B+Math.imul(ae,Ot)|0,se=se+Math.imul(ae,jt)|0,X=X+Math.imul(qe,gt)|0,B=B+Math.imul(qe,Rt)|0,B=B+Math.imul(Ve,gt)|0,se=se+Math.imul(Ve,Rt)|0;var zi=(ie+X|0)+((B&8191)<<13)|0;ie=(se+(B>>>13)|0)+(zi>>>26)|0,zi&=67108863,X=Math.imul(Ue,dt),B=Math.imul(Ue,mt),B=B+Math.imul(Ze,dt)|0,se=Math.imul(Ze,mt),X=X+Math.imul(Re,Ot)|0,B=B+Math.imul(Re,jt)|0,B=B+Math.imul(xe,Ot)|0,se=se+Math.imul(xe,jt)|0,X=X+Math.imul(me,gt)|0,B=B+Math.imul(me,Rt)|0,B=B+Math.imul(ae,gt)|0,se=se+Math.imul(ae,Rt)|0;var hi=(ie+X|0)+((B&8191)<<13)|0;ie=(se+(B>>>13)|0)+(hi>>>26)|0,hi&=67108863,X=Math.imul(Ue,Ot),B=Math.imul(Ue,jt),B=B+Math.imul(Ze,Ot)|0,se=Math.imul(Ze,jt),X=X+Math.imul(Re,gt)|0,B=B+Math.imul(Re,Rt)|0,B=B+Math.imul(xe,gt)|0,se=se+Math.imul(xe,Rt)|0;var Ai=(ie+X|0)+((B&8191)<<13)|0;ie=(se+(B>>>13)|0)+(Ai>>>26)|0,Ai&=67108863,X=Math.imul(Ue,gt),B=Math.imul(Ue,Rt),B=B+Math.imul(Ze,gt)|0,se=Math.imul(Ze,Rt);var Xi=(ie+X|0)+((B&8191)<<13)|0;return ie=(se+(B>>>13)|0)+(Xi>>>26)|0,Xi&=67108863,j[0]=Dt,j[1]=di,j[2]=ri,j[3]=Gt,j[4]=_i,j[5]=ci,j[6]=Di,j[7]=Ii,j[8]=Zi,j[9]=fi,j[10]=Yi,j[11]=ji,j[12]=ei,j[13]=li,j[14]=Ti,j[15]=zi,j[16]=hi,j[17]=Ai,j[18]=Xi,ie!==0&&(j[19]=ie,q.length++),q};Math.imul||(R=_);function M(I,u,N){N.negative=u.negative^I.negative,N.length=I.length+u.length;for(var q=0,V=0,K=0;K<N.length-1;K++){var j=V;V=0;for(var ie=q&67108863,X=Math.min(K,u.length-1),B=Math.max(0,K-I.length+1);B<=X;B++){var se=K-B,Pe=I.words[se]|0,we=u.words[B]|0,_e=Pe*we,Me=_e&67108863;j=j+(_e/67108864|0)|0,Me=Me+ie|0,ie=Me&67108863,j=j+(Me>>>26)|0,V+=j>>>26,j&=67108863}N.words[K]=ie,q=j,j=V}return q!==0?N.words[K]=q:N.length--,N._strip()}function U(I,u,N){return M(I,u,N)}h.prototype.mulTo=function(u,N){var q,V=this.length+u.length;return this.length===10&&u.length===10?q=R(this,u,N):V<63?q=_(this,u,N):V<1024?q=M(this,u,N):q=U(this,u,N),q};function x(I,u){this.x=I,this.y=u}x.prototype.makeRBT=function(u){for(var N=new Array(u),q=h.prototype._countBits(u)-1,V=0;V<u;V++)N[V]=this.revBin(V,q,u);return N},x.prototype.revBin=function(u,N,q){if(u===0||u===q-1)return u;for(var V=0,K=0;K<N;K++)V|=(u&1)<<N-K-1,u>>=1;return V},x.prototype.permute=function(u,N,q,V,K,j){for(var ie=0;ie<j;ie++)V[ie]=N[u[ie]],K[ie]=q[u[ie]]},x.prototype.transform=function(u,N,q,V,K,j){this.permute(j,u,N,q,V,K);for(var ie=1;ie<K;ie<<=1)for(var X=ie<<1,B=Math.cos(2*Math.PI/X),se=Math.sin(2*Math.PI/X),Pe=0;Pe<K;Pe+=X)for(var we=B,_e=se,Me=0;Me<ie;Me++){var te=q[Pe+Me],re=V[Pe+Me],ge=q[Pe+Me+ie],ye=V[Pe+Me+ie],Ee=we*ge-_e*ye;ye=we*ye+_e*ge,ge=Ee,q[Pe+Me]=te+ge,V[Pe+Me]=re+ye,q[Pe+Me+ie]=te-ge,V[Pe+Me+ie]=re-ye,Me!==X&&(Ee=B*we-se*_e,_e=B*_e+se*we,we=Ee)}},x.prototype.guessLen13b=function(u,N){var q=Math.max(N,u)|1,V=q&1,K=0;for(q=q/2|0;q;q=q>>>1)K++;return 1<<K+1+V},x.prototype.conjugate=function(u,N,q){if(!(q<=1))for(var V=0;V<q/2;V++){var K=u[V];u[V]=u[q-V-1],u[q-V-1]=K,K=N[V],N[V]=-N[q-V-1],N[q-V-1]=-K}},x.prototype.normalize13b=function(u,N){for(var q=0,V=0;V<N/2;V++){var K=Math.round(u[2*V+1]/N)*8192+Math.round(u[2*V]/N)+q;u[V]=K&67108863,K<67108864?q=0:q=K/67108864|0}return u},x.prototype.convert13b=function(u,N,q,V){for(var K=0,j=0;j<N;j++)K=K+(u[j]|0),q[2*j]=K&8191,K=K>>>13,q[2*j+1]=K&8191,K=K>>>13;for(j=2*N;j<V;++j)q[j]=0;D(K===0),D((K&-8192)===0)},x.prototype.stub=function(u){for(var N=new Array(u),q=0;q<u;q++)N[q]=0;return N},x.prototype.mulp=function(u,N,q){var V=2*this.guessLen13b(u.length,N.length),K=this.makeRBT(V),j=this.stub(V),ie=new Array(V),X=new Array(V),B=new Array(V),se=new Array(V),Pe=new Array(V),we=new Array(V),_e=q.words;_e.length=V,this.convert13b(u.words,u.length,ie,V),this.convert13b(N.words,N.length,se,V),this.transform(ie,j,X,B,V,K),this.transform(se,j,Pe,we,V,K);for(var Me=0;Me<V;Me++){var te=X[Me]*Pe[Me]-B[Me]*we[Me];B[Me]=X[Me]*we[Me]+B[Me]*Pe[Me],X[Me]=te}return this.conjugate(X,B,V),this.transform(X,B,_e,j,V,K),this.conjugate(_e,j,V),this.normalize13b(_e,V),q.negative=u.negative^N.negative,q.length=u.length+N.length,q._strip()},h.prototype.mul=function(u){var N=new h(null);return N.words=new Array(this.length+u.length),this.mulTo(u,N)},h.prototype.mulf=function(u){var N=new h(null);return N.words=new Array(this.length+u.length),U(this,u,N)},h.prototype.imul=function(u){return this.clone().mulTo(u,this)},h.prototype.imuln=function(u){var N=u<0;N&&(u=-u),D(typeof u=="number"),D(u<67108864);for(var q=0,V=0;V<this.length;V++){var K=(this.words[V]|0)*u,j=(K&67108863)+(q&67108863);q>>=26,q+=K/67108864|0,q+=j>>>26,this.words[V]=j&67108863}return q!==0&&(this.words[V]=q,this.length++),N?this.ineg():this},h.prototype.muln=function(u){return this.clone().imuln(u)},h.prototype.sqr=function(){return this.mul(this)},h.prototype.isqr=function(){return this.imul(this.clone())},h.prototype.pow=function(u){var N=w(u);if(N.length===0)return new h(1);for(var q=this,V=0;V<N.length&&N[V]===0;V++,q=q.sqr());if(++V<N.length)for(var K=q.sqr();V<N.length;V++,K=K.sqr())N[V]!==0&&(q=q.mul(K));return q},h.prototype.iushln=function(u){D(typeof u=="number"&&u>=0);var N=u%26,q=(u-N)/26,V=67108863>>>26-N<<26-N,K;if(N!==0){var j=0;for(K=0;K<this.length;K++){var ie=this.words[K]&V,X=(this.words[K]|0)-ie<<N;this.words[K]=X|j,j=ie>>>26-N}j&&(this.words[K]=j,this.length++)}if(q!==0){for(K=this.length-1;K>=0;K--)this.words[K+q]=this.words[K];for(K=0;K<q;K++)this.words[K]=0;this.length+=q}return this._strip()},h.prototype.ishln=function(u){return D(this.negative===0),this.iushln(u)},h.prototype.iushrn=function(u,N,q){D(typeof u=="number"&&u>=0);var V;N?V=(N-N%26)/26:V=0;var K=u%26,j=Math.min((u-K)/26,this.length),ie=67108863^67108863>>>K<<K,X=q;if(V-=j,V=Math.max(0,V),X){for(var B=0;B<j;B++)X.words[B]=this.words[B];X.length=j}if(j!==0)if(this.length>j)for(this.length-=j,B=0;B<this.length;B++)this.words[B]=this.words[B+j];else this.words[0]=0,this.length=1;var se=0;for(B=this.length-1;B>=0&&(se!==0||B>=V);B--){var Pe=this.words[B]|0;this.words[B]=se<<26-K|Pe>>>K,se=Pe&ie}return X&&se!==0&&(X.words[X.length++]=se),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},h.prototype.ishrn=function(u,N,q){return D(this.negative===0),this.iushrn(u,N,q)},h.prototype.shln=function(u){return this.clone().ishln(u)},h.prototype.ushln=function(u){return this.clone().iushln(u)},h.prototype.shrn=function(u){return this.clone().ishrn(u)},h.prototype.ushrn=function(u){return this.clone().iushrn(u)},h.prototype.testn=function(u){D(typeof u=="number"&&u>=0);var N=u%26,q=(u-N)/26,V=1<<N;if(this.length<=q)return!1;var K=this.words[q];return!!(K&V)},h.prototype.imaskn=function(u){D(typeof u=="number"&&u>=0);var N=u%26,q=(u-N)/26;if(D(this.negative===0,"imaskn works only with positive numbers"),this.length<=q)return this;if(N!==0&&q++,this.length=Math.min(q,this.length),N!==0){var V=67108863^67108863>>>N<<N;this.words[this.length-1]&=V}return this._strip()},h.prototype.maskn=function(u){return this.clone().imaskn(u)},h.prototype.iaddn=function(u){return D(typeof u=="number"),D(u<67108864),u<0?this.isubn(-u):this.negative!==0?this.length===1&&(this.words[0]|0)<=u?(this.words[0]=u-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(u),this.negative=1,this):this._iaddn(u)},h.prototype._iaddn=function(u){this.words[0]+=u;for(var N=0;N<this.length&&this.words[N]>=67108864;N++)this.words[N]-=67108864,N===this.length-1?this.words[N+1]=1:this.words[N+1]++;return this.length=Math.max(this.length,N+1),this},h.prototype.isubn=function(u){if(D(typeof u=="number"),D(u<67108864),u<0)return this.iaddn(-u);if(this.negative!==0)return this.negative=0,this.iaddn(u),this.negative=1,this;if(this.words[0]-=u,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var N=0;N<this.length&&this.words[N]<0;N++)this.words[N]+=67108864,this.words[N+1]-=1;return this._strip()},h.prototype.addn=function(u){return this.clone().iaddn(u)},h.prototype.subn=function(u){return this.clone().isubn(u)},h.prototype.iabs=function(){return this.negative=0,this},h.prototype.abs=function(){return this.clone().iabs()},h.prototype._ishlnsubmul=function(u,N,q){var V=u.length+q,K;this._expand(V);var j,ie=0;for(K=0;K<u.length;K++){j=(this.words[K+q]|0)+ie;var X=(u.words[K]|0)*N;j-=X&67108863,ie=(j>>26)-(X/67108864|0),this.words[K+q]=j&67108863}for(;K<this.length-q;K++)j=(this.words[K+q]|0)+ie,ie=j>>26,this.words[K+q]=j&67108863;if(ie===0)return this._strip();for(D(ie===-1),ie=0,K=0;K<this.length;K++)j=-(this.words[K]|0)+ie,ie=j>>26,this.words[K]=j&67108863;return this.negative=1,this._strip()},h.prototype._wordDiv=function(u,N){var q=this.length-u.length,V=this.clone(),K=u,j=K.words[K.length-1]|0,ie=this._countBits(j);q=26-ie,q!==0&&(K=K.ushln(q),V.iushln(q),j=K.words[K.length-1]|0);var X=V.length-K.length,B;if(N!=="mod"){B=new h(null),B.length=X+1,B.words=new Array(B.length);for(var se=0;se<B.length;se++)B.words[se]=0}var Pe=V.clone()._ishlnsubmul(K,1,X);Pe.negative===0&&(V=Pe,B&&(B.words[X]=1));for(var we=X-1;we>=0;we--){var _e=(V.words[K.length+we]|0)*67108864+(V.words[K.length+we-1]|0);for(_e=Math.min(_e/j|0,67108863),V._ishlnsubmul(K,_e,we);V.negative!==0;)_e--,V.negative=0,V._ishlnsubmul(K,1,we),V.isZero()||(V.negative^=1);B&&(B.words[we]=_e)}return B&&B._strip(),V._strip(),N!=="div"&&q!==0&&V.iushrn(q),{div:B||null,mod:V}},h.prototype.divmod=function(u,N,q){if(D(!u.isZero()),this.isZero())return{div:new h(0),mod:new h(0)};var V,K,j;return this.negative!==0&&u.negative===0?(j=this.neg().divmod(u,N),N!=="mod"&&(V=j.div.neg()),N!=="div"&&(K=j.mod.neg(),q&&K.negative!==0&&K.iadd(u)),{div:V,mod:K}):this.negative===0&&u.negative!==0?(j=this.divmod(u.neg(),N),N!=="mod"&&(V=j.div.neg()),{div:V,mod:j.mod}):this.negative&u.negative?(j=this.neg().divmod(u.neg(),N),N!=="div"&&(K=j.mod.neg(),q&&K.negative!==0&&K.isub(u)),{div:j.div,mod:K}):u.length>this.length||this.cmp(u)<0?{div:new h(0),mod:this}:u.length===1?N==="div"?{div:this.divn(u.words[0]),mod:null}:N==="mod"?{div:null,mod:new h(this.modrn(u.words[0]))}:{div:this.divn(u.words[0]),mod:new h(this.modrn(u.words[0]))}:this._wordDiv(u,N)},h.prototype.div=function(u){return this.divmod(u,"div",!1).div},h.prototype.mod=function(u){return this.divmod(u,"mod",!1).mod},h.prototype.umod=function(u){return this.divmod(u,"mod",!0).mod},h.prototype.divRound=function(u){var N=this.divmod(u);if(N.mod.isZero())return N.div;var q=N.div.negative!==0?N.mod.isub(u):N.mod,V=u.ushrn(1),K=u.andln(1),j=q.cmp(V);return j<0||K===1&&j===0?N.div:N.div.negative!==0?N.div.isubn(1):N.div.iaddn(1)},h.prototype.modrn=function(u){var N=u<0;N&&(u=-u),D(u<=67108863);for(var q=(1<<26)%u,V=0,K=this.length-1;K>=0;K--)V=(q*V+(this.words[K]|0))%u;return N?-V:V},h.prototype.modn=function(u){return this.modrn(u)},h.prototype.idivn=function(u){var N=u<0;N&&(u=-u),D(u<=67108863);for(var q=0,V=this.length-1;V>=0;V--){var K=(this.words[V]|0)+q*67108864;this.words[V]=K/u|0,q=K%u}return this._strip(),N?this.ineg():this},h.prototype.divn=function(u){return this.clone().idivn(u)},h.prototype.egcd=function(u){D(u.negative===0),D(!u.isZero());var N=this,q=u.clone();N.negative!==0?N=N.umod(u):N=N.clone();for(var V=new h(1),K=new h(0),j=new h(0),ie=new h(1),X=0;N.isEven()&&q.isEven();)N.iushrn(1),q.iushrn(1),++X;for(var B=q.clone(),se=N.clone();!N.isZero();){for(var Pe=0,we=1;!(N.words[0]&we)&&Pe<26;++Pe,we<<=1);if(Pe>0)for(N.iushrn(Pe);Pe-- >0;)(V.isOdd()||K.isOdd())&&(V.iadd(B),K.isub(se)),V.iushrn(1),K.iushrn(1);for(var _e=0,Me=1;!(q.words[0]&Me)&&_e<26;++_e,Me<<=1);if(_e>0)for(q.iushrn(_e);_e-- >0;)(j.isOdd()||ie.isOdd())&&(j.iadd(B),ie.isub(se)),j.iushrn(1),ie.iushrn(1);N.cmp(q)>=0?(N.isub(q),V.isub(j),K.isub(ie)):(q.isub(N),j.isub(V),ie.isub(K))}return{a:j,b:ie,gcd:q.iushln(X)}},h.prototype._invmp=function(u){D(u.negative===0),D(!u.isZero());var N=this,q=u.clone();N.negative!==0?N=N.umod(u):N=N.clone();for(var V=new h(1),K=new h(0),j=q.clone();N.cmpn(1)>0&&q.cmpn(1)>0;){for(var ie=0,X=1;!(N.words[0]&X)&&ie<26;++ie,X<<=1);if(ie>0)for(N.iushrn(ie);ie-- >0;)V.isOdd()&&V.iadd(j),V.iushrn(1);for(var B=0,se=1;!(q.words[0]&se)&&B<26;++B,se<<=1);if(B>0)for(q.iushrn(B);B-- >0;)K.isOdd()&&K.iadd(j),K.iushrn(1);N.cmp(q)>=0?(N.isub(q),V.isub(K)):(q.isub(N),K.isub(V))}var Pe;return N.cmpn(1)===0?Pe=V:Pe=K,Pe.cmpn(0)<0&&Pe.iadd(u),Pe},h.prototype.gcd=function(u){if(this.isZero())return u.abs();if(u.isZero())return this.abs();var N=this.clone(),q=u.clone();N.negative=0,q.negative=0;for(var V=0;N.isEven()&&q.isEven();V++)N.iushrn(1),q.iushrn(1);do{for(;N.isEven();)N.iushrn(1);for(;q.isEven();)q.iushrn(1);var K=N.cmp(q);if(K<0){var j=N;N=q,q=j}else if(K===0||q.cmpn(1)===0)break;N.isub(q)}while(!0);return q.iushln(V)},h.prototype.invm=function(u){return this.egcd(u).a.umod(u)},h.prototype.isEven=function(){return(this.words[0]&1)===0},h.prototype.isOdd=function(){return(this.words[0]&1)===1},h.prototype.andln=function(u){return this.words[0]&u},h.prototype.bincn=function(u){D(typeof u=="number");var N=u%26,q=(u-N)/26,V=1<<N;if(this.length<=q)return this._expand(q+1),this.words[q]|=V,this;for(var K=V,j=q;K!==0&&j<this.length;j++){var ie=this.words[j]|0;ie+=K,K=ie>>>26,ie&=67108863,this.words[j]=ie}return K!==0&&(this.words[j]=K,this.length++),this},h.prototype.isZero=function(){return this.length===1&&this.words[0]===0},h.prototype.cmpn=function(u){var N=u<0;if(this.negative!==0&&!N)return-1;if(this.negative===0&&N)return 1;this._strip();var q;if(this.length>1)q=1;else{N&&(u=-u),D(u<=67108863,"Number is too big");var V=this.words[0]|0;q=V===u?0:V<u?-1:1}return this.negative!==0?-q|0:q},h.prototype.cmp=function(u){if(this.negative!==0&&u.negative===0)return-1;if(this.negative===0&&u.negative!==0)return 1;var N=this.ucmp(u);return this.negative!==0?-N|0:N},h.prototype.ucmp=function(u){if(this.length>u.length)return 1;if(this.length<u.length)return-1;for(var N=0,q=this.length-1;q>=0;q--){var V=this.words[q]|0,K=u.words[q]|0;if(V!==K){V<K?N=-1:V>K&&(N=1);break}}return N},h.prototype.gtn=function(u){return this.cmpn(u)===1},h.prototype.gt=function(u){return this.cmp(u)===1},h.prototype.gten=function(u){return this.cmpn(u)>=0},h.prototype.gte=function(u){return this.cmp(u)>=0},h.prototype.ltn=function(u){return this.cmpn(u)===-1},h.prototype.lt=function(u){return this.cmp(u)===-1},h.prototype.lten=function(u){return this.cmpn(u)<=0},h.prototype.lte=function(u){return this.cmp(u)<=0},h.prototype.eqn=function(u){return this.cmpn(u)===0},h.prototype.eq=function(u){return this.cmp(u)===0},h.red=function(u){return new O(u)},h.prototype.toRed=function(u){return D(!this.red,"Already a number in reduction context"),D(this.negative===0,"red works only with positives"),u.convertTo(this)._forceRed(u)},h.prototype.fromRed=function(){return D(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},h.prototype._forceRed=function(u){return this.red=u,this},h.prototype.forceRed=function(u){return D(!this.red,"Already a number in reduction context"),this._forceRed(u)},h.prototype.redAdd=function(u){return D(this.red,"redAdd works only with red numbers"),this.red.add(this,u)},h.prototype.redIAdd=function(u){return D(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,u)},h.prototype.redSub=function(u){return D(this.red,"redSub works only with red numbers"),this.red.sub(this,u)},h.prototype.redISub=function(u){return D(this.red,"redISub works only with red numbers"),this.red.isub(this,u)},h.prototype.redShl=function(u){return D(this.red,"redShl works only with red numbers"),this.red.shl(this,u)},h.prototype.redMul=function(u){return D(this.red,"redMul works only with red numbers"),this.red._verify2(this,u),this.red.mul(this,u)},h.prototype.redIMul=function(u){return D(this.red,"redMul works only with red numbers"),this.red._verify2(this,u),this.red.imul(this,u)},h.prototype.redSqr=function(){return D(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},h.prototype.redISqr=function(){return D(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},h.prototype.redSqrt=function(){return D(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},h.prototype.redInvm=function(){return D(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},h.prototype.redNeg=function(){return D(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},h.prototype.redPow=function(u){return D(this.red&&!u.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,u)};var y={k256:null,p224:null,p192:null,p25519:null};function W(I,u){this.name=I,this.p=new h(u,16),this.n=this.p.bitLength(),this.k=new h(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}W.prototype._tmp=function(){var u=new h(null);return u.words=new Array(Math.ceil(this.n/13)),u},W.prototype.ireduce=function(u){var N=u,q;do this.split(N,this.tmp),N=this.imulK(N),N=N.iadd(this.tmp),q=N.bitLength();while(q>this.n);var V=q<this.n?-1:N.ucmp(this.p);return V===0?(N.words[0]=0,N.length=1):V>0?N.isub(this.p):N.strip!==void 0?N.strip():N._strip(),N},W.prototype.split=function(u,N){u.iushrn(this.n,0,N)},W.prototype.imulK=function(u){return u.imul(this.k)};function Q(){W.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}A(Q,W),Q.prototype.split=function(u,N){for(var q=4194303,V=Math.min(u.length,9),K=0;K<V;K++)N.words[K]=u.words[K];if(N.length=V,u.length<=9){u.words[0]=0,u.length=1;return}var j=u.words[9];for(N.words[N.length++]=j&q,K=10;K<u.length;K++){var ie=u.words[K]|0;u.words[K-10]=(ie&q)<<4|j>>>22,j=ie}j>>>=22,u.words[K-10]=j,j===0&&u.length>10?u.length-=10:u.length-=9},Q.prototype.imulK=function(u){u.words[u.length]=0,u.words[u.length+1]=0,u.length+=2;for(var N=0,q=0;q<u.length;q++){var V=u.words[q]|0;N+=V*977,u.words[q]=N&67108863,N=V*64+(N/67108864|0)}return u.words[u.length-1]===0&&(u.length--,u.words[u.length-1]===0&&u.length--),u};function Z(){W.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}A(Z,W);function ee(){W.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}A(ee,W);function J(){W.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}A(J,W),J.prototype.imulK=function(u){for(var N=0,q=0;q<u.length;q++){var V=(u.words[q]|0)*19+N,K=V&67108863;V>>>=26,u.words[q]=K,N=V}return N!==0&&(u.words[u.length++]=N),u},h._prime=function(u){if(y[u])return y[u];var N;if(u==="k256")N=new Q;else if(u==="p224")N=new Z;else if(u==="p192")N=new ee;else if(u==="p25519")N=new J;else throw new Error("Unknown prime "+u);return y[u]=N,N};function O(I){if(typeof I=="string"){var u=h._prime(I);this.m=u.p,this.prime=u}else D(I.gtn(1),"modulus must be greater than 1"),this.m=I,this.prime=null}O.prototype._verify1=function(u){D(u.negative===0,"red works only with positives"),D(u.red,"red works only with red numbers")},O.prototype._verify2=function(u,N){D((u.negative|N.negative)===0,"red works only with positives"),D(u.red&&u.red===N.red,"red works only with red numbers")},O.prototype.imod=function(u){return this.prime?this.prime.ireduce(u)._forceRed(this):(b(u,u.umod(this.m)._forceRed(this)),u)},O.prototype.neg=function(u){return u.isZero()?u.clone():this.m.sub(u)._forceRed(this)},O.prototype.add=function(u,N){this._verify2(u,N);var q=u.add(N);return q.cmp(this.m)>=0&&q.isub(this.m),q._forceRed(this)},O.prototype.iadd=function(u,N){this._verify2(u,N);var q=u.iadd(N);return q.cmp(this.m)>=0&&q.isub(this.m),q},O.prototype.sub=function(u,N){this._verify2(u,N);var q=u.sub(N);return q.cmpn(0)<0&&q.iadd(this.m),q._forceRed(this)},O.prototype.isub=function(u,N){this._verify2(u,N);var q=u.isub(N);return q.cmpn(0)<0&&q.iadd(this.m),q},O.prototype.shl=function(u,N){return this._verify1(u),this.imod(u.ushln(N))},O.prototype.imul=function(u,N){return this._verify2(u,N),this.imod(u.imul(N))},O.prototype.mul=function(u,N){return this._verify2(u,N),this.imod(u.mul(N))},O.prototype.isqr=function(u){return this.imul(u,u.clone())},O.prototype.sqr=function(u){return this.mul(u,u)},O.prototype.sqrt=function(u){if(u.isZero())return u.clone();var N=this.m.andln(3);if(D(N%2===1),N===3){var q=this.m.add(new h(1)).iushrn(2);return this.pow(u,q)}for(var V=this.m.subn(1),K=0;!V.isZero()&&V.andln(1)===0;)K++,V.iushrn(1);D(!V.isZero());var j=new h(1).toRed(this),ie=j.redNeg(),X=this.m.subn(1).iushrn(1),B=this.m.bitLength();for(B=new h(2*B*B).toRed(this);this.pow(B,X).cmp(ie)!==0;)B.redIAdd(ie);for(var se=this.pow(B,V),Pe=this.pow(u,V.addn(1).iushrn(1)),we=this.pow(u,V),_e=K;we.cmp(j)!==0;){for(var Me=we,te=0;Me.cmp(j)!==0;te++)Me=Me.redSqr();D(te<_e);var re=this.pow(se,new h(1).iushln(_e-te-1));Pe=Pe.redMul(re),se=re.redSqr(),we=we.redMul(se),_e=te}return Pe},O.prototype.invm=function(u){var N=u._invmp(this.m);return N.negative!==0?(N.negative=0,this.imod(N).redNeg()):this.imod(N)},O.prototype.pow=function(u,N){if(N.isZero())return new h(1).toRed(this);if(N.cmpn(1)===0)return u.clone();var q=4,V=new Array(1<<q);V[0]=new h(1).toRed(this),V[1]=u;for(var K=2;K<V.length;K++)V[K]=this.mul(V[K-1],u);var j=V[0],ie=0,X=0,B=N.bitLength()%26;for(B===0&&(B=26),K=N.length-1;K>=0;K--){for(var se=N.words[K],Pe=B-1;Pe>=0;Pe--){var we=se>>Pe&1;if(j!==V[0]&&(j=this.sqr(j)),we===0&&ie===0){X=0;continue}ie<<=1,ie|=we,X++,!(X!==q&&(K!==0||Pe!==0))&&(j=this.mul(j,V[ie]),X=0,ie=0)}B=26}return j},O.prototype.convertTo=function(u){var N=u.umod(this.m);return N===u?N.clone():N},O.prototype.convertFrom=function(u){var N=u.clone();return N.red=null,N},h.mont=function(u){return new H(u)};function H(I){O.call(this,I),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new h(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}A(H,O),H.prototype.convertTo=function(u){return this.imod(u.ushln(this.shift))},H.prototype.convertFrom=function(u){var N=this.imod(u.mul(this.rinv));return N.red=null,N},H.prototype.imul=function(u,N){if(u.isZero()||N.isZero())return u.words[0]=0,u.length=1,u;var q=u.imul(N),V=q.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),K=q.isub(V).iushrn(this.shift),j=K;return K.cmp(this.m)>=0?j=K.isub(this.m):K.cmpn(0)<0&&(j=K.iadd(this.m)),j._forceRed(this)},H.prototype.mul=function(u,N){if(u.isZero()||N.isZero())return new h(0)._forceRed(this);var q=u.mul(N),V=q.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),K=q.isub(V).iushrn(this.shift),j=K;return K.cmp(this.m)>=0?j=K.isub(this.m):K.cmpn(0)<0&&(j=K.iadd(this.m)),j._forceRed(this)},H.prototype.invm=function(u){var N=this.imod(u._invmp(this.m).mul(this.r2));return N._forceRed(this)}}(s,this)},55715:(s,G,F)=>{"use strict";s.exports=F(62951)},20:(s,G,F)=>{"use strict";var P=F(92861).Buffer,L=F(47108),D=F(46737),A=F(56698),h=F(35359),m=F(74847),g=F(62951);Object.keys(g).forEach(function(E){g[E].id=P.from(g[E].id,"hex"),g[E.toLowerCase()]=g[E]});function p(E){D.Writable.call(this);var c=g[E];if(!c)throw new Error("Unknown message digest");this._hashType=c.hash,this._hash=L(c.hash),this._tag=c.id,this._signType=c.sign}A(p,D.Writable),p.prototype._write=function(c,v,f){this._hash.update(c),f()},p.prototype.update=function(c,v){return this._hash.update(typeof c=="string"?P.from(c,v):c),this},p.prototype.sign=function(c,v){this.end();var f=this._hash.digest(),w=h(f,c,this._hashType,this._signType,this._tag);return v?w.toString(v):w};function k(E){D.Writable.call(this);var c=g[E];if(!c)throw new Error("Unknown message digest");this._hash=L(c.hash),this._tag=c.id,this._signType=c.sign}A(k,D.Writable),k.prototype._write=function(c,v,f){this._hash.update(c),f()},k.prototype.update=function(c,v){return this._hash.update(typeof c=="string"?P.from(c,v):c),this},k.prototype.verify=function(c,v,f){var w=typeof v=="string"?P.from(v,f):v;this.end();var _=this._hash.digest();return m(w,_,c,this._signType,this._tag)};function b(E){return new p(E)}function l(E){return new k(E)}s.exports={Sign:b,Verify:l,createSign:b,createVerify:l}},35359:(s,G,F)=>{"use strict";var P=F(92861).Buffer,L=F(83507),D=F(67332),A=F(86729).ec,h=F(26162),m=F(78170),g=F(64589),p=1;function k(R,M,U,x,y){var W=m(M);if(W.curve){if(x!=="ecdsa"&&x!=="ecdsa/rsa")throw new Error("wrong private key type");return b(R,W)}else if(W.type==="dsa"){if(x!=="dsa")throw new Error("wrong private key type");return l(R,W,U)}if(x!=="rsa"&&x!=="ecdsa/rsa")throw new Error("wrong private key type");if(M.padding!==void 0&&M.padding!==p)throw new Error("illegal or unsupported padding mode");R=P.concat([y,R]);for(var Q=W.modulus.byteLength(),Z=[0,1];R.length+Z.length+1<Q;)Z.push(255);Z.push(0);for(var ee=-1;++ee<R.length;)Z.push(R[ee]);var J=D(Z,W);return J}function b(R,M){var U=g[M.curve.join(".")];if(!U)throw new Error("unknown curve "+M.curve.join("."));var x=new A(U),y=x.keyFromPrivate(M.privateKey),W=y.sign(R);return P.from(W.toDER())}function l(R,M,U){for(var x=M.params.priv_key,y=M.params.p,W=M.params.q,Q=M.params.g,Z=new h(0),ee,J=v(R,W).mod(W),O=!1,H=c(x,W,R,U);O===!1;)ee=w(W,H,U),Z=_(Q,ee,y,W),O=ee.invm(W).imul(J.add(x.mul(Z))).mod(W),O.cmpn(0)===0&&(O=!1,Z=new h(0));return E(Z,O)}function E(R,M){R=R.toArray(),M=M.toArray(),R[0]&128&&(R=[0].concat(R)),M[0]&128&&(M=[0].concat(M));var U=R.length+M.length+4,x=[48,U,2,R.length];return x=x.concat(R,[2,M.length],M),P.from(x)}function c(R,M,U,x){if(R=P.from(R.toArray()),R.length<M.byteLength()){var y=P.alloc(M.byteLength()-R.length);R=P.concat([y,R])}var W=U.length,Q=f(U,M),Z=P.alloc(W);Z.fill(1);var ee=P.alloc(W);return ee=L(x,ee).update(Z).update(P.from([0])).update(R).update(Q).digest(),Z=L(x,ee).update(Z).digest(),ee=L(x,ee).update(Z).update(P.from([1])).update(R).update(Q).digest(),Z=L(x,ee).update(Z).digest(),{k:ee,v:Z}}function v(R,M){var U=new h(R),x=(R.length<<3)-M.bitLength();return x>0&&U.ishrn(x),U}function f(R,M){R=v(R,M),R=R.mod(M);var U=P.from(R.toArray());if(U.length<M.byteLength()){var x=P.alloc(M.byteLength()-U.length);U=P.concat([x,U])}return U}function w(R,M,U){var x,y;do{for(x=P.alloc(0);x.length*8<R.bitLength();)M.v=L(U,M.k).update(M.v).digest(),x=P.concat([x,M.v]);y=v(x,R),M.k=L(U,M.k).update(M.v).update(P.from([0])).digest(),M.v=L(U,M.k).update(M.v).digest()}while(y.cmp(R)!==-1);return y}function _(R,M,U,x){return R.toRed(h.mont(U)).redPow(M).fromRed().mod(x)}s.exports=k,s.exports.getKey=c,s.exports.makeKey=w},74847:(s,G,F)=>{"use strict";var P=F(92861).Buffer,L=F(26162),D=F(86729).ec,A=F(78170),h=F(64589);function m(b,l,E,c,v){var f=A(E);if(f.type==="ec"){if(c!=="ecdsa"&&c!=="ecdsa/rsa")throw new Error("wrong public key type");return g(b,l,f)}else if(f.type==="dsa"){if(c!=="dsa")throw new Error("wrong public key type");return p(b,l,f)}if(c!=="rsa"&&c!=="ecdsa/rsa")throw new Error("wrong public key type");l=P.concat([v,l]);for(var w=f.modulus.byteLength(),_=[1],R=0;l.length+_.length+2<w;)_.push(255),R+=1;_.push(0);for(var M=-1;++M<l.length;)_.push(l[M]);_=P.from(_);var U=L.mont(f.modulus);b=new L(b).toRed(U),b=b.redPow(new L(f.publicExponent)),b=P.from(b.fromRed().toArray());var x=R<8?1:0;for(w=Math.min(b.length,_.length),b.length!==_.length&&(x=1),M=-1;++M<w;)x|=b[M]^_[M];return x===0}function g(b,l,E){var c=h[E.data.algorithm.curve.join(".")];if(!c)throw new Error("unknown curve "+E.data.algorithm.curve.join("."));var v=new D(c),f=E.data.subjectPrivateKey.data;return v.verify(l,b,f)}function p(b,l,E){var c=E.data.p,v=E.data.q,f=E.data.g,w=E.data.pub_key,_=A.signature.decode(b,"der"),R=_.s,M=_.r;k(R,v),k(M,v);var U=L.mont(c),x=R.invm(v),y=f.toRed(U).redPow(new L(l).mul(x).mod(v)).fromRed().mul(w.toRed(U).redPow(M.mul(x).mod(v)).fromRed()).mod(c).mod(v);return y.cmp(M)===0}function k(b,l){if(b.cmpn(0)<=0)throw new Error("invalid sig");if(b.cmp(l)>=0)throw new Error("invalid sig")}s.exports=m},26162:function(s,G,F){s=F.nmd(s),function(P,L){"use strict";function D(I,u){if(!I)throw new Error(u||"Assertion failed")}function A(I,u){I.super_=u;var N=function(){};N.prototype=u.prototype,I.prototype=new N,I.prototype.constructor=I}function h(I,u,N){if(h.isBN(I))return I;this.negative=0,this.words=null,this.length=0,this.red=null,I!==null&&((u==="le"||u==="be")&&(N=u,u=10),this._init(I||0,u||10,N||"be"))}typeof P=="object"?P.exports=h:L.BN=h,h.BN=h,h.wordSize=26;var m;try{typeof window!="undefined"&&typeof window.Buffer!="undefined"?m=window.Buffer:m=F(38664).Buffer}catch{}h.isBN=function(u){return u instanceof h?!0:u!==null&&typeof u=="object"&&u.constructor.wordSize===h.wordSize&&Array.isArray(u.words)},h.max=function(u,N){return u.cmp(N)>0?u:N},h.min=function(u,N){return u.cmp(N)<0?u:N},h.prototype._init=function(u,N,q){if(typeof u=="number")return this._initNumber(u,N,q);if(typeof u=="object")return this._initArray(u,N,q);N==="hex"&&(N=16),D(N===(N|0)&&N>=2&&N<=36),u=u.toString().replace(/\s+/g,"");var V=0;u[0]==="-"&&(V++,this.negative=1),V<u.length&&(N===16?this._parseHex(u,V,q):(this._parseBase(u,N,V),q==="le"&&this._initArray(this.toArray(),N,q)))},h.prototype._initNumber=function(u,N,q){u<0&&(this.negative=1,u=-u),u<67108864?(this.words=[u&67108863],this.length=1):u<4503599627370496?(this.words=[u&67108863,u/67108864&67108863],this.length=2):(D(u<9007199254740992),this.words=[u&67108863,u/67108864&67108863,1],this.length=3),q==="le"&&this._initArray(this.toArray(),N,q)},h.prototype._initArray=function(u,N,q){if(D(typeof u.length=="number"),u.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(u.length/3),this.words=new Array(this.length);for(var V=0;V<this.length;V++)this.words[V]=0;var K,j,ie=0;if(q==="be")for(V=u.length-1,K=0;V>=0;V-=3)j=u[V]|u[V-1]<<8|u[V-2]<<16,this.words[K]|=j<<ie&67108863,this.words[K+1]=j>>>26-ie&67108863,ie+=24,ie>=26&&(ie-=26,K++);else if(q==="le")for(V=0,K=0;V<u.length;V+=3)j=u[V]|u[V+1]<<8|u[V+2]<<16,this.words[K]|=j<<ie&67108863,this.words[K+1]=j>>>26-ie&67108863,ie+=24,ie>=26&&(ie-=26,K++);return this._strip()};function g(I,u){var N=I.charCodeAt(u);if(N>=48&&N<=57)return N-48;if(N>=65&&N<=70)return N-55;if(N>=97&&N<=102)return N-87;D(!1,"Invalid character in "+I)}function p(I,u,N){var q=g(I,N);return N-1>=u&&(q|=g(I,N-1)<<4),q}h.prototype._parseHex=function(u,N,q){this.length=Math.ceil((u.length-N)/6),this.words=new Array(this.length);for(var V=0;V<this.length;V++)this.words[V]=0;var K=0,j=0,ie;if(q==="be")for(V=u.length-1;V>=N;V-=2)ie=p(u,N,V)<<K,this.words[j]|=ie&67108863,K>=18?(K-=18,j+=1,this.words[j]|=ie>>>26):K+=8;else{var X=u.length-N;for(V=X%2===0?N+1:N;V<u.length;V+=2)ie=p(u,N,V)<<K,this.words[j]|=ie&67108863,K>=18?(K-=18,j+=1,this.words[j]|=ie>>>26):K+=8}this._strip()};function k(I,u,N,q){for(var V=0,K=0,j=Math.min(I.length,N),ie=u;ie<j;ie++){var X=I.charCodeAt(ie)-48;V*=q,X>=49?K=X-49+10:X>=17?K=X-17+10:K=X,D(X>=0&&K<q,"Invalid character"),V+=K}return V}h.prototype._parseBase=function(u,N,q){this.words=[0],this.length=1;for(var V=0,K=1;K<=67108863;K*=N)V++;V--,K=K/N|0;for(var j=u.length-q,ie=j%V,X=Math.min(j,j-ie)+q,B=0,se=q;se<X;se+=V)B=k(u,se,se+V,N),this.imuln(K),this.words[0]+B<67108864?this.words[0]+=B:this._iaddn(B);if(ie!==0){var Pe=1;for(B=k(u,se,u.length,N),se=0;se<ie;se++)Pe*=N;this.imuln(Pe),this.words[0]+B<67108864?this.words[0]+=B:this._iaddn(B)}this._strip()},h.prototype.copy=function(u){u.words=new Array(this.length);for(var N=0;N<this.length;N++)u.words[N]=this.words[N];u.length=this.length,u.negative=this.negative,u.red=this.red};function b(I,u){I.words=u.words,I.length=u.length,I.negative=u.negative,I.red=u.red}if(h.prototype._move=function(u){b(u,this)},h.prototype.clone=function(){var u=new h(null);return this.copy(u),u},h.prototype._expand=function(u){for(;this.length<u;)this.words[this.length++]=0;return this},h.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},h.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol!="undefined"&&typeof Symbol.for=="function")try{h.prototype[Symbol.for("nodejs.util.inspect.custom")]=l}catch{h.prototype.inspect=l}else h.prototype.inspect=l;function l(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var E=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],c=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],v=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];h.prototype.toString=function(u,N){u=u||10,N=N|0||1;var q;if(u===16||u==="hex"){q="";for(var V=0,K=0,j=0;j<this.length;j++){var ie=this.words[j],X=((ie<<V|K)&16777215).toString(16);K=ie>>>24-V&16777215,V+=2,V>=26&&(V-=26,j--),K!==0||j!==this.length-1?q=E[6-X.length]+X+q:q=X+q}for(K!==0&&(q=K.toString(16)+q);q.length%N!==0;)q="0"+q;return this.negative!==0&&(q="-"+q),q}if(u===(u|0)&&u>=2&&u<=36){var B=c[u],se=v[u];q="";var Pe=this.clone();for(Pe.negative=0;!Pe.isZero();){var we=Pe.modrn(se).toString(u);Pe=Pe.idivn(se),Pe.isZero()?q=we+q:q=E[B-we.length]+we+q}for(this.isZero()&&(q="0"+q);q.length%N!==0;)q="0"+q;return this.negative!==0&&(q="-"+q),q}D(!1,"Base should be between 2 and 36")},h.prototype.toNumber=function(){var u=this.words[0];return this.length===2?u+=this.words[1]*67108864:this.length===3&&this.words[2]===1?u+=4503599627370496+this.words[1]*67108864:this.length>2&&D(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-u:u},h.prototype.toJSON=function(){return this.toString(16,2)},m&&(h.prototype.toBuffer=function(u,N){return this.toArrayLike(m,u,N)}),h.prototype.toArray=function(u,N){return this.toArrayLike(Array,u,N)};var f=function(u,N){return u.allocUnsafe?u.allocUnsafe(N):new u(N)};h.prototype.toArrayLike=function(u,N,q){this._strip();var V=this.byteLength(),K=q||Math.max(1,V);D(V<=K,"byte array longer than desired length"),D(K>0,"Requested array length <= 0");var j=f(u,K),ie=N==="le"?"LE":"BE";return this["_toArrayLike"+ie](j,V),j},h.prototype._toArrayLikeLE=function(u,N){for(var q=0,V=0,K=0,j=0;K<this.length;K++){var ie=this.words[K]<<j|V;u[q++]=ie&255,q<u.length&&(u[q++]=ie>>8&255),q<u.length&&(u[q++]=ie>>16&255),j===6?(q<u.length&&(u[q++]=ie>>24&255),V=0,j=0):(V=ie>>>24,j+=2)}if(q<u.length)for(u[q++]=V;q<u.length;)u[q++]=0},h.prototype._toArrayLikeBE=function(u,N){for(var q=u.length-1,V=0,K=0,j=0;K<this.length;K++){var ie=this.words[K]<<j|V;u[q--]=ie&255,q>=0&&(u[q--]=ie>>8&255),q>=0&&(u[q--]=ie>>16&255),j===6?(q>=0&&(u[q--]=ie>>24&255),V=0,j=0):(V=ie>>>24,j+=2)}if(q>=0)for(u[q--]=V;q>=0;)u[q--]=0},Math.clz32?h.prototype._countBits=function(u){return 32-Math.clz32(u)}:h.prototype._countBits=function(u){var N=u,q=0;return N>=4096&&(q+=13,N>>>=13),N>=64&&(q+=7,N>>>=7),N>=8&&(q+=4,N>>>=4),N>=2&&(q+=2,N>>>=2),q+N},h.prototype._zeroBits=function(u){if(u===0)return 26;var N=u,q=0;return N&8191||(q+=13,N>>>=13),N&127||(q+=7,N>>>=7),N&15||(q+=4,N>>>=4),N&3||(q+=2,N>>>=2),N&1||q++,q},h.prototype.bitLength=function(){var u=this.words[this.length-1],N=this._countBits(u);return(this.length-1)*26+N};function w(I){for(var u=new Array(I.bitLength()),N=0;N<u.length;N++){var q=N/26|0,V=N%26;u[N]=I.words[q]>>>V&1}return u}h.prototype.zeroBits=function(){if(this.isZero())return 0;for(var u=0,N=0;N<this.length;N++){var q=this._zeroBits(this.words[N]);if(u+=q,q!==26)break}return u},h.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},h.prototype.toTwos=function(u){return this.negative!==0?this.abs().inotn(u).iaddn(1):this.clone()},h.prototype.fromTwos=function(u){return this.testn(u-1)?this.notn(u).iaddn(1).ineg():this.clone()},h.prototype.isNeg=function(){return this.negative!==0},h.prototype.neg=function(){return this.clone().ineg()},h.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},h.prototype.iuor=function(u){for(;this.length<u.length;)this.words[this.length++]=0;for(var N=0;N<u.length;N++)this.words[N]=this.words[N]|u.words[N];return this._strip()},h.prototype.ior=function(u){return D((this.negative|u.negative)===0),this.iuor(u)},h.prototype.or=function(u){return this.length>u.length?this.clone().ior(u):u.clone().ior(this)},h.prototype.uor=function(u){return this.length>u.length?this.clone().iuor(u):u.clone().iuor(this)},h.prototype.iuand=function(u){var N;this.length>u.length?N=u:N=this;for(var q=0;q<N.length;q++)this.words[q]=this.words[q]&u.words[q];return this.length=N.length,this._strip()},h.prototype.iand=function(u){return D((this.negative|u.negative)===0),this.iuand(u)},h.prototype.and=function(u){return this.length>u.length?this.clone().iand(u):u.clone().iand(this)},h.prototype.uand=function(u){return this.length>u.length?this.clone().iuand(u):u.clone().iuand(this)},h.prototype.iuxor=function(u){var N,q;this.length>u.length?(N=this,q=u):(N=u,q=this);for(var V=0;V<q.length;V++)this.words[V]=N.words[V]^q.words[V];if(this!==N)for(;V<N.length;V++)this.words[V]=N.words[V];return this.length=N.length,this._strip()},h.prototype.ixor=function(u){return D((this.negative|u.negative)===0),this.iuxor(u)},h.prototype.xor=function(u){return this.length>u.length?this.clone().ixor(u):u.clone().ixor(this)},h.prototype.uxor=function(u){return this.length>u.length?this.clone().iuxor(u):u.clone().iuxor(this)},h.prototype.inotn=function(u){D(typeof u=="number"&&u>=0);var N=Math.ceil(u/26)|0,q=u%26;this._expand(N),q>0&&N--;for(var V=0;V<N;V++)this.words[V]=~this.words[V]&67108863;return q>0&&(this.words[V]=~this.words[V]&67108863>>26-q),this._strip()},h.prototype.notn=function(u){return this.clone().inotn(u)},h.prototype.setn=function(u,N){D(typeof u=="number"&&u>=0);var q=u/26|0,V=u%26;return this._expand(q+1),N?this.words[q]=this.words[q]|1<<V:this.words[q]=this.words[q]&~(1<<V),this._strip()},h.prototype.iadd=function(u){var N;if(this.negative!==0&&u.negative===0)return this.negative=0,N=this.isub(u),this.negative^=1,this._normSign();if(this.negative===0&&u.negative!==0)return u.negative=0,N=this.isub(u),u.negative=1,N._normSign();var q,V;this.length>u.length?(q=this,V=u):(q=u,V=this);for(var K=0,j=0;j<V.length;j++)N=(q.words[j]|0)+(V.words[j]|0)+K,this.words[j]=N&67108863,K=N>>>26;for(;K!==0&&j<q.length;j++)N=(q.words[j]|0)+K,this.words[j]=N&67108863,K=N>>>26;if(this.length=q.length,K!==0)this.words[this.length]=K,this.length++;else if(q!==this)for(;j<q.length;j++)this.words[j]=q.words[j];return this},h.prototype.add=function(u){var N;return u.negative!==0&&this.negative===0?(u.negative=0,N=this.sub(u),u.negative^=1,N):u.negative===0&&this.negative!==0?(this.negative=0,N=u.sub(this),this.negative=1,N):this.length>u.length?this.clone().iadd(u):u.clone().iadd(this)},h.prototype.isub=function(u){if(u.negative!==0){u.negative=0;var N=this.iadd(u);return u.negative=1,N._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(u),this.negative=1,this._normSign();var q=this.cmp(u);if(q===0)return this.negative=0,this.length=1,this.words[0]=0,this;var V,K;q>0?(V=this,K=u):(V=u,K=this);for(var j=0,ie=0;ie<K.length;ie++)N=(V.words[ie]|0)-(K.words[ie]|0)+j,j=N>>26,this.words[ie]=N&67108863;for(;j!==0&&ie<V.length;ie++)N=(V.words[ie]|0)+j,j=N>>26,this.words[ie]=N&67108863;if(j===0&&ie<V.length&&V!==this)for(;ie<V.length;ie++)this.words[ie]=V.words[ie];return this.length=Math.max(this.length,ie),V!==this&&(this.negative=1),this._strip()},h.prototype.sub=function(u){return this.clone().isub(u)};function _(I,u,N){N.negative=u.negative^I.negative;var q=I.length+u.length|0;N.length=q,q=q-1|0;var V=I.words[0]|0,K=u.words[0]|0,j=V*K,ie=j&67108863,X=j/67108864|0;N.words[0]=ie;for(var B=1;B<q;B++){for(var se=X>>>26,Pe=X&67108863,we=Math.min(B,u.length-1),_e=Math.max(0,B-I.length+1);_e<=we;_e++){var Me=B-_e|0;V=I.words[Me]|0,K=u.words[_e]|0,j=V*K+Pe,se+=j/67108864|0,Pe=j&67108863}N.words[B]=Pe|0,X=se|0}return X!==0?N.words[B]=X|0:N.length--,N._strip()}var R=function(u,N,q){var V=u.words,K=N.words,j=q.words,ie=0,X,B,se,Pe=V[0]|0,we=Pe&8191,_e=Pe>>>13,Me=V[1]|0,te=Me&8191,re=Me>>>13,ge=V[2]|0,ye=ge&8191,Ee=ge>>>13,z=V[3]|0,T=z&8191,oe=z>>>13,fe=V[4]|0,de=fe&8191,ue=fe>>>13,ve=V[5]|0,Fe=ve&8191,Oe=ve>>>13,$e=V[6]|0,qe=$e&8191,Ve=$e>>>13,Je=V[7]|0,me=Je&8191,ae=Je>>>13,ce=V[8]|0,Re=ce&8191,xe=ce>>>13,Ye=V[9]|0,Ue=Ye&8191,Ze=Ye>>>13,It=K[0]|0,st=It&8191,ut=It>>>13,wt=K[1]|0,vt=wt&8191,_t=wt>>>13,oi=K[2]|0,yt=oi&8191,Pt=oi>>>13,Hi=K[3]|0,Lt=Hi&8191,Kt=Hi>>>13,Zn=K[4]|0,Xt=Zn&8191,Wt=Zn>>>13,Gn=K[5]|0,Ft=Gn&8191,ht=Gn>>>13,bt=K[6]|0,Le=bt&8191,et=bt>>>13,Tt=K[7]|0,dt=Tt&8191,mt=Tt>>>13,ni=K[8]|0,Ot=ni&8191,jt=ni>>>13,qt=K[9]|0,gt=qt&8191,Rt=qt>>>13;q.negative=u.negative^N.negative,q.length=19,X=Math.imul(we,st),B=Math.imul(we,ut),B=B+Math.imul(_e,st)|0,se=Math.imul(_e,ut);var Dt=(ie+X|0)+((B&8191)<<13)|0;ie=(se+(B>>>13)|0)+(Dt>>>26)|0,Dt&=67108863,X=Math.imul(te,st),B=Math.imul(te,ut),B=B+Math.imul(re,st)|0,se=Math.imul(re,ut),X=X+Math.imul(we,vt)|0,B=B+Math.imul(we,_t)|0,B=B+Math.imul(_e,vt)|0,se=se+Math.imul(_e,_t)|0;var di=(ie+X|0)+((B&8191)<<13)|0;ie=(se+(B>>>13)|0)+(di>>>26)|0,di&=67108863,X=Math.imul(ye,st),B=Math.imul(ye,ut),B=B+Math.imul(Ee,st)|0,se=Math.imul(Ee,ut),X=X+Math.imul(te,vt)|0,B=B+Math.imul(te,_t)|0,B=B+Math.imul(re,vt)|0,se=se+Math.imul(re,_t)|0,X=X+Math.imul(we,yt)|0,B=B+Math.imul(we,Pt)|0,B=B+Math.imul(_e,yt)|0,se=se+Math.imul(_e,Pt)|0;var ri=(ie+X|0)+((B&8191)<<13)|0;ie=(se+(B>>>13)|0)+(ri>>>26)|0,ri&=67108863,X=Math.imul(T,st),B=Math.imul(T,ut),B=B+Math.imul(oe,st)|0,se=Math.imul(oe,ut),X=X+Math.imul(ye,vt)|0,B=B+Math.imul(ye,_t)|0,B=B+Math.imul(Ee,vt)|0,se=se+Math.imul(Ee,_t)|0,X=X+Math.imul(te,yt)|0,B=B+Math.imul(te,Pt)|0,B=B+Math.imul(re,yt)|0,se=se+Math.imul(re,Pt)|0,X=X+Math.imul(we,Lt)|0,B=B+Math.imul(we,Kt)|0,B=B+Math.imul(_e,Lt)|0,se=se+Math.imul(_e,Kt)|0;var Gt=(ie+X|0)+((B&8191)<<13)|0;ie=(se+(B>>>13)|0)+(Gt>>>26)|0,Gt&=67108863,X=Math.imul(de,st),B=Math.imul(de,ut),B=B+Math.imul(ue,st)|0,se=Math.imul(ue,ut),X=X+Math.imul(T,vt)|0,B=B+Math.imul(T,_t)|0,B=B+Math.imul(oe,vt)|0,se=se+Math.imul(oe,_t)|0,X=X+Math.imul(ye,yt)|0,B=B+Math.imul(ye,Pt)|0,B=B+Math.imul(Ee,yt)|0,se=se+Math.imul(Ee,Pt)|0,X=X+Math.imul(te,Lt)|0,B=B+Math.imul(te,Kt)|0,B=B+Math.imul(re,Lt)|0,se=se+Math.imul(re,Kt)|0,X=X+Math.imul(we,Xt)|0,B=B+Math.imul(we,Wt)|0,B=B+Math.imul(_e,Xt)|0,se=se+Math.imul(_e,Wt)|0;var _i=(ie+X|0)+((B&8191)<<13)|0;ie=(se+(B>>>13)|0)+(_i>>>26)|0,_i&=67108863,X=Math.imul(Fe,st),B=Math.imul(Fe,ut),B=B+Math.imul(Oe,st)|0,se=Math.imul(Oe,ut),X=X+Math.imul(de,vt)|0,B=B+Math.imul(de,_t)|0,B=B+Math.imul(ue,vt)|0,se=se+Math.imul(ue,_t)|0,X=X+Math.imul(T,yt)|0,B=B+Math.imul(T,Pt)|0,B=B+Math.imul(oe,yt)|0,se=se+Math.imul(oe,Pt)|0,X=X+Math.imul(ye,Lt)|0,B=B+Math.imul(ye,Kt)|0,B=B+Math.imul(Ee,Lt)|0,se=se+Math.imul(Ee,Kt)|0,X=X+Math.imul(te,Xt)|0,B=B+Math.imul(te,Wt)|0,B=B+Math.imul(re,Xt)|0,se=se+Math.imul(re,Wt)|0,X=X+Math.imul(we,Ft)|0,B=B+Math.imul(we,ht)|0,B=B+Math.imul(_e,Ft)|0,se=se+Math.imul(_e,ht)|0;var ci=(ie+X|0)+((B&8191)<<13)|0;ie=(se+(B>>>13)|0)+(ci>>>26)|0,ci&=67108863,X=Math.imul(qe,st),B=Math.imul(qe,ut),B=B+Math.imul(Ve,st)|0,se=Math.imul(Ve,ut),X=X+Math.imul(Fe,vt)|0,B=B+Math.imul(Fe,_t)|0,B=B+Math.imul(Oe,vt)|0,se=se+Math.imul(Oe,_t)|0,X=X+Math.imul(de,yt)|0,B=B+Math.imul(de,Pt)|0,B=B+Math.imul(ue,yt)|0,se=se+Math.imul(ue,Pt)|0,X=X+Math.imul(T,Lt)|0,B=B+Math.imul(T,Kt)|0,B=B+Math.imul(oe,Lt)|0,se=se+Math.imul(oe,Kt)|0,X=X+Math.imul(ye,Xt)|0,B=B+Math.imul(ye,Wt)|0,B=B+Math.imul(Ee,Xt)|0,se=se+Math.imul(Ee,Wt)|0,X=X+Math.imul(te,Ft)|0,B=B+Math.imul(te,ht)|0,B=B+Math.imul(re,Ft)|0,se=se+Math.imul(re,ht)|0,X=X+Math.imul(we,Le)|0,B=B+Math.imul(we,et)|0,B=B+Math.imul(_e,Le)|0,se=se+Math.imul(_e,et)|0;var Di=(ie+X|0)+((B&8191)<<13)|0;ie=(se+(B>>>13)|0)+(Di>>>26)|0,Di&=67108863,X=Math.imul(me,st),B=Math.imul(me,ut),B=B+Math.imul(ae,st)|0,se=Math.imul(ae,ut),X=X+Math.imul(qe,vt)|0,B=B+Math.imul(qe,_t)|0,B=B+Math.imul(Ve,vt)|0,se=se+Math.imul(Ve,_t)|0,X=X+Math.imul(Fe,yt)|0,B=B+Math.imul(Fe,Pt)|0,B=B+Math.imul(Oe,yt)|0,se=se+Math.imul(Oe,Pt)|0,X=X+Math.imul(de,Lt)|0,B=B+Math.imul(de,Kt)|0,B=B+Math.imul(ue,Lt)|0,se=se+Math.imul(ue,Kt)|0,X=X+Math.imul(T,Xt)|0,B=B+Math.imul(T,Wt)|0,B=B+Math.imul(oe,Xt)|0,se=se+Math.imul(oe,Wt)|0,X=X+Math.imul(ye,Ft)|0,B=B+Math.imul(ye,ht)|0,B=B+Math.imul(Ee,Ft)|0,se=se+Math.imul(Ee,ht)|0,X=X+Math.imul(te,Le)|0,B=B+Math.imul(te,et)|0,B=B+Math.imul(re,Le)|0,se=se+Math.imul(re,et)|0,X=X+Math.imul(we,dt)|0,B=B+Math.imul(we,mt)|0,B=B+Math.imul(_e,dt)|0,se=se+Math.imul(_e,mt)|0;var Ii=(ie+X|0)+((B&8191)<<13)|0;ie=(se+(B>>>13)|0)+(Ii>>>26)|0,Ii&=67108863,X=Math.imul(Re,st),B=Math.imul(Re,ut),B=B+Math.imul(xe,st)|0,se=Math.imul(xe,ut),X=X+Math.imul(me,vt)|0,B=B+Math.imul(me,_t)|0,B=B+Math.imul(ae,vt)|0,se=se+Math.imul(ae,_t)|0,X=X+Math.imul(qe,yt)|0,B=B+Math.imul(qe,Pt)|0,B=B+Math.imul(Ve,yt)|0,se=se+Math.imul(Ve,Pt)|0,X=X+Math.imul(Fe,Lt)|0,B=B+Math.imul(Fe,Kt)|0,B=B+Math.imul(Oe,Lt)|0,se=se+Math.imul(Oe,Kt)|0,X=X+Math.imul(de,Xt)|0,B=B+Math.imul(de,Wt)|0,B=B+Math.imul(ue,Xt)|0,se=se+Math.imul(ue,Wt)|0,X=X+Math.imul(T,Ft)|0,B=B+Math.imul(T,ht)|0,B=B+Math.imul(oe,Ft)|0,se=se+Math.imul(oe,ht)|0,X=X+Math.imul(ye,Le)|0,B=B+Math.imul(ye,et)|0,B=B+Math.imul(Ee,Le)|0,se=se+Math.imul(Ee,et)|0,X=X+Math.imul(te,dt)|0,B=B+Math.imul(te,mt)|0,B=B+Math.imul(re,dt)|0,se=se+Math.imul(re,mt)|0,X=X+Math.imul(we,Ot)|0,B=B+Math.imul(we,jt)|0,B=B+Math.imul(_e,Ot)|0,se=se+Math.imul(_e,jt)|0;var Zi=(ie+X|0)+((B&8191)<<13)|0;ie=(se+(B>>>13)|0)+(Zi>>>26)|0,Zi&=67108863,X=Math.imul(Ue,st),B=Math.imul(Ue,ut),B=B+Math.imul(Ze,st)|0,se=Math.imul(Ze,ut),X=X+Math.imul(Re,vt)|0,B=B+Math.imul(Re,_t)|0,B=B+Math.imul(xe,vt)|0,se=se+Math.imul(xe,_t)|0,X=X+Math.imul(me,yt)|0,B=B+Math.imul(me,Pt)|0,B=B+Math.imul(ae,yt)|0,se=se+Math.imul(ae,Pt)|0,X=X+Math.imul(qe,Lt)|0,B=B+Math.imul(qe,Kt)|0,B=B+Math.imul(Ve,Lt)|0,se=se+Math.imul(Ve,Kt)|0,X=X+Math.imul(Fe,Xt)|0,B=B+Math.imul(Fe,Wt)|0,B=B+Math.imul(Oe,Xt)|0,se=se+Math.imul(Oe,Wt)|0,X=X+Math.imul(de,Ft)|0,B=B+Math.imul(de,ht)|0,B=B+Math.imul(ue,Ft)|0,se=se+Math.imul(ue,ht)|0,X=X+Math.imul(T,Le)|0,B=B+Math.imul(T,et)|0,B=B+Math.imul(oe,Le)|0,se=se+Math.imul(oe,et)|0,X=X+Math.imul(ye,dt)|0,B=B+Math.imul(ye,mt)|0,B=B+Math.imul(Ee,dt)|0,se=se+Math.imul(Ee,mt)|0,X=X+Math.imul(te,Ot)|0,B=B+Math.imul(te,jt)|0,B=B+Math.imul(re,Ot)|0,se=se+Math.imul(re,jt)|0,X=X+Math.imul(we,gt)|0,B=B+Math.imul(we,Rt)|0,B=B+Math.imul(_e,gt)|0,se=se+Math.imul(_e,Rt)|0;var fi=(ie+X|0)+((B&8191)<<13)|0;ie=(se+(B>>>13)|0)+(fi>>>26)|0,fi&=67108863,X=Math.imul(Ue,vt),B=Math.imul(Ue,_t),B=B+Math.imul(Ze,vt)|0,se=Math.imul(Ze,_t),X=X+Math.imul(Re,yt)|0,B=B+Math.imul(Re,Pt)|0,B=B+Math.imul(xe,yt)|0,se=se+Math.imul(xe,Pt)|0,X=X+Math.imul(me,Lt)|0,B=B+Math.imul(me,Kt)|0,B=B+Math.imul(ae,Lt)|0,se=se+Math.imul(ae,Kt)|0,X=X+Math.imul(qe,Xt)|0,B=B+Math.imul(qe,Wt)|0,B=B+Math.imul(Ve,Xt)|0,se=se+Math.imul(Ve,Wt)|0,X=X+Math.imul(Fe,Ft)|0,B=B+Math.imul(Fe,ht)|0,B=B+Math.imul(Oe,Ft)|0,se=se+Math.imul(Oe,ht)|0,X=X+Math.imul(de,Le)|0,B=B+Math.imul(de,et)|0,B=B+Math.imul(ue,Le)|0,se=se+Math.imul(ue,et)|0,X=X+Math.imul(T,dt)|0,B=B+Math.imul(T,mt)|0,B=B+Math.imul(oe,dt)|0,se=se+Math.imul(oe,mt)|0,X=X+Math.imul(ye,Ot)|0,B=B+Math.imul(ye,jt)|0,B=B+Math.imul(Ee,Ot)|0,se=se+Math.imul(Ee,jt)|0,X=X+Math.imul(te,gt)|0,B=B+Math.imul(te,Rt)|0,B=B+Math.imul(re,gt)|0,se=se+Math.imul(re,Rt)|0;var Yi=(ie+X|0)+((B&8191)<<13)|0;ie=(se+(B>>>13)|0)+(Yi>>>26)|0,Yi&=67108863,X=Math.imul(Ue,yt),B=Math.imul(Ue,Pt),B=B+Math.imul(Ze,yt)|0,se=Math.imul(Ze,Pt),X=X+Math.imul(Re,Lt)|0,B=B+Math.imul(Re,Kt)|0,B=B+Math.imul(xe,Lt)|0,se=se+Math.imul(xe,Kt)|0,X=X+Math.imul(me,Xt)|0,B=B+Math.imul(me,Wt)|0,B=B+Math.imul(ae,Xt)|0,se=se+Math.imul(ae,Wt)|0,X=X+Math.imul(qe,Ft)|0,B=B+Math.imul(qe,ht)|0,B=B+Math.imul(Ve,Ft)|0,se=se+Math.imul(Ve,ht)|0,X=X+Math.imul(Fe,Le)|0,B=B+Math.imul(Fe,et)|0,B=B+Math.imul(Oe,Le)|0,se=se+Math.imul(Oe,et)|0,X=X+Math.imul(de,dt)|0,B=B+Math.imul(de,mt)|0,B=B+Math.imul(ue,dt)|0,se=se+Math.imul(ue,mt)|0,X=X+Math.imul(T,Ot)|0,B=B+Math.imul(T,jt)|0,B=B+Math.imul(oe,Ot)|0,se=se+Math.imul(oe,jt)|0,X=X+Math.imul(ye,gt)|0,B=B+Math.imul(ye,Rt)|0,B=B+Math.imul(Ee,gt)|0,se=se+Math.imul(Ee,Rt)|0;var ji=(ie+X|0)+((B&8191)<<13)|0;ie=(se+(B>>>13)|0)+(ji>>>26)|0,ji&=67108863,X=Math.imul(Ue,Lt),B=Math.imul(Ue,Kt),B=B+Math.imul(Ze,Lt)|0,se=Math.imul(Ze,Kt),X=X+Math.imul(Re,Xt)|0,B=B+Math.imul(Re,Wt)|0,B=B+Math.imul(xe,Xt)|0,se=se+Math.imul(xe,Wt)|0,X=X+Math.imul(me,Ft)|0,B=B+Math.imul(me,ht)|0,B=B+Math.imul(ae,Ft)|0,se=se+Math.imul(ae,ht)|0,X=X+Math.imul(qe,Le)|0,B=B+Math.imul(qe,et)|0,B=B+Math.imul(Ve,Le)|0,se=se+Math.imul(Ve,et)|0,X=X+Math.imul(Fe,dt)|0,B=B+Math.imul(Fe,mt)|0,B=B+Math.imul(Oe,dt)|0,se=se+Math.imul(Oe,mt)|0,X=X+Math.imul(de,Ot)|0,B=B+Math.imul(de,jt)|0,B=B+Math.imul(ue,Ot)|0,se=se+Math.imul(ue,jt)|0,X=X+Math.imul(T,gt)|0,B=B+Math.imul(T,Rt)|0,B=B+Math.imul(oe,gt)|0,se=se+Math.imul(oe,Rt)|0;var ei=(ie+X|0)+((B&8191)<<13)|0;ie=(se+(B>>>13)|0)+(ei>>>26)|0,ei&=67108863,X=Math.imul(Ue,Xt),B=Math.imul(Ue,Wt),B=B+Math.imul(Ze,Xt)|0,se=Math.imul(Ze,Wt),X=X+Math.imul(Re,Ft)|0,B=B+Math.imul(Re,ht)|0,B=B+Math.imul(xe,Ft)|0,se=se+Math.imul(xe,ht)|0,X=X+Math.imul(me,Le)|0,B=B+Math.imul(me,et)|0,B=B+Math.imul(ae,Le)|0,se=se+Math.imul(ae,et)|0,X=X+Math.imul(qe,dt)|0,B=B+Math.imul(qe,mt)|0,B=B+Math.imul(Ve,dt)|0,se=se+Math.imul(Ve,mt)|0,X=X+Math.imul(Fe,Ot)|0,B=B+Math.imul(Fe,jt)|0,B=B+Math.imul(Oe,Ot)|0,se=se+Math.imul(Oe,jt)|0,X=X+Math.imul(de,gt)|0,B=B+Math.imul(de,Rt)|0,B=B+Math.imul(ue,gt)|0,se=se+Math.imul(ue,Rt)|0;var li=(ie+X|0)+((B&8191)<<13)|0;ie=(se+(B>>>13)|0)+(li>>>26)|0,li&=67108863,X=Math.imul(Ue,Ft),B=Math.imul(Ue,ht),B=B+Math.imul(Ze,Ft)|0,se=Math.imul(Ze,ht),X=X+Math.imul(Re,Le)|0,B=B+Math.imul(Re,et)|0,B=B+Math.imul(xe,Le)|0,se=se+Math.imul(xe,et)|0,X=X+Math.imul(me,dt)|0,B=B+Math.imul(me,mt)|0,B=B+Math.imul(ae,dt)|0,se=se+Math.imul(ae,mt)|0,X=X+Math.imul(qe,Ot)|0,B=B+Math.imul(qe,jt)|0,B=B+Math.imul(Ve,Ot)|0,se=se+Math.imul(Ve,jt)|0,X=X+Math.imul(Fe,gt)|0,B=B+Math.imul(Fe,Rt)|0,B=B+Math.imul(Oe,gt)|0,se=se+Math.imul(Oe,Rt)|0;var Ti=(ie+X|0)+((B&8191)<<13)|0;ie=(se+(B>>>13)|0)+(Ti>>>26)|0,Ti&=67108863,X=Math.imul(Ue,Le),B=Math.imul(Ue,et),B=B+Math.imul(Ze,Le)|0,se=Math.imul(Ze,et),X=X+Math.imul(Re,dt)|0,B=B+Math.imul(Re,mt)|0,B=B+Math.imul(xe,dt)|0,se=se+Math.imul(xe,mt)|0,X=X+Math.imul(me,Ot)|0,B=B+Math.imul(me,jt)|0,B=B+Math.imul(ae,Ot)|0,se=se+Math.imul(ae,jt)|0,X=X+Math.imul(qe,gt)|0,B=B+Math.imul(qe,Rt)|0,B=B+Math.imul(Ve,gt)|0,se=se+Math.imul(Ve,Rt)|0;var zi=(ie+X|0)+((B&8191)<<13)|0;ie=(se+(B>>>13)|0)+(zi>>>26)|0,zi&=67108863,X=Math.imul(Ue,dt),B=Math.imul(Ue,mt),B=B+Math.imul(Ze,dt)|0,se=Math.imul(Ze,mt),X=X+Math.imul(Re,Ot)|0,B=B+Math.imul(Re,jt)|0,B=B+Math.imul(xe,Ot)|0,se=se+Math.imul(xe,jt)|0,X=X+Math.imul(me,gt)|0,B=B+Math.imul(me,Rt)|0,B=B+Math.imul(ae,gt)|0,se=se+Math.imul(ae,Rt)|0;var hi=(ie+X|0)+((B&8191)<<13)|0;ie=(se+(B>>>13)|0)+(hi>>>26)|0,hi&=67108863,X=Math.imul(Ue,Ot),B=Math.imul(Ue,jt),B=B+Math.imul(Ze,Ot)|0,se=Math.imul(Ze,jt),X=X+Math.imul(Re,gt)|0,B=B+Math.imul(Re,Rt)|0,B=B+Math.imul(xe,gt)|0,se=se+Math.imul(xe,Rt)|0;var Ai=(ie+X|0)+((B&8191)<<13)|0;ie=(se+(B>>>13)|0)+(Ai>>>26)|0,Ai&=67108863,X=Math.imul(Ue,gt),B=Math.imul(Ue,Rt),B=B+Math.imul(Ze,gt)|0,se=Math.imul(Ze,Rt);var Xi=(ie+X|0)+((B&8191)<<13)|0;return ie=(se+(B>>>13)|0)+(Xi>>>26)|0,Xi&=67108863,j[0]=Dt,j[1]=di,j[2]=ri,j[3]=Gt,j[4]=_i,j[5]=ci,j[6]=Di,j[7]=Ii,j[8]=Zi,j[9]=fi,j[10]=Yi,j[11]=ji,j[12]=ei,j[13]=li,j[14]=Ti,j[15]=zi,j[16]=hi,j[17]=Ai,j[18]=Xi,ie!==0&&(j[19]=ie,q.length++),q};Math.imul||(R=_);function M(I,u,N){N.negative=u.negative^I.negative,N.length=I.length+u.length;for(var q=0,V=0,K=0;K<N.length-1;K++){var j=V;V=0;for(var ie=q&67108863,X=Math.min(K,u.length-1),B=Math.max(0,K-I.length+1);B<=X;B++){var se=K-B,Pe=I.words[se]|0,we=u.words[B]|0,_e=Pe*we,Me=_e&67108863;j=j+(_e/67108864|0)|0,Me=Me+ie|0,ie=Me&67108863,j=j+(Me>>>26)|0,V+=j>>>26,j&=67108863}N.words[K]=ie,q=j,j=V}return q!==0?N.words[K]=q:N.length--,N._strip()}function U(I,u,N){return M(I,u,N)}h.prototype.mulTo=function(u,N){var q,V=this.length+u.length;return this.length===10&&u.length===10?q=R(this,u,N):V<63?q=_(this,u,N):V<1024?q=M(this,u,N):q=U(this,u,N),q};function x(I,u){this.x=I,this.y=u}x.prototype.makeRBT=function(u){for(var N=new Array(u),q=h.prototype._countBits(u)-1,V=0;V<u;V++)N[V]=this.revBin(V,q,u);return N},x.prototype.revBin=function(u,N,q){if(u===0||u===q-1)return u;for(var V=0,K=0;K<N;K++)V|=(u&1)<<N-K-1,u>>=1;return V},x.prototype.permute=function(u,N,q,V,K,j){for(var ie=0;ie<j;ie++)V[ie]=N[u[ie]],K[ie]=q[u[ie]]},x.prototype.transform=function(u,N,q,V,K,j){this.permute(j,u,N,q,V,K);for(var ie=1;ie<K;ie<<=1)for(var X=ie<<1,B=Math.cos(2*Math.PI/X),se=Math.sin(2*Math.PI/X),Pe=0;Pe<K;Pe+=X)for(var we=B,_e=se,Me=0;Me<ie;Me++){var te=q[Pe+Me],re=V[Pe+Me],ge=q[Pe+Me+ie],ye=V[Pe+Me+ie],Ee=we*ge-_e*ye;ye=we*ye+_e*ge,ge=Ee,q[Pe+Me]=te+ge,V[Pe+Me]=re+ye,q[Pe+Me+ie]=te-ge,V[Pe+Me+ie]=re-ye,Me!==X&&(Ee=B*we-se*_e,_e=B*_e+se*we,we=Ee)}},x.prototype.guessLen13b=function(u,N){var q=Math.max(N,u)|1,V=q&1,K=0;for(q=q/2|0;q;q=q>>>1)K++;return 1<<K+1+V},x.prototype.conjugate=function(u,N,q){if(!(q<=1))for(var V=0;V<q/2;V++){var K=u[V];u[V]=u[q-V-1],u[q-V-1]=K,K=N[V],N[V]=-N[q-V-1],N[q-V-1]=-K}},x.prototype.normalize13b=function(u,N){for(var q=0,V=0;V<N/2;V++){var K=Math.round(u[2*V+1]/N)*8192+Math.round(u[2*V]/N)+q;u[V]=K&67108863,K<67108864?q=0:q=K/67108864|0}return u},x.prototype.convert13b=function(u,N,q,V){for(var K=0,j=0;j<N;j++)K=K+(u[j]|0),q[2*j]=K&8191,K=K>>>13,q[2*j+1]=K&8191,K=K>>>13;for(j=2*N;j<V;++j)q[j]=0;D(K===0),D((K&-8192)===0)},x.prototype.stub=function(u){for(var N=new Array(u),q=0;q<u;q++)N[q]=0;return N},x.prototype.mulp=function(u,N,q){var V=2*this.guessLen13b(u.length,N.length),K=this.makeRBT(V),j=this.stub(V),ie=new Array(V),X=new Array(V),B=new Array(V),se=new Array(V),Pe=new Array(V),we=new Array(V),_e=q.words;_e.length=V,this.convert13b(u.words,u.length,ie,V),this.convert13b(N.words,N.length,se,V),this.transform(ie,j,X,B,V,K),this.transform(se,j,Pe,we,V,K);for(var Me=0;Me<V;Me++){var te=X[Me]*Pe[Me]-B[Me]*we[Me];B[Me]=X[Me]*we[Me]+B[Me]*Pe[Me],X[Me]=te}return this.conjugate(X,B,V),this.transform(X,B,_e,j,V,K),this.conjugate(_e,j,V),this.normalize13b(_e,V),q.negative=u.negative^N.negative,q.length=u.length+N.length,q._strip()},h.prototype.mul=function(u){var N=new h(null);return N.words=new Array(this.length+u.length),this.mulTo(u,N)},h.prototype.mulf=function(u){var N=new h(null);return N.words=new Array(this.length+u.length),U(this,u,N)},h.prototype.imul=function(u){return this.clone().mulTo(u,this)},h.prototype.imuln=function(u){var N=u<0;N&&(u=-u),D(typeof u=="number"),D(u<67108864);for(var q=0,V=0;V<this.length;V++){var K=(this.words[V]|0)*u,j=(K&67108863)+(q&67108863);q>>=26,q+=K/67108864|0,q+=j>>>26,this.words[V]=j&67108863}return q!==0&&(this.words[V]=q,this.length++),N?this.ineg():this},h.prototype.muln=function(u){return this.clone().imuln(u)},h.prototype.sqr=function(){return this.mul(this)},h.prototype.isqr=function(){return this.imul(this.clone())},h.prototype.pow=function(u){var N=w(u);if(N.length===0)return new h(1);for(var q=this,V=0;V<N.length&&N[V]===0;V++,q=q.sqr());if(++V<N.length)for(var K=q.sqr();V<N.length;V++,K=K.sqr())N[V]!==0&&(q=q.mul(K));return q},h.prototype.iushln=function(u){D(typeof u=="number"&&u>=0);var N=u%26,q=(u-N)/26,V=67108863>>>26-N<<26-N,K;if(N!==0){var j=0;for(K=0;K<this.length;K++){var ie=this.words[K]&V,X=(this.words[K]|0)-ie<<N;this.words[K]=X|j,j=ie>>>26-N}j&&(this.words[K]=j,this.length++)}if(q!==0){for(K=this.length-1;K>=0;K--)this.words[K+q]=this.words[K];for(K=0;K<q;K++)this.words[K]=0;this.length+=q}return this._strip()},h.prototype.ishln=function(u){return D(this.negative===0),this.iushln(u)},h.prototype.iushrn=function(u,N,q){D(typeof u=="number"&&u>=0);var V;N?V=(N-N%26)/26:V=0;var K=u%26,j=Math.min((u-K)/26,this.length),ie=67108863^67108863>>>K<<K,X=q;if(V-=j,V=Math.max(0,V),X){for(var B=0;B<j;B++)X.words[B]=this.words[B];X.length=j}if(j!==0)if(this.length>j)for(this.length-=j,B=0;B<this.length;B++)this.words[B]=this.words[B+j];else this.words[0]=0,this.length=1;var se=0;for(B=this.length-1;B>=0&&(se!==0||B>=V);B--){var Pe=this.words[B]|0;this.words[B]=se<<26-K|Pe>>>K,se=Pe&ie}return X&&se!==0&&(X.words[X.length++]=se),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},h.prototype.ishrn=function(u,N,q){return D(this.negative===0),this.iushrn(u,N,q)},h.prototype.shln=function(u){return this.clone().ishln(u)},h.prototype.ushln=function(u){return this.clone().iushln(u)},h.prototype.shrn=function(u){return this.clone().ishrn(u)},h.prototype.ushrn=function(u){return this.clone().iushrn(u)},h.prototype.testn=function(u){D(typeof u=="number"&&u>=0);var N=u%26,q=(u-N)/26,V=1<<N;if(this.length<=q)return!1;var K=this.words[q];return!!(K&V)},h.prototype.imaskn=function(u){D(typeof u=="number"&&u>=0);var N=u%26,q=(u-N)/26;if(D(this.negative===0,"imaskn works only with positive numbers"),this.length<=q)return this;if(N!==0&&q++,this.length=Math.min(q,this.length),N!==0){var V=67108863^67108863>>>N<<N;this.words[this.length-1]&=V}return this._strip()},h.prototype.maskn=function(u){return this.clone().imaskn(u)},h.prototype.iaddn=function(u){return D(typeof u=="number"),D(u<67108864),u<0?this.isubn(-u):this.negative!==0?this.length===1&&(this.words[0]|0)<=u?(this.words[0]=u-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(u),this.negative=1,this):this._iaddn(u)},h.prototype._iaddn=function(u){this.words[0]+=u;for(var N=0;N<this.length&&this.words[N]>=67108864;N++)this.words[N]-=67108864,N===this.length-1?this.words[N+1]=1:this.words[N+1]++;return this.length=Math.max(this.length,N+1),this},h.prototype.isubn=function(u){if(D(typeof u=="number"),D(u<67108864),u<0)return this.iaddn(-u);if(this.negative!==0)return this.negative=0,this.iaddn(u),this.negative=1,this;if(this.words[0]-=u,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var N=0;N<this.length&&this.words[N]<0;N++)this.words[N]+=67108864,this.words[N+1]-=1;return this._strip()},h.prototype.addn=function(u){return this.clone().iaddn(u)},h.prototype.subn=function(u){return this.clone().isubn(u)},h.prototype.iabs=function(){return this.negative=0,this},h.prototype.abs=function(){return this.clone().iabs()},h.prototype._ishlnsubmul=function(u,N,q){var V=u.length+q,K;this._expand(V);var j,ie=0;for(K=0;K<u.length;K++){j=(this.words[K+q]|0)+ie;var X=(u.words[K]|0)*N;j-=X&67108863,ie=(j>>26)-(X/67108864|0),this.words[K+q]=j&67108863}for(;K<this.length-q;K++)j=(this.words[K+q]|0)+ie,ie=j>>26,this.words[K+q]=j&67108863;if(ie===0)return this._strip();for(D(ie===-1),ie=0,K=0;K<this.length;K++)j=-(this.words[K]|0)+ie,ie=j>>26,this.words[K]=j&67108863;return this.negative=1,this._strip()},h.prototype._wordDiv=function(u,N){var q=this.length-u.length,V=this.clone(),K=u,j=K.words[K.length-1]|0,ie=this._countBits(j);q=26-ie,q!==0&&(K=K.ushln(q),V.iushln(q),j=K.words[K.length-1]|0);var X=V.length-K.length,B;if(N!=="mod"){B=new h(null),B.length=X+1,B.words=new Array(B.length);for(var se=0;se<B.length;se++)B.words[se]=0}var Pe=V.clone()._ishlnsubmul(K,1,X);Pe.negative===0&&(V=Pe,B&&(B.words[X]=1));for(var we=X-1;we>=0;we--){var _e=(V.words[K.length+we]|0)*67108864+(V.words[K.length+we-1]|0);for(_e=Math.min(_e/j|0,67108863),V._ishlnsubmul(K,_e,we);V.negative!==0;)_e--,V.negative=0,V._ishlnsubmul(K,1,we),V.isZero()||(V.negative^=1);B&&(B.words[we]=_e)}return B&&B._strip(),V._strip(),N!=="div"&&q!==0&&V.iushrn(q),{div:B||null,mod:V}},h.prototype.divmod=function(u,N,q){if(D(!u.isZero()),this.isZero())return{div:new h(0),mod:new h(0)};var V,K,j;return this.negative!==0&&u.negative===0?(j=this.neg().divmod(u,N),N!=="mod"&&(V=j.div.neg()),N!=="div"&&(K=j.mod.neg(),q&&K.negative!==0&&K.iadd(u)),{div:V,mod:K}):this.negative===0&&u.negative!==0?(j=this.divmod(u.neg(),N),N!=="mod"&&(V=j.div.neg()),{div:V,mod:j.mod}):this.negative&u.negative?(j=this.neg().divmod(u.neg(),N),N!=="div"&&(K=j.mod.neg(),q&&K.negative!==0&&K.isub(u)),{div:j.div,mod:K}):u.length>this.length||this.cmp(u)<0?{div:new h(0),mod:this}:u.length===1?N==="div"?{div:this.divn(u.words[0]),mod:null}:N==="mod"?{div:null,mod:new h(this.modrn(u.words[0]))}:{div:this.divn(u.words[0]),mod:new h(this.modrn(u.words[0]))}:this._wordDiv(u,N)},h.prototype.div=function(u){return this.divmod(u,"div",!1).div},h.prototype.mod=function(u){return this.divmod(u,"mod",!1).mod},h.prototype.umod=function(u){return this.divmod(u,"mod",!0).mod},h.prototype.divRound=function(u){var N=this.divmod(u);if(N.mod.isZero())return N.div;var q=N.div.negative!==0?N.mod.isub(u):N.mod,V=u.ushrn(1),K=u.andln(1),j=q.cmp(V);return j<0||K===1&&j===0?N.div:N.div.negative!==0?N.div.isubn(1):N.div.iaddn(1)},h.prototype.modrn=function(u){var N=u<0;N&&(u=-u),D(u<=67108863);for(var q=(1<<26)%u,V=0,K=this.length-1;K>=0;K--)V=(q*V+(this.words[K]|0))%u;return N?-V:V},h.prototype.modn=function(u){return this.modrn(u)},h.prototype.idivn=function(u){var N=u<0;N&&(u=-u),D(u<=67108863);for(var q=0,V=this.length-1;V>=0;V--){var K=(this.words[V]|0)+q*67108864;this.words[V]=K/u|0,q=K%u}return this._strip(),N?this.ineg():this},h.prototype.divn=function(u){return this.clone().idivn(u)},h.prototype.egcd=function(u){D(u.negative===0),D(!u.isZero());var N=this,q=u.clone();N.negative!==0?N=N.umod(u):N=N.clone();for(var V=new h(1),K=new h(0),j=new h(0),ie=new h(1),X=0;N.isEven()&&q.isEven();)N.iushrn(1),q.iushrn(1),++X;for(var B=q.clone(),se=N.clone();!N.isZero();){for(var Pe=0,we=1;!(N.words[0]&we)&&Pe<26;++Pe,we<<=1);if(Pe>0)for(N.iushrn(Pe);Pe-- >0;)(V.isOdd()||K.isOdd())&&(V.iadd(B),K.isub(se)),V.iushrn(1),K.iushrn(1);for(var _e=0,Me=1;!(q.words[0]&Me)&&_e<26;++_e,Me<<=1);if(_e>0)for(q.iushrn(_e);_e-- >0;)(j.isOdd()||ie.isOdd())&&(j.iadd(B),ie.isub(se)),j.iushrn(1),ie.iushrn(1);N.cmp(q)>=0?(N.isub(q),V.isub(j),K.isub(ie)):(q.isub(N),j.isub(V),ie.isub(K))}return{a:j,b:ie,gcd:q.iushln(X)}},h.prototype._invmp=function(u){D(u.negative===0),D(!u.isZero());var N=this,q=u.clone();N.negative!==0?N=N.umod(u):N=N.clone();for(var V=new h(1),K=new h(0),j=q.clone();N.cmpn(1)>0&&q.cmpn(1)>0;){for(var ie=0,X=1;!(N.words[0]&X)&&ie<26;++ie,X<<=1);if(ie>0)for(N.iushrn(ie);ie-- >0;)V.isOdd()&&V.iadd(j),V.iushrn(1);for(var B=0,se=1;!(q.words[0]&se)&&B<26;++B,se<<=1);if(B>0)for(q.iushrn(B);B-- >0;)K.isOdd()&&K.iadd(j),K.iushrn(1);N.cmp(q)>=0?(N.isub(q),V.isub(K)):(q.isub(N),K.isub(V))}var Pe;return N.cmpn(1)===0?Pe=V:Pe=K,Pe.cmpn(0)<0&&Pe.iadd(u),Pe},h.prototype.gcd=function(u){if(this.isZero())return u.abs();if(u.isZero())return this.abs();var N=this.clone(),q=u.clone();N.negative=0,q.negative=0;for(var V=0;N.isEven()&&q.isEven();V++)N.iushrn(1),q.iushrn(1);do{for(;N.isEven();)N.iushrn(1);for(;q.isEven();)q.iushrn(1);var K=N.cmp(q);if(K<0){var j=N;N=q,q=j}else if(K===0||q.cmpn(1)===0)break;N.isub(q)}while(!0);return q.iushln(V)},h.prototype.invm=function(u){return this.egcd(u).a.umod(u)},h.prototype.isEven=function(){return(this.words[0]&1)===0},h.prototype.isOdd=function(){return(this.words[0]&1)===1},h.prototype.andln=function(u){return this.words[0]&u},h.prototype.bincn=function(u){D(typeof u=="number");var N=u%26,q=(u-N)/26,V=1<<N;if(this.length<=q)return this._expand(q+1),this.words[q]|=V,this;for(var K=V,j=q;K!==0&&j<this.length;j++){var ie=this.words[j]|0;ie+=K,K=ie>>>26,ie&=67108863,this.words[j]=ie}return K!==0&&(this.words[j]=K,this.length++),this},h.prototype.isZero=function(){return this.length===1&&this.words[0]===0},h.prototype.cmpn=function(u){var N=u<0;if(this.negative!==0&&!N)return-1;if(this.negative===0&&N)return 1;this._strip();var q;if(this.length>1)q=1;else{N&&(u=-u),D(u<=67108863,"Number is too big");var V=this.words[0]|0;q=V===u?0:V<u?-1:1}return this.negative!==0?-q|0:q},h.prototype.cmp=function(u){if(this.negative!==0&&u.negative===0)return-1;if(this.negative===0&&u.negative!==0)return 1;var N=this.ucmp(u);return this.negative!==0?-N|0:N},h.prototype.ucmp=function(u){if(this.length>u.length)return 1;if(this.length<u.length)return-1;for(var N=0,q=this.length-1;q>=0;q--){var V=this.words[q]|0,K=u.words[q]|0;if(V!==K){V<K?N=-1:V>K&&(N=1);break}}return N},h.prototype.gtn=function(u){return this.cmpn(u)===1},h.prototype.gt=function(u){return this.cmp(u)===1},h.prototype.gten=function(u){return this.cmpn(u)>=0},h.prototype.gte=function(u){return this.cmp(u)>=0},h.prototype.ltn=function(u){return this.cmpn(u)===-1},h.prototype.lt=function(u){return this.cmp(u)===-1},h.prototype.lten=function(u){return this.cmpn(u)<=0},h.prototype.lte=function(u){return this.cmp(u)<=0},h.prototype.eqn=function(u){return this.cmpn(u)===0},h.prototype.eq=function(u){return this.cmp(u)===0},h.red=function(u){return new O(u)},h.prototype.toRed=function(u){return D(!this.red,"Already a number in reduction context"),D(this.negative===0,"red works only with positives"),u.convertTo(this)._forceRed(u)},h.prototype.fromRed=function(){return D(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},h.prototype._forceRed=function(u){return this.red=u,this},h.prototype.forceRed=function(u){return D(!this.red,"Already a number in reduction context"),this._forceRed(u)},h.prototype.redAdd=function(u){return D(this.red,"redAdd works only with red numbers"),this.red.add(this,u)},h.prototype.redIAdd=function(u){return D(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,u)},h.prototype.redSub=function(u){return D(this.red,"redSub works only with red numbers"),this.red.sub(this,u)},h.prototype.redISub=function(u){return D(this.red,"redISub works only with red numbers"),this.red.isub(this,u)},h.prototype.redShl=function(u){return D(this.red,"redShl works only with red numbers"),this.red.shl(this,u)},h.prototype.redMul=function(u){return D(this.red,"redMul works only with red numbers"),this.red._verify2(this,u),this.red.mul(this,u)},h.prototype.redIMul=function(u){return D(this.red,"redMul works only with red numbers"),this.red._verify2(this,u),this.red.imul(this,u)},h.prototype.redSqr=function(){return D(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},h.prototype.redISqr=function(){return D(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},h.prototype.redSqrt=function(){return D(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},h.prototype.redInvm=function(){return D(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},h.prototype.redNeg=function(){return D(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},h.prototype.redPow=function(u){return D(this.red&&!u.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,u)};var y={k256:null,p224:null,p192:null,p25519:null};function W(I,u){this.name=I,this.p=new h(u,16),this.n=this.p.bitLength(),this.k=new h(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}W.prototype._tmp=function(){var u=new h(null);return u.words=new Array(Math.ceil(this.n/13)),u},W.prototype.ireduce=function(u){var N=u,q;do this.split(N,this.tmp),N=this.imulK(N),N=N.iadd(this.tmp),q=N.bitLength();while(q>this.n);var V=q<this.n?-1:N.ucmp(this.p);return V===0?(N.words[0]=0,N.length=1):V>0?N.isub(this.p):N.strip!==void 0?N.strip():N._strip(),N},W.prototype.split=function(u,N){u.iushrn(this.n,0,N)},W.prototype.imulK=function(u){return u.imul(this.k)};function Q(){W.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}A(Q,W),Q.prototype.split=function(u,N){for(var q=4194303,V=Math.min(u.length,9),K=0;K<V;K++)N.words[K]=u.words[K];if(N.length=V,u.length<=9){u.words[0]=0,u.length=1;return}var j=u.words[9];for(N.words[N.length++]=j&q,K=10;K<u.length;K++){var ie=u.words[K]|0;u.words[K-10]=(ie&q)<<4|j>>>22,j=ie}j>>>=22,u.words[K-10]=j,j===0&&u.length>10?u.length-=10:u.length-=9},Q.prototype.imulK=function(u){u.words[u.length]=0,u.words[u.length+1]=0,u.length+=2;for(var N=0,q=0;q<u.length;q++){var V=u.words[q]|0;N+=V*977,u.words[q]=N&67108863,N=V*64+(N/67108864|0)}return u.words[u.length-1]===0&&(u.length--,u.words[u.length-1]===0&&u.length--),u};function Z(){W.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}A(Z,W);function ee(){W.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}A(ee,W);function J(){W.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}A(J,W),J.prototype.imulK=function(u){for(var N=0,q=0;q<u.length;q++){var V=(u.words[q]|0)*19+N,K=V&67108863;V>>>=26,u.words[q]=K,N=V}return N!==0&&(u.words[u.length++]=N),u},h._prime=function(u){if(y[u])return y[u];var N;if(u==="k256")N=new Q;else if(u==="p224")N=new Z;else if(u==="p192")N=new ee;else if(u==="p25519")N=new J;else throw new Error("Unknown prime "+u);return y[u]=N,N};function O(I){if(typeof I=="string"){var u=h._prime(I);this.m=u.p,this.prime=u}else D(I.gtn(1),"modulus must be greater than 1"),this.m=I,this.prime=null}O.prototype._verify1=function(u){D(u.negative===0,"red works only with positives"),D(u.red,"red works only with red numbers")},O.prototype._verify2=function(u,N){D((u.negative|N.negative)===0,"red works only with positives"),D(u.red&&u.red===N.red,"red works only with red numbers")},O.prototype.imod=function(u){return this.prime?this.prime.ireduce(u)._forceRed(this):(b(u,u.umod(this.m)._forceRed(this)),u)},O.prototype.neg=function(u){return u.isZero()?u.clone():this.m.sub(u)._forceRed(this)},O.prototype.add=function(u,N){this._verify2(u,N);var q=u.add(N);return q.cmp(this.m)>=0&&q.isub(this.m),q._forceRed(this)},O.prototype.iadd=function(u,N){this._verify2(u,N);var q=u.iadd(N);return q.cmp(this.m)>=0&&q.isub(this.m),q},O.prototype.sub=function(u,N){this._verify2(u,N);var q=u.sub(N);return q.cmpn(0)<0&&q.iadd(this.m),q._forceRed(this)},O.prototype.isub=function(u,N){this._verify2(u,N);var q=u.isub(N);return q.cmpn(0)<0&&q.iadd(this.m),q},O.prototype.shl=function(u,N){return this._verify1(u),this.imod(u.ushln(N))},O.prototype.imul=function(u,N){return this._verify2(u,N),this.imod(u.imul(N))},O.prototype.mul=function(u,N){return this._verify2(u,N),this.imod(u.mul(N))},O.prototype.isqr=function(u){return this.imul(u,u.clone())},O.prototype.sqr=function(u){return this.mul(u,u)},O.prototype.sqrt=function(u){if(u.isZero())return u.clone();var N=this.m.andln(3);if(D(N%2===1),N===3){var q=this.m.add(new h(1)).iushrn(2);return this.pow(u,q)}for(var V=this.m.subn(1),K=0;!V.isZero()&&V.andln(1)===0;)K++,V.iushrn(1);D(!V.isZero());var j=new h(1).toRed(this),ie=j.redNeg(),X=this.m.subn(1).iushrn(1),B=this.m.bitLength();for(B=new h(2*B*B).toRed(this);this.pow(B,X).cmp(ie)!==0;)B.redIAdd(ie);for(var se=this.pow(B,V),Pe=this.pow(u,V.addn(1).iushrn(1)),we=this.pow(u,V),_e=K;we.cmp(j)!==0;){for(var Me=we,te=0;Me.cmp(j)!==0;te++)Me=Me.redSqr();D(te<_e);var re=this.pow(se,new h(1).iushln(_e-te-1));Pe=Pe.redMul(re),se=re.redSqr(),we=we.redMul(se),_e=te}return Pe},O.prototype.invm=function(u){var N=u._invmp(this.m);return N.negative!==0?(N.negative=0,this.imod(N).redNeg()):this.imod(N)},O.prototype.pow=function(u,N){if(N.isZero())return new h(1).toRed(this);if(N.cmpn(1)===0)return u.clone();var q=4,V=new Array(1<<q);V[0]=new h(1).toRed(this),V[1]=u;for(var K=2;K<V.length;K++)V[K]=this.mul(V[K-1],u);var j=V[0],ie=0,X=0,B=N.bitLength()%26;for(B===0&&(B=26),K=N.length-1;K>=0;K--){for(var se=N.words[K],Pe=B-1;Pe>=0;Pe--){var we=se>>Pe&1;if(j!==V[0]&&(j=this.sqr(j)),we===0&&ie===0){X=0;continue}ie<<=1,ie|=we,X++,!(X!==q&&(K!==0||Pe!==0))&&(j=this.mul(j,V[ie]),X=0,ie=0)}B=26}return j},O.prototype.convertTo=function(u){var N=u.umod(this.m);return N===u?N.clone():N},O.prototype.convertFrom=function(u){var N=u.clone();return N.red=null,N},h.mont=function(u){return new H(u)};function H(I){O.call(this,I),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new h(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}A(H,O),H.prototype.convertTo=function(u){return this.imod(u.ushln(this.shift))},H.prototype.convertFrom=function(u){var N=this.imod(u.mul(this.rinv));return N.red=null,N},H.prototype.imul=function(u,N){if(u.isZero()||N.isZero())return u.words[0]=0,u.length=1,u;var q=u.imul(N),V=q.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),K=q.isub(V).iushrn(this.shift),j=K;return K.cmp(this.m)>=0?j=K.isub(this.m):K.cmpn(0)<0&&(j=K.iadd(this.m)),j._forceRed(this)},H.prototype.mul=function(u,N){if(u.isZero()||N.isZero())return new h(0)._forceRed(this);var q=u.mul(N),V=q.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),K=q.isub(V).iushrn(this.shift),j=K;return K.cmp(this.m)>=0?j=K.isub(this.m):K.cmpn(0)<0&&(j=K.iadd(this.m)),j._forceRed(this)},H.prototype.invm=function(u){var N=this.imod(u._invmp(this.m).mul(this.r2));return N._forceRed(this)}}(s,this)},2686:s=>{"use strict";function G(m,g){m.prototype=Object.create(g.prototype),m.prototype.constructor=m,m.__proto__=g}var F={};function P(m,g,p){p||(p=Error);function k(l,E,c){return typeof g=="string"?g:g(l,E,c)}var b=function(l){G(E,l);function E(c,v,f){return l.call(this,k(c,v,f))||this}return E}(p);b.prototype.name=p.name,b.prototype.code=m,F[m]=b}function L(m,g){if(Array.isArray(m)){var p=m.length;return m=m.map(function(k){return String(k)}),p>2?"one of ".concat(g," ").concat(m.slice(0,p-1).join(", "),", or ")+m[p-1]:p===2?"one of ".concat(g," ").concat(m[0]," or ").concat(m[1]):"of ".concat(g," ").concat(m[0])}else return"of ".concat(g," ").concat(String(m))}function D(m,g,p){return m.substr(!p||p<0?0:+p,g.length)===g}function A(m,g,p){return(p===void 0||p>m.length)&&(p=m.length),m.substring(p-g.length,p)===g}function h(m,g,p){return typeof p!="number"&&(p=0),p+g.length>m.length?!1:m.indexOf(g,p)!==-1}P("ERR_INVALID_OPT_VALUE",function(m,g){return'The value "'+g+'" is invalid for option "'+m+'"'},TypeError),P("ERR_INVALID_ARG_TYPE",function(m,g,p){var k;typeof g=="string"&&D(g,"not ")?(k="must not be",g=g.replace(/^not /,"")):k="must be";var b;if(A(m," argument"))b="The ".concat(m," ").concat(k," ").concat(L(g,"type"));else{var l=h(m,".")?"property":"argument";b='The "'.concat(m,'" ').concat(l," ").concat(k," ").concat(L(g,"type"))}return b+=". Received type ".concat(typeof p),b},TypeError),P("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),P("ERR_METHOD_NOT_IMPLEMENTED",function(m){return"The "+m+" method is not implemented"}),P("ERR_STREAM_PREMATURE_CLOSE","Premature close"),P("ERR_STREAM_DESTROYED",function(m){return"Cannot call "+m+" after a stream was destroyed"}),P("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),P("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),P("ERR_STREAM_WRITE_AFTER_END","write after end"),P("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),P("ERR_UNKNOWN_ENCODING",function(m){return"Unknown encoding: "+m},TypeError),P("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),s.exports.F=F},26248:(s,G,F)=>{"use strict";var P=F(65606),L=Object.keys||function(l){var E=[];for(var c in l)E.push(c);return E};s.exports=p;var D=F(30206),A=F(7314);F(56698)(p,D);for(var h=L(A.prototype),m=0;m<h.length;m++){var g=h[m];p.prototype[g]||(p.prototype[g]=A.prototype[g])}function p(l){if(!(this instanceof p))return new p(l);D.call(this,l),A.call(this,l),this.allowHalfOpen=!0,l&&(l.readable===!1&&(this.readable=!1),l.writable===!1&&(this.writable=!1),l.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",k)))}Object.defineProperty(p.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(p.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(p.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function k(){this._writableState.ended||P.nextTick(b,this)}function b(l){l.end()}Object.defineProperty(p.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(E){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=E,this._writableState.destroyed=E)}})},75242:(s,G,F)=>{"use strict";s.exports=L;var P=F(81816);F(56698)(L,P);function L(D){if(!(this instanceof L))return new L(D);P.call(this,D)}L.prototype._transform=function(D,A,h){h(null,D)}},30206:(s,G,F)=>{"use strict";var P=F(65606);s.exports=O;var L;O.ReadableState=J;var D=F(37007).EventEmitter,A=function(T,oe){return T.listeners(oe).length},h=F(5567),m=F(48287).Buffer,g=(typeof F.g!="undefined"?F.g:typeof window!="undefined"?window:typeof self!="undefined"?self:{}).Uint8Array||function(){};function p(z){return m.from(z)}function k(z){return m.isBuffer(z)||z instanceof g}var b=F(92668),l;b&&b.debuglog?l=b.debuglog("stream"):l=function(){};var E=F(72851),c=F(36278),v=F(57385),f=v.getHighWaterMark,w=F(2686).F,_=w.ERR_INVALID_ARG_TYPE,R=w.ERR_STREAM_PUSH_AFTER_EOF,M=w.ERR_METHOD_NOT_IMPLEMENTED,U=w.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,x,y,W;F(56698)(O,h);var Q=c.errorOrDestroy,Z=["error","close","destroy","pause","resume"];function ee(z,T,oe){if(typeof z.prependListener=="function")return z.prependListener(T,oe);!z._events||!z._events[T]?z.on(T,oe):Array.isArray(z._events[T])?z._events[T].unshift(oe):z._events[T]=[oe,z._events[T]]}function J(z,T,oe){L=L||F(26248),z=z||{},typeof oe!="boolean"&&(oe=T instanceof L),this.objectMode=!!z.objectMode,oe&&(this.objectMode=this.objectMode||!!z.readableObjectMode),this.highWaterMark=f(this,z,"readableHighWaterMark",oe),this.buffer=new E,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=z.emitClose!==!1,this.autoDestroy=!!z.autoDestroy,this.destroyed=!1,this.defaultEncoding=z.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,z.encoding&&(x||(x=F(83141).I),this.decoder=new x(z.encoding),this.encoding=z.encoding)}function O(z){if(L=L||F(26248),!(this instanceof O))return new O(z);var T=this instanceof L;this._readableState=new J(z,this,T),this.readable=!0,z&&(typeof z.read=="function"&&(this._read=z.read),typeof z.destroy=="function"&&(this._destroy=z.destroy)),h.call(this)}Object.defineProperty(O.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(T){this._readableState&&(this._readableState.destroyed=T)}}),O.prototype.destroy=c.destroy,O.prototype._undestroy=c.undestroy,O.prototype._destroy=function(z,T){T(z)},O.prototype.push=function(z,T){var oe=this._readableState,fe;return oe.objectMode?fe=!0:typeof z=="string"&&(T=T||oe.defaultEncoding,T!==oe.encoding&&(z=m.from(z,T),T=""),fe=!0),H(this,z,T,!1,fe)},O.prototype.unshift=function(z){return H(this,z,null,!0,!1)};function H(z,T,oe,fe,de){l("readableAddChunk",T);var ue=z._readableState;if(T===null)ue.reading=!1,K(z,ue);else{var ve;if(de||(ve=u(ue,T)),ve)Q(z,ve);else if(ue.objectMode||T&&T.length>0)if(typeof T!="string"&&!ue.objectMode&&Object.getPrototypeOf(T)!==m.prototype&&(T=p(T)),fe)ue.endEmitted?Q(z,new U):I(z,ue,T,!0);else if(ue.ended)Q(z,new R);else{if(ue.destroyed)return!1;ue.reading=!1,ue.decoder&&!oe?(T=ue.decoder.write(T),ue.objectMode||T.length!==0?I(z,ue,T,!1):X(z,ue)):I(z,ue,T,!1)}else fe||(ue.reading=!1,X(z,ue))}return!ue.ended&&(ue.length<ue.highWaterMark||ue.length===0)}function I(z,T,oe,fe){T.flowing&&T.length===0&&!T.sync?(T.awaitDrain=0,z.emit("data",oe)):(T.length+=T.objectMode?1:oe.length,fe?T.buffer.unshift(oe):T.buffer.push(oe),T.needReadable&&j(z)),X(z,T)}function u(z,T){var oe;return!k(T)&&typeof T!="string"&&T!==void 0&&!z.objectMode&&(oe=new _("chunk",["string","Buffer","Uint8Array"],T)),oe}O.prototype.isPaused=function(){return this._readableState.flowing===!1},O.prototype.setEncoding=function(z){x||(x=F(83141).I);var T=new x(z);this._readableState.decoder=T,this._readableState.encoding=this._readableState.decoder.encoding;for(var oe=this._readableState.buffer.head,fe="";oe!==null;)fe+=T.write(oe.data),oe=oe.next;return this._readableState.buffer.clear(),fe!==""&&this._readableState.buffer.push(fe),this._readableState.length=fe.length,this};var N=1073741824;function q(z){return z>=N?z=N:(z--,z|=z>>>1,z|=z>>>2,z|=z>>>4,z|=z>>>8,z|=z>>>16,z++),z}function V(z,T){return z<=0||T.length===0&&T.ended?0:T.objectMode?1:z!==z?T.flowing&&T.length?T.buffer.head.data.length:T.length:(z>T.highWaterMark&&(T.highWaterMark=q(z)),z<=T.length?z:T.ended?T.length:(T.needReadable=!0,0))}O.prototype.read=function(z){l("read",z),z=parseInt(z,10);var T=this._readableState,oe=z;if(z!==0&&(T.emittedReadable=!1),z===0&&T.needReadable&&((T.highWaterMark!==0?T.length>=T.highWaterMark:T.length>0)||T.ended))return l("read: emitReadable",T.length,T.ended),T.length===0&&T.ended?ge(this):j(this),null;if(z=V(z,T),z===0&&T.ended)return T.length===0&&ge(this),null;var fe=T.needReadable;l("need readable",fe),(T.length===0||T.length-z<T.highWaterMark)&&(fe=!0,l("length less than watermark",fe)),T.ended||T.reading?(fe=!1,l("reading or ended",fe)):fe&&(l("do read"),T.reading=!0,T.sync=!0,T.length===0&&(T.needReadable=!0),this._read(T.highWaterMark),T.sync=!1,T.reading||(z=V(oe,T)));var de;return z>0?de=re(z,T):de=null,de===null?(T.needReadable=T.length<=T.highWaterMark,z=0):(T.length-=z,T.awaitDrain=0),T.length===0&&(T.ended||(T.needReadable=!0),oe!==z&&T.ended&&ge(this)),de!==null&&this.emit("data",de),de};function K(z,T){if(l("onEofChunk"),!T.ended){if(T.decoder){var oe=T.decoder.end();oe&&oe.length&&(T.buffer.push(oe),T.length+=T.objectMode?1:oe.length)}T.ended=!0,T.sync?j(z):(T.needReadable=!1,T.emittedReadable||(T.emittedReadable=!0,ie(z)))}}function j(z){var T=z._readableState;l("emitReadable",T.needReadable,T.emittedReadable),T.needReadable=!1,T.emittedReadable||(l("emitReadable",T.flowing),T.emittedReadable=!0,P.nextTick(ie,z))}function ie(z){var T=z._readableState;l("emitReadable_",T.destroyed,T.length,T.ended),!T.destroyed&&(T.length||T.ended)&&(z.emit("readable"),T.emittedReadable=!1),T.needReadable=!T.flowing&&!T.ended&&T.length<=T.highWaterMark,te(z)}function X(z,T){T.readingMore||(T.readingMore=!0,P.nextTick(B,z,T))}function B(z,T){for(;!T.reading&&!T.ended&&(T.length<T.highWaterMark||T.flowing&&T.length===0);){var oe=T.length;if(l("maybeReadMore read 0"),z.read(0),oe===T.length)break}T.readingMore=!1}O.prototype._read=function(z){Q(this,new M("_read()"))},O.prototype.pipe=function(z,T){var oe=this,fe=this._readableState;switch(fe.pipesCount){case 0:fe.pipes=z;break;case 1:fe.pipes=[fe.pipes,z];break;default:fe.pipes.push(z);break}fe.pipesCount+=1,l("pipe count=%d opts=%j",fe.pipesCount,T);var de=(!T||T.end!==!1)&&z!==P.stdout&&z!==P.stderr,ue=de?Fe:ce;fe.endEmitted?P.nextTick(ue):oe.once("end",ue),z.on("unpipe",ve);function ve(Re,xe){l("onunpipe"),Re===oe&&xe&&xe.hasUnpiped===!1&&(xe.hasUnpiped=!0,qe())}function Fe(){l("onend"),z.end()}var Oe=se(oe);z.on("drain",Oe);var $e=!1;function qe(){l("cleanup"),z.removeListener("close",me),z.removeListener("finish",ae),z.removeListener("drain",Oe),z.removeListener("error",Je),z.removeListener("unpipe",ve),oe.removeListener("end",Fe),oe.removeListener("end",ce),oe.removeListener("data",Ve),$e=!0,fe.awaitDrain&&(!z._writableState||z._writableState.needDrain)&&Oe()}oe.on("data",Ve);function Ve(Re){l("ondata");var xe=z.write(Re);l("dest.write",xe),xe===!1&&((fe.pipesCount===1&&fe.pipes===z||fe.pipesCount>1&&Ee(fe.pipes,z)!==-1)&&!$e&&(l("false write response, pause",fe.awaitDrain),fe.awaitDrain++),oe.pause())}function Je(Re){l("onerror",Re),ce(),z.removeListener("error",Je),A(z,"error")===0&&Q(z,Re)}ee(z,"error",Je);function me(){z.removeListener("finish",ae),ce()}z.once("close",me);function ae(){l("onfinish"),z.removeListener("close",me),ce()}z.once("finish",ae);function ce(){l("unpipe"),oe.unpipe(z)}return z.emit("pipe",oe),fe.flowing||(l("pipe resume"),oe.resume()),z};function se(z){return function(){var oe=z._readableState;l("pipeOnDrain",oe.awaitDrain),oe.awaitDrain&&oe.awaitDrain--,oe.awaitDrain===0&&A(z,"data")&&(oe.flowing=!0,te(z))}}O.prototype.unpipe=function(z){var T=this._readableState,oe={hasUnpiped:!1};if(T.pipesCount===0)return this;if(T.pipesCount===1)return z&&z!==T.pipes?this:(z||(z=T.pipes),T.pipes=null,T.pipesCount=0,T.flowing=!1,z&&z.emit("unpipe",this,oe),this);if(!z){var fe=T.pipes,de=T.pipesCount;T.pipes=null,T.pipesCount=0,T.flowing=!1;for(var ue=0;ue<de;ue++)fe[ue].emit("unpipe",this,{hasUnpiped:!1});return this}var ve=Ee(T.pipes,z);return ve===-1?this:(T.pipes.splice(ve,1),T.pipesCount-=1,T.pipesCount===1&&(T.pipes=T.pipes[0]),z.emit("unpipe",this,oe),this)},O.prototype.on=function(z,T){var oe=h.prototype.on.call(this,z,T),fe=this._readableState;return z==="data"?(fe.readableListening=this.listenerCount("readable")>0,fe.flowing!==!1&&this.resume()):z==="readable"&&!fe.endEmitted&&!fe.readableListening&&(fe.readableListening=fe.needReadable=!0,fe.flowing=!1,fe.emittedReadable=!1,l("on readable",fe.length,fe.reading),fe.length?j(this):fe.reading||P.nextTick(we,this)),oe},O.prototype.addListener=O.prototype.on,O.prototype.removeListener=function(z,T){var oe=h.prototype.removeListener.call(this,z,T);return z==="readable"&&P.nextTick(Pe,this),oe},O.prototype.removeAllListeners=function(z){var T=h.prototype.removeAllListeners.apply(this,arguments);return(z==="readable"||z===void 0)&&P.nextTick(Pe,this),T};function Pe(z){var T=z._readableState;T.readableListening=z.listenerCount("readable")>0,T.resumeScheduled&&!T.paused?T.flowing=!0:z.listenerCount("data")>0&&z.resume()}function we(z){l("readable nexttick read 0"),z.read(0)}O.prototype.resume=function(){var z=this._readableState;return z.flowing||(l("resume"),z.flowing=!z.readableListening,_e(this,z)),z.paused=!1,this};function _e(z,T){T.resumeScheduled||(T.resumeScheduled=!0,P.nextTick(Me,z,T))}function Me(z,T){l("resume",T.reading),T.reading||z.read(0),T.resumeScheduled=!1,z.emit("resume"),te(z),T.flowing&&!T.reading&&z.read(0)}O.prototype.pause=function(){return l("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(l("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function te(z){var T=z._readableState;for(l("flow",T.flowing);T.flowing&&z.read()!==null;);}O.prototype.wrap=function(z){var T=this,oe=this._readableState,fe=!1;z.on("end",function(){if(l("wrapped end"),oe.decoder&&!oe.ended){var ve=oe.decoder.end();ve&&ve.length&&T.push(ve)}T.push(null)}),z.on("data",function(ve){if(l("wrapped data"),oe.decoder&&(ve=oe.decoder.write(ve)),!(oe.objectMode&&ve==null)&&!(!oe.objectMode&&(!ve||!ve.length))){var Fe=T.push(ve);Fe||(fe=!0,z.pause())}});for(var de in z)this[de]===void 0&&typeof z[de]=="function"&&(this[de]=function(Fe){return function(){return z[Fe].apply(z,arguments)}}(de));for(var ue=0;ue<Z.length;ue++)z.on(Z[ue],this.emit.bind(this,Z[ue]));return this._read=function(ve){l("wrapped _read",ve),fe&&(fe=!1,z.resume())},this},typeof Symbol=="function"&&(O.prototype[Symbol.asyncIterator]=function(){return y===void 0&&(y=F(72485)),y(this)}),Object.defineProperty(O.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(O.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(O.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(T){this._readableState&&(this._readableState.flowing=T)}}),O._fromList=re,Object.defineProperty(O.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function re(z,T){if(T.length===0)return null;var oe;return T.objectMode?oe=T.buffer.shift():!z||z>=T.length?(T.decoder?oe=T.buffer.join(""):T.buffer.length===1?oe=T.buffer.first():oe=T.buffer.concat(T.length),T.buffer.clear()):oe=T.buffer.consume(z,T.decoder),oe}function ge(z){var T=z._readableState;l("endReadable",T.endEmitted),T.endEmitted||(T.ended=!0,P.nextTick(ye,T,z))}function ye(z,T){if(l("endReadableNT",z.endEmitted,z.length),!z.endEmitted&&z.length===0&&(z.endEmitted=!0,T.readable=!1,T.emit("end"),z.autoDestroy)){var oe=T._writableState;(!oe||oe.autoDestroy&&oe.finished)&&T.destroy()}}typeof Symbol=="function"&&(O.from=function(z,T){return W===void 0&&(W=F(28591)),W(O,z,T)});function Ee(z,T){for(var oe=0,fe=z.length;oe<fe;oe++)if(z[oe]===T)return oe;return-1}},81816:(s,G,F)=>{"use strict";s.exports=p;var P=F(2686).F,L=P.ERR_METHOD_NOT_IMPLEMENTED,D=P.ERR_MULTIPLE_CALLBACK,A=P.ERR_TRANSFORM_ALREADY_TRANSFORMING,h=P.ERR_TRANSFORM_WITH_LENGTH_0,m=F(26248);F(56698)(p,m);function g(l,E){var c=this._transformState;c.transforming=!1;var v=c.writecb;if(v===null)return this.emit("error",new D);c.writechunk=null,c.writecb=null,E!=null&&this.push(E),v(l);var f=this._readableState;f.reading=!1,(f.needReadable||f.length<f.highWaterMark)&&this._read(f.highWaterMark)}function p(l){if(!(this instanceof p))return new p(l);m.call(this,l),this._transformState={afterTransform:g.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,l&&(typeof l.transform=="function"&&(this._transform=l.transform),typeof l.flush=="function"&&(this._flush=l.flush)),this.on("prefinish",k)}function k(){var l=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(E,c){b(l,E,c)}):b(this,null,null)}p.prototype.push=function(l,E){return this._transformState.needTransform=!1,m.prototype.push.call(this,l,E)},p.prototype._transform=function(l,E,c){c(new L("_transform()"))},p.prototype._write=function(l,E,c){var v=this._transformState;if(v.writecb=c,v.writechunk=l,v.writeencoding=E,!v.transforming){var f=this._readableState;(v.needTransform||f.needReadable||f.length<f.highWaterMark)&&this._read(f.highWaterMark)}},p.prototype._read=function(l){var E=this._transformState;E.writechunk!==null&&!E.transforming?(E.transforming=!0,this._transform(E.writechunk,E.writeencoding,E.afterTransform)):E.needTransform=!0},p.prototype._destroy=function(l,E){m.prototype._destroy.call(this,l,function(c){E(c)})};function b(l,E,c){if(E)return l.emit("error",E);if(c!=null&&l.push(c),l._writableState.length)throw new h;if(l._transformState.transforming)throw new A;return l.push(null)}},7314:(s,G,F)=>{"use strict";var P=F(65606);s.exports=J;function L(te,re,ge){this.chunk=te,this.encoding=re,this.callback=ge,this.next=null}function D(te){var re=this;this.next=null,this.entry=null,this.finish=function(){Me(re,te)}}var A;J.WritableState=Z;var h={deprecate:F(94643)},m=F(5567),g=F(48287).Buffer,p=(typeof F.g!="undefined"?F.g:typeof window!="undefined"?window:typeof self!="undefined"?self:{}).Uint8Array||function(){};function k(te){return g.from(te)}function b(te){return g.isBuffer(te)||te instanceof p}var l=F(36278),E=F(57385),c=E.getHighWaterMark,v=F(2686).F,f=v.ERR_INVALID_ARG_TYPE,w=v.ERR_METHOD_NOT_IMPLEMENTED,_=v.ERR_MULTIPLE_CALLBACK,R=v.ERR_STREAM_CANNOT_PIPE,M=v.ERR_STREAM_DESTROYED,U=v.ERR_STREAM_NULL_VALUES,x=v.ERR_STREAM_WRITE_AFTER_END,y=v.ERR_UNKNOWN_ENCODING,W=l.errorOrDestroy;F(56698)(J,m);function Q(){}function Z(te,re,ge){A=A||F(26248),te=te||{},typeof ge!="boolean"&&(ge=re instanceof A),this.objectMode=!!te.objectMode,ge&&(this.objectMode=this.objectMode||!!te.writableObjectMode),this.highWaterMark=c(this,te,"writableHighWaterMark",ge),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var ye=te.decodeStrings===!1;this.decodeStrings=!ye,this.defaultEncoding=te.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(Ee){K(re,Ee)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=te.emitClose!==!1,this.autoDestroy=!!te.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new D(this)}Z.prototype.getBuffer=function(){for(var re=this.bufferedRequest,ge=[];re;)ge.push(re),re=re.next;return ge},function(){try{Object.defineProperty(Z.prototype,"buffer",{get:h.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var ee;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(ee=Function.prototype[Symbol.hasInstance],Object.defineProperty(J,Symbol.hasInstance,{value:function(re){return ee.call(this,re)?!0:this!==J?!1:re&&re._writableState instanceof Z}})):ee=function(re){return re instanceof this};function J(te){A=A||F(26248);var re=this instanceof A;if(!re&&!ee.call(J,this))return new J(te);this._writableState=new Z(te,this,re),this.writable=!0,te&&(typeof te.write=="function"&&(this._write=te.write),typeof te.writev=="function"&&(this._writev=te.writev),typeof te.destroy=="function"&&(this._destroy=te.destroy),typeof te.final=="function"&&(this._final=te.final)),m.call(this)}J.prototype.pipe=function(){W(this,new R)};function O(te,re){var ge=new x;W(te,ge),P.nextTick(re,ge)}function H(te,re,ge,ye){var Ee;return ge===null?Ee=new U:typeof ge!="string"&&!re.objectMode&&(Ee=new f("chunk",["string","Buffer"],ge)),Ee?(W(te,Ee),P.nextTick(ye,Ee),!1):!0}J.prototype.write=function(te,re,ge){var ye=this._writableState,Ee=!1,z=!ye.objectMode&&b(te);return z&&!g.isBuffer(te)&&(te=k(te)),typeof re=="function"&&(ge=re,re=null),z?re="buffer":re||(re=ye.defaultEncoding),typeof ge!="function"&&(ge=Q),ye.ending?O(this,ge):(z||H(this,ye,te,ge))&&(ye.pendingcb++,Ee=u(this,ye,z,te,re,ge)),Ee},J.prototype.cork=function(){this._writableState.corked++},J.prototype.uncork=function(){var te=this._writableState;te.corked&&(te.corked--,!te.writing&&!te.corked&&!te.bufferProcessing&&te.bufferedRequest&&X(this,te))},J.prototype.setDefaultEncoding=function(re){if(typeof re=="string"&&(re=re.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((re+"").toLowerCase())>-1))throw new y(re);return this._writableState.defaultEncoding=re,this},Object.defineProperty(J.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function I(te,re,ge){return!te.objectMode&&te.decodeStrings!==!1&&typeof re=="string"&&(re=g.from(re,ge)),re}Object.defineProperty(J.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function u(te,re,ge,ye,Ee,z){if(!ge){var T=I(re,ye,Ee);ye!==T&&(ge=!0,Ee="buffer",ye=T)}var oe=re.objectMode?1:ye.length;re.length+=oe;var fe=re.length<re.highWaterMark;if(fe||(re.needDrain=!0),re.writing||re.corked){var de=re.lastBufferedRequest;re.lastBufferedRequest={chunk:ye,encoding:Ee,isBuf:ge,callback:z,next:null},de?de.next=re.lastBufferedRequest:re.bufferedRequest=re.lastBufferedRequest,re.bufferedRequestCount+=1}else N(te,re,!1,oe,ye,Ee,z);return fe}function N(te,re,ge,ye,Ee,z,T){re.writelen=ye,re.writecb=T,re.writing=!0,re.sync=!0,re.destroyed?re.onwrite(new M("write")):ge?te._writev(Ee,re.onwrite):te._write(Ee,z,re.onwrite),re.sync=!1}function q(te,re,ge,ye,Ee){--re.pendingcb,ge?(P.nextTick(Ee,ye),P.nextTick(we,te,re),te._writableState.errorEmitted=!0,W(te,ye)):(Ee(ye),te._writableState.errorEmitted=!0,W(te,ye),we(te,re))}function V(te){te.writing=!1,te.writecb=null,te.length-=te.writelen,te.writelen=0}function K(te,re){var ge=te._writableState,ye=ge.sync,Ee=ge.writecb;if(typeof Ee!="function")throw new _;if(V(ge),re)q(te,ge,ye,re,Ee);else{var z=B(ge)||te.destroyed;!z&&!ge.corked&&!ge.bufferProcessing&&ge.bufferedRequest&&X(te,ge),ye?P.nextTick(j,te,ge,z,Ee):j(te,ge,z,Ee)}}function j(te,re,ge,ye){ge||ie(te,re),re.pendingcb--,ye(),we(te,re)}function ie(te,re){re.length===0&&re.needDrain&&(re.needDrain=!1,te.emit("drain"))}function X(te,re){re.bufferProcessing=!0;var ge=re.bufferedRequest;if(te._writev&&ge&&ge.next){var ye=re.bufferedRequestCount,Ee=new Array(ye),z=re.corkedRequestsFree;z.entry=ge;for(var T=0,oe=!0;ge;)Ee[T]=ge,ge.isBuf||(oe=!1),ge=ge.next,T+=1;Ee.allBuffers=oe,N(te,re,!0,re.length,Ee,"",z.finish),re.pendingcb++,re.lastBufferedRequest=null,z.next?(re.corkedRequestsFree=z.next,z.next=null):re.corkedRequestsFree=new D(re),re.bufferedRequestCount=0}else{for(;ge;){var fe=ge.chunk,de=ge.encoding,ue=ge.callback,ve=re.objectMode?1:fe.length;if(N(te,re,!1,ve,fe,de,ue),ge=ge.next,re.bufferedRequestCount--,re.writing)break}ge===null&&(re.lastBufferedRequest=null)}re.bufferedRequest=ge,re.bufferProcessing=!1}J.prototype._write=function(te,re,ge){ge(new w("_write()"))},J.prototype._writev=null,J.prototype.end=function(te,re,ge){var ye=this._writableState;return typeof te=="function"?(ge=te,te=null,re=null):typeof re=="function"&&(ge=re,re=null),te!=null&&this.write(te,re),ye.corked&&(ye.corked=1,this.uncork()),ye.ending||_e(this,ye,ge),this},Object.defineProperty(J.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function B(te){return te.ending&&te.length===0&&te.bufferedRequest===null&&!te.finished&&!te.writing}function se(te,re){te._final(function(ge){re.pendingcb--,ge&&W(te,ge),re.prefinished=!0,te.emit("prefinish"),we(te,re)})}function Pe(te,re){!re.prefinished&&!re.finalCalled&&(typeof te._final=="function"&&!re.destroyed?(re.pendingcb++,re.finalCalled=!0,P.nextTick(se,te,re)):(re.prefinished=!0,te.emit("prefinish")))}function we(te,re){var ge=B(re);if(ge&&(Pe(te,re),re.pendingcb===0&&(re.finished=!0,te.emit("finish"),re.autoDestroy))){var ye=te._readableState;(!ye||ye.autoDestroy&&ye.endEmitted)&&te.destroy()}return ge}function _e(te,re,ge){re.ending=!0,we(te,re),ge&&(re.finished?P.nextTick(ge):te.once("finish",ge)),re.ended=!0,te.writable=!1}function Me(te,re,ge){var ye=te.entry;for(te.entry=null;ye;){var Ee=ye.callback;re.pendingcb--,Ee(ge),ye=ye.next}re.corkedRequestsFree.next=te}Object.defineProperty(J.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(re){this._writableState&&(this._writableState.destroyed=re)}}),J.prototype.destroy=l.destroy,J.prototype._undestroy=l.undestroy,J.prototype._destroy=function(te,re){re(te)}},72485:(s,G,F)=>{"use strict";var P=F(65606),L;function D(x,y,W){return y=A(y),y in x?Object.defineProperty(x,y,{value:W,enumerable:!0,configurable:!0,writable:!0}):x[y]=W,x}function A(x){var y=h(x,"string");return typeof y=="symbol"?y:String(y)}function h(x,y){if(typeof x!="object"||x===null)return x;var W=x[Symbol.toPrimitive];if(W!==void 0){var Q=W.call(x,y||"default");if(typeof Q!="object")return Q;throw new TypeError("@@toPrimitive must return a primitive value.")}return(y==="string"?String:Number)(x)}var m=F(23532),g=Symbol("lastResolve"),p=Symbol("lastReject"),k=Symbol("error"),b=Symbol("ended"),l=Symbol("lastPromise"),E=Symbol("handlePromise"),c=Symbol("stream");function v(x,y){return{value:x,done:y}}function f(x){var y=x[g];if(y!==null){var W=x[c].read();W!==null&&(x[l]=null,x[g]=null,x[p]=null,y(v(W,!1)))}}function w(x){P.nextTick(f,x)}function _(x,y){return function(W,Q){x.then(function(){if(y[b]){W(v(void 0,!0));return}y[E](W,Q)},Q)}}var R=Object.getPrototypeOf(function(){}),M=Object.setPrototypeOf((L={get stream(){return this[c]},next:function(){var y=this,W=this[k];if(W!==null)return Promise.reject(W);if(this[b])return Promise.resolve(v(void 0,!0));if(this[c].destroyed)return new Promise(function(J,O){P.nextTick(function(){y[k]?O(y[k]):J(v(void 0,!0))})});var Q=this[l],Z;if(Q)Z=new Promise(_(Q,this));else{var ee=this[c].read();if(ee!==null)return Promise.resolve(v(ee,!1));Z=new Promise(this[E])}return this[l]=Z,Z}},D(L,Symbol.asyncIterator,function(){return this}),D(L,"return",function(){var y=this;return new Promise(function(W,Q){y[c].destroy(null,function(Z){if(Z){Q(Z);return}W(v(void 0,!0))})})}),L),R),U=function(y){var W,Q=Object.create(M,(W={},D(W,c,{value:y,writable:!0}),D(W,g,{value:null,writable:!0}),D(W,p,{value:null,writable:!0}),D(W,k,{value:null,writable:!0}),D(W,b,{value:y._readableState.endEmitted,writable:!0}),D(W,E,{value:function(ee,J){var O=Q[c].read();O?(Q[l]=null,Q[g]=null,Q[p]=null,ee(v(O,!1))):(Q[g]=ee,Q[p]=J)},writable:!0}),W));return Q[l]=null,m(y,function(Z){if(Z&&Z.code!=="ERR_STREAM_PREMATURE_CLOSE"){var ee=Q[p];ee!==null&&(Q[l]=null,Q[g]=null,Q[p]=null,ee(Z)),Q[k]=Z;return}var J=Q[g];J!==null&&(Q[l]=null,Q[g]=null,Q[p]=null,J(v(void 0,!0))),Q[b]=!0}),y.on("readable",w.bind(null,Q)),Q};s.exports=U},72851:(s,G,F)=>{"use strict";function P(f,w){var _=Object.keys(f);if(Object.getOwnPropertySymbols){var R=Object.getOwnPropertySymbols(f);w&&(R=R.filter(function(M){return Object.getOwnPropertyDescriptor(f,M).enumerable})),_.push.apply(_,R)}return _}function L(f){for(var w=1;w<arguments.length;w++){var _=arguments[w]!=null?arguments[w]:{};w%2?P(Object(_),!0).forEach(function(R){D(f,R,_[R])}):Object.getOwnPropertyDescriptors?Object.defineProperties(f,Object.getOwnPropertyDescriptors(_)):P(Object(_)).forEach(function(R){Object.defineProperty(f,R,Object.getOwnPropertyDescriptor(_,R))})}return f}function D(f,w,_){return w=g(w),w in f?Object.defineProperty(f,w,{value:_,enumerable:!0,configurable:!0,writable:!0}):f[w]=_,f}function A(f,w){if(!(f instanceof w))throw new TypeError("Cannot call a class as a function")}function h(f,w){for(var _=0;_<w.length;_++){var R=w[_];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(f,g(R.key),R)}}function m(f,w,_){return w&&h(f.prototype,w),_&&h(f,_),Object.defineProperty(f,"prototype",{writable:!1}),f}function g(f){var w=p(f,"string");return typeof w=="symbol"?w:String(w)}function p(f,w){if(typeof f!="object"||f===null)return f;var _=f[Symbol.toPrimitive];if(_!==void 0){var R=_.call(f,w||"default");if(typeof R!="object")return R;throw new TypeError("@@toPrimitive must return a primitive value.")}return(w==="string"?String:Number)(f)}var k=F(48287),b=k.Buffer,l=F(21638),E=l.inspect,c=E&&E.custom||"inspect";function v(f,w,_){b.prototype.copy.call(f,w,_)}s.exports=function(){function f(){A(this,f),this.head=null,this.tail=null,this.length=0}return m(f,[{key:"push",value:function(_){var R={data:_,next:null};this.length>0?this.tail.next=R:this.head=R,this.tail=R,++this.length}},{key:"unshift",value:function(_){var R={data:_,next:this.head};this.length===0&&(this.tail=R),this.head=R,++this.length}},{key:"shift",value:function(){if(this.length!==0){var _=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,_}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(_){if(this.length===0)return"";for(var R=this.head,M=""+R.data;R=R.next;)M+=_+R.data;return M}},{key:"concat",value:function(_){if(this.length===0)return b.alloc(0);for(var R=b.allocUnsafe(_>>>0),M=this.head,U=0;M;)v(M.data,R,U),U+=M.data.length,M=M.next;return R}},{key:"consume",value:function(_,R){var M;return _<this.head.data.length?(M=this.head.data.slice(0,_),this.head.data=this.head.data.slice(_)):_===this.head.data.length?M=this.shift():M=R?this._getString(_):this._getBuffer(_),M}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(_){var R=this.head,M=1,U=R.data;for(_-=U.length;R=R.next;){var x=R.data,y=_>x.length?x.length:_;if(y===x.length?U+=x:U+=x.slice(0,_),_-=y,_===0){y===x.length?(++M,R.next?this.head=R.next:this.head=this.tail=null):(this.head=R,R.data=x.slice(y));break}++M}return this.length-=M,U}},{key:"_getBuffer",value:function(_){var R=b.allocUnsafe(_),M=this.head,U=1;for(M.data.copy(R),_-=M.data.length;M=M.next;){var x=M.data,y=_>x.length?x.length:_;if(x.copy(R,R.length-_,0,y),_-=y,_===0){y===x.length?(++U,M.next?this.head=M.next:this.head=this.tail=null):(this.head=M,M.data=x.slice(y));break}++U}return this.length-=U,R}},{key:c,value:function(_,R){return E(this,L(L({},R),{},{depth:0,customInspect:!1}))}}]),f}()},36278:(s,G,F)=>{"use strict";var P=F(65606);function L(p,k){var b=this,l=this._readableState&&this._readableState.destroyed,E=this._writableState&&this._writableState.destroyed;return l||E?(k?k(p):p&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,P.nextTick(m,this,p)):P.nextTick(m,this,p)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(p||null,function(c){!k&&c?b._writableState?b._writableState.errorEmitted?P.nextTick(A,b):(b._writableState.errorEmitted=!0,P.nextTick(D,b,c)):P.nextTick(D,b,c):k?(P.nextTick(A,b),k(c)):P.nextTick(A,b)}),this)}function D(p,k){m(p,k),A(p)}function A(p){p._writableState&&!p._writableState.emitClose||p._readableState&&!p._readableState.emitClose||p.emit("close")}function h(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function m(p,k){p.emit("error",k)}function g(p,k){var b=p._readableState,l=p._writableState;b&&b.autoDestroy||l&&l.autoDestroy?p.destroy(k):p.emit("error",k)}s.exports={destroy:L,undestroy:h,errorOrDestroy:g}},23532:(s,G,F)=>{"use strict";var P=F(2686).F.ERR_STREAM_PREMATURE_CLOSE;function L(m){var g=!1;return function(){if(!g){g=!0;for(var p=arguments.length,k=new Array(p),b=0;b<p;b++)k[b]=arguments[b];m.apply(this,k)}}}function D(){}function A(m){return m.setHeader&&typeof m.abort=="function"}function h(m,g,p){if(typeof g=="function")return h(m,null,g);g||(g={}),p=L(p||D);var k=g.readable||g.readable!==!1&&m.readable,b=g.writable||g.writable!==!1&&m.writable,l=function(){m.writable||c()},E=m._writableState&&m._writableState.finished,c=function(){b=!1,E=!0,k||p.call(m)},v=m._readableState&&m._readableState.endEmitted,f=function(){k=!1,v=!0,b||p.call(m)},w=function(U){p.call(m,U)},_=function(){var U;if(k&&!v)return(!m._readableState||!m._readableState.ended)&&(U=new P),p.call(m,U);if(b&&!E)return(!m._writableState||!m._writableState.ended)&&(U=new P),p.call(m,U)},R=function(){m.req.on("finish",c)};return A(m)?(m.on("complete",c),m.on("abort",_),m.req?R():m.on("request",R)):b&&!m._writableState&&(m.on("end",l),m.on("close",l)),m.on("end",f),m.on("finish",c),g.error!==!1&&m.on("error",w),m.on("close",_),function(){m.removeListener("complete",c),m.removeListener("abort",_),m.removeListener("request",R),m.req&&m.req.removeListener("finish",c),m.removeListener("end",l),m.removeListener("close",l),m.removeListener("finish",c),m.removeListener("end",f),m.removeListener("error",w),m.removeListener("close",_)}}s.exports=h},28591:s=>{s.exports=function(){throw new Error("Readable.from is not available in the browser")}},43440:(s,G,F)=>{"use strict";var P;function L(c){var v=!1;return function(){v||(v=!0,c.apply(void 0,arguments))}}var D=F(2686).F,A=D.ERR_MISSING_ARGS,h=D.ERR_STREAM_DESTROYED;function m(c){if(c)throw c}function g(c){return c.setHeader&&typeof c.abort=="function"}function p(c,v,f,w){w=L(w);var _=!1;c.on("close",function(){_=!0}),P===void 0&&(P=F(23532)),P(c,{readable:v,writable:f},function(M){if(M)return w(M);_=!0,w()});var R=!1;return function(M){if(!_&&!R){if(R=!0,g(c))return c.abort();if(typeof c.destroy=="function")return c.destroy();w(M||new h("pipe"))}}}function k(c){c()}function b(c,v){return c.pipe(v)}function l(c){return!c.length||typeof c[c.length-1]!="function"?m:c.pop()}function E(){for(var c=arguments.length,v=new Array(c),f=0;f<c;f++)v[f]=arguments[f];var w=l(v);if(Array.isArray(v[0])&&(v=v[0]),v.length<2)throw new A("streams");var _,R=v.map(function(M,U){var x=U<v.length-1,y=U>0;return p(M,x,y,function(W){_||(_=W),W&&R.forEach(k),!x&&(R.forEach(k),w(_))})});return v.reduce(b)}s.exports=E},57385:(s,G,F)=>{"use strict";var P=F(2686).F.ERR_INVALID_OPT_VALUE;function L(A,h,m){return A.highWaterMark!=null?A.highWaterMark:h?A[m]:null}function D(A,h,m,g){var p=L(h,g,m);if(p!=null){if(!(isFinite(p)&&Math.floor(p)===p)||p<0){var k=g?m:"highWaterMark";throw new P(k,p)}return Math.floor(p)}return A.objectMode?16:16384}s.exports={getHighWaterMark:D}},5567:(s,G,F)=>{s.exports=F(37007).EventEmitter},46737:(s,G,F)=>{G=s.exports=F(30206),G.Stream=G,G.Readable=G,G.Writable=F(7314),G.Duplex=F(26248),G.Transform=F(81816),G.PassThrough=F(75242),G.finished=F(23532),G.pipeline=F(43440)},30295:(s,G,F)=>{var P=F(48287).Buffer;s.exports=function(D,A){for(var h=Math.min(D.length,A.length),m=new P(h),g=0;g<h;++g)m[g]=D[g]^A[g];return m}},48287:(s,G,F)=>{"use strict";/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */const P=F(67526),L=F(251),D=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;G.Buffer=g,G.SlowBuffer=R,G.INSPECT_MAX_BYTES=50;const A=2147483647;G.kMaxLength=A,g.TYPED_ARRAY_SUPPORT=h(),!g.TYPED_ARRAY_SUPPORT&&typeof console!="undefined"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function h(){try{const me=new Uint8Array(1),ae={foo:function(){return 42}};return Object.setPrototypeOf(ae,Uint8Array.prototype),Object.setPrototypeOf(me,ae),me.foo()===42}catch{return!1}}Object.defineProperty(g.prototype,"parent",{enumerable:!0,get:function(){if(g.isBuffer(this))return this.buffer}}),Object.defineProperty(g.prototype,"offset",{enumerable:!0,get:function(){if(g.isBuffer(this))return this.byteOffset}});function m(me){if(me>A)throw new RangeError('The value "'+me+'" is invalid for option "size"');const ae=new Uint8Array(me);return Object.setPrototypeOf(ae,g.prototype),ae}function g(me,ae,ce){if(typeof me=="number"){if(typeof ae=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return l(me)}return p(me,ae,ce)}g.poolSize=8192;function p(me,ae,ce){if(typeof me=="string")return E(me,ae);if(ArrayBuffer.isView(me))return v(me);if(me==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof me);if(Oe(me,ArrayBuffer)||me&&Oe(me.buffer,ArrayBuffer)||typeof SharedArrayBuffer!="undefined"&&(Oe(me,SharedArrayBuffer)||me&&Oe(me.buffer,SharedArrayBuffer)))return f(me,ae,ce);if(typeof me=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const Re=me.valueOf&&me.valueOf();if(Re!=null&&Re!==me)return g.from(Re,ae,ce);const xe=w(me);if(xe)return xe;if(typeof Symbol!="undefined"&&Symbol.toPrimitive!=null&&typeof me[Symbol.toPrimitive]=="function")return g.from(me[Symbol.toPrimitive]("string"),ae,ce);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof me)}g.from=function(me,ae,ce){return p(me,ae,ce)},Object.setPrototypeOf(g.prototype,Uint8Array.prototype),Object.setPrototypeOf(g,Uint8Array);function k(me){if(typeof me!="number")throw new TypeError('"size" argument must be of type number');if(me<0)throw new RangeError('The value "'+me+'" is invalid for option "size"')}function b(me,ae,ce){return k(me),me<=0?m(me):ae!==void 0?typeof ce=="string"?m(me).fill(ae,ce):m(me).fill(ae):m(me)}g.alloc=function(me,ae,ce){return b(me,ae,ce)};function l(me){return k(me),m(me<0?0:_(me)|0)}g.allocUnsafe=function(me){return l(me)},g.allocUnsafeSlow=function(me){return l(me)};function E(me,ae){if((typeof ae!="string"||ae==="")&&(ae="utf8"),!g.isEncoding(ae))throw new TypeError("Unknown encoding: "+ae);const ce=M(me,ae)|0;let Re=m(ce);const xe=Re.write(me,ae);return xe!==ce&&(Re=Re.slice(0,xe)),Re}function c(me){const ae=me.length<0?0:_(me.length)|0,ce=m(ae);for(let Re=0;Re<ae;Re+=1)ce[Re]=me[Re]&255;return ce}function v(me){if(Oe(me,Uint8Array)){const ae=new Uint8Array(me);return f(ae.buffer,ae.byteOffset,ae.byteLength)}return c(me)}function f(me,ae,ce){if(ae<0||me.byteLength<ae)throw new RangeError('"offset" is outside of buffer bounds');if(me.byteLength<ae+(ce||0))throw new RangeError('"length" is outside of buffer bounds');let Re;return ae===void 0&&ce===void 0?Re=new Uint8Array(me):ce===void 0?Re=new Uint8Array(me,ae):Re=new Uint8Array(me,ae,ce),Object.setPrototypeOf(Re,g.prototype),Re}function w(me){if(g.isBuffer(me)){const ae=_(me.length)|0,ce=m(ae);return ce.length===0||me.copy(ce,0,0,ae),ce}if(me.length!==void 0)return typeof me.length!="number"||$e(me.length)?m(0):c(me);if(me.type==="Buffer"&&Array.isArray(me.data))return c(me.data)}function _(me){if(me>=A)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+A.toString(16)+" bytes");return me|0}function R(me){return+me!=me&&(me=0),g.alloc(+me)}g.isBuffer=function(ae){return ae!=null&&ae._isBuffer===!0&&ae!==g.prototype},g.compare=function(ae,ce){if(Oe(ae,Uint8Array)&&(ae=g.from(ae,ae.offset,ae.byteLength)),Oe(ce,Uint8Array)&&(ce=g.from(ce,ce.offset,ce.byteLength)),!g.isBuffer(ae)||!g.isBuffer(ce))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(ae===ce)return 0;let Re=ae.length,xe=ce.length;for(let Ye=0,Ue=Math.min(Re,xe);Ye<Ue;++Ye)if(ae[Ye]!==ce[Ye]){Re=ae[Ye],xe=ce[Ye];break}return Re<xe?-1:xe<Re?1:0},g.isEncoding=function(ae){switch(String(ae).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},g.concat=function(ae,ce){if(!Array.isArray(ae))throw new TypeError('"list" argument must be an Array of Buffers');if(ae.length===0)return g.alloc(0);let Re;if(ce===void 0)for(ce=0,Re=0;Re<ae.length;++Re)ce+=ae[Re].length;const xe=g.allocUnsafe(ce);let Ye=0;for(Re=0;Re<ae.length;++Re){let Ue=ae[Re];if(Oe(Ue,Uint8Array))Ye+Ue.length>xe.length?(g.isBuffer(Ue)||(Ue=g.from(Ue)),Ue.copy(xe,Ye)):Uint8Array.prototype.set.call(xe,Ue,Ye);else if(g.isBuffer(Ue))Ue.copy(xe,Ye);else throw new TypeError('"list" argument must be an Array of Buffers');Ye+=Ue.length}return xe};function M(me,ae){if(g.isBuffer(me))return me.length;if(ArrayBuffer.isView(me)||Oe(me,ArrayBuffer))return me.byteLength;if(typeof me!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof me);const ce=me.length,Re=arguments.length>2&&arguments[2]===!0;if(!Re&&ce===0)return 0;let xe=!1;for(;;)switch(ae){case"ascii":case"latin1":case"binary":return ce;case"utf8":case"utf-8":return fe(me).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ce*2;case"hex":return ce>>>1;case"base64":return ve(me).length;default:if(xe)return Re?-1:fe(me).length;ae=(""+ae).toLowerCase(),xe=!0}}g.byteLength=M;function U(me,ae,ce){let Re=!1;if((ae===void 0||ae<0)&&(ae=0),ae>this.length||((ce===void 0||ce>this.length)&&(ce=this.length),ce<=0)||(ce>>>=0,ae>>>=0,ce<=ae))return"";for(me||(me="utf8");;)switch(me){case"hex":return K(this,ae,ce);case"utf8":case"utf-8":return I(this,ae,ce);case"ascii":return q(this,ae,ce);case"latin1":case"binary":return V(this,ae,ce);case"base64":return H(this,ae,ce);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return j(this,ae,ce);default:if(Re)throw new TypeError("Unknown encoding: "+me);me=(me+"").toLowerCase(),Re=!0}}g.prototype._isBuffer=!0;function x(me,ae,ce){const Re=me[ae];me[ae]=me[ce],me[ce]=Re}g.prototype.swap16=function(){const ae=this.length;if(ae%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let ce=0;ce<ae;ce+=2)x(this,ce,ce+1);return this},g.prototype.swap32=function(){const ae=this.length;if(ae%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let ce=0;ce<ae;ce+=4)x(this,ce,ce+3),x(this,ce+1,ce+2);return this},g.prototype.swap64=function(){const ae=this.length;if(ae%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let ce=0;ce<ae;ce+=8)x(this,ce,ce+7),x(this,ce+1,ce+6),x(this,ce+2,ce+5),x(this,ce+3,ce+4);return this},g.prototype.toString=function(){const ae=this.length;return ae===0?"":arguments.length===0?I(this,0,ae):U.apply(this,arguments)},g.prototype.toLocaleString=g.prototype.toString,g.prototype.equals=function(ae){if(!g.isBuffer(ae))throw new TypeError("Argument must be a Buffer");return this===ae?!0:g.compare(this,ae)===0},g.prototype.inspect=function(){let ae="";const ce=G.INSPECT_MAX_BYTES;return ae=this.toString("hex",0,ce).replace(/(.{2})/g,"$1 ").trim(),this.length>ce&&(ae+=" ... "),"<Buffer "+ae+">"},D&&(g.prototype[D]=g.prototype.inspect),g.prototype.compare=function(ae,ce,Re,xe,Ye){if(Oe(ae,Uint8Array)&&(ae=g.from(ae,ae.offset,ae.byteLength)),!g.isBuffer(ae))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof ae);if(ce===void 0&&(ce=0),Re===void 0&&(Re=ae?ae.length:0),xe===void 0&&(xe=0),Ye===void 0&&(Ye=this.length),ce<0||Re>ae.length||xe<0||Ye>this.length)throw new RangeError("out of range index");if(xe>=Ye&&ce>=Re)return 0;if(xe>=Ye)return-1;if(ce>=Re)return 1;if(ce>>>=0,Re>>>=0,xe>>>=0,Ye>>>=0,this===ae)return 0;let Ue=Ye-xe,Ze=Re-ce;const It=Math.min(Ue,Ze),st=this.slice(xe,Ye),ut=ae.slice(ce,Re);for(let wt=0;wt<It;++wt)if(st[wt]!==ut[wt]){Ue=st[wt],Ze=ut[wt];break}return Ue<Ze?-1:Ze<Ue?1:0};function y(me,ae,ce,Re,xe){if(me.length===0)return-1;if(typeof ce=="string"?(Re=ce,ce=0):ce>2147483647?ce=2147483647:ce<-2147483648&&(ce=-2147483648),ce=+ce,$e(ce)&&(ce=xe?0:me.length-1),ce<0&&(ce=me.length+ce),ce>=me.length){if(xe)return-1;ce=me.length-1}else if(ce<0)if(xe)ce=0;else return-1;if(typeof ae=="string"&&(ae=g.from(ae,Re)),g.isBuffer(ae))return ae.length===0?-1:W(me,ae,ce,Re,xe);if(typeof ae=="number")return ae=ae&255,typeof Uint8Array.prototype.indexOf=="function"?xe?Uint8Array.prototype.indexOf.call(me,ae,ce):Uint8Array.prototype.lastIndexOf.call(me,ae,ce):W(me,[ae],ce,Re,xe);throw new TypeError("val must be string, number or Buffer")}function W(me,ae,ce,Re,xe){let Ye=1,Ue=me.length,Ze=ae.length;if(Re!==void 0&&(Re=String(Re).toLowerCase(),Re==="ucs2"||Re==="ucs-2"||Re==="utf16le"||Re==="utf-16le")){if(me.length<2||ae.length<2)return-1;Ye=2,Ue/=2,Ze/=2,ce/=2}function It(ut,wt){return Ye===1?ut[wt]:ut.readUInt16BE(wt*Ye)}let st;if(xe){let ut=-1;for(st=ce;st<Ue;st++)if(It(me,st)===It(ae,ut===-1?0:st-ut)){if(ut===-1&&(ut=st),st-ut+1===Ze)return ut*Ye}else ut!==-1&&(st-=st-ut),ut=-1}else for(ce+Ze>Ue&&(ce=Ue-Ze),st=ce;st>=0;st--){let ut=!0;for(let wt=0;wt<Ze;wt++)if(It(me,st+wt)!==It(ae,wt)){ut=!1;break}if(ut)return st}return-1}g.prototype.includes=function(ae,ce,Re){return this.indexOf(ae,ce,Re)!==-1},g.prototype.indexOf=function(ae,ce,Re){return y(this,ae,ce,Re,!0)},g.prototype.lastIndexOf=function(ae,ce,Re){return y(this,ae,ce,Re,!1)};function Q(me,ae,ce,Re){ce=Number(ce)||0;const xe=me.length-ce;Re?(Re=Number(Re),Re>xe&&(Re=xe)):Re=xe;const Ye=ae.length;Re>Ye/2&&(Re=Ye/2);let Ue;for(Ue=0;Ue<Re;++Ue){const Ze=parseInt(ae.substr(Ue*2,2),16);if($e(Ze))return Ue;me[ce+Ue]=Ze}return Ue}function Z(me,ae,ce,Re){return Fe(fe(ae,me.length-ce),me,ce,Re)}function ee(me,ae,ce,Re){return Fe(de(ae),me,ce,Re)}function J(me,ae,ce,Re){return Fe(ve(ae),me,ce,Re)}function O(me,ae,ce,Re){return Fe(ue(ae,me.length-ce),me,ce,Re)}g.prototype.write=function(ae,ce,Re,xe){if(ce===void 0)xe="utf8",Re=this.length,ce=0;else if(Re===void 0&&typeof ce=="string")xe=ce,Re=this.length,ce=0;else if(isFinite(ce))ce=ce>>>0,isFinite(Re)?(Re=Re>>>0,xe===void 0&&(xe="utf8")):(xe=Re,Re=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const Ye=this.length-ce;if((Re===void 0||Re>Ye)&&(Re=Ye),ae.length>0&&(Re<0||ce<0)||ce>this.length)throw new RangeError("Attempt to write outside buffer bounds");xe||(xe="utf8");let Ue=!1;for(;;)switch(xe){case"hex":return Q(this,ae,ce,Re);case"utf8":case"utf-8":return Z(this,ae,ce,Re);case"ascii":case"latin1":case"binary":return ee(this,ae,ce,Re);case"base64":return J(this,ae,ce,Re);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O(this,ae,ce,Re);default:if(Ue)throw new TypeError("Unknown encoding: "+xe);xe=(""+xe).toLowerCase(),Ue=!0}},g.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function H(me,ae,ce){return ae===0&&ce===me.length?P.fromByteArray(me):P.fromByteArray(me.slice(ae,ce))}function I(me,ae,ce){ce=Math.min(me.length,ce);const Re=[];let xe=ae;for(;xe<ce;){const Ye=me[xe];let Ue=null,Ze=Ye>239?4:Ye>223?3:Ye>191?2:1;if(xe+Ze<=ce){let It,st,ut,wt;switch(Ze){case 1:Ye<128&&(Ue=Ye);break;case 2:It=me[xe+1],(It&192)===128&&(wt=(Ye&31)<<6|It&63,wt>127&&(Ue=wt));break;case 3:It=me[xe+1],st=me[xe+2],(It&192)===128&&(st&192)===128&&(wt=(Ye&15)<<12|(It&63)<<6|st&63,wt>2047&&(wt<55296||wt>57343)&&(Ue=wt));break;case 4:It=me[xe+1],st=me[xe+2],ut=me[xe+3],(It&192)===128&&(st&192)===128&&(ut&192)===128&&(wt=(Ye&15)<<18|(It&63)<<12|(st&63)<<6|ut&63,wt>65535&&wt<1114112&&(Ue=wt))}}Ue===null?(Ue=65533,Ze=1):Ue>65535&&(Ue-=65536,Re.push(Ue>>>10&1023|55296),Ue=56320|Ue&1023),Re.push(Ue),xe+=Ze}return N(Re)}const u=4096;function N(me){const ae=me.length;if(ae<=u)return String.fromCharCode.apply(String,me);let ce="",Re=0;for(;Re<ae;)ce+=String.fromCharCode.apply(String,me.slice(Re,Re+=u));return ce}function q(me,ae,ce){let Re="";ce=Math.min(me.length,ce);for(let xe=ae;xe<ce;++xe)Re+=String.fromCharCode(me[xe]&127);return Re}function V(me,ae,ce){let Re="";ce=Math.min(me.length,ce);for(let xe=ae;xe<ce;++xe)Re+=String.fromCharCode(me[xe]);return Re}function K(me,ae,ce){const Re=me.length;(!ae||ae<0)&&(ae=0),(!ce||ce<0||ce>Re)&&(ce=Re);let xe="";for(let Ye=ae;Ye<ce;++Ye)xe+=qe[me[Ye]];return xe}function j(me,ae,ce){const Re=me.slice(ae,ce);let xe="";for(let Ye=0;Ye<Re.length-1;Ye+=2)xe+=String.fromCharCode(Re[Ye]+Re[Ye+1]*256);return xe}g.prototype.slice=function(ae,ce){const Re=this.length;ae=~~ae,ce=ce===void 0?Re:~~ce,ae<0?(ae+=Re,ae<0&&(ae=0)):ae>Re&&(ae=Re),ce<0?(ce+=Re,ce<0&&(ce=0)):ce>Re&&(ce=Re),ce<ae&&(ce=ae);const xe=this.subarray(ae,ce);return Object.setPrototypeOf(xe,g.prototype),xe};function ie(me,ae,ce){if(me%1!==0||me<0)throw new RangeError("offset is not uint");if(me+ae>ce)throw new RangeError("Trying to access beyond buffer length")}g.prototype.readUintLE=g.prototype.readUIntLE=function(ae,ce,Re){ae=ae>>>0,ce=ce>>>0,Re||ie(ae,ce,this.length);let xe=this[ae],Ye=1,Ue=0;for(;++Ue<ce&&(Ye*=256);)xe+=this[ae+Ue]*Ye;return xe},g.prototype.readUintBE=g.prototype.readUIntBE=function(ae,ce,Re){ae=ae>>>0,ce=ce>>>0,Re||ie(ae,ce,this.length);let xe=this[ae+--ce],Ye=1;for(;ce>0&&(Ye*=256);)xe+=this[ae+--ce]*Ye;return xe},g.prototype.readUint8=g.prototype.readUInt8=function(ae,ce){return ae=ae>>>0,ce||ie(ae,1,this.length),this[ae]},g.prototype.readUint16LE=g.prototype.readUInt16LE=function(ae,ce){return ae=ae>>>0,ce||ie(ae,2,this.length),this[ae]|this[ae+1]<<8},g.prototype.readUint16BE=g.prototype.readUInt16BE=function(ae,ce){return ae=ae>>>0,ce||ie(ae,2,this.length),this[ae]<<8|this[ae+1]},g.prototype.readUint32LE=g.prototype.readUInt32LE=function(ae,ce){return ae=ae>>>0,ce||ie(ae,4,this.length),(this[ae]|this[ae+1]<<8|this[ae+2]<<16)+this[ae+3]*16777216},g.prototype.readUint32BE=g.prototype.readUInt32BE=function(ae,ce){return ae=ae>>>0,ce||ie(ae,4,this.length),this[ae]*16777216+(this[ae+1]<<16|this[ae+2]<<8|this[ae+3])},g.prototype.readBigUInt64LE=Ve(function(ae){ae=ae>>>0,Ee(ae,"offset");const ce=this[ae],Re=this[ae+7];(ce===void 0||Re===void 0)&&z(ae,this.length-8);const xe=ce+this[++ae]*2**8+this[++ae]*2**16+this[++ae]*2**24,Ye=this[++ae]+this[++ae]*2**8+this[++ae]*2**16+Re*2**24;return BigInt(xe)+(BigInt(Ye)<<BigInt(32))}),g.prototype.readBigUInt64BE=Ve(function(ae){ae=ae>>>0,Ee(ae,"offset");const ce=this[ae],Re=this[ae+7];(ce===void 0||Re===void 0)&&z(ae,this.length-8);const xe=ce*2**24+this[++ae]*2**16+this[++ae]*2**8+this[++ae],Ye=this[++ae]*2**24+this[++ae]*2**16+this[++ae]*2**8+Re;return(BigInt(xe)<<BigInt(32))+BigInt(Ye)}),g.prototype.readIntLE=function(ae,ce,Re){ae=ae>>>0,ce=ce>>>0,Re||ie(ae,ce,this.length);let xe=this[ae],Ye=1,Ue=0;for(;++Ue<ce&&(Ye*=256);)xe+=this[ae+Ue]*Ye;return Ye*=128,xe>=Ye&&(xe-=Math.pow(2,8*ce)),xe},g.prototype.readIntBE=function(ae,ce,Re){ae=ae>>>0,ce=ce>>>0,Re||ie(ae,ce,this.length);let xe=ce,Ye=1,Ue=this[ae+--xe];for(;xe>0&&(Ye*=256);)Ue+=this[ae+--xe]*Ye;return Ye*=128,Ue>=Ye&&(Ue-=Math.pow(2,8*ce)),Ue},g.prototype.readInt8=function(ae,ce){return ae=ae>>>0,ce||ie(ae,1,this.length),this[ae]&128?(255-this[ae]+1)*-1:this[ae]},g.prototype.readInt16LE=function(ae,ce){ae=ae>>>0,ce||ie(ae,2,this.length);const Re=this[ae]|this[ae+1]<<8;return Re&32768?Re|4294901760:Re},g.prototype.readInt16BE=function(ae,ce){ae=ae>>>0,ce||ie(ae,2,this.length);const Re=this[ae+1]|this[ae]<<8;return Re&32768?Re|4294901760:Re},g.prototype.readInt32LE=function(ae,ce){return ae=ae>>>0,ce||ie(ae,4,this.length),this[ae]|this[ae+1]<<8|this[ae+2]<<16|this[ae+3]<<24},g.prototype.readInt32BE=function(ae,ce){return ae=ae>>>0,ce||ie(ae,4,this.length),this[ae]<<24|this[ae+1]<<16|this[ae+2]<<8|this[ae+3]},g.prototype.readBigInt64LE=Ve(function(ae){ae=ae>>>0,Ee(ae,"offset");const ce=this[ae],Re=this[ae+7];(ce===void 0||Re===void 0)&&z(ae,this.length-8);const xe=this[ae+4]+this[ae+5]*2**8+this[ae+6]*2**16+(Re<<24);return(BigInt(xe)<<BigInt(32))+BigInt(ce+this[++ae]*256+this[++ae]*65536+this[++ae]*16777216)}),g.prototype.readBigInt64BE=Ve(function(ae){ae=ae>>>0,Ee(ae,"offset");const ce=this[ae],Re=this[ae+7];(ce===void 0||Re===void 0)&&z(ae,this.length-8);const xe=(ce<<24)+this[++ae]*2**16+this[++ae]*2**8+this[++ae];return(BigInt(xe)<<BigInt(32))+BigInt(this[++ae]*16777216+this[++ae]*65536+this[++ae]*256+Re)}),g.prototype.readFloatLE=function(ae,ce){return ae=ae>>>0,ce||ie(ae,4,this.length),L.read(this,ae,!0,23,4)},g.prototype.readFloatBE=function(ae,ce){return ae=ae>>>0,ce||ie(ae,4,this.length),L.read(this,ae,!1,23,4)},g.prototype.readDoubleLE=function(ae,ce){return ae=ae>>>0,ce||ie(ae,8,this.length),L.read(this,ae,!0,52,8)},g.prototype.readDoubleBE=function(ae,ce){return ae=ae>>>0,ce||ie(ae,8,this.length),L.read(this,ae,!1,52,8)};function X(me,ae,ce,Re,xe,Ye){if(!g.isBuffer(me))throw new TypeError('"buffer" argument must be a Buffer instance');if(ae>xe||ae<Ye)throw new RangeError('"value" argument is out of bounds');if(ce+Re>me.length)throw new RangeError("Index out of range")}g.prototype.writeUintLE=g.prototype.writeUIntLE=function(ae,ce,Re,xe){if(ae=+ae,ce=ce>>>0,Re=Re>>>0,!xe){const Ze=Math.pow(2,8*Re)-1;X(this,ae,ce,Re,Ze,0)}let Ye=1,Ue=0;for(this[ce]=ae&255;++Ue<Re&&(Ye*=256);)this[ce+Ue]=ae/Ye&255;return ce+Re},g.prototype.writeUintBE=g.prototype.writeUIntBE=function(ae,ce,Re,xe){if(ae=+ae,ce=ce>>>0,Re=Re>>>0,!xe){const Ze=Math.pow(2,8*Re)-1;X(this,ae,ce,Re,Ze,0)}let Ye=Re-1,Ue=1;for(this[ce+Ye]=ae&255;--Ye>=0&&(Ue*=256);)this[ce+Ye]=ae/Ue&255;return ce+Re},g.prototype.writeUint8=g.prototype.writeUInt8=function(ae,ce,Re){return ae=+ae,ce=ce>>>0,Re||X(this,ae,ce,1,255,0),this[ce]=ae&255,ce+1},g.prototype.writeUint16LE=g.prototype.writeUInt16LE=function(ae,ce,Re){return ae=+ae,ce=ce>>>0,Re||X(this,ae,ce,2,65535,0),this[ce]=ae&255,this[ce+1]=ae>>>8,ce+2},g.prototype.writeUint16BE=g.prototype.writeUInt16BE=function(ae,ce,Re){return ae=+ae,ce=ce>>>0,Re||X(this,ae,ce,2,65535,0),this[ce]=ae>>>8,this[ce+1]=ae&255,ce+2},g.prototype.writeUint32LE=g.prototype.writeUInt32LE=function(ae,ce,Re){return ae=+ae,ce=ce>>>0,Re||X(this,ae,ce,4,4294967295,0),this[ce+3]=ae>>>24,this[ce+2]=ae>>>16,this[ce+1]=ae>>>8,this[ce]=ae&255,ce+4},g.prototype.writeUint32BE=g.prototype.writeUInt32BE=function(ae,ce,Re){return ae=+ae,ce=ce>>>0,Re||X(this,ae,ce,4,4294967295,0),this[ce]=ae>>>24,this[ce+1]=ae>>>16,this[ce+2]=ae>>>8,this[ce+3]=ae&255,ce+4};function B(me,ae,ce,Re,xe){ye(ae,Re,xe,me,ce,7);let Ye=Number(ae&BigInt(4294967295));me[ce++]=Ye,Ye=Ye>>8,me[ce++]=Ye,Ye=Ye>>8,me[ce++]=Ye,Ye=Ye>>8,me[ce++]=Ye;let Ue=Number(ae>>BigInt(32)&BigInt(4294967295));return me[ce++]=Ue,Ue=Ue>>8,me[ce++]=Ue,Ue=Ue>>8,me[ce++]=Ue,Ue=Ue>>8,me[ce++]=Ue,ce}function se(me,ae,ce,Re,xe){ye(ae,Re,xe,me,ce,7);let Ye=Number(ae&BigInt(4294967295));me[ce+7]=Ye,Ye=Ye>>8,me[ce+6]=Ye,Ye=Ye>>8,me[ce+5]=Ye,Ye=Ye>>8,me[ce+4]=Ye;let Ue=Number(ae>>BigInt(32)&BigInt(4294967295));return me[ce+3]=Ue,Ue=Ue>>8,me[ce+2]=Ue,Ue=Ue>>8,me[ce+1]=Ue,Ue=Ue>>8,me[ce]=Ue,ce+8}g.prototype.writeBigUInt64LE=Ve(function(ae,ce=0){return B(this,ae,ce,BigInt(0),BigInt("0xffffffffffffffff"))}),g.prototype.writeBigUInt64BE=Ve(function(ae,ce=0){return se(this,ae,ce,BigInt(0),BigInt("0xffffffffffffffff"))}),g.prototype.writeIntLE=function(ae,ce,Re,xe){if(ae=+ae,ce=ce>>>0,!xe){const It=Math.pow(2,8*Re-1);X(this,ae,ce,Re,It-1,-It)}let Ye=0,Ue=1,Ze=0;for(this[ce]=ae&255;++Ye<Re&&(Ue*=256);)ae<0&&Ze===0&&this[ce+Ye-1]!==0&&(Ze=1),this[ce+Ye]=(ae/Ue>>0)-Ze&255;return ce+Re},g.prototype.writeIntBE=function(ae,ce,Re,xe){if(ae=+ae,ce=ce>>>0,!xe){const It=Math.pow(2,8*Re-1);X(this,ae,ce,Re,It-1,-It)}let Ye=Re-1,Ue=1,Ze=0;for(this[ce+Ye]=ae&255;--Ye>=0&&(Ue*=256);)ae<0&&Ze===0&&this[ce+Ye+1]!==0&&(Ze=1),this[ce+Ye]=(ae/Ue>>0)-Ze&255;return ce+Re},g.prototype.writeInt8=function(ae,ce,Re){return ae=+ae,ce=ce>>>0,Re||X(this,ae,ce,1,127,-128),ae<0&&(ae=255+ae+1),this[ce]=ae&255,ce+1},g.prototype.writeInt16LE=function(ae,ce,Re){return ae=+ae,ce=ce>>>0,Re||X(this,ae,ce,2,32767,-32768),this[ce]=ae&255,this[ce+1]=ae>>>8,ce+2},g.prototype.writeInt16BE=function(ae,ce,Re){return ae=+ae,ce=ce>>>0,Re||X(this,ae,ce,2,32767,-32768),this[ce]=ae>>>8,this[ce+1]=ae&255,ce+2},g.prototype.writeInt32LE=function(ae,ce,Re){return ae=+ae,ce=ce>>>0,Re||X(this,ae,ce,4,2147483647,-2147483648),this[ce]=ae&255,this[ce+1]=ae>>>8,this[ce+2]=ae>>>16,this[ce+3]=ae>>>24,ce+4},g.prototype.writeInt32BE=function(ae,ce,Re){return ae=+ae,ce=ce>>>0,Re||X(this,ae,ce,4,2147483647,-2147483648),ae<0&&(ae=4294967295+ae+1),this[ce]=ae>>>24,this[ce+1]=ae>>>16,this[ce+2]=ae>>>8,this[ce+3]=ae&255,ce+4},g.prototype.writeBigInt64LE=Ve(function(ae,ce=0){return B(this,ae,ce,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),g.prototype.writeBigInt64BE=Ve(function(ae,ce=0){return se(this,ae,ce,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Pe(me,ae,ce,Re,xe,Ye){if(ce+Re>me.length)throw new RangeError("Index out of range");if(ce<0)throw new RangeError("Index out of range")}function we(me,ae,ce,Re,xe){return ae=+ae,ce=ce>>>0,xe||Pe(me,ae,ce,4,34028234663852886e22,-34028234663852886e22),L.write(me,ae,ce,Re,23,4),ce+4}g.prototype.writeFloatLE=function(ae,ce,Re){return we(this,ae,ce,!0,Re)},g.prototype.writeFloatBE=function(ae,ce,Re){return we(this,ae,ce,!1,Re)};function _e(me,ae,ce,Re,xe){return ae=+ae,ce=ce>>>0,xe||Pe(me,ae,ce,8,17976931348623157e292,-17976931348623157e292),L.write(me,ae,ce,Re,52,8),ce+8}g.prototype.writeDoubleLE=function(ae,ce,Re){return _e(this,ae,ce,!0,Re)},g.prototype.writeDoubleBE=function(ae,ce,Re){return _e(this,ae,ce,!1,Re)},g.prototype.copy=function(ae,ce,Re,xe){if(!g.isBuffer(ae))throw new TypeError("argument should be a Buffer");if(Re||(Re=0),!xe&&xe!==0&&(xe=this.length),ce>=ae.length&&(ce=ae.length),ce||(ce=0),xe>0&&xe<Re&&(xe=Re),xe===Re||ae.length===0||this.length===0)return 0;if(ce<0)throw new RangeError("targetStart out of bounds");if(Re<0||Re>=this.length)throw new RangeError("Index out of range");if(xe<0)throw new RangeError("sourceEnd out of bounds");xe>this.length&&(xe=this.length),ae.length-ce<xe-Re&&(xe=ae.length-ce+Re);const Ye=xe-Re;return this===ae&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(ce,Re,xe):Uint8Array.prototype.set.call(ae,this.subarray(Re,xe),ce),Ye},g.prototype.fill=function(ae,ce,Re,xe){if(typeof ae=="string"){if(typeof ce=="string"?(xe=ce,ce=0,Re=this.length):typeof Re=="string"&&(xe=Re,Re=this.length),xe!==void 0&&typeof xe!="string")throw new TypeError("encoding must be a string");if(typeof xe=="string"&&!g.isEncoding(xe))throw new TypeError("Unknown encoding: "+xe);if(ae.length===1){const Ue=ae.charCodeAt(0);(xe==="utf8"&&Ue<128||xe==="latin1")&&(ae=Ue)}}else typeof ae=="number"?ae=ae&255:typeof ae=="boolean"&&(ae=Number(ae));if(ce<0||this.length<ce||this.length<Re)throw new RangeError("Out of range index");if(Re<=ce)return this;ce=ce>>>0,Re=Re===void 0?this.length:Re>>>0,ae||(ae=0);let Ye;if(typeof ae=="number")for(Ye=ce;Ye<Re;++Ye)this[Ye]=ae;else{const Ue=g.isBuffer(ae)?ae:g.from(ae,xe),Ze=Ue.length;if(Ze===0)throw new TypeError('The value "'+ae+'" is invalid for argument "value"');for(Ye=0;Ye<Re-ce;++Ye)this[Ye+ce]=Ue[Ye%Ze]}return this};const Me={};function te(me,ae,ce){Me[me]=class extends ce{constructor(){super(),Object.defineProperty(this,"message",{value:ae.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${me}]`,this.stack,delete this.name}get code(){return me}set code(xe){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:xe,writable:!0})}toString(){return`${this.name} [${me}]: ${this.message}`}}}te("ERR_BUFFER_OUT_OF_BOUNDS",function(me){return me?`${me} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),te("ERR_INVALID_ARG_TYPE",function(me,ae){return`The "${me}" argument must be of type number. Received type ${typeof ae}`},TypeError),te("ERR_OUT_OF_RANGE",function(me,ae,ce){let Re=`The value of "${me}" is out of range.`,xe=ce;return Number.isInteger(ce)&&Math.abs(ce)>4294967296?xe=re(String(ce)):typeof ce=="bigint"&&(xe=String(ce),(ce>BigInt(2)**BigInt(32)||ce<-(BigInt(2)**BigInt(32)))&&(xe=re(xe)),xe+="n"),Re+=` It must be ${ae}. Received ${xe}`,Re},RangeError);function re(me){let ae="",ce=me.length;const Re=me[0]==="-"?1:0;for(;ce>=Re+4;ce-=3)ae=`_${me.slice(ce-3,ce)}${ae}`;return`${me.slice(0,ce)}${ae}`}function ge(me,ae,ce){Ee(ae,"offset"),(me[ae]===void 0||me[ae+ce]===void 0)&&z(ae,me.length-(ce+1))}function ye(me,ae,ce,Re,xe,Ye){if(me>ce||me<ae){const Ue=typeof ae=="bigint"?"n":"";let Ze;throw Ye>3?ae===0||ae===BigInt(0)?Ze=`>= 0${Ue} and < 2${Ue} ** ${(Ye+1)*8}${Ue}`:Ze=`>= -(2${Ue} ** ${(Ye+1)*8-1}${Ue}) and < 2 ** ${(Ye+1)*8-1}${Ue}`:Ze=`>= ${ae}${Ue} and <= ${ce}${Ue}`,new Me.ERR_OUT_OF_RANGE("value",Ze,me)}ge(Re,xe,Ye)}function Ee(me,ae){if(typeof me!="number")throw new Me.ERR_INVALID_ARG_TYPE(ae,"number",me)}function z(me,ae,ce){throw Math.floor(me)!==me?(Ee(me,ce),new Me.ERR_OUT_OF_RANGE(ce||"offset","an integer",me)):ae<0?new Me.ERR_BUFFER_OUT_OF_BOUNDS:new Me.ERR_OUT_OF_RANGE(ce||"offset",`>= ${ce?1:0} and <= ${ae}`,me)}const T=/[^+/0-9A-Za-z-_]/g;function oe(me){if(me=me.split("=")[0],me=me.trim().replace(T,""),me.length<2)return"";for(;me.length%4!==0;)me=me+"=";return me}function fe(me,ae){ae=ae||1/0;let ce;const Re=me.length;let xe=null;const Ye=[];for(let Ue=0;Ue<Re;++Ue){if(ce=me.charCodeAt(Ue),ce>55295&&ce<57344){if(!xe){if(ce>56319){(ae-=3)>-1&&Ye.push(239,191,189);continue}else if(Ue+1===Re){(ae-=3)>-1&&Ye.push(239,191,189);continue}xe=ce;continue}if(ce<56320){(ae-=3)>-1&&Ye.push(239,191,189),xe=ce;continue}ce=(xe-55296<<10|ce-56320)+65536}else xe&&(ae-=3)>-1&&Ye.push(239,191,189);if(xe=null,ce<128){if((ae-=1)<0)break;Ye.push(ce)}else if(ce<2048){if((ae-=2)<0)break;Ye.push(ce>>6|192,ce&63|128)}else if(ce<65536){if((ae-=3)<0)break;Ye.push(ce>>12|224,ce>>6&63|128,ce&63|128)}else if(ce<1114112){if((ae-=4)<0)break;Ye.push(ce>>18|240,ce>>12&63|128,ce>>6&63|128,ce&63|128)}else throw new Error("Invalid code point")}return Ye}function de(me){const ae=[];for(let ce=0;ce<me.length;++ce)ae.push(me.charCodeAt(ce)&255);return ae}function ue(me,ae){let ce,Re,xe;const Ye=[];for(let Ue=0;Ue<me.length&&!((ae-=2)<0);++Ue)ce=me.charCodeAt(Ue),Re=ce>>8,xe=ce%256,Ye.push(xe),Ye.push(Re);return Ye}function ve(me){return P.toByteArray(oe(me))}function Fe(me,ae,ce,Re){let xe;for(xe=0;xe<Re&&!(xe+ce>=ae.length||xe>=me.length);++xe)ae[xe+ce]=me[xe];return xe}function Oe(me,ae){return me instanceof ae||me!=null&&me.constructor!=null&&me.constructor.name!=null&&me.constructor.name===ae.name}function $e(me){return me!==me}const qe=function(){const me="0123456789abcdef",ae=new Array(256);for(let ce=0;ce<16;++ce){const Re=ce*16;for(let xe=0;xe<16;++xe)ae[Re+xe]=me[ce]+me[xe]}return ae}();function Ve(me){return typeof BigInt=="undefined"?Je:me}function Je(){throw new Error("BigInt not supported")}},86866:s=>{s.exports={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"}},13144:(s,G,F)=>{"use strict";var P=F(84742),L=F(11002),D=F(10076),A=F(47119);s.exports=A||P.call(D,L)},12205:(s,G,F)=>{"use strict";var P=F(84742),L=F(11002),D=F(13144);s.exports=function(){return D(P,L,arguments)}},11002:s=>{"use strict";s.exports=Function.prototype.apply},10076:s=>{"use strict";s.exports=Function.prototype.call},73126:(s,G,F)=>{"use strict";var P=F(84742),L=F(69675),D=F(10076),A=F(13144);s.exports=function(m){if(m.length<1||typeof m[0]!="function")throw new L("a function is required");return A(P,D,m)}},80702:s=>{"use strict";var G="Function.prototype.bind called on incompatible ",F=Object.prototype.toString,P=Math.max,L="[object Function]",D=function(g,p){for(var k=[],b=0;b<g.length;b+=1)k[b]=g[b];for(var l=0;l<p.length;l+=1)k[l+g.length]=p[l];return k},A=function(g,p){for(var k=[],b=p||0,l=0;b<g.length;b+=1,l+=1)k[l]=g[b];return k},h=function(m,g){for(var p="",k=0;k<m.length;k+=1)p+=m[k],k+1<m.length&&(p+=g);return p};s.exports=function(g){var p=this;if(typeof p!="function"||F.apply(p)!==L)throw new TypeError(G+p);for(var k=A(arguments,1),b,l=function(){if(this instanceof b){var w=p.apply(this,D(k,arguments));return Object(w)===w?w:this}return p.apply(g,D(k,arguments))},E=P(0,p.length-k.length),c=[],v=0;v<E;v++)c[v]="$"+v;if(b=Function("binder","return function ("+h(c,",")+"){ return binder.apply(this,arguments); }")(l),p.prototype){var f=function(){};f.prototype=p.prototype,b.prototype=new f,f.prototype=null}return b}},84742:(s,G,F)=>{"use strict";var P=F(80702);s.exports=Function.prototype.bind||P},47119:s=>{"use strict";s.exports=typeof Reflect!="undefined"&&Reflect&&Reflect.apply},10487:(s,G,F)=>{"use strict";var P=F(96897),L=F(30655),D=F(73126),A=F(12205);s.exports=function(m){var g=D(arguments),p=m.length-(arguments.length-1);return P(g,1+(p>0?p:0),!0)},L?L(s.exports,"apply",{value:A}):s.exports.apply=A},36556:(s,G,F)=>{"use strict";var P=F(70453),L=F(73126),D=L([P("%String.prototype.indexOf%")]);s.exports=function(h,m){var g=P(h,!!m);return typeof g=="function"&&D(h,".prototype.")>-1?L([g]):g}},56168:(s,G,F)=>{"use strict";var P=F(92861).Buffer,L=F(88310).Transform,D=F(83141).I,A=F(56698);function h(k){L.call(this),this.hashMode=typeof k=="string",this.hashMode?this[k]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}A(h,L);var m=typeof Uint8Array!="undefined",g=typeof ArrayBuffer!="undefined"&&typeof Uint8Array!="undefined"&&ArrayBuffer.isView&&(P.prototype instanceof Uint8Array||P.TYPED_ARRAY_SUPPORT);function p(k,b){if(k instanceof P)return k;if(typeof k=="string")return P.from(k,b);if(g&&ArrayBuffer.isView(k)){if(k.byteLength===0)return P.alloc(0);var l=P.from(k.buffer,k.byteOffset,k.byteLength);if(l.byteLength===k.byteLength)return l}if(m&&k instanceof Uint8Array||P.isBuffer(k)&&k.constructor&&typeof k.constructor.isBuffer=="function"&&k.constructor.isBuffer(k))return P.from(k);throw new TypeError('The "data" argument must be of type string or an instance of Buffer, TypedArray, or DataView.')}h.prototype.update=function(k,b,l){var E=p(k,b),c=this._update(E);return this.hashMode?this:(l&&(c=this._toString(c,l)),c)},h.prototype.setAutoPadding=function(){},h.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},h.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},h.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},h.prototype._transform=function(k,b,l){var E;try{this.hashMode?this._update(k):this.push(this._update(k))}catch(c){E=c}finally{l(E)}},h.prototype._flush=function(k){var b;try{this.push(this.__final())}catch(l){b=l}k(b)},h.prototype._finalOrDigest=function(k){var b=this.__final()||P.alloc(0);return k&&(b=this._toString(b,k,!0)),b},h.prototype._toString=function(k,b,l){if(this._decoder||(this._decoder=new D(b),this._encoding=b),this._encoding!==b)throw new Error("can\u2019t switch encodings");var E=this._decoder.write(k);return l&&(E+=this._decoder.end()),E},s.exports=h},61324:(s,G,F)=>{var P=F(48287).Buffer,L=F(86729),D=F(39404);s.exports=function(p){return new h(p)};var A={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};A.p224=A.secp224r1,A.p256=A.secp256r1=A.prime256v1,A.p192=A.secp192r1=A.prime192v1,A.p384=A.secp384r1,A.p521=A.secp521r1;function h(g){this.curveType=A[g],this.curveType||(this.curveType={name:g}),this.curve=new L.ec(this.curveType.name),this.keys=void 0}h.prototype.generateKeys=function(g,p){return this.keys=this.curve.genKeyPair(),this.getPublicKey(g,p)},h.prototype.computeSecret=function(g,p,k){p=p||"utf8",P.isBuffer(g)||(g=new P(g,p));var b=this.curve.keyFromPublic(g).getPublic(),l=b.mul(this.keys.getPrivate()).getX();return m(l,k,this.curveType.byteLength)},h.prototype.getPublicKey=function(g,p){var k=this.keys.getPublic(p==="compressed",!0);return p==="hybrid"&&(k[k.length-1]%2?k[0]=7:k[0]=6),m(k,g)},h.prototype.getPrivateKey=function(g){return m(this.keys.getPrivate(),g)},h.prototype.setPublicKey=function(g,p){return p=p||"utf8",P.isBuffer(g)||(g=new P(g,p)),this.keys._importPublic(g),this},h.prototype.setPrivateKey=function(g,p){p=p||"utf8",P.isBuffer(g)||(g=new P(g,p));var k=new D(g);return k=k.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(k),this};function m(g,p,k){Array.isArray(g)||(g=g.toArray());var b=new P(g);if(k&&b.length<k){var l=new P(k-b.length);l.fill(0),b=P.concat([l,b])}return p?b.toString(p):b}},47108:(s,G,F)=>{"use strict";var P=F(56698),L=F(88276),D=F(66011),A=F(62802),h=F(56168);function m(g){h.call(this,"digest"),this._hash=g}P(m,h),m.prototype._update=function(g){this._hash.update(g)},m.prototype._final=function(){return this._hash.digest()},s.exports=function(p){return p=p.toLowerCase(),p==="md5"?new L:p==="rmd160"||p==="ripemd160"?new D:new m(A(p))}},20320:(s,G,F)=>{var P=F(88276);s.exports=function(L){return new P().update(L).digest()}},83507:(s,G,F)=>{"use strict";var P=F(56698),L=F(41800),D=F(56168),A=F(92861).Buffer,h=F(20320),m=F(66011),g=F(62802),p=A.alloc(128);function k(b,l){D.call(this,"digest"),typeof l=="string"&&(l=A.from(l));var E=b==="sha512"||b==="sha384"?128:64;if(this._alg=b,this._key=l,l.length>E){var c=b==="rmd160"?new m:g(b);l=c.update(l).digest()}else l.length<E&&(l=A.concat([l,p],E));for(var v=this._ipad=A.allocUnsafe(E),f=this._opad=A.allocUnsafe(E),w=0;w<E;w++)v[w]=l[w]^54,f[w]=l[w]^92;this._hash=b==="rmd160"?new m:g(b),this._hash.update(v)}P(k,D),k.prototype._update=function(b){this._hash.update(b)},k.prototype._final=function(){var b=this._hash.digest(),l=this._alg==="rmd160"?new m:g(this._alg);return l.update(this._opad).update(b).digest()},s.exports=function(l,E){return l=l.toLowerCase(),l==="rmd160"||l==="ripemd160"?new k("rmd160",E):l==="md5"?new L(h,E):new k(l,E)}},41800:(s,G,F)=>{"use strict";var P=F(56698),L=F(92861).Buffer,D=F(56168),A=L.alloc(128),h=64;function m(g,p){D.call(this,"digest"),typeof p=="string"&&(p=L.from(p)),this._alg=g,this._key=p,p.length>h?p=g(p):p.length<h&&(p=L.concat([p,A],h));for(var k=this._ipad=L.allocUnsafe(h),b=this._opad=L.allocUnsafe(h),l=0;l<h;l++)k[l]=p[l]^54,b[l]=p[l]^92;this._hash=[k]}P(m,D),m.prototype._update=function(g){this._hash.push(g)},m.prototype._final=function(){var g=this._alg(L.concat(this._hash));return this._alg(L.concat([this._opad,g]))},s.exports=m},74945:function(s,G){var F=typeof self!="undefined"?self:this,P=function(){function D(){this.fetch=!1,this.DOMException=F.DOMException}return D.prototype=F,new D}();(function(D){var A=function(h){var m={searchParams:"URLSearchParams"in D,iterable:"Symbol"in D&&"iterator"in Symbol,blob:"FileReader"in D&&"Blob"in D&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in D,arrayBuffer:"ArrayBuffer"in D};function g(H){return H&&DataView.prototype.isPrototypeOf(H)}if(m.arrayBuffer)var p=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],k=ArrayBuffer.isView||function(H){return H&&p.indexOf(Object.prototype.toString.call(H))>-1};function b(H){if(typeof H!="string"&&(H=String(H)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(H))throw new TypeError("Invalid character in header field name");return H.toLowerCase()}function l(H){return typeof H!="string"&&(H=String(H)),H}function E(H){var I={next:function(){var u=H.shift();return{done:u===void 0,value:u}}};return m.iterable&&(I[Symbol.iterator]=function(){return I}),I}function c(H){this.map={},H instanceof c?H.forEach(function(I,u){this.append(u,I)},this):Array.isArray(H)?H.forEach(function(I){this.append(I[0],I[1])},this):H&&Object.getOwnPropertyNames(H).forEach(function(I){this.append(I,H[I])},this)}c.prototype.append=function(H,I){H=b(H),I=l(I);var u=this.map[H];this.map[H]=u?u+", "+I:I},c.prototype.delete=function(H){delete this.map[b(H)]},c.prototype.get=function(H){return H=b(H),this.has(H)?this.map[H]:null},c.prototype.has=function(H){return this.map.hasOwnProperty(b(H))},c.prototype.set=function(H,I){this.map[b(H)]=l(I)},c.prototype.forEach=function(H,I){for(var u in this.map)this.map.hasOwnProperty(u)&&H.call(I,this.map[u],u,this)},c.prototype.keys=function(){var H=[];return this.forEach(function(I,u){H.push(u)}),E(H)},c.prototype.values=function(){var H=[];return this.forEach(function(I){H.push(I)}),E(H)},c.prototype.entries=function(){var H=[];return this.forEach(function(I,u){H.push([u,I])}),E(H)},m.iterable&&(c.prototype[Symbol.iterator]=c.prototype.entries);function v(H){if(H.bodyUsed)return Promise.reject(new TypeError("Already read"));H.bodyUsed=!0}function f(H){return new Promise(function(I,u){H.onload=function(){I(H.result)},H.onerror=function(){u(H.error)}})}function w(H){var I=new FileReader,u=f(I);return I.readAsArrayBuffer(H),u}function _(H){var I=new FileReader,u=f(I);return I.readAsText(H),u}function R(H){for(var I=new Uint8Array(H),u=new Array(I.length),N=0;N<I.length;N++)u[N]=String.fromCharCode(I[N]);return u.join("")}function M(H){if(H.slice)return H.slice(0);var I=new Uint8Array(H.byteLength);return I.set(new Uint8Array(H)),I.buffer}function U(){return this.bodyUsed=!1,this._initBody=function(H){this._bodyInit=H,H?typeof H=="string"?this._bodyText=H:m.blob&&Blob.prototype.isPrototypeOf(H)?this._bodyBlob=H:m.formData&&FormData.prototype.isPrototypeOf(H)?this._bodyFormData=H:m.searchParams&&URLSearchParams.prototype.isPrototypeOf(H)?this._bodyText=H.toString():m.arrayBuffer&&m.blob&&g(H)?(this._bodyArrayBuffer=M(H.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):m.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(H)||k(H))?this._bodyArrayBuffer=M(H):this._bodyText=H=Object.prototype.toString.call(H):this._bodyText="",this.headers.get("content-type")||(typeof H=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):m.searchParams&&URLSearchParams.prototype.isPrototypeOf(H)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},m.blob&&(this.blob=function(){var H=v(this);if(H)return H;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?v(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(w)}),this.text=function(){var H=v(this);if(H)return H;if(this._bodyBlob)return _(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(R(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},m.formData&&(this.formData=function(){return this.text().then(Q)}),this.json=function(){return this.text().then(JSON.parse)},this}var x=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function y(H){var I=H.toUpperCase();return x.indexOf(I)>-1?I:H}function W(H,I){I=I||{};var u=I.body;if(H instanceof W){if(H.bodyUsed)throw new TypeError("Already read");this.url=H.url,this.credentials=H.credentials,I.headers||(this.headers=new c(H.headers)),this.method=H.method,this.mode=H.mode,this.signal=H.signal,!u&&H._bodyInit!=null&&(u=H._bodyInit,H.bodyUsed=!0)}else this.url=String(H);if(this.credentials=I.credentials||this.credentials||"same-origin",(I.headers||!this.headers)&&(this.headers=new c(I.headers)),this.method=y(I.method||this.method||"GET"),this.mode=I.mode||this.mode||null,this.signal=I.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&u)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(u)}W.prototype.clone=function(){return new W(this,{body:this._bodyInit})};function Q(H){var I=new FormData;return H.trim().split("&").forEach(function(u){if(u){var N=u.split("="),q=N.shift().replace(/\+/g," "),V=N.join("=").replace(/\+/g," ");I.append(decodeURIComponent(q),decodeURIComponent(V))}}),I}function Z(H){var I=new c,u=H.replace(/\r?\n[\t ]+/g," ");return u.split(/\r?\n/).forEach(function(N){var q=N.split(":"),V=q.shift().trim();if(V){var K=q.join(":").trim();I.append(V,K)}}),I}U.call(W.prototype);function ee(H,I){I||(I={}),this.type="default",this.status=I.status===void 0?200:I.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in I?I.statusText:"OK",this.headers=new c(I.headers),this.url=I.url||"",this._initBody(H)}U.call(ee.prototype),ee.prototype.clone=function(){return new ee(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new c(this.headers),url:this.url})},ee.error=function(){var H=new ee(null,{status:0,statusText:""});return H.type="error",H};var J=[301,302,303,307,308];ee.redirect=function(H,I){if(J.indexOf(I)===-1)throw new RangeError("Invalid status code");return new ee(null,{status:I,headers:{location:H}})},h.DOMException=D.DOMException;try{new h.DOMException}catch{h.DOMException=function(I,u){this.message=I,this.name=u;var N=Error(I);this.stack=N.stack},h.DOMException.prototype=Object.create(Error.prototype),h.DOMException.prototype.constructor=h.DOMException}function O(H,I){return new Promise(function(u,N){var q=new W(H,I);if(q.signal&&q.signal.aborted)return N(new h.DOMException("Aborted","AbortError"));var V=new XMLHttpRequest;function K(){V.abort()}V.onload=function(){var j={status:V.status,statusText:V.statusText,headers:Z(V.getAllResponseHeaders()||"")};j.url="responseURL"in V?V.responseURL:j.headers.get("X-Request-URL");var ie="response"in V?V.response:V.responseText;u(new ee(ie,j))},V.onerror=function(){N(new TypeError("Network request failed"))},V.ontimeout=function(){N(new TypeError("Network request failed"))},V.onabort=function(){N(new h.DOMException("Aborted","AbortError"))},V.open(q.method,q.url,!0),q.credentials==="include"?V.withCredentials=!0:q.credentials==="omit"&&(V.withCredentials=!1),"responseType"in V&&m.blob&&(V.responseType="blob"),q.headers.forEach(function(j,ie){V.setRequestHeader(ie,j)}),q.signal&&(q.signal.addEventListener("abort",K),V.onreadystatechange=function(){V.readyState===4&&q.signal.removeEventListener("abort",K)}),V.send(typeof q._bodyInit=="undefined"?null:q._bodyInit)})}return O.polyfill=!0,D.fetch||(D.fetch=O,D.Headers=c,D.Request=W,D.Response=ee),h.Headers=c,h.Request=W,h.Response=ee,h.fetch=O,Object.defineProperty(h,"__esModule",{value:!0}),h}({})})(P),P.fetch.ponyfill=!0,delete P.fetch.polyfill;var L=P;G=L.fetch,G.default=L.fetch,G.fetch=L.fetch,G.Headers=L.Headers,G.Request=L.Request,G.Response=L.Response,s.exports=G},91565:(s,G,F)=>{"use strict";var P;P=P=P=F(53209),G.n1=F(47108),P=F(83507);var L=F(55715),D=Object.keys(L),A=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(D);P=function(){return A};var h=F(78396);P=h.pbkdf2,P=h.pbkdf2Sync;var m=F(30125);P=m.Cipher,P=m.createCipher,P=m.Cipheriv,P=m.createCipheriv,P=m.Decipher,P=m.createDecipher,P=m.Decipheriv,P=m.createDecipheriv,P=m.getCiphers,P=m.listCiphers;var g=F(15380);P=g.DiffieHellmanGroup,P=g.createDiffieHellmanGroup,P=g.getDiffieHellman,P=g.createDiffieHellman,P=g.DiffieHellman;var p=F(20);P=p.createSign,P=p.Sign,P=p.createVerify,P=p.Verify,F(61324);var k=F(97168);P=k.publicEncrypt,P=k.privateEncrypt,P=k.publicDecrypt,P=k.privateDecrypt;var b=F(76983);P=b.randomFill,P=b.randomFillSync,P=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join(`
`))},P={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}},74353:function(s){(function(G,F){s.exports=F()})(this,function(){"use strict";var G="millisecond",F="second",P="minute",L="hour",D="day",A="week",h="month",m="quarter",g="year",p="date",k=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[^0-9]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,b=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,l={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},E=function(y,W,Q){var Z=String(y);return!Z||Z.length>=W?y:""+Array(W+1-Z.length).join(Q)+y},c={s:E,z:function(y){var W=-y.utcOffset(),Q=Math.abs(W),Z=Math.floor(Q/60),ee=Q%60;return(W<=0?"+":"-")+E(Z,2,"0")+":"+E(ee,2,"0")},m:function y(W,Q){if(W.date()<Q.date())return-y(Q,W);var Z=12*(Q.year()-W.year())+(Q.month()-W.month()),ee=W.clone().add(Z,h),J=Q-ee<0,O=W.clone().add(Z+(J?-1:1),h);return+(-(Z+(Q-ee)/(J?ee-O:O-ee))||0)},a:function(y){return y<0?Math.ceil(y)||0:Math.floor(y)},p:function(y){return{M:h,y:g,w:A,d:D,D:p,h:L,m:P,s:F,ms:G,Q:m}[y]||String(y||"").toLowerCase().replace(/s$/,"")},u:function(y){return y===void 0}},v="en",f={};f[v]=l;var w=function(y){return y instanceof U},_=function(y,W,Q){var Z;if(!y)return v;if(typeof y=="string")f[y]&&(Z=y),W&&(f[y]=W,Z=y);else{var ee=y.name;f[ee]=y,Z=ee}return!Q&&Z&&(v=Z),Z||!Q&&v},R=function(y,W){if(w(y))return y.clone();var Q=typeof W=="object"?W:{};return Q.date=y,Q.args=arguments,new U(Q)},M=c;M.l=_,M.i=w,M.w=function(y,W){return R(y,{locale:W.$L,utc:W.$u,x:W.$x,$offset:W.$offset})};var U=function(){function y(Q){this.$L=_(Q.locale,null,!0),this.parse(Q)}var W=y.prototype;return W.parse=function(Q){this.$d=function(Z){var ee=Z.date,J=Z.utc;if(ee===null)return new Date(NaN);if(M.u(ee))return new Date;if(ee instanceof Date)return new Date(ee);if(typeof ee=="string"&&!/Z$/i.test(ee)){var O=ee.match(k);if(O){var H=O[2]-1||0,I=(O[7]||"0").substring(0,3);return J?new Date(Date.UTC(O[1],H,O[3]||1,O[4]||0,O[5]||0,O[6]||0,I)):new Date(O[1],H,O[3]||1,O[4]||0,O[5]||0,O[6]||0,I)}}return new Date(ee)}(Q),this.$x=Q.x||{},this.init()},W.init=function(){var Q=this.$d;this.$y=Q.getFullYear(),this.$M=Q.getMonth(),this.$D=Q.getDate(),this.$W=Q.getDay(),this.$H=Q.getHours(),this.$m=Q.getMinutes(),this.$s=Q.getSeconds(),this.$ms=Q.getMilliseconds()},W.$utils=function(){return M},W.isValid=function(){return this.$d.toString()!=="Invalid Date"},W.isSame=function(Q,Z){var ee=R(Q);return this.startOf(Z)<=ee&&ee<=this.endOf(Z)},W.isAfter=function(Q,Z){return R(Q)<this.startOf(Z)},W.isBefore=function(Q,Z){return this.endOf(Z)<R(Q)},W.$g=function(Q,Z,ee){return M.u(Q)?this[Z]:this.set(ee,Q)},W.unix=function(){return Math.floor(this.valueOf()/1e3)},W.valueOf=function(){return this.$d.getTime()},W.startOf=function(Q,Z){var ee=this,J=!!M.u(Z)||Z,O=M.p(Q),H=function(ie,X){var B=M.w(ee.$u?Date.UTC(ee.$y,X,ie):new Date(ee.$y,X,ie),ee);return J?B:B.endOf(D)},I=function(ie,X){return M.w(ee.toDate()[ie].apply(ee.toDate("s"),(J?[0,0,0,0]:[23,59,59,999]).slice(X)),ee)},u=this.$W,N=this.$M,q=this.$D,V="set"+(this.$u?"UTC":"");switch(O){case g:return J?H(1,0):H(31,11);case h:return J?H(1,N):H(0,N+1);case A:var K=this.$locale().weekStart||0,j=(u<K?u+7:u)-K;return H(J?q-j:q+(6-j),N);case D:case p:return I(V+"Hours",0);case L:return I(V+"Minutes",1);case P:return I(V+"Seconds",2);case F:return I(V+"Milliseconds",3);default:return this.clone()}},W.endOf=function(Q){return this.startOf(Q,!1)},W.$set=function(Q,Z){var ee,J=M.p(Q),O="set"+(this.$u?"UTC":""),H=(ee={},ee[D]=O+"Date",ee[p]=O+"Date",ee[h]=O+"Month",ee[g]=O+"FullYear",ee[L]=O+"Hours",ee[P]=O+"Minutes",ee[F]=O+"Seconds",ee[G]=O+"Milliseconds",ee)[J],I=J===D?this.$D+(Z-this.$W):Z;if(J===h||J===g){var u=this.clone().set(p,1);u.$d[H](I),u.init(),this.$d=u.set(p,Math.min(this.$D,u.daysInMonth())).$d}else H&&this.$d[H](I);return this.init(),this},W.set=function(Q,Z){return this.clone().$set(Q,Z)},W.get=function(Q){return this[M.p(Q)]()},W.add=function(Q,Z){var ee,J=this;Q=Number(Q);var O=M.p(Z),H=function(N){var q=R(J);return M.w(q.date(q.date()+Math.round(N*Q)),J)};if(O===h)return this.set(h,this.$M+Q);if(O===g)return this.set(g,this.$y+Q);if(O===D)return H(1);if(O===A)return H(7);var I=(ee={},ee[P]=6e4,ee[L]=36e5,ee[F]=1e3,ee)[O]||1,u=this.$d.getTime()+Q*I;return M.w(u,this)},W.subtract=function(Q,Z){return this.add(-1*Q,Z)},W.format=function(Q){var Z=this;if(!this.isValid())return"Invalid Date";var ee=Q||"YYYY-MM-DDTHH:mm:ssZ",J=M.z(this),O=this.$locale(),H=this.$H,I=this.$m,u=this.$M,N=O.weekdays,q=O.months,V=function(X,B,se,Pe){return X&&(X[B]||X(Z,ee))||se[B].substr(0,Pe)},K=function(X){return M.s(H%12||12,X,"0")},j=O.meridiem||function(X,B,se){var Pe=X<12?"AM":"PM";return se?Pe.toLowerCase():Pe},ie={YY:String(this.$y).slice(-2),YYYY:this.$y,M:u+1,MM:M.s(u+1,2,"0"),MMM:V(O.monthsShort,u,q,3),MMMM:V(q,u),D:this.$D,DD:M.s(this.$D,2,"0"),d:String(this.$W),dd:V(O.weekdaysMin,this.$W,N,2),ddd:V(O.weekdaysShort,this.$W,N,3),dddd:N[this.$W],H:String(H),HH:M.s(H,2,"0"),h:K(1),hh:K(2),a:j(H,I,!0),A:j(H,I,!1),m:String(I),mm:M.s(I,2,"0"),s:String(this.$s),ss:M.s(this.$s,2,"0"),SSS:M.s(this.$ms,3,"0"),Z:J};return ee.replace(b,function(X,B){return B||ie[X]||J.replace(":","")})},W.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},W.diff=function(Q,Z,ee){var J,O=M.p(Z),H=R(Q),I=6e4*(H.utcOffset()-this.utcOffset()),u=this-H,N=M.m(this,H);return N=(J={},J[g]=N/12,J[h]=N,J[m]=N/3,J[A]=(u-I)/6048e5,J[D]=(u-I)/864e5,J[L]=u/36e5,J[P]=u/6e4,J[F]=u/1e3,J)[O]||u,ee?N:M.a(N)},W.daysInMonth=function(){return this.endOf(h).$D},W.$locale=function(){return f[this.$L]},W.locale=function(Q,Z){if(!Q)return this.$L;var ee=this.clone(),J=_(Q,Z,!0);return J&&(ee.$L=J),ee},W.clone=function(){return M.w(this.$d,this)},W.toDate=function(){return new Date(this.valueOf())},W.toJSON=function(){return this.isValid()?this.toISOString():null},W.toISOString=function(){return this.$d.toISOString()},W.toString=function(){return this.$d.toUTCString()},y}(),x=U.prototype;return R.prototype=x,[["$ms",G],["$s",F],["$m",P],["$H",L],["$W",D],["$M",h],["$y",g],["$D",p]].forEach(function(y){x[y[1]]=function(W){return this.$g(W,y[0],y[1])}}),R.extend=function(y,W){return y.$i||(y(W,U,R),y.$i=!0),R},R.locale=_,R.isDayjs=w,R.unix=function(y){return R(1e3*y)},R.en=f[v],R.Ls=f,R.p={},R})},6279:function(s){(function(G,F){s.exports=F()})(this,function(){"use strict";return function(G,F,P){G=G||{};var L=F.prototype,D={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function A(m,g,p,k){return L.fromToBase(m,g,p,k)}P.en.relativeTime=D,L.fromToBase=function(m,g,p,k,b){for(var l,E,c,v=p.$locale().relativeTime||D,f=G.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],w=f.length,_=0;_<w;_+=1){var R=f[_];R.d&&(l=k?P(m).diff(p,R.d,!0):p.diff(m,R.d,!0));var M=(G.rounding||Math.round)(Math.abs(l));if(c=l>0,M<=R.r||!R.r){M<=1&&_>0&&(R=f[_-1]);var U=v[R.l];b&&(M=b(""+M)),E=typeof U=="string"?U.replace("%d",M):U(M,g,R.l,c);break}}if(g)return E;var x=c?v.future:v.past;return typeof x=="function"?x(E):x.replace("%s",E)},L.to=function(m,g){return A(m,g,this,!0)},L.from=function(m,g){return A(m,g,this)};var h=function(m){return m.$u?P.utc():P()};L.toNow=function(m){return this.to(h(this),m)},L.fromNow=function(m){return this.from(h(this),m)}}})},53581:function(s){(function(G,F){s.exports=F()})(this,function(){"use strict";return function(G,F,P){P.updateLocale=function(L,D){var A=P.Ls[L];if(A)return(D?Object.keys(D):[]).forEach(function(h){A[h]=D[h]}),A}}})},30041:(s,G,F)=>{"use strict";var P=F(30655),L=F(58068),D=F(69675),A=F(75795);s.exports=function(m,g,p){if(!m||typeof m!="object"&&typeof m!="function")throw new D("`obj` must be an object or a function`");if(typeof g!="string"&&typeof g!="symbol")throw new D("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new D("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new D("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new D("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new D("`loose`, if provided, must be a boolean");var k=arguments.length>3?arguments[3]:null,b=arguments.length>4?arguments[4]:null,l=arguments.length>5?arguments[5]:null,E=arguments.length>6?arguments[6]:!1,c=!!A&&A(m,g);if(P)P(m,g,{configurable:l===null&&c?c.configurable:!l,enumerable:k===null&&c?c.enumerable:!k,value:p,writable:b===null&&c?c.writable:!b});else if(E||!k&&!b&&!l)m[g]=p;else throw new L("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")}},29560:(s,G,F)=>{"use strict";G.utils=F(87626),G.Cipher=F(82808),G.DES=F(82211),G.CBC=F(3389),G.EDE=F(65279)},3389:(s,G,F)=>{"use strict";var P=F(43349),L=F(56698),D={};function A(m){P.equal(m.length,8,"Invalid IV length"),this.iv=new Array(8);for(var g=0;g<this.iv.length;g++)this.iv[g]=m[g]}function h(m){function g(l){m.call(this,l),this._cbcInit()}L(g,m);for(var p=Object.keys(D),k=0;k<p.length;k++){var b=p[k];g.prototype[b]=D[b]}return g.create=function(E){return new g(E)},g}G.instantiate=h,D._cbcInit=function(){var g=new A(this.options.iv);this._cbcState=g},D._update=function(g,p,k,b){var l=this._cbcState,E=this.constructor.super_.prototype,c=l.iv;if(this.type==="encrypt"){for(var v=0;v<this.blockSize;v++)c[v]^=g[p+v];E._update.call(this,c,0,k,b);for(var v=0;v<this.blockSize;v++)c[v]=k[b+v]}else{E._update.call(this,g,p,k,b);for(var v=0;v<this.blockSize;v++)k[b+v]^=c[v];for(var v=0;v<this.blockSize;v++)c[v]=g[p+v]}}},82808:(s,G,F)=>{"use strict";var P=F(43349);function L(D){this.options=D,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0}s.exports=L,L.prototype._init=function(){},L.prototype.update=function(A){return A.length===0?[]:this.type==="decrypt"?this._updateDecrypt(A):this._updateEncrypt(A)},L.prototype._buffer=function(A,h){for(var m=Math.min(this.buffer.length-this.bufferOff,A.length-h),g=0;g<m;g++)this.buffer[this.bufferOff+g]=A[h+g];return this.bufferOff+=m,m},L.prototype._flushBuffer=function(A,h){return this._update(this.buffer,0,A,h),this.bufferOff=0,this.blockSize},L.prototype._updateEncrypt=function(A){var h=0,m=0,g=(this.bufferOff+A.length)/this.blockSize|0,p=new Array(g*this.blockSize);this.bufferOff!==0&&(h+=this._buffer(A,h),this.bufferOff===this.buffer.length&&(m+=this._flushBuffer(p,m)));for(var k=A.length-(A.length-h)%this.blockSize;h<k;h+=this.blockSize)this._update(A,h,p,m),m+=this.blockSize;for(;h<A.length;h++,this.bufferOff++)this.buffer[this.bufferOff]=A[h];return p},L.prototype._updateDecrypt=function(A){for(var h=0,m=0,g=Math.ceil((this.bufferOff+A.length)/this.blockSize)-1,p=new Array(g*this.blockSize);g>0;g--)h+=this._buffer(A,h),m+=this._flushBuffer(p,m);return h+=this._buffer(A,h),p},L.prototype.final=function(A){var h;A&&(h=this.update(A));var m;return this.type==="encrypt"?m=this._finalEncrypt():m=this._finalDecrypt(),h?h.concat(m):m},L.prototype._pad=function(A,h){if(h===0)return!1;for(;h<A.length;)A[h++]=0;return!0},L.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var A=new Array(this.blockSize);return this._update(this.buffer,0,A,0),A},L.prototype._unpad=function(A){return A},L.prototype._finalDecrypt=function(){P.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var A=new Array(this.blockSize);return this._flushBuffer(A,0),this._unpad(A)}},82211:(s,G,F)=>{"use strict";var P=F(43349),L=F(56698),D=F(87626),A=F(82808);function h(){this.tmp=new Array(2),this.keys=null}function m(p){A.call(this,p);var k=new h;this._desState=k,this.deriveKeys(k,p.key)}L(m,A),s.exports=m,m.create=function(k){return new m(k)};var g=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];m.prototype.deriveKeys=function(k,b){k.keys=new Array(32),P.equal(b.length,this.blockSize,"Invalid key length");var l=D.readUInt32BE(b,0),E=D.readUInt32BE(b,4);D.pc1(l,E,k.tmp,0),l=k.tmp[0],E=k.tmp[1];for(var c=0;c<k.keys.length;c+=2){var v=g[c>>>1];l=D.r28shl(l,v),E=D.r28shl(E,v),D.pc2(l,E,k.keys,c)}},m.prototype._update=function(k,b,l,E){var c=this._desState,v=D.readUInt32BE(k,b),f=D.readUInt32BE(k,b+4);D.ip(v,f,c.tmp,0),v=c.tmp[0],f=c.tmp[1],this.type==="encrypt"?this._encrypt(c,v,f,c.tmp,0):this._decrypt(c,v,f,c.tmp,0),v=c.tmp[0],f=c.tmp[1],D.writeUInt32BE(l,v,E),D.writeUInt32BE(l,f,E+4)},m.prototype._pad=function(k,b){for(var l=k.length-b,E=b;E<k.length;E++)k[E]=l;return!0},m.prototype._unpad=function(k){for(var b=k[k.length-1],l=k.length-b;l<k.length;l++)P.equal(k[l],b);return k.slice(0,k.length-b)},m.prototype._encrypt=function(k,b,l,E,c){for(var v=b,f=l,w=0;w<k.keys.length;w+=2){var _=k.keys[w],R=k.keys[w+1];D.expand(f,k.tmp,0),_^=k.tmp[0],R^=k.tmp[1];var M=D.substitute(_,R),U=D.permute(M),x=f;f=(v^U)>>>0,v=x}D.rip(f,v,E,c)},m.prototype._decrypt=function(k,b,l,E,c){for(var v=l,f=b,w=k.keys.length-2;w>=0;w-=2){var _=k.keys[w],R=k.keys[w+1];D.expand(v,k.tmp,0),_^=k.tmp[0],R^=k.tmp[1];var M=D.substitute(_,R),U=D.permute(M),x=v;v=(f^U)>>>0,f=x}D.rip(v,f,E,c)}},65279:(s,G,F)=>{"use strict";var P=F(43349),L=F(56698),D=F(82808),A=F(82211);function h(g,p){P.equal(p.length,24,"Invalid key length");var k=p.slice(0,8),b=p.slice(8,16),l=p.slice(16,24);g==="encrypt"?this.ciphers=[A.create({type:"encrypt",key:k}),A.create({type:"decrypt",key:b}),A.create({type:"encrypt",key:l})]:this.ciphers=[A.create({type:"decrypt",key:l}),A.create({type:"encrypt",key:b}),A.create({type:"decrypt",key:k})]}function m(g){D.call(this,g);var p=new h(this.type,this.options.key);this._edeState=p}L(m,D),s.exports=m,m.create=function(p){return new m(p)},m.prototype._update=function(p,k,b,l){var E=this._edeState;E.ciphers[0]._update(p,k,b,l),E.ciphers[1]._update(b,l,b,l),E.ciphers[2]._update(b,l,b,l)},m.prototype._pad=A.prototype._pad,m.prototype._unpad=A.prototype._unpad},87626:(s,G)=>{"use strict";G.readUInt32BE=function(A,h){var m=A[0+h]<<24|A[1+h]<<16|A[2+h]<<8|A[3+h];return m>>>0},G.writeUInt32BE=function(A,h,m){A[0+m]=h>>>24,A[1+m]=h>>>16&255,A[2+m]=h>>>8&255,A[3+m]=h&255},G.ip=function(A,h,m,g){for(var p=0,k=0,b=6;b>=0;b-=2){for(var l=0;l<=24;l+=8)p<<=1,p|=h>>>l+b&1;for(var l=0;l<=24;l+=8)p<<=1,p|=A>>>l+b&1}for(var b=6;b>=0;b-=2){for(var l=1;l<=25;l+=8)k<<=1,k|=h>>>l+b&1;for(var l=1;l<=25;l+=8)k<<=1,k|=A>>>l+b&1}m[g+0]=p>>>0,m[g+1]=k>>>0},G.rip=function(A,h,m,g){for(var p=0,k=0,b=0;b<4;b++)for(var l=24;l>=0;l-=8)p<<=1,p|=h>>>l+b&1,p<<=1,p|=A>>>l+b&1;for(var b=4;b<8;b++)for(var l=24;l>=0;l-=8)k<<=1,k|=h>>>l+b&1,k<<=1,k|=A>>>l+b&1;m[g+0]=p>>>0,m[g+1]=k>>>0},G.pc1=function(A,h,m,g){for(var p=0,k=0,b=7;b>=5;b--){for(var l=0;l<=24;l+=8)p<<=1,p|=h>>l+b&1;for(var l=0;l<=24;l+=8)p<<=1,p|=A>>l+b&1}for(var l=0;l<=24;l+=8)p<<=1,p|=h>>l+b&1;for(var b=1;b<=3;b++){for(var l=0;l<=24;l+=8)k<<=1,k|=h>>l+b&1;for(var l=0;l<=24;l+=8)k<<=1,k|=A>>l+b&1}for(var l=0;l<=24;l+=8)k<<=1,k|=A>>l+b&1;m[g+0]=p>>>0,m[g+1]=k>>>0},G.r28shl=function(A,h){return A<<h&268435455|A>>>28-h};var F=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];G.pc2=function(A,h,m,g){for(var p=0,k=0,b=F.length>>>1,l=0;l<b;l++)p<<=1,p|=A>>>F[l]&1;for(var l=b;l<F.length;l++)k<<=1,k|=h>>>F[l]&1;m[g+0]=p>>>0,m[g+1]=k>>>0},G.expand=function(A,h,m){var g=0,p=0;g=(A&1)<<5|A>>>27;for(var k=23;k>=15;k-=4)g<<=6,g|=A>>>k&63;for(var k=11;k>=3;k-=4)p|=A>>>k&63,p<<=6;p|=(A&31)<<1|A>>>31,h[m+0]=g>>>0,h[m+1]=p>>>0};var P=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];G.substitute=function(A,h){for(var m=0,g=0;g<4;g++){var p=A>>>18-g*6&63,k=P[g*64+p];m<<=4,m|=k}for(var g=0;g<4;g++){var p=h>>>18-g*6&63,k=P[4*64+g*64+p];m<<=4,m|=k}return m>>>0};var L=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];G.permute=function(A){for(var h=0,m=0;m<L.length;m++)h<<=1,h|=A>>>L[m]&1;return h>>>0},G.padSplit=function(A,h,m){for(var g=A.toString(2);g.length<h;)g="0"+g;for(var p=[],k=0;k<h;k+=m)p.push(g.slice(k,k+m));return p.join(" ")}},15380:(s,G,F)=>{var P=F(48287).Buffer,L=F(4934),D=F(23241),A=F(14910);function h(p){var k=new P(D[p].prime,"hex"),b=new P(D[p].gen,"hex");return new A(k,b)}var m={binary:!0,hex:!0,base64:!0};function g(p,k,b,l){return P.isBuffer(k)||m[k]===void 0?g(p,"binary",k,b):(k=k||"binary",l=l||"binary",b=b||new P([2]),P.isBuffer(b)||(b=new P(b,l)),typeof p=="number"?new A(L(p,b),b,!0):(P.isBuffer(p)||(p=new P(p,k)),new A(p,b,!0)))}G.DiffieHellmanGroup=G.createDiffieHellmanGroup=G.getDiffieHellman=h,G.createDiffieHellman=G.DiffieHellman=g},14910:(s,G,F)=>{var P=F(48287).Buffer,L=F(39404),D=F(52244),A=new D,h=new L(24),m=new L(11),g=new L(10),p=new L(3),k=new L(7),b=F(4934),l=F(53209);s.exports=w;function E(R,M){return M=M||"utf8",P.isBuffer(R)||(R=new P(R,M)),this._pub=new L(R),this}function c(R,M){return M=M||"utf8",P.isBuffer(R)||(R=new P(R,M)),this._priv=new L(R),this}var v={};function f(R,M){var U=M.toString("hex"),x=[U,R.toString(16)].join("_");if(x in v)return v[x];var y=0;if(R.isEven()||!b.simpleSieve||!b.fermatTest(R)||!A.test(R))return y+=1,U==="02"||U==="05"?y+=8:y+=4,v[x]=y,y;A.test(R.shrn(1))||(y+=2);var W;switch(U){case"02":R.mod(h).cmp(m)&&(y+=8);break;case"05":W=R.mod(g),W.cmp(p)&&W.cmp(k)&&(y+=8);break;default:y+=4}return v[x]=y,y}function w(R,M,U){this.setGenerator(M),this.__prime=new L(R),this._prime=L.mont(this.__prime),this._primeLen=R.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,U?(this.setPublicKey=E,this.setPrivateKey=c):this._primeCode=8}Object.defineProperty(w.prototype,"verifyError",{enumerable:!0,get:function(){return typeof this._primeCode!="number"&&(this._primeCode=f(this.__prime,this.__gen)),this._primeCode}}),w.prototype.generateKeys=function(){return this._priv||(this._priv=new L(l(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},w.prototype.computeSecret=function(R){R=new L(R),R=R.toRed(this._prime);var M=R.redPow(this._priv).fromRed(),U=new P(M.toArray()),x=this.getPrime();if(U.length<x.length){var y=new P(x.length-U.length);y.fill(0),U=P.concat([y,U])}return U},w.prototype.getPublicKey=function(M){return _(this._pub,M)},w.prototype.getPrivateKey=function(M){return _(this._priv,M)},w.prototype.getPrime=function(R){return _(this.__prime,R)},w.prototype.getGenerator=function(R){return _(this._gen,R)},w.prototype.setGenerator=function(R,M){return M=M||"utf8",P.isBuffer(R)||(R=new P(R,M)),this.__gen=R,this._gen=new L(R),this};function _(R,M){var U=new P(R.toArray());return M?U.toString(M):U}},4934:(s,G,F)=>{var P=F(53209);s.exports=x,x.simpleSieve=M,x.fermatTest=U;var L=F(39404),D=new L(24),A=F(52244),h=new A,m=new L(1),g=new L(2),p=new L(5),k=new L(16),b=new L(8),l=new L(10),E=new L(3),c=new L(7),v=new L(11),f=new L(4),w=new L(12),_=null;function R(){if(_!==null)return _;var y=1048576,W=[];W[0]=2;for(var Q=1,Z=3;Z<y;Z+=2){for(var ee=Math.ceil(Math.sqrt(Z)),J=0;J<Q&&W[J]<=ee&&Z%W[J]!==0;J++);Q!==J&&W[J]<=ee||(W[Q++]=Z)}return _=W,W}function M(y){for(var W=R(),Q=0;Q<W.length;Q++)if(y.modn(W[Q])===0)return y.cmpn(W[Q])===0;return!0}function U(y){var W=L.mont(y);return g.toRed(W).redPow(y.subn(1)).fromRed().cmpn(1)===0}function x(y,W){if(y<16)return W===2||W===5?new L([140,123]):new L([140,39]);W=new L(W);for(var Q,Z;;){for(Q=new L(P(Math.ceil(y/8)));Q.bitLength()>y;)Q.ishrn(1);if(Q.isEven()&&Q.iadd(m),Q.testn(1)||Q.iadd(g),W.cmp(g)){if(!W.cmp(p))for(;Q.mod(l).cmp(E);)Q.iadd(f)}else for(;Q.mod(D).cmp(v);)Q.iadd(f);if(Z=Q.shrn(1),M(Z)&&M(Q)&&U(Z)&&U(Q)&&h.test(Z)&&h.test(Q))return Q}}},7176:(s,G,F)=>{"use strict";var P=F(73126),L=F(75795),D;try{D=[].__proto__===Array.prototype}catch(g){if(!g||typeof g!="object"||!("code"in g)||g.code!=="ERR_PROTO_ACCESS")throw g}var A=!!D&&L&&L(Object.prototype,"__proto__"),h=Object,m=h.getPrototypeOf;s.exports=A&&typeof A.get=="function"?P([A.get]):typeof m=="function"?function(p){return m(p==null?p:h(p))}:!1},86729:(s,G,F)=>{"use strict";var P=G;P.version=F(1636).rE,P.utils=F(47011),P.rand=F(15037),P.curve=F(894),P.curves=F(60480),P.ec=F(57447),P.eddsa=F(8650)},36677:(s,G,F)=>{"use strict";var P=F(39404),L=F(47011),D=L.getNAF,A=L.getJSF,h=L.assert;function m(p,k){this.type=p,this.p=new P(k.p,16),this.red=k.prime?P.red(k.prime):P.mont(this.p),this.zero=new P(0).toRed(this.red),this.one=new P(1).toRed(this.red),this.two=new P(2).toRed(this.red),this.n=k.n&&new P(k.n,16),this.g=k.g&&this.pointFromJSON(k.g,k.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var b=this.n&&this.p.div(this.n);!b||b.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}s.exports=m,m.prototype.point=function(){throw new Error("Not implemented")},m.prototype.validate=function(){throw new Error("Not implemented")},m.prototype._fixedNafMul=function(k,b){h(k.precomputed);var l=k._getDoubles(),E=D(b,1,this._bitLength),c=(1<<l.step+1)-(l.step%2===0?2:1);c/=3;var v=[],f,w;for(f=0;f<E.length;f+=l.step){w=0;for(var _=f+l.step-1;_>=f;_--)w=(w<<1)+E[_];v.push(w)}for(var R=this.jpoint(null,null,null),M=this.jpoint(null,null,null),U=c;U>0;U--){for(f=0;f<v.length;f++)w=v[f],w===U?M=M.mixedAdd(l.points[f]):w===-U&&(M=M.mixedAdd(l.points[f].neg()));R=R.add(M)}return R.toP()},m.prototype._wnafMul=function(k,b){var l=4,E=k._getNAFPoints(l);l=E.wnd;for(var c=E.points,v=D(b,l,this._bitLength),f=this.jpoint(null,null,null),w=v.length-1;w>=0;w--){for(var _=0;w>=0&&v[w]===0;w--)_++;if(w>=0&&_++,f=f.dblp(_),w<0)break;var R=v[w];h(R!==0),k.type==="affine"?R>0?f=f.mixedAdd(c[R-1>>1]):f=f.mixedAdd(c[-R-1>>1].neg()):R>0?f=f.add(c[R-1>>1]):f=f.add(c[-R-1>>1].neg())}return k.type==="affine"?f.toP():f},m.prototype._wnafMulAdd=function(k,b,l,E,c){var v=this._wnafT1,f=this._wnafT2,w=this._wnafT3,_=0,R,M,U;for(R=0;R<E;R++){U=b[R];var x=U._getNAFPoints(k);v[R]=x.wnd,f[R]=x.points}for(R=E-1;R>=1;R-=2){var y=R-1,W=R;if(v[y]!==1||v[W]!==1){w[y]=D(l[y],v[y],this._bitLength),w[W]=D(l[W],v[W],this._bitLength),_=Math.max(w[y].length,_),_=Math.max(w[W].length,_);continue}var Q=[b[y],null,null,b[W]];b[y].y.cmp(b[W].y)===0?(Q[1]=b[y].add(b[W]),Q[2]=b[y].toJ().mixedAdd(b[W].neg())):b[y].y.cmp(b[W].y.redNeg())===0?(Q[1]=b[y].toJ().mixedAdd(b[W]),Q[2]=b[y].add(b[W].neg())):(Q[1]=b[y].toJ().mixedAdd(b[W]),Q[2]=b[y].toJ().mixedAdd(b[W].neg()));var Z=[-3,-1,-5,-7,0,7,5,1,3],ee=A(l[y],l[W]);for(_=Math.max(ee[0].length,_),w[y]=new Array(_),w[W]=new Array(_),M=0;M<_;M++){var J=ee[0][M]|0,O=ee[1][M]|0;w[y][M]=Z[(J+1)*3+(O+1)],w[W][M]=0,f[y]=Q}}var H=this.jpoint(null,null,null),I=this._wnafT4;for(R=_;R>=0;R--){for(var u=0;R>=0;){var N=!0;for(M=0;M<E;M++)I[M]=w[M][R]|0,I[M]!==0&&(N=!1);if(!N)break;u++,R--}if(R>=0&&u++,H=H.dblp(u),R<0)break;for(M=0;M<E;M++){var q=I[M];q!==0&&(q>0?U=f[M][q-1>>1]:q<0&&(U=f[M][-q-1>>1].neg()),U.type==="affine"?H=H.mixedAdd(U):H=H.add(U))}}for(R=0;R<E;R++)f[R]=null;return c?H:H.toP()};function g(p,k){this.curve=p,this.type=k,this.precomputed=null}m.BasePoint=g,g.prototype.eq=function(){throw new Error("Not implemented")},g.prototype.validate=function(){return this.curve.validate(this)},m.prototype.decodePoint=function(k,b){k=L.toArray(k,b);var l=this.p.byteLength();if((k[0]===4||k[0]===6||k[0]===7)&&k.length-1===2*l){k[0]===6?h(k[k.length-1]%2===0):k[0]===7&&h(k[k.length-1]%2===1);var E=this.point(k.slice(1,1+l),k.slice(1+l,1+2*l));return E}else if((k[0]===2||k[0]===3)&&k.length-1===l)return this.pointFromX(k.slice(1,1+l),k[0]===3);throw new Error("Unknown point format")},g.prototype.encodeCompressed=function(k){return this.encode(k,!0)},g.prototype._encode=function(k){var b=this.curve.p.byteLength(),l=this.getX().toArray("be",b);return k?[this.getY().isEven()?2:3].concat(l):[4].concat(l,this.getY().toArray("be",b))},g.prototype.encode=function(k,b){return L.encode(this._encode(b),k)},g.prototype.precompute=function(k){if(this.precomputed)return this;var b={doubles:null,naf:null,beta:null};return b.naf=this._getNAFPoints(8),b.doubles=this._getDoubles(4,k),b.beta=this._getBeta(),this.precomputed=b,this},g.prototype._hasDoubles=function(k){if(!this.precomputed)return!1;var b=this.precomputed.doubles;return b?b.points.length>=Math.ceil((k.bitLength()+1)/b.step):!1},g.prototype._getDoubles=function(k,b){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var l=[this],E=this,c=0;c<b;c+=k){for(var v=0;v<k;v++)E=E.dbl();l.push(E)}return{step:k,points:l}},g.prototype._getNAFPoints=function(k){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var b=[this],l=(1<<k)-1,E=l===1?null:this.dbl(),c=1;c<l;c++)b[c]=b[c-1].add(E);return{wnd:k,points:b}},g.prototype._getBeta=function(){return null},g.prototype.dblp=function(k){for(var b=this,l=0;l<k;l++)b=b.dbl();return b}},31298:(s,G,F)=>{"use strict";var P=F(47011),L=F(39404),D=F(56698),A=F(36677),h=P.assert;function m(p){this.twisted=(p.a|0)!==1,this.mOneA=this.twisted&&(p.a|0)===-1,this.extended=this.mOneA,A.call(this,"edwards",p),this.a=new L(p.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new L(p.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new L(p.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),h(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(p.c|0)===1}D(m,A),s.exports=m,m.prototype._mulA=function(k){return this.mOneA?k.redNeg():this.a.redMul(k)},m.prototype._mulC=function(k){return this.oneC?k:this.c.redMul(k)},m.prototype.jpoint=function(k,b,l,E){return this.point(k,b,l,E)},m.prototype.pointFromX=function(k,b){k=new L(k,16),k.red||(k=k.toRed(this.red));var l=k.redSqr(),E=this.c2.redSub(this.a.redMul(l)),c=this.one.redSub(this.c2.redMul(this.d).redMul(l)),v=E.redMul(c.redInvm()),f=v.redSqrt();if(f.redSqr().redSub(v).cmp(this.zero)!==0)throw new Error("invalid point");var w=f.fromRed().isOdd();return(b&&!w||!b&&w)&&(f=f.redNeg()),this.point(k,f)},m.prototype.pointFromY=function(k,b){k=new L(k,16),k.red||(k=k.toRed(this.red));var l=k.redSqr(),E=l.redSub(this.c2),c=l.redMul(this.d).redMul(this.c2).redSub(this.a),v=E.redMul(c.redInvm());if(v.cmp(this.zero)===0){if(b)throw new Error("invalid point");return this.point(this.zero,k)}var f=v.redSqrt();if(f.redSqr().redSub(v).cmp(this.zero)!==0)throw new Error("invalid point");return f.fromRed().isOdd()!==b&&(f=f.redNeg()),this.point(f,k)},m.prototype.validate=function(k){if(k.isInfinity())return!0;k.normalize();var b=k.x.redSqr(),l=k.y.redSqr(),E=b.redMul(this.a).redAdd(l),c=this.c2.redMul(this.one.redAdd(this.d.redMul(b).redMul(l)));return E.cmp(c)===0};function g(p,k,b,l,E){A.BasePoint.call(this,p,"projective"),k===null&&b===null&&l===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new L(k,16),this.y=new L(b,16),this.z=l?new L(l,16):this.curve.one,this.t=E&&new L(E,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}D(g,A.BasePoint),m.prototype.pointFromJSON=function(k){return g.fromJSON(this,k)},m.prototype.point=function(k,b,l,E){return new g(this,k,b,l,E)},g.fromJSON=function(k,b){return new g(k,b[0],b[1],b[2])},g.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},g.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)},g.prototype._extDbl=function(){var k=this.x.redSqr(),b=this.y.redSqr(),l=this.z.redSqr();l=l.redIAdd(l);var E=this.curve._mulA(k),c=this.x.redAdd(this.y).redSqr().redISub(k).redISub(b),v=E.redAdd(b),f=v.redSub(l),w=E.redSub(b),_=c.redMul(f),R=v.redMul(w),M=c.redMul(w),U=f.redMul(v);return this.curve.point(_,R,U,M)},g.prototype._projDbl=function(){var k=this.x.redAdd(this.y).redSqr(),b=this.x.redSqr(),l=this.y.redSqr(),E,c,v,f,w,_;if(this.curve.twisted){f=this.curve._mulA(b);var R=f.redAdd(l);this.zOne?(E=k.redSub(b).redSub(l).redMul(R.redSub(this.curve.two)),c=R.redMul(f.redSub(l)),v=R.redSqr().redSub(R).redSub(R)):(w=this.z.redSqr(),_=R.redSub(w).redISub(w),E=k.redSub(b).redISub(l).redMul(_),c=R.redMul(f.redSub(l)),v=R.redMul(_))}else f=b.redAdd(l),w=this.curve._mulC(this.z).redSqr(),_=f.redSub(w).redSub(w),E=this.curve._mulC(k.redISub(f)).redMul(_),c=this.curve._mulC(f).redMul(b.redISub(l)),v=f.redMul(_);return this.curve.point(E,c,v)},g.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},g.prototype._extAdd=function(k){var b=this.y.redSub(this.x).redMul(k.y.redSub(k.x)),l=this.y.redAdd(this.x).redMul(k.y.redAdd(k.x)),E=this.t.redMul(this.curve.dd).redMul(k.t),c=this.z.redMul(k.z.redAdd(k.z)),v=l.redSub(b),f=c.redSub(E),w=c.redAdd(E),_=l.redAdd(b),R=v.redMul(f),M=w.redMul(_),U=v.redMul(_),x=f.redMul(w);return this.curve.point(R,M,x,U)},g.prototype._projAdd=function(k){var b=this.z.redMul(k.z),l=b.redSqr(),E=this.x.redMul(k.x),c=this.y.redMul(k.y),v=this.curve.d.redMul(E).redMul(c),f=l.redSub(v),w=l.redAdd(v),_=this.x.redAdd(this.y).redMul(k.x.redAdd(k.y)).redISub(E).redISub(c),R=b.redMul(f).redMul(_),M,U;return this.curve.twisted?(M=b.redMul(w).redMul(c.redSub(this.curve._mulA(E))),U=f.redMul(w)):(M=b.redMul(w).redMul(c.redSub(E)),U=this.curve._mulC(f).redMul(w)),this.curve.point(R,M,U)},g.prototype.add=function(k){return this.isInfinity()?k:k.isInfinity()?this:this.curve.extended?this._extAdd(k):this._projAdd(k)},g.prototype.mul=function(k){return this._hasDoubles(k)?this.curve._fixedNafMul(this,k):this.curve._wnafMul(this,k)},g.prototype.mulAdd=function(k,b,l){return this.curve._wnafMulAdd(1,[this,b],[k,l],2,!1)},g.prototype.jmulAdd=function(k,b,l){return this.curve._wnafMulAdd(1,[this,b],[k,l],2,!0)},g.prototype.normalize=function(){if(this.zOne)return this;var k=this.z.redInvm();return this.x=this.x.redMul(k),this.y=this.y.redMul(k),this.t&&(this.t=this.t.redMul(k)),this.z=this.curve.one,this.zOne=!0,this},g.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},g.prototype.getX=function(){return this.normalize(),this.x.fromRed()},g.prototype.getY=function(){return this.normalize(),this.y.fromRed()},g.prototype.eq=function(k){return this===k||this.getX().cmp(k.getX())===0&&this.getY().cmp(k.getY())===0},g.prototype.eqXToP=function(k){var b=k.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(b)===0)return!0;for(var l=k.clone(),E=this.curve.redN.redMul(this.z);;){if(l.iadd(this.curve.n),l.cmp(this.curve.p)>=0)return!1;if(b.redIAdd(E),this.x.cmp(b)===0)return!0}},g.prototype.toP=g.prototype.normalize,g.prototype.mixedAdd=g.prototype.add},894:(s,G,F)=>{"use strict";var P=G;P.base=F(36677),P.short=F(39188),P.mont=F(30370),P.edwards=F(31298)},30370:(s,G,F)=>{"use strict";var P=F(39404),L=F(56698),D=F(36677),A=F(47011);function h(g){D.call(this,"mont",g),this.a=new P(g.a,16).toRed(this.red),this.b=new P(g.b,16).toRed(this.red),this.i4=new P(4).toRed(this.red).redInvm(),this.two=new P(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}L(h,D),s.exports=h,h.prototype.validate=function(p){var k=p.normalize().x,b=k.redSqr(),l=b.redMul(k).redAdd(b.redMul(this.a)).redAdd(k),E=l.redSqrt();return E.redSqr().cmp(l)===0};function m(g,p,k){D.BasePoint.call(this,g,"projective"),p===null&&k===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new P(p,16),this.z=new P(k,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}L(m,D.BasePoint),h.prototype.decodePoint=function(p,k){return this.point(A.toArray(p,k),1)},h.prototype.point=function(p,k){return new m(this,p,k)},h.prototype.pointFromJSON=function(p){return m.fromJSON(this,p)},m.prototype.precompute=function(){},m.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},m.fromJSON=function(p,k){return new m(p,k[0],k[1]||p.one)},m.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},m.prototype.isInfinity=function(){return this.z.cmpn(0)===0},m.prototype.dbl=function(){var p=this.x.redAdd(this.z),k=p.redSqr(),b=this.x.redSub(this.z),l=b.redSqr(),E=k.redSub(l),c=k.redMul(l),v=E.redMul(l.redAdd(this.curve.a24.redMul(E)));return this.curve.point(c,v)},m.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},m.prototype.diffAdd=function(p,k){var b=this.x.redAdd(this.z),l=this.x.redSub(this.z),E=p.x.redAdd(p.z),c=p.x.redSub(p.z),v=c.redMul(b),f=E.redMul(l),w=k.z.redMul(v.redAdd(f).redSqr()),_=k.x.redMul(v.redISub(f).redSqr());return this.curve.point(w,_)},m.prototype.mul=function(p){for(var k=p.clone(),b=this,l=this.curve.point(null,null),E=this,c=[];k.cmpn(0)!==0;k.iushrn(1))c.push(k.andln(1));for(var v=c.length-1;v>=0;v--)c[v]===0?(b=b.diffAdd(l,E),l=l.dbl()):(l=b.diffAdd(l,E),b=b.dbl());return l},m.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},m.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},m.prototype.eq=function(p){return this.getX().cmp(p.getX())===0},m.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},m.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},39188:(s,G,F)=>{"use strict";var P=F(47011),L=F(39404),D=F(56698),A=F(36677),h=P.assert;function m(k){A.call(this,"short",k),this.a=new L(k.a,16).toRed(this.red),this.b=new L(k.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(k),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}D(m,A),s.exports=m,m.prototype._getEndomorphism=function(b){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var l,E;if(b.beta)l=new L(b.beta,16).toRed(this.red);else{var c=this._getEndoRoots(this.p);l=c[0].cmp(c[1])<0?c[0]:c[1],l=l.toRed(this.red)}if(b.lambda)E=new L(b.lambda,16);else{var v=this._getEndoRoots(this.n);this.g.mul(v[0]).x.cmp(this.g.x.redMul(l))===0?E=v[0]:(E=v[1],h(this.g.mul(E).x.cmp(this.g.x.redMul(l))===0))}var f;return b.basis?f=b.basis.map(function(w){return{a:new L(w.a,16),b:new L(w.b,16)}}):f=this._getEndoBasis(E),{beta:l,lambda:E,basis:f}}},m.prototype._getEndoRoots=function(b){var l=b===this.p?this.red:L.mont(b),E=new L(2).toRed(l).redInvm(),c=E.redNeg(),v=new L(3).toRed(l).redNeg().redSqrt().redMul(E),f=c.redAdd(v).fromRed(),w=c.redSub(v).fromRed();return[f,w]},m.prototype._getEndoBasis=function(b){for(var l=this.n.ushrn(Math.floor(this.n.bitLength()/2)),E=b,c=this.n.clone(),v=new L(1),f=new L(0),w=new L(0),_=new L(1),R,M,U,x,y,W,Q,Z=0,ee,J;E.cmpn(0)!==0;){var O=c.div(E);ee=c.sub(O.mul(E)),J=w.sub(O.mul(v));var H=_.sub(O.mul(f));if(!U&&ee.cmp(l)<0)R=Q.neg(),M=v,U=ee.neg(),x=J;else if(U&&++Z===2)break;Q=ee,c=E,E=ee,w=v,v=J,_=f,f=H}y=ee.neg(),W=J;var I=U.sqr().add(x.sqr()),u=y.sqr().add(W.sqr());return u.cmp(I)>=0&&(y=R,W=M),U.negative&&(U=U.neg(),x=x.neg()),y.negative&&(y=y.neg(),W=W.neg()),[{a:U,b:x},{a:y,b:W}]},m.prototype._endoSplit=function(b){var l=this.endo.basis,E=l[0],c=l[1],v=c.b.mul(b).divRound(this.n),f=E.b.neg().mul(b).divRound(this.n),w=v.mul(E.a),_=f.mul(c.a),R=v.mul(E.b),M=f.mul(c.b),U=b.sub(w).sub(_),x=R.add(M).neg();return{k1:U,k2:x}},m.prototype.pointFromX=function(b,l){b=new L(b,16),b.red||(b=b.toRed(this.red));var E=b.redSqr().redMul(b).redIAdd(b.redMul(this.a)).redIAdd(this.b),c=E.redSqrt();if(c.redSqr().redSub(E).cmp(this.zero)!==0)throw new Error("invalid point");var v=c.fromRed().isOdd();return(l&&!v||!l&&v)&&(c=c.redNeg()),this.point(b,c)},m.prototype.validate=function(b){if(b.inf)return!0;var l=b.x,E=b.y,c=this.a.redMul(l),v=l.redSqr().redMul(l).redIAdd(c).redIAdd(this.b);return E.redSqr().redISub(v).cmpn(0)===0},m.prototype._endoWnafMulAdd=function(b,l,E){for(var c=this._endoWnafT1,v=this._endoWnafT2,f=0;f<b.length;f++){var w=this._endoSplit(l[f]),_=b[f],R=_._getBeta();w.k1.negative&&(w.k1.ineg(),_=_.neg(!0)),w.k2.negative&&(w.k2.ineg(),R=R.neg(!0)),c[f*2]=_,c[f*2+1]=R,v[f*2]=w.k1,v[f*2+1]=w.k2}for(var M=this._wnafMulAdd(1,c,v,f*2,E),U=0;U<f*2;U++)c[U]=null,v[U]=null;return M};function g(k,b,l,E){A.BasePoint.call(this,k,"affine"),b===null&&l===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new L(b,16),this.y=new L(l,16),E&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}D(g,A.BasePoint),m.prototype.point=function(b,l,E){return new g(this,b,l,E)},m.prototype.pointFromJSON=function(b,l){return g.fromJSON(this,b,l)},g.prototype._getBeta=function(){if(this.curve.endo){var b=this.precomputed;if(b&&b.beta)return b.beta;var l=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(b){var E=this.curve,c=function(v){return E.point(v.x.redMul(E.endo.beta),v.y)};b.beta=l,l.precomputed={beta:null,naf:b.naf&&{wnd:b.naf.wnd,points:b.naf.points.map(c)},doubles:b.doubles&&{step:b.doubles.step,points:b.doubles.points.map(c)}}}return l}},g.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},g.fromJSON=function(b,l,E){typeof l=="string"&&(l=JSON.parse(l));var c=b.point(l[0],l[1],E);if(!l[2])return c;function v(w){return b.point(w[0],w[1],E)}var f=l[2];return c.precomputed={beta:null,doubles:f.doubles&&{step:f.doubles.step,points:[c].concat(f.doubles.points.map(v))},naf:f.naf&&{wnd:f.naf.wnd,points:[c].concat(f.naf.points.map(v))}},c},g.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},g.prototype.isInfinity=function(){return this.inf},g.prototype.add=function(b){if(this.inf)return b;if(b.inf)return this;if(this.eq(b))return this.dbl();if(this.neg().eq(b))return this.curve.point(null,null);if(this.x.cmp(b.x)===0)return this.curve.point(null,null);var l=this.y.redSub(b.y);l.cmpn(0)!==0&&(l=l.redMul(this.x.redSub(b.x).redInvm()));var E=l.redSqr().redISub(this.x).redISub(b.x),c=l.redMul(this.x.redSub(E)).redISub(this.y);return this.curve.point(E,c)},g.prototype.dbl=function(){if(this.inf)return this;var b=this.y.redAdd(this.y);if(b.cmpn(0)===0)return this.curve.point(null,null);var l=this.curve.a,E=this.x.redSqr(),c=b.redInvm(),v=E.redAdd(E).redIAdd(E).redIAdd(l).redMul(c),f=v.redSqr().redISub(this.x.redAdd(this.x)),w=v.redMul(this.x.redSub(f)).redISub(this.y);return this.curve.point(f,w)},g.prototype.getX=function(){return this.x.fromRed()},g.prototype.getY=function(){return this.y.fromRed()},g.prototype.mul=function(b){return b=new L(b,16),this.isInfinity()?this:this._hasDoubles(b)?this.curve._fixedNafMul(this,b):this.curve.endo?this.curve._endoWnafMulAdd([this],[b]):this.curve._wnafMul(this,b)},g.prototype.mulAdd=function(b,l,E){var c=[this,l],v=[b,E];return this.curve.endo?this.curve._endoWnafMulAdd(c,v):this.curve._wnafMulAdd(1,c,v,2)},g.prototype.jmulAdd=function(b,l,E){var c=[this,l],v=[b,E];return this.curve.endo?this.curve._endoWnafMulAdd(c,v,!0):this.curve._wnafMulAdd(1,c,v,2,!0)},g.prototype.eq=function(b){return this===b||this.inf===b.inf&&(this.inf||this.x.cmp(b.x)===0&&this.y.cmp(b.y)===0)},g.prototype.neg=function(b){if(this.inf)return this;var l=this.curve.point(this.x,this.y.redNeg());if(b&&this.precomputed){var E=this.precomputed,c=function(v){return v.neg()};l.precomputed={naf:E.naf&&{wnd:E.naf.wnd,points:E.naf.points.map(c)},doubles:E.doubles&&{step:E.doubles.step,points:E.doubles.points.map(c)}}}return l},g.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var b=this.curve.jpoint(this.x,this.y,this.curve.one);return b};function p(k,b,l,E){A.BasePoint.call(this,k,"jacobian"),b===null&&l===null&&E===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new L(0)):(this.x=new L(b,16),this.y=new L(l,16),this.z=new L(E,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}D(p,A.BasePoint),m.prototype.jpoint=function(b,l,E){return new p(this,b,l,E)},p.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var b=this.z.redInvm(),l=b.redSqr(),E=this.x.redMul(l),c=this.y.redMul(l).redMul(b);return this.curve.point(E,c)},p.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},p.prototype.add=function(b){if(this.isInfinity())return b;if(b.isInfinity())return this;var l=b.z.redSqr(),E=this.z.redSqr(),c=this.x.redMul(l),v=b.x.redMul(E),f=this.y.redMul(l.redMul(b.z)),w=b.y.redMul(E.redMul(this.z)),_=c.redSub(v),R=f.redSub(w);if(_.cmpn(0)===0)return R.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var M=_.redSqr(),U=M.redMul(_),x=c.redMul(M),y=R.redSqr().redIAdd(U).redISub(x).redISub(x),W=R.redMul(x.redISub(y)).redISub(f.redMul(U)),Q=this.z.redMul(b.z).redMul(_);return this.curve.jpoint(y,W,Q)},p.prototype.mixedAdd=function(b){if(this.isInfinity())return b.toJ();if(b.isInfinity())return this;var l=this.z.redSqr(),E=this.x,c=b.x.redMul(l),v=this.y,f=b.y.redMul(l).redMul(this.z),w=E.redSub(c),_=v.redSub(f);if(w.cmpn(0)===0)return _.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var R=w.redSqr(),M=R.redMul(w),U=E.redMul(R),x=_.redSqr().redIAdd(M).redISub(U).redISub(U),y=_.redMul(U.redISub(x)).redISub(v.redMul(M)),W=this.z.redMul(w);return this.curve.jpoint(x,y,W)},p.prototype.dblp=function(b){if(b===0)return this;if(this.isInfinity())return this;if(!b)return this.dbl();var l;if(this.curve.zeroA||this.curve.threeA){var E=this;for(l=0;l<b;l++)E=E.dbl();return E}var c=this.curve.a,v=this.curve.tinv,f=this.x,w=this.y,_=this.z,R=_.redSqr().redSqr(),M=w.redAdd(w);for(l=0;l<b;l++){var U=f.redSqr(),x=M.redSqr(),y=x.redSqr(),W=U.redAdd(U).redIAdd(U).redIAdd(c.redMul(R)),Q=f.redMul(x),Z=W.redSqr().redISub(Q.redAdd(Q)),ee=Q.redISub(Z),J=W.redMul(ee);J=J.redIAdd(J).redISub(y);var O=M.redMul(_);l+1<b&&(R=R.redMul(y)),f=Z,_=O,M=J}return this.curve.jpoint(f,M.redMul(v),_)},p.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},p.prototype._zeroDbl=function(){var b,l,E;if(this.zOne){var c=this.x.redSqr(),v=this.y.redSqr(),f=v.redSqr(),w=this.x.redAdd(v).redSqr().redISub(c).redISub(f);w=w.redIAdd(w);var _=c.redAdd(c).redIAdd(c),R=_.redSqr().redISub(w).redISub(w),M=f.redIAdd(f);M=M.redIAdd(M),M=M.redIAdd(M),b=R,l=_.redMul(w.redISub(R)).redISub(M),E=this.y.redAdd(this.y)}else{var U=this.x.redSqr(),x=this.y.redSqr(),y=x.redSqr(),W=this.x.redAdd(x).redSqr().redISub(U).redISub(y);W=W.redIAdd(W);var Q=U.redAdd(U).redIAdd(U),Z=Q.redSqr(),ee=y.redIAdd(y);ee=ee.redIAdd(ee),ee=ee.redIAdd(ee),b=Z.redISub(W).redISub(W),l=Q.redMul(W.redISub(b)).redISub(ee),E=this.y.redMul(this.z),E=E.redIAdd(E)}return this.curve.jpoint(b,l,E)},p.prototype._threeDbl=function(){var b,l,E;if(this.zOne){var c=this.x.redSqr(),v=this.y.redSqr(),f=v.redSqr(),w=this.x.redAdd(v).redSqr().redISub(c).redISub(f);w=w.redIAdd(w);var _=c.redAdd(c).redIAdd(c).redIAdd(this.curve.a),R=_.redSqr().redISub(w).redISub(w);b=R;var M=f.redIAdd(f);M=M.redIAdd(M),M=M.redIAdd(M),l=_.redMul(w.redISub(R)).redISub(M),E=this.y.redAdd(this.y)}else{var U=this.z.redSqr(),x=this.y.redSqr(),y=this.x.redMul(x),W=this.x.redSub(U).redMul(this.x.redAdd(U));W=W.redAdd(W).redIAdd(W);var Q=y.redIAdd(y);Q=Q.redIAdd(Q);var Z=Q.redAdd(Q);b=W.redSqr().redISub(Z),E=this.y.redAdd(this.z).redSqr().redISub(x).redISub(U);var ee=x.redSqr();ee=ee.redIAdd(ee),ee=ee.redIAdd(ee),ee=ee.redIAdd(ee),l=W.redMul(Q.redISub(b)).redISub(ee)}return this.curve.jpoint(b,l,E)},p.prototype._dbl=function(){var b=this.curve.a,l=this.x,E=this.y,c=this.z,v=c.redSqr().redSqr(),f=l.redSqr(),w=E.redSqr(),_=f.redAdd(f).redIAdd(f).redIAdd(b.redMul(v)),R=l.redAdd(l);R=R.redIAdd(R);var M=R.redMul(w),U=_.redSqr().redISub(M.redAdd(M)),x=M.redISub(U),y=w.redSqr();y=y.redIAdd(y),y=y.redIAdd(y),y=y.redIAdd(y);var W=_.redMul(x).redISub(y),Q=E.redAdd(E).redMul(c);return this.curve.jpoint(U,W,Q)},p.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var b=this.x.redSqr(),l=this.y.redSqr(),E=this.z.redSqr(),c=l.redSqr(),v=b.redAdd(b).redIAdd(b),f=v.redSqr(),w=this.x.redAdd(l).redSqr().redISub(b).redISub(c);w=w.redIAdd(w),w=w.redAdd(w).redIAdd(w),w=w.redISub(f);var _=w.redSqr(),R=c.redIAdd(c);R=R.redIAdd(R),R=R.redIAdd(R),R=R.redIAdd(R);var M=v.redIAdd(w).redSqr().redISub(f).redISub(_).redISub(R),U=l.redMul(M);U=U.redIAdd(U),U=U.redIAdd(U);var x=this.x.redMul(_).redISub(U);x=x.redIAdd(x),x=x.redIAdd(x);var y=this.y.redMul(M.redMul(R.redISub(M)).redISub(w.redMul(_)));y=y.redIAdd(y),y=y.redIAdd(y),y=y.redIAdd(y);var W=this.z.redAdd(w).redSqr().redISub(E).redISub(_);return this.curve.jpoint(x,y,W)},p.prototype.mul=function(b,l){return b=new L(b,l),this.curve._wnafMul(this,b)},p.prototype.eq=function(b){if(b.type==="affine")return this.eq(b.toJ());if(this===b)return!0;var l=this.z.redSqr(),E=b.z.redSqr();if(this.x.redMul(E).redISub(b.x.redMul(l)).cmpn(0)!==0)return!1;var c=l.redMul(this.z),v=E.redMul(b.z);return this.y.redMul(v).redISub(b.y.redMul(c)).cmpn(0)===0},p.prototype.eqXToP=function(b){var l=this.z.redSqr(),E=b.toRed(this.curve.red).redMul(l);if(this.x.cmp(E)===0)return!0;for(var c=b.clone(),v=this.curve.redN.redMul(l);;){if(c.iadd(this.curve.n),c.cmp(this.curve.p)>=0)return!1;if(E.redIAdd(v),this.x.cmp(E)===0)return!0}},p.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},p.prototype.isInfinity=function(){return this.z.cmpn(0)===0}},60480:(s,G,F)=>{"use strict";var P=G,L=F(77952),D=F(894),A=F(47011),h=A.assert;function m(k){k.type==="short"?this.curve=new D.short(k):k.type==="edwards"?this.curve=new D.edwards(k):this.curve=new D.mont(k),this.g=this.curve.g,this.n=this.curve.n,this.hash=k.hash,h(this.g.validate(),"Invalid curve"),h(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}P.PresetCurve=m;function g(k,b){Object.defineProperty(P,k,{configurable:!0,enumerable:!0,get:function(){var l=new m(b);return Object.defineProperty(P,k,{configurable:!0,enumerable:!0,value:l}),l}})}g("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:L.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),g("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:L.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),g("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:L.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),g("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:L.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),g("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:L.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),g("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:L.sha256,gRed:!1,g:["9"]}),g("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:L.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var p;try{p=F(74011)}catch{p=void 0}g("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:L.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",p]})},57447:(s,G,F)=>{"use strict";var P=F(39404),L=F(32723),D=F(47011),A=F(60480),h=F(15037),m=D.assert,g=F(61200),p=F(28545);function k(b){if(!(this instanceof k))return new k(b);typeof b=="string"&&(m(Object.prototype.hasOwnProperty.call(A,b),"Unknown curve "+b),b=A[b]),b instanceof A.PresetCurve&&(b={curve:b}),this.curve=b.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=b.curve.g,this.g.precompute(b.curve.n.bitLength()+1),this.hash=b.hash||b.curve.hash}s.exports=k,k.prototype.keyPair=function(l){return new g(this,l)},k.prototype.keyFromPrivate=function(l,E){return g.fromPrivate(this,l,E)},k.prototype.keyFromPublic=function(l,E){return g.fromPublic(this,l,E)},k.prototype.genKeyPair=function(l){l||(l={});for(var E=new L({hash:this.hash,pers:l.pers,persEnc:l.persEnc||"utf8",entropy:l.entropy||h(this.hash.hmacStrength),entropyEnc:l.entropy&&l.entropyEnc||"utf8",nonce:this.n.toArray()}),c=this.n.byteLength(),v=this.n.sub(new P(2));;){var f=new P(E.generate(c));if(!(f.cmp(v)>0))return f.iaddn(1),this.keyFromPrivate(f)}},k.prototype._truncateToN=function(l,E,c){var v;if(P.isBN(l)||typeof l=="number")l=new P(l,16),v=l.byteLength();else if(typeof l=="object")v=l.length,l=new P(l,16);else{var f=l.toString();v=f.length+1>>>1,l=new P(f,16)}typeof c!="number"&&(c=v*8);var w=c-this.n.bitLength();return w>0&&(l=l.ushrn(w)),!E&&l.cmp(this.n)>=0?l.sub(this.n):l},k.prototype.sign=function(l,E,c,v){if(typeof c=="object"&&(v=c,c=null),v||(v={}),typeof l!="string"&&typeof l!="number"&&!P.isBN(l)){m(typeof l=="object"&&l&&typeof l.length=="number","Expected message to be an array-like, a hex string, or a BN instance"),m(l.length>>>0===l.length);for(var f=0;f<l.length;f++)m((l[f]&255)===l[f])}E=this.keyFromPrivate(E,c),l=this._truncateToN(l,!1,v.msgBitLength),m(!l.isNeg(),"Can not sign a negative message");var w=this.n.byteLength(),_=E.getPrivate().toArray("be",w),R=l.toArray("be",w);m(new P(R).eq(l),"Can not sign message");for(var M=new L({hash:this.hash,entropy:_,nonce:R,pers:v.pers,persEnc:v.persEnc||"utf8"}),U=this.n.sub(new P(1)),x=0;;x++){var y=v.k?v.k(x):new P(M.generate(this.n.byteLength()));if(y=this._truncateToN(y,!0),!(y.cmpn(1)<=0||y.cmp(U)>=0)){var W=this.g.mul(y);if(!W.isInfinity()){var Q=W.getX(),Z=Q.umod(this.n);if(Z.cmpn(0)!==0){var ee=y.invm(this.n).mul(Z.mul(E.getPrivate()).iadd(l));if(ee=ee.umod(this.n),ee.cmpn(0)!==0){var J=(W.getY().isOdd()?1:0)|(Q.cmp(Z)!==0?2:0);return v.canonical&&ee.cmp(this.nh)>0&&(ee=this.n.sub(ee),J^=1),new p({r:Z,s:ee,recoveryParam:J})}}}}}},k.prototype.verify=function(l,E,c,v,f){f||(f={}),l=this._truncateToN(l,!1,f.msgBitLength),c=this.keyFromPublic(c,v),E=new p(E,"hex");var w=E.r,_=E.s;if(w.cmpn(1)<0||w.cmp(this.n)>=0||_.cmpn(1)<0||_.cmp(this.n)>=0)return!1;var R=_.invm(this.n),M=R.mul(l).umod(this.n),U=R.mul(w).umod(this.n),x;return this.curve._maxwellTrick?(x=this.g.jmulAdd(M,c.getPublic(),U),x.isInfinity()?!1:x.eqXToP(w)):(x=this.g.mulAdd(M,c.getPublic(),U),x.isInfinity()?!1:x.getX().umod(this.n).cmp(w)===0)},k.prototype.recoverPubKey=function(b,l,E,c){m((3&E)===E,"The recovery param is more than two bits"),l=new p(l,c);var v=this.n,f=new P(b),w=l.r,_=l.s,R=E&1,M=E>>1;if(w.cmp(this.curve.p.umod(this.curve.n))>=0&&M)throw new Error("Unable to find sencond key candinate");M?w=this.curve.pointFromX(w.add(this.curve.n),R):w=this.curve.pointFromX(w,R);var U=l.r.invm(v),x=v.sub(f).mul(U).umod(v),y=_.mul(U).umod(v);return this.g.mulAdd(x,w,y)},k.prototype.getKeyRecoveryParam=function(b,l,E,c){if(l=new p(l,c),l.recoveryParam!==null)return l.recoveryParam;for(var v=0;v<4;v++){var f;try{f=this.recoverPubKey(b,l,v)}catch{continue}if(f.eq(E))return v}throw new Error("Unable to find valid recovery factor")}},61200:(s,G,F)=>{"use strict";var P=F(39404),L=F(47011),D=L.assert;function A(h,m){this.ec=h,this.priv=null,this.pub=null,m.priv&&this._importPrivate(m.priv,m.privEnc),m.pub&&this._importPublic(m.pub,m.pubEnc)}s.exports=A,A.fromPublic=function(m,g,p){return g instanceof A?g:new A(m,{pub:g,pubEnc:p})},A.fromPrivate=function(m,g,p){return g instanceof A?g:new A(m,{priv:g,privEnc:p})},A.prototype.validate=function(){var m=this.getPublic();return m.isInfinity()?{result:!1,reason:"Invalid public key"}:m.validate()?m.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},A.prototype.getPublic=function(m,g){return typeof m=="string"&&(g=m,m=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),g?this.pub.encode(g,m):this.pub},A.prototype.getPrivate=function(m){return m==="hex"?this.priv.toString(16,2):this.priv},A.prototype._importPrivate=function(m,g){this.priv=new P(m,g||16),this.priv=this.priv.umod(this.ec.curve.n)},A.prototype._importPublic=function(m,g){if(m.x||m.y){this.ec.curve.type==="mont"?D(m.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&D(m.x&&m.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(m.x,m.y);return}this.pub=this.ec.curve.decodePoint(m,g)},A.prototype.derive=function(m){return m.validate()||D(m.validate(),"public point not validated"),m.mul(this.priv).getX()},A.prototype.sign=function(m,g,p){return this.ec.sign(m,this,g,p)},A.prototype.verify=function(m,g,p){return this.ec.verify(m,g,this,void 0,p)},A.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},28545:(s,G,F)=>{"use strict";var P=F(39404),L=F(47011),D=L.assert;function A(k,b){if(k instanceof A)return k;this._importDER(k,b)||(D(k.r&&k.s,"Signature without r or s"),this.r=new P(k.r,16),this.s=new P(k.s,16),k.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=k.recoveryParam)}s.exports=A;function h(){this.place=0}function m(k,b){var l=k[b.place++];if(!(l&128))return l;var E=l&15;if(E===0||E>4||k[b.place]===0)return!1;for(var c=0,v=0,f=b.place;v<E;v++,f++)c<<=8,c|=k[f],c>>>=0;return c<=127?!1:(b.place=f,c)}function g(k){for(var b=0,l=k.length-1;!k[b]&&!(k[b+1]&128)&&b<l;)b++;return b===0?k:k.slice(b)}A.prototype._importDER=function(b,l){b=L.toArray(b,l);var E=new h;if(b[E.place++]!==48)return!1;var c=m(b,E);if(c===!1||c+E.place!==b.length||b[E.place++]!==2)return!1;var v=m(b,E);if(v===!1||b[E.place]&128)return!1;var f=b.slice(E.place,v+E.place);if(E.place+=v,b[E.place++]!==2)return!1;var w=m(b,E);if(w===!1||b.length!==w+E.place||b[E.place]&128)return!1;var _=b.slice(E.place,w+E.place);if(f[0]===0)if(f[1]&128)f=f.slice(1);else return!1;if(_[0]===0)if(_[1]&128)_=_.slice(1);else return!1;return this.r=new P(f),this.s=new P(_),this.recoveryParam=null,!0};function p(k,b){if(b<128){k.push(b);return}var l=1+(Math.log(b)/Math.LN2>>>3);for(k.push(l|128);--l;)k.push(b>>>(l<<3)&255);k.push(b)}A.prototype.toDER=function(b){var l=this.r.toArray(),E=this.s.toArray();for(l[0]&128&&(l=[0].concat(l)),E[0]&128&&(E=[0].concat(E)),l=g(l),E=g(E);!E[0]&&!(E[1]&128);)E=E.slice(1);var c=[2];p(c,l.length),c=c.concat(l),c.push(2),p(c,E.length);var v=c.concat(E),f=[48];return p(f,v.length),f=f.concat(v),L.encode(f,b)}},8650:(s,G,F)=>{"use strict";var P=F(77952),L=F(60480),D=F(47011),A=D.assert,h=D.parseBytes,m=F(46661),g=F(90220);function p(k){if(A(k==="ed25519","only tested with ed25519 so far"),!(this instanceof p))return new p(k);k=L[k].curve,this.curve=k,this.g=k.g,this.g.precompute(k.n.bitLength()+1),this.pointClass=k.point().constructor,this.encodingLength=Math.ceil(k.n.bitLength()/8),this.hash=P.sha512}s.exports=p,p.prototype.sign=function(b,l){b=h(b);var E=this.keyFromSecret(l),c=this.hashInt(E.messagePrefix(),b),v=this.g.mul(c),f=this.encodePoint(v),w=this.hashInt(f,E.pubBytes(),b).mul(E.priv()),_=c.add(w).umod(this.curve.n);return this.makeSignature({R:v,S:_,Rencoded:f})},p.prototype.verify=function(b,l,E){if(b=h(b),l=this.makeSignature(l),l.S().gte(l.eddsa.curve.n)||l.S().isNeg())return!1;var c=this.keyFromPublic(E),v=this.hashInt(l.Rencoded(),c.pubBytes(),b),f=this.g.mul(l.S()),w=l.R().add(c.pub().mul(v));return w.eq(f)},p.prototype.hashInt=function(){for(var b=this.hash(),l=0;l<arguments.length;l++)b.update(arguments[l]);return D.intFromLE(b.digest()).umod(this.curve.n)},p.prototype.keyFromPublic=function(b){return m.fromPublic(this,b)},p.prototype.keyFromSecret=function(b){return m.fromSecret(this,b)},p.prototype.makeSignature=function(b){return b instanceof g?b:new g(this,b)},p.prototype.encodePoint=function(b){var l=b.getY().toArray("le",this.encodingLength);return l[this.encodingLength-1]|=b.getX().isOdd()?128:0,l},p.prototype.decodePoint=function(b){b=D.parseBytes(b);var l=b.length-1,E=b.slice(0,l).concat(b[l]&-129),c=(b[l]&128)!==0,v=D.intFromLE(E);return this.curve.pointFromY(v,c)},p.prototype.encodeInt=function(b){return b.toArray("le",this.encodingLength)},p.prototype.decodeInt=function(b){return D.intFromLE(b)},p.prototype.isPoint=function(b){return b instanceof this.pointClass}},46661:(s,G,F)=>{"use strict";var P=F(47011),L=P.assert,D=P.parseBytes,A=P.cachedProperty;function h(m,g){this.eddsa=m,this._secret=D(g.secret),m.isPoint(g.pub)?this._pub=g.pub:this._pubBytes=D(g.pub)}h.fromPublic=function(g,p){return p instanceof h?p:new h(g,{pub:p})},h.fromSecret=function(g,p){return p instanceof h?p:new h(g,{secret:p})},h.prototype.secret=function(){return this._secret},A(h,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),A(h,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),A(h,"privBytes",function(){var g=this.eddsa,p=this.hash(),k=g.encodingLength-1,b=p.slice(0,g.encodingLength);return b[0]&=248,b[k]&=127,b[k]|=64,b}),A(h,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),A(h,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),A(h,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),h.prototype.sign=function(g){return L(this._secret,"KeyPair can only verify"),this.eddsa.sign(g,this)},h.prototype.verify=function(g,p){return this.eddsa.verify(g,p,this)},h.prototype.getSecret=function(g){return L(this._secret,"KeyPair is public only"),P.encode(this.secret(),g)},h.prototype.getPublic=function(g){return P.encode(this.pubBytes(),g)},s.exports=h},90220:(s,G,F)=>{"use strict";var P=F(39404),L=F(47011),D=L.assert,A=L.cachedProperty,h=L.parseBytes;function m(g,p){this.eddsa=g,typeof p!="object"&&(p=h(p)),Array.isArray(p)&&(D(p.length===g.encodingLength*2,"Signature has invalid size"),p={R:p.slice(0,g.encodingLength),S:p.slice(g.encodingLength)}),D(p.R&&p.S,"Signature without R or S"),g.isPoint(p.R)&&(this._R=p.R),p.S instanceof P&&(this._S=p.S),this._Rencoded=Array.isArray(p.R)?p.R:p.Rencoded,this._Sencoded=Array.isArray(p.S)?p.S:p.Sencoded}A(m,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),A(m,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),A(m,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),A(m,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),m.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},m.prototype.toHex=function(){return L.encode(this.toBytes(),"hex").toUpperCase()},s.exports=m},74011:s=>{s.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},47011:(s,G,F)=>{"use strict";var P=G,L=F(39404),D=F(43349),A=F(64367);P.assert=D,P.toArray=A.toArray,P.zero2=A.zero2,P.toHex=A.toHex,P.encode=A.encode;function h(b,l,E){var c=new Array(Math.max(b.bitLength(),E)+1),v;for(v=0;v<c.length;v+=1)c[v]=0;var f=1<<l+1,w=b.clone();for(v=0;v<c.length;v++){var _,R=w.andln(f-1);w.isOdd()?(R>(f>>1)-1?_=(f>>1)-R:_=R,w.isubn(_)):_=0,c[v]=_,w.iushrn(1)}return c}P.getNAF=h;function m(b,l){var E=[[],[]];b=b.clone(),l=l.clone();for(var c=0,v=0,f;b.cmpn(-c)>0||l.cmpn(-v)>0;){var w=b.andln(3)+c&3,_=l.andln(3)+v&3;w===3&&(w=-1),_===3&&(_=-1);var R;w&1?(f=b.andln(7)+c&7,(f===3||f===5)&&_===2?R=-w:R=w):R=0,E[0].push(R);var M;_&1?(f=l.andln(7)+v&7,(f===3||f===5)&&w===2?M=-_:M=_):M=0,E[1].push(M),2*c===R+1&&(c=1-c),2*v===M+1&&(v=1-v),b.iushrn(1),l.iushrn(1)}return E}P.getJSF=m;function g(b,l,E){var c="_"+l;b.prototype[l]=function(){return this[c]!==void 0?this[c]:this[c]=E.call(this)}}P.cachedProperty=g;function p(b){return typeof b=="string"?P.toArray(b,"hex"):b}P.parseBytes=p;function k(b){return new L(b,"hex","le")}P.intFromLE=k},30655:s=>{"use strict";var G=Object.defineProperty||!1;if(G)try{G({},"a",{value:1})}catch{G=!1}s.exports=G},41237:s=>{"use strict";s.exports=EvalError},69383:s=>{"use strict";s.exports=Error},79290:s=>{"use strict";s.exports=RangeError},79538:s=>{"use strict";s.exports=ReferenceError},58068:s=>{"use strict";s.exports=SyntaxError},69675:s=>{"use strict";s.exports=TypeError},35345:s=>{"use strict";s.exports=URIError},79612:s=>{"use strict";s.exports=Object},37007:s=>{"use strict";var G=typeof Reflect=="object"?Reflect:null,F=G&&typeof G.apply=="function"?G.apply:function(R,M,U){return Function.prototype.apply.call(R,M,U)},P;G&&typeof G.ownKeys=="function"?P=G.ownKeys:Object.getOwnPropertySymbols?P=function(R){return Object.getOwnPropertyNames(R).concat(Object.getOwnPropertySymbols(R))}:P=function(R){return Object.getOwnPropertyNames(R)};function L(_){console&&console.warn&&console.warn(_)}var D=Number.isNaN||function(R){return R!==R};function A(){A.init.call(this)}s.exports=A,s.exports.once=w,A.EventEmitter=A,A.prototype._events=void 0,A.prototype._eventsCount=0,A.prototype._maxListeners=void 0;var h=10;function m(_){if(typeof _!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof _)}Object.defineProperty(A,"defaultMaxListeners",{enumerable:!0,get:function(){return h},set:function(_){if(typeof _!="number"||_<0||D(_))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+_+".");h=_}}),A.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},A.prototype.setMaxListeners=function(R){if(typeof R!="number"||R<0||D(R))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+R+".");return this._maxListeners=R,this};function g(_){return _._maxListeners===void 0?A.defaultMaxListeners:_._maxListeners}A.prototype.getMaxListeners=function(){return g(this)},A.prototype.emit=function(R){for(var M=[],U=1;U<arguments.length;U++)M.push(arguments[U]);var x=R==="error",y=this._events;if(y!==void 0)x=x&&y.error===void 0;else if(!x)return!1;if(x){var W;if(M.length>0&&(W=M[0]),W instanceof Error)throw W;var Q=new Error("Unhandled error."+(W?" ("+W.message+")":""));throw Q.context=W,Q}var Z=y[R];if(Z===void 0)return!1;if(typeof Z=="function")F(Z,this,M);else for(var ee=Z.length,J=c(Z,ee),U=0;U<ee;++U)F(J[U],this,M);return!0};function p(_,R,M,U){var x,y,W;if(m(M),y=_._events,y===void 0?(y=_._events=Object.create(null),_._eventsCount=0):(y.newListener!==void 0&&(_.emit("newListener",R,M.listener?M.listener:M),y=_._events),W=y[R]),W===void 0)W=y[R]=M,++_._eventsCount;else if(typeof W=="function"?W=y[R]=U?[M,W]:[W,M]:U?W.unshift(M):W.push(M),x=g(_),x>0&&W.length>x&&!W.warned){W.warned=!0;var Q=new Error("Possible EventEmitter memory leak detected. "+W.length+" "+String(R)+" listeners added. Use emitter.setMaxListeners() to increase limit");Q.name="MaxListenersExceededWarning",Q.emitter=_,Q.type=R,Q.count=W.length,L(Q)}return _}A.prototype.addListener=function(R,M){return p(this,R,M,!1)},A.prototype.on=A.prototype.addListener,A.prototype.prependListener=function(R,M){return p(this,R,M,!0)};function k(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function b(_,R,M){var U={fired:!1,wrapFn:void 0,target:_,type:R,listener:M},x=k.bind(U);return x.listener=M,U.wrapFn=x,x}A.prototype.once=function(R,M){return m(M),this.on(R,b(this,R,M)),this},A.prototype.prependOnceListener=function(R,M){return m(M),this.prependListener(R,b(this,R,M)),this},A.prototype.removeListener=function(R,M){var U,x,y,W,Q;if(m(M),x=this._events,x===void 0)return this;if(U=x[R],U===void 0)return this;if(U===M||U.listener===M)--this._eventsCount===0?this._events=Object.create(null):(delete x[R],x.removeListener&&this.emit("removeListener",R,U.listener||M));else if(typeof U!="function"){for(y=-1,W=U.length-1;W>=0;W--)if(U[W]===M||U[W].listener===M){Q=U[W].listener,y=W;break}if(y<0)return this;y===0?U.shift():v(U,y),U.length===1&&(x[R]=U[0]),x.removeListener!==void 0&&this.emit("removeListener",R,Q||M)}return this},A.prototype.off=A.prototype.removeListener,A.prototype.removeAllListeners=function(R){var M,U,x;if(U=this._events,U===void 0)return this;if(U.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):U[R]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete U[R]),this;if(arguments.length===0){var y=Object.keys(U),W;for(x=0;x<y.length;++x)W=y[x],W!=="removeListener"&&this.removeAllListeners(W);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(M=U[R],typeof M=="function")this.removeListener(R,M);else if(M!==void 0)for(x=M.length-1;x>=0;x--)this.removeListener(R,M[x]);return this};function l(_,R,M){var U=_._events;if(U===void 0)return[];var x=U[R];return x===void 0?[]:typeof x=="function"?M?[x.listener||x]:[x]:M?f(x):c(x,x.length)}A.prototype.listeners=function(R){return l(this,R,!0)},A.prototype.rawListeners=function(R){return l(this,R,!1)},A.listenerCount=function(_,R){return typeof _.listenerCount=="function"?_.listenerCount(R):E.call(_,R)},A.prototype.listenerCount=E;function E(_){var R=this._events;if(R!==void 0){var M=R[_];if(typeof M=="function")return 1;if(M!==void 0)return M.length}return 0}A.prototype.eventNames=function(){return this._eventsCount>0?P(this._events):[]};function c(_,R){for(var M=new Array(R),U=0;U<R;++U)M[U]=_[U];return M}function v(_,R){for(;R+1<_.length;R++)_[R]=_[R+1];_.pop()}function f(_){for(var R=new Array(_.length),M=0;M<R.length;++M)R[M]=_[M].listener||_[M];return R}function w(_,R){return new Promise(function(M,U){function x(){y!==void 0&&_.removeListener("error",y),M([].slice.call(arguments))}var y;R!=="error"&&(y=function(Q){_.removeListener(R,x),U(Q)},_.once("error",y)),_.once(R,x)})}},68078:(s,G,F)=>{var P=F(92861).Buffer,L=F(88276);function D(A,h,m,g){if(P.isBuffer(A)||(A=P.from(A,"binary")),h&&(P.isBuffer(h)||(h=P.from(h,"binary")),h.length!==8))throw new RangeError("salt should be Buffer with 8 byte length");for(var p=m/8,k=P.alloc(p),b=P.alloc(g||0),l=P.alloc(0);p>0||g>0;){var E=new L;E.update(l),E.update(A),h&&E.update(h),l=E.digest();var c=0;if(p>0){var v=k.length-p;c=Math.min(p,l.length),l.copy(k,v,0,c),p-=c}if(c<l.length&&g>0){var f=b.length-g,w=Math.min(g,l.length-c);l.copy(b,f,c,c+w),g-=w}}return l.fill(0),{key:k,iv:b}}s.exports=D},32017:s=>{"use strict";s.exports=function G(F,P){if(F===P)return!0;if(F&&P&&typeof F=="object"&&typeof P=="object"){if(F.constructor!==P.constructor)return!1;var L,D,A;if(Array.isArray(F)){if(L=F.length,L!=P.length)return!1;for(D=L;D--!==0;)if(!G(F[D],P[D]))return!1;return!0}if(F.constructor===RegExp)return F.source===P.source&&F.flags===P.flags;if(F.valueOf!==Object.prototype.valueOf)return F.valueOf()===P.valueOf();if(F.toString!==Object.prototype.toString)return F.toString()===P.toString();if(A=Object.keys(F),L=A.length,L!==Object.keys(P).length)return!1;for(D=L;D--!==0;)if(!Object.prototype.hasOwnProperty.call(P,A[D]))return!1;for(D=L;D--!==0;){var h=A[D];if(!G(F[h],P[h]))return!1}return!0}return F!==F&&P!==P}},72492:s=>{"use strict";s.exports=function(G,F){F||(F={}),typeof F=="function"&&(F={cmp:F});var P=typeof F.cycles=="boolean"?F.cycles:!1,L=F.cmp&&function(A){return function(h){return function(m,g){var p={key:m,value:h[m]},k={key:g,value:h[g]};return A(p,k)}}}(F.cmp),D=[];return function A(h){if(h&&h.toJSON&&typeof h.toJSON=="function"&&(h=h.toJSON()),h!==void 0){if(typeof h=="number")return isFinite(h)?""+h:"null";if(typeof h!="object")return JSON.stringify(h);var m,g;if(Array.isArray(h)){for(g="[",m=0;m<h.length;m++)m&&(g+=","),g+=A(h[m])||"null";return g+"]"}if(h===null)return"null";if(D.indexOf(h)!==-1){if(P)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var p=D.push(h)-1,k=Object.keys(h).sort(L&&L(h));for(g="",m=0;m<k.length;m++){var b=k[m],l=A(h[b]);l&&(g&&(g+=","),g+=JSON.stringify(b)+":"+l)}return D.splice(p,1),"{"+g+"}"}}(G)}},82682:(s,G,F)=>{"use strict";var P=F(69600),L=Object.prototype.toString,D=Object.prototype.hasOwnProperty,A=function(k,b,l){for(var E=0,c=k.length;E<c;E++)D.call(k,E)&&(l==null?b(k[E],E,k):b.call(l,k[E],E,k))},h=function(k,b,l){for(var E=0,c=k.length;E<c;E++)l==null?b(k.charAt(E),E,k):b.call(l,k.charAt(E),E,k)},m=function(k,b,l){for(var E in k)D.call(k,E)&&(l==null?b(k[E],E,k):b.call(l,k[E],E,k))};function g(p){return L.call(p)==="[object Array]"}s.exports=function(k,b,l){if(!P(b))throw new TypeError("iterator must be a function");var E;arguments.length>=3&&(E=l),g(k)?A(k,b,E):typeof k=="string"?h(k,b,E):m(k,b,E)}},70453:(s,G,F)=>{"use strict";var P,L=F(79612),D=F(69383),A=F(41237),h=F(79290),m=F(79538),g=F(58068),p=F(69675),k=F(35345),b=F(71514),l=F(58968),E=F(6188),c=F(68002),v=F(75880),f=F(70414),w=F(73093),_=Function,R=function(re){try{return _('"use strict"; return ('+re+").constructor;")()}catch{}},M=F(75795),U=F(30655),x=function(){throw new p},y=M?function(){try{return arguments.callee,x}catch{try{return M(arguments,"callee").get}catch{return x}}}():x,W=F(64119)(),Q=F(93628),Z=F(71064),ee=F(48648),J=F(11002),O=F(10076),H={},I=typeof Uint8Array=="undefined"||!Q?P:Q(Uint8Array),u={__proto__:null,"%AggregateError%":typeof AggregateError=="undefined"?P:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer=="undefined"?P:ArrayBuffer,"%ArrayIteratorPrototype%":W&&Q?Q([][Symbol.iterator]()):P,"%AsyncFromSyncIteratorPrototype%":P,"%AsyncFunction%":H,"%AsyncGenerator%":H,"%AsyncGeneratorFunction%":H,"%AsyncIteratorPrototype%":H,"%Atomics%":typeof Atomics=="undefined"?P:Atomics,"%BigInt%":typeof BigInt=="undefined"?P:BigInt,"%BigInt64Array%":typeof BigInt64Array=="undefined"?P:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array=="undefined"?P:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView=="undefined"?P:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":D,"%eval%":eval,"%EvalError%":A,"%Float16Array%":typeof Float16Array=="undefined"?P:Float16Array,"%Float32Array%":typeof Float32Array=="undefined"?P:Float32Array,"%Float64Array%":typeof Float64Array=="undefined"?P:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry=="undefined"?P:FinalizationRegistry,"%Function%":_,"%GeneratorFunction%":H,"%Int8Array%":typeof Int8Array=="undefined"?P:Int8Array,"%Int16Array%":typeof Int16Array=="undefined"?P:Int16Array,"%Int32Array%":typeof Int32Array=="undefined"?P:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":W&&Q?Q(Q([][Symbol.iterator]())):P,"%JSON%":typeof JSON=="object"?JSON:P,"%Map%":typeof Map=="undefined"?P:Map,"%MapIteratorPrototype%":typeof Map=="undefined"||!W||!Q?P:Q(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":L,"%Object.getOwnPropertyDescriptor%":M,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise=="undefined"?P:Promise,"%Proxy%":typeof Proxy=="undefined"?P:Proxy,"%RangeError%":h,"%ReferenceError%":m,"%Reflect%":typeof Reflect=="undefined"?P:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set=="undefined"?P:Set,"%SetIteratorPrototype%":typeof Set=="undefined"||!W||!Q?P:Q(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer=="undefined"?P:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":W&&Q?Q(""[Symbol.iterator]()):P,"%Symbol%":W?Symbol:P,"%SyntaxError%":g,"%ThrowTypeError%":y,"%TypedArray%":I,"%TypeError%":p,"%Uint8Array%":typeof Uint8Array=="undefined"?P:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray=="undefined"?P:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array=="undefined"?P:Uint16Array,"%Uint32Array%":typeof Uint32Array=="undefined"?P:Uint32Array,"%URIError%":k,"%WeakMap%":typeof WeakMap=="undefined"?P:WeakMap,"%WeakRef%":typeof WeakRef=="undefined"?P:WeakRef,"%WeakSet%":typeof WeakSet=="undefined"?P:WeakSet,"%Function.prototype.call%":O,"%Function.prototype.apply%":J,"%Object.defineProperty%":U,"%Object.getPrototypeOf%":Z,"%Math.abs%":b,"%Math.floor%":l,"%Math.max%":E,"%Math.min%":c,"%Math.pow%":v,"%Math.round%":f,"%Math.sign%":w,"%Reflect.getPrototypeOf%":ee};if(Q)try{null.error}catch(re){var N=Q(Q(re));u["%Error.prototype%"]=N}var q=function re(ge){var ye;if(ge==="%AsyncFunction%")ye=R("async function () {}");else if(ge==="%GeneratorFunction%")ye=R("function* () {}");else if(ge==="%AsyncGeneratorFunction%")ye=R("async function* () {}");else if(ge==="%AsyncGenerator%"){var Ee=re("%AsyncGeneratorFunction%");Ee&&(ye=Ee.prototype)}else if(ge==="%AsyncIteratorPrototype%"){var z=re("%AsyncGenerator%");z&&Q&&(ye=Q(z.prototype))}return u[ge]=ye,ye},V={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},K=F(96135),j=F(9957),ie=K.call(O,Array.prototype.concat),X=K.call(J,Array.prototype.splice),B=K.call(O,String.prototype.replace),se=K.call(O,String.prototype.slice),Pe=K.call(O,RegExp.prototype.exec),we=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,_e=/\\(\\)?/g,Me=function(ge){var ye=se(ge,0,1),Ee=se(ge,-1);if(ye==="%"&&Ee!=="%")throw new g("invalid intrinsic syntax, expected closing `%`");if(Ee==="%"&&ye!=="%")throw new g("invalid intrinsic syntax, expected opening `%`");var z=[];return B(ge,we,function(T,oe,fe,de){z[z.length]=fe?B(de,_e,"$1"):oe||T}),z},te=function(ge,ye){var Ee=ge,z;if(j(V,Ee)&&(z=V[Ee],Ee="%"+z[0]+"%"),j(u,Ee)){var T=u[Ee];if(T===H&&(T=q(Ee)),typeof T=="undefined"&&!ye)throw new p("intrinsic "+ge+" exists, but is not available. Please file an issue!");return{alias:z,name:Ee,value:T}}throw new g("intrinsic "+ge+" does not exist!")};s.exports=function(ge,ye){if(typeof ge!="string"||ge.length===0)throw new p("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof ye!="boolean")throw new p('"allowMissing" argument must be a boolean');if(Pe(/^%?[^%]*%?$/,ge)===null)throw new g("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var Ee=Me(ge),z=Ee.length>0?Ee[0]:"",T=te("%"+z+"%",ye),oe=T.name,fe=T.value,de=!1,ue=T.alias;ue&&(z=ue[0],X(Ee,ie([0,1],ue)));for(var ve=1,Fe=!0;ve<Ee.length;ve+=1){var Oe=Ee[ve],$e=se(Oe,0,1),qe=se(Oe,-1);if(($e==='"'||$e==="'"||$e==="`"||qe==='"'||qe==="'"||qe==="`")&&$e!==qe)throw new g("property names with quotes must have matching quotes");if((Oe==="constructor"||!Fe)&&(de=!0),z+="."+Oe,oe="%"+z+"%",j(u,oe))fe=u[oe];else if(fe!=null){if(!(Oe in fe)){if(!ye)throw new p("base intrinsic for "+ge+" exists, but the property is not available.");return}if(M&&ve+1>=Ee.length){var Ve=M(fe,Oe);Fe=!!Ve,Fe&&"get"in Ve&&!("originalValue"in Ve.get)?fe=Ve.get:fe=fe[Oe]}else Fe=j(fe,Oe),fe=fe[Oe];Fe&&!de&&(u[oe]=fe)}}return fe}},39609:s=>{"use strict";var G="Function.prototype.bind called on incompatible ",F=Object.prototype.toString,P=Math.max,L="[object Function]",D=function(g,p){for(var k=[],b=0;b<g.length;b+=1)k[b]=g[b];for(var l=0;l<p.length;l+=1)k[l+g.length]=p[l];return k},A=function(g,p){for(var k=[],b=p||0,l=0;b<g.length;b+=1,l+=1)k[l]=g[b];return k},h=function(m,g){for(var p="",k=0;k<m.length;k+=1)p+=m[k],k+1<m.length&&(p+=g);return p};s.exports=function(g){var p=this;if(typeof p!="function"||F.apply(p)!==L)throw new TypeError(G+p);for(var k=A(arguments,1),b,l=function(){if(this instanceof b){var w=p.apply(this,D(k,arguments));return Object(w)===w?w:this}return p.apply(g,D(k,arguments))},E=P(0,p.length-k.length),c=[],v=0;v<E;v++)c[v]="$"+v;if(b=Function("binder","return function ("+h(c,",")+"){ return binder.apply(this,arguments); }")(l),p.prototype){var f=function(){};f.prototype=p.prototype,b.prototype=new f,f.prototype=null}return b}},96135:(s,G,F)=>{"use strict";var P=F(39609);s.exports=Function.prototype.bind||P},64119:(s,G,F)=>{"use strict";var P=typeof Symbol!="undefined"&&Symbol,L=F(85669);s.exports=function(){return typeof P!="function"||typeof Symbol!="function"||typeof P("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:L()}},85669:s=>{"use strict";s.exports=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var F={},P=Symbol("test"),L=Object(P);if(typeof P=="string"||Object.prototype.toString.call(P)!=="[object Symbol]"||Object.prototype.toString.call(L)!=="[object Symbol]")return!1;var D=42;F[P]=D;for(var A in F)return!1;if(typeof Object.keys=="function"&&Object.keys(F).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(F).length!==0)return!1;var h=Object.getOwnPropertySymbols(F);if(h.length!==1||h[0]!==P||!Object.prototype.propertyIsEnumerable.call(F,P))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var m=Object.getOwnPropertyDescriptor(F,P);if(m.value!==D||m.enumerable!==!0)return!1}return!0}},71064:(s,G,F)=>{"use strict";var P=F(79612);s.exports=P.getPrototypeOf||null},48648:s=>{"use strict";s.exports=typeof Reflect!="undefined"&&Reflect.getPrototypeOf||null},93628:(s,G,F)=>{"use strict";var P=F(48648),L=F(71064),D=F(7176);s.exports=P?function(h){return P(h)}:L?function(h){if(!h||typeof h!="object"&&typeof h!="function")throw new TypeError("getProto: not an object");return L(h)}:D?function(h){return D(h)}:null},6549:s=>{"use strict";s.exports=Object.getOwnPropertyDescriptor},75795:(s,G,F)=>{"use strict";var P=F(6549);if(P)try{P([],"length")}catch{P=null}s.exports=P},58667:(s,G,F)=>{var P={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"Node"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Node"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"Actor"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Actor"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"User"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"Organization"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Organization"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"Team"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Team"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"slug"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"Reactable"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Reactable"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"reactionGroups"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"content"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerHasReacted"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reactors"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"10"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Actor"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"IssueBase"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Issue"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"number"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stateReason"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"body"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bodyHTML"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"titleHTML"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"author"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"User"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Organization"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"updatedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"milestone"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"dueOn"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"number"},arguments:[],directives:[]}]}},{kind:"Field",alias:{kind:"Name",value:"assignees"},name:{kind:"Name",value:"assignedActors"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"10"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"User"},directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"labels"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"50"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"color"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"databaseId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reactions"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"Reactable"},directives:[]},{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"IssueFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Issue"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"IssueBase"},directives:[]},{kind:"Field",name:{kind:"Name",value:"comments"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"1"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"IssueWithCommentsFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Issue"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"IssueBase"},directives:[]},{kind:"Field",name:{kind:"Name",value:"comments"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"50"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"author"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"User"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Organization"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"body"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"databaseId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reactions"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"PullRequestFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PullRequest"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"number"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"body"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bodyHTML"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"titleHTML"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"author"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"User"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Organization"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"updatedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"milestone"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"dueOn"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"number"},arguments:[],directives:[]}]}},{kind:"Field",alias:{kind:"Name",value:"assignees"},name:{kind:"Name",value:"assignedActors"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"10"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"User"},directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"labels"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"50"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"color"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"databaseId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reactions"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"Reactable"},directives:[]},{kind:"Field",name:{kind:"Name",value:"comments"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"1"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"comments"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"1"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"commits"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"50"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"commit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"headRef"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Ref"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"headRefName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"headRefOid"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"headRepository"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isInOrganization"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"baseRef"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Ref"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"baseRefName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"baseRefOid"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"baseRepository"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isInOrganization"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"squashMergeCommitTitle"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"squashMergeCommitMessage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mergeCommitMessage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mergeCommitTitle"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"merged"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mergeable"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mergeQueueEntry"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"MergeQueueEntryFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"mergeStateStatus"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"autoMergeRequest"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"mergeMethod"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"reviewThreads"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"viewerCanEnableAutoMerge"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerCanDisableAutoMerge"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerCanUpdate"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isDraft"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"suggestedReviewers"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isAuthor"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isCommenter"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reviewer"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"User"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"additions"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"deletions"},arguments:[],directives:[]}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"Issue"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"issue"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"IssueFragment"},directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"IssueWithComments"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"issue"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"IssueWithCommentsFragment"},directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"Issues"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"query"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"search"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}},{kind:"Argument",name:{kind:"Name",value:"type"},value:{kind:"EnumValue",value:"ISSUE"}},{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"Variable",name:{kind:"Name",value:"query"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"issueCount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pageInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hasNextPage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"endCursor"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"IssueFragment"},directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PullRequest"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PullRequestFragment"},directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PullRequestForHead"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"headRefName"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequests"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"3"}},{kind:"Argument",name:{kind:"Name",value:"headRefName"},value:{kind:"Variable",name:{kind:"Name",value:"headRefName"}}},{kind:"Argument",name:{kind:"Name",value:"orderBy"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"field"},value:{kind:"EnumValue",value:"CREATED_AT"}},{kind:"ObjectField",name:{kind:"Name",value:"direction"},value:{kind:"EnumValue",value:"DESC"}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PullRequestFragment"},directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PullRequestMergeabilityMergeRequirements"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"mergeable"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mergeStateStatus"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mergeRequirements"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"conditions"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"result"},arguments:[],directives:[]},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PullRequestMergeConflictStateCondition"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"conflicts"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isConflictResolvableInWeb"},arguments:[],directives:[]}]}}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"LatestUpdates"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"since"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"DateTime"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"reactions"},arguments:[{kind:"Argument",name:{kind:"Name",value:"orderBy"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"direction"},value:{kind:"EnumValue",value:"DESC"}},{kind:"ObjectField",name:{kind:"Name",value:"field"},value:{kind:"EnumValue",value:"CREATED_AT"}}]}},{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"1"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"updatedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"comments"},arguments:[{kind:"Argument",name:{kind:"Name",value:"orderBy"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"direction"},value:{kind:"EnumValue",value:"DESC"}},{kind:"ObjectField",name:{kind:"Name",value:"field"},value:{kind:"EnumValue",value:"UPDATED_AT"}}]}},{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"1"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"updatedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reactions"},arguments:[{kind:"Argument",name:{kind:"Name",value:"orderBy"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"direction"},value:{kind:"EnumValue",value:"DESC"}},{kind:"ObjectField",name:{kind:"Name",value:"field"},value:{kind:"EnumValue",value:"CREATED_AT"}}]}},{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"1"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"timelineItems"},arguments:[{kind:"Argument",name:{kind:"Name",value:"since"},value:{kind:"Variable",name:{kind:"Name",value:"since"}}},{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"1"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"AddedToMergeQueueEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"AddedToProjectEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"AssignedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"AutoMergeDisabledEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"AutoMergeEnabledEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"AutoRebaseEnabledEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"AutoSquashEnabledEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"AutomaticBaseChangeFailedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"AutomaticBaseChangeSucceededEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"BaseRefChangedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"BaseRefDeletedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"BaseRefForcePushedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ClosedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"CommentDeletedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ConnectedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ConvertToDraftEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ConvertedNoteToIssueEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ConvertedToDiscussionEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"CrossReferencedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"DemilestonedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"DeployedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"DeploymentEnvironmentChangedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"DisconnectedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"HeadRefDeletedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"HeadRefForcePushedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"HeadRefRestoredEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"IssueComment"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"IssueTypeAddedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"LabeledEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"LockedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"MarkedAsDuplicateEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"MentionedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"MergedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"MilestonedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"MovedColumnsInProjectEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PinnedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PullRequestCommit"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"commit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"committedDate"},arguments:[],directives:[]}]}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PullRequestReview"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PullRequestReviewThread"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"comments"},arguments:[{kind:"Argument",name:{kind:"Name",value:"last"},value:{kind:"IntValue",value:"1"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}}]}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PullRequestRevisionMarker"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ReadyForReviewEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ReferencedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"RemovedFromMergeQueueEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"RemovedFromProjectEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"RenamedTitleEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ReopenedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ReviewDismissedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ReviewRequestRemovedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ReviewRequestedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"SubscribedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"TransferredEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"UnassignedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"UnlabeledEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"UnlockedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"UnmarkedAsDuplicateEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"UnpinnedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"UnsubscribedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"UserBlockedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"LatestIssueUpdates"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"since"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"DateTime"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"pullRequest"},name:{kind:"Name",value:"issue"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"reactions"},arguments:[{kind:"Argument",name:{kind:"Name",value:"orderBy"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"direction"},value:{kind:"EnumValue",value:"DESC"}},{kind:"ObjectField",name:{kind:"Name",value:"field"},value:{kind:"EnumValue",value:"CREATED_AT"}}]}},{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"1"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"updatedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"comments"},arguments:[{kind:"Argument",name:{kind:"Name",value:"orderBy"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"direction"},value:{kind:"EnumValue",value:"DESC"}},{kind:"ObjectField",name:{kind:"Name",value:"field"},value:{kind:"EnumValue",value:"UPDATED_AT"}}]}},{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"1"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"updatedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reactions"},arguments:[{kind:"Argument",name:{kind:"Name",value:"orderBy"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"direction"},value:{kind:"EnumValue",value:"DESC"}},{kind:"ObjectField",name:{kind:"Name",value:"field"},value:{kind:"EnumValue",value:"CREATED_AT"}}]}},{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"1"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"timelineItems"},arguments:[{kind:"Argument",name:{kind:"Name",value:"since"},value:{kind:"Variable",name:{kind:"Name",value:"since"}}},{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"1"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"AddedToProjectEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"AssignedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ClosedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"CommentDeletedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ConnectedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ConvertedNoteToIssueEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ConvertedToDiscussionEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"CrossReferencedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"DemilestonedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"DisconnectedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"IssueComment"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"IssueTypeAddedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"LabeledEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"LockedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"MarkedAsDuplicateEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"MentionedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"MilestonedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"MovedColumnsInProjectEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PinnedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ReferencedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"RemovedFromProjectEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"RenamedTitleEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ReopenedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"SubscribedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"TransferredEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"UnassignedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"UnlabeledEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"UnlockedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"UnmarkedAsDuplicateEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"UnpinnedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"UnsubscribedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"UserBlockedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetAssignableUsers"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"first"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"after"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"assignableUsers"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"Variable",name:{kind:"Name",value:"first"}}},{kind:"Argument",name:{kind:"Name",value:"after"},value:{kind:"Variable",name:{kind:"Name",value:"after"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"User"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"pageInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hasNextPage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"endCursor"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"CreatePullRequest"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"CreatePullRequestInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createPullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PullRequestFragment"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"RevertPullRequest"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"RevertPullRequestInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"revertPullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"revertPullRequest"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PullRequestFragment"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetSuggestedActors"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"capabilities"}},type:{kind:"NonNullType",type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"RepositorySuggestedActorFilter"}}}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"first"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"after"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"suggestedActors"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"Variable",name:{kind:"Name",value:"first"}}},{kind:"Argument",name:{kind:"Name",value:"after"},value:{kind:"Variable",name:{kind:"Name",value:"after"}}},{kind:"Argument",name:{kind:"Name",value:"capabilities"},value:{kind:"Variable",name:{kind:"Name",value:"capabilities"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"User"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"pageInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hasNextPage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"endCursor"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"DequeuePullRequest"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"DequeuePullRequestInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"dequeuePullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"mergeQueueEntry"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"MergeQueueEntryFragment"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"EnqueuePullRequest"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"EnqueuePullRequestInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"enqueuePullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"mergeQueueEntry"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"MergeQueueEntryFragment"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"ReplaceActorsForAssignable"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ReplaceActorsForAssignableInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"replaceActorsForAssignable"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"assignable"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"assignees"},name:{kind:"Name",value:"assignedActors"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"User"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"pageInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hasNextPage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"endCursor"},arguments:[],directives:[]}]}}]}}]}}]}}]}}],loc:{start:0,end:13062}};P.loc.source={body:`# /*---------------------------------------------------------------------------------------------
#  *  Copyright (c) Microsoft Corporation. All rights reserved.
#  *  Licensed under the MIT License. See License.txt in the project root for license information.
#  *--------------------------------------------------------------------------------------------*/

#import "./queriesShared.gql"

# Queries that are also in the limit file, but are not limited (by scope or API availability) here

fragment Node on Node {
	id
}

fragment Actor on Actor { # We don't want to reference Bot because it is not available on older GHE, so we use Actor instead as it gets us most of the way there.
	__typename
	login
	avatarUrl
	url
}

fragment User on User {
	__typename
	...Actor
	email
	name
	...Node
}

fragment Organization on Organization {
	__typename
	...Actor
	email
	name
	...Node
}

fragment Team on Team { # Team is not an Actor
	name
	avatarUrl
	url
	slug
	...Node
}

fragment Reactable on Reactable {
	reactionGroups {
		content
		viewerHasReacted
		reactors(first: 10) {
			nodes {
				... on User {
					login
				}
				... on Actor {
					login
				}
			}
			totalCount
		}
	}
}

fragment IssueBase on Issue {
	number
	url
	state
	stateReason
	body
	bodyHTML
	title
	titleHTML
	author {
		...Node
		...Actor
		...User
		...Organization
	}
	createdAt
	updatedAt
	milestone {
		title
		dueOn
		createdAt
		id
		number
	}
	assignees: assignedActors(first: 10) {
		nodes {
			...Node
			...Actor
			...User
		}
	}
	labels(first: 50) {
		nodes {
			name
			color
		}
	}
	id
	databaseId
	reactions(first: 100) {
		totalCount
	}
	...Reactable
	repository {
		name
		owner {
			login
		}
		url
	}
}

fragment IssueFragment on Issue {
	...IssueBase
	comments(first: 1) {
		totalCount
	}
}

fragment IssueWithCommentsFragment on Issue {
	...IssueBase
	comments(first: 50) {
		nodes {
			author {
				...Node
				...Actor
				...User
				...Organization
			}
			body
			databaseId
			reactions(first: 100) {
				totalCount
			}
		}
		totalCount
	}
}

fragment PullRequestFragment on PullRequest {
	number
	url
	state
	body
	bodyHTML
	title
	titleHTML
	author {
		...Node
		...Actor
		...User
		...Organization
	}
	createdAt
	updatedAt
	milestone {
		title
		dueOn
		createdAt
		id
		number
	}
	assignees: assignedActors(first: 10) {
		nodes {
			...Node
			...Actor
			...User
		}
	}
	labels(first: 50) {
		nodes {
			name
			color
		}
	}
	id
	databaseId
	reactions(first: 100) {
		totalCount
	}
	...Reactable
	comments(first: 1) {
		totalCount
	}

	comments(first: 1) {
		totalCount
	}

	commits(first: 50) {
		nodes {
			commit {
				message
			}
		}
	}
	headRef {
		...Ref
	}
	headRefName
	headRefOid
	headRepository {
		isInOrganization
		owner {
			login
		}
		url
	}
	baseRef {
		...Ref
	}
	baseRefName
	baseRefOid
	baseRepository {
		isInOrganization
		owner {
			login
		}
		url
		squashMergeCommitTitle
		squashMergeCommitMessage
		mergeCommitMessage
		mergeCommitTitle
	}
	merged
	mergeable
	mergeQueueEntry {
		...MergeQueueEntryFragment
	}
	mergeStateStatus
	autoMergeRequest {
		mergeMethod
	}
	reviewThreads {
		totalCount
	}
	viewerCanEnableAutoMerge
	viewerCanDisableAutoMerge
	viewerCanUpdate
	isDraft
	suggestedReviewers {
		isAuthor
		isCommenter
		reviewer {
			...Actor
			...User
			...Node
		}
	}
	additions
	deletions
}

query Issue($owner: String!, $name: String!, $number: Int!) {
	repository(owner: $owner, name: $name) {
		issue(number: $number) {
			...IssueFragment
		}
	}
	rateLimit {
		...RateLimit
	}
}

query IssueWithComments($owner: String!, $name: String!, $number: Int!) {
	repository(owner: $owner, name: $name) {
		issue(number: $number) {
			...IssueWithCommentsFragment
		}
	}
	rateLimit {
		...RateLimit
	}
}

query Issues($query: String!) {
	search(first: 100, type: ISSUE, query: $query) {
		issueCount
		pageInfo {
			hasNextPage
			endCursor
		}
		edges {
			node {
				...IssueFragment
			}
		}
	}
	rateLimit {
		...RateLimit
	}
}

query PullRequest($owner: String!, $name: String!, $number: Int!) {
	repository(owner: $owner, name: $name) {
		pullRequest(number: $number) {
			...PullRequestFragment
		}
	}
	rateLimit {
		...RateLimit
	}
}


query PullRequestForHead($owner: String!, $name: String!, $headRefName: String!) {
	repository(owner: $owner, name: $name) {
		pullRequests(first: 3, headRefName: $headRefName, orderBy: { field: CREATED_AT, direction: DESC }) {
			nodes {
				...PullRequestFragment
			}
		}
	}
	rateLimit {
		...RateLimit
	}
}

query PullRequestMergeabilityMergeRequirements($owner: String!, $name: String!, $number: Int!) {
	repository(owner: $owner, name: $name) {
		pullRequest(number: $number) {
			mergeable
			mergeStateStatus
			mergeRequirements { # This is a privage field we're testing
				state
				conditions {
					result
					... on PullRequestMergeConflictStateCondition {
						__typename
						conflicts
						isConflictResolvableInWeb
					}
				}
			}
		}
	}
	rateLimit {
		...RateLimit
	}
}

query LatestUpdates($owner: String!, $name: String!, $number: Int!, $since: DateTime!) {
	repository(owner: $owner, name: $name) {
		pullRequest(number: $number) {
			reactions(orderBy:{direction:DESC, field: CREATED_AT}, first: 1) {
				nodes {
					createdAt
				}
			}
			updatedAt
			comments(orderBy: {direction:DESC, field: UPDATED_AT}, first: 1) {
				nodes {
					updatedAt
					reactions(orderBy:{direction:DESC, field: CREATED_AT}, first: 1) {
						nodes {
							createdAt
						}
					}
				}
			}
			timelineItems(since: $since, first: 1) {
				nodes {
					... on AddedToMergeQueueEvent {
						createdAt
					}
					... on AddedToProjectEvent {
						createdAt
					}
					... on AssignedEvent {
						createdAt
					}
					... on AutoMergeDisabledEvent {
						createdAt
					}
					... on AutoMergeEnabledEvent {
						createdAt
					}
					... on AutoRebaseEnabledEvent {
						createdAt
					}
					... on AutoSquashEnabledEvent {
						createdAt
					}
					... on AutomaticBaseChangeFailedEvent {
						createdAt
					}
					... on AutomaticBaseChangeSucceededEvent {
						createdAt
					}
					... on BaseRefChangedEvent {
						createdAt
					}
					... on BaseRefDeletedEvent {
						createdAt
					}
					... on BaseRefForcePushedEvent {
						createdAt
					}
					... on ClosedEvent {
						createdAt
					}
					... on CommentDeletedEvent {
						createdAt
					}
					... on ConnectedEvent {
						createdAt
					}
					... on ConvertToDraftEvent {
						createdAt
					}
					... on ConvertedNoteToIssueEvent {
						createdAt
					}
					... on ConvertedToDiscussionEvent {
						createdAt
					}
					... on CrossReferencedEvent {
						createdAt
					}
					... on DemilestonedEvent {
						createdAt
					}
					... on DeployedEvent {
						createdAt
					}
					... on DeploymentEnvironmentChangedEvent {
						createdAt
					}
					... on DisconnectedEvent {
						createdAt
					}
					... on HeadRefDeletedEvent {
						createdAt
					}
					... on HeadRefForcePushedEvent {
						createdAt
					}
					... on HeadRefRestoredEvent {
						createdAt
					}
					... on IssueComment {
						createdAt
					}
					... on IssueTypeAddedEvent {
						createdAt
					}
					... on LabeledEvent {
						createdAt
					}
					... on LockedEvent {
						createdAt
					}
					... on MarkedAsDuplicateEvent {
						createdAt
					}
					... on MentionedEvent {
						createdAt
					}
					... on MergedEvent {
						createdAt
					}
					... on MilestonedEvent {
						createdAt
					}
					... on MovedColumnsInProjectEvent {
						createdAt
					}
					... on PinnedEvent {
						createdAt
					}
					... on PullRequestCommit {
						commit {
							committedDate
						}
					}
					... on PullRequestReview {
						createdAt
					}
					... on PullRequestReviewThread {
						comments(last: 1) {
							nodes {
								createdAt
							}
						}
					}
					... on PullRequestRevisionMarker {
						createdAt
					}
					... on ReadyForReviewEvent {
						createdAt
					}
					... on ReferencedEvent {
						createdAt
					}
					... on RemovedFromMergeQueueEvent {
						createdAt
					}
					... on RemovedFromProjectEvent {
						createdAt
					}
					... on RenamedTitleEvent {
						createdAt
					}
					... on ReopenedEvent {
						createdAt
					}
					... on ReviewDismissedEvent {
						createdAt
					}
					... on ReviewRequestRemovedEvent {
						createdAt
					}
					... on ReviewRequestedEvent {
						createdAt
					}
					... on SubscribedEvent {
						createdAt
					}
					... on TransferredEvent {
						createdAt
					}
					... on UnassignedEvent {
						createdAt
					}
					... on UnlabeledEvent {
						createdAt
					}
					... on UnlockedEvent {
						createdAt
					}
					... on UnmarkedAsDuplicateEvent {
						createdAt
					}
					... on UnpinnedEvent {
						createdAt
					}
					... on UnsubscribedEvent {
						createdAt
					}
					... on UserBlockedEvent {
						createdAt
					}
				}
			}
		}
	}
	rateLimit {
		...RateLimit
	}
}

query LatestIssueUpdates($owner: String!, $name: String!, $number: Int!, $since: DateTime!) {
	repository(owner: $owner, name: $name) {
		pullRequest: issue(number: $number) {
			reactions(orderBy:{direction:DESC, field: CREATED_AT}, first: 1) {
				nodes {
					createdAt
				}
			}
			updatedAt
			comments(orderBy: {direction:DESC, field: UPDATED_AT}, first: 1) {
				nodes {
					updatedAt
					reactions(orderBy:{direction:DESC, field: CREATED_AT}, first: 1) {
						nodes {
							createdAt
						}
					}
				}
			}
			timelineItems(since: $since, first: 1) {
				nodes {
					... on AddedToProjectEvent {
						createdAt
					}
					... on AssignedEvent {
						createdAt
					}
					... on ClosedEvent {
						createdAt
					}
					... on CommentDeletedEvent {
						createdAt
					}
					... on ConnectedEvent {
						createdAt
					}
					... on ConvertedNoteToIssueEvent {
						createdAt
					}
					... on ConvertedToDiscussionEvent {
						createdAt
					}
					... on CrossReferencedEvent {
						createdAt
					}
					... on DemilestonedEvent {
						createdAt
					}
					... on DisconnectedEvent {
						createdAt
					}
					... on IssueComment {
						createdAt
					}
					... on IssueTypeAddedEvent {
						createdAt
					}
					... on LabeledEvent {
						createdAt
					}
					... on LockedEvent {
						createdAt
					}
					... on MarkedAsDuplicateEvent {
						createdAt
					}
					... on MentionedEvent {
						createdAt
					}
					... on MilestonedEvent {
						createdAt
					}
					... on MovedColumnsInProjectEvent {
						createdAt
					}
					... on PinnedEvent {
						createdAt
					}
					... on ReferencedEvent {
						createdAt
					}
					... on RemovedFromProjectEvent {
						createdAt
					}
					... on RenamedTitleEvent {
						createdAt
					}
					... on ReopenedEvent {
						createdAt
					}
					... on SubscribedEvent {
						createdAt
					}
					... on TransferredEvent {
						createdAt
					}
					... on UnassignedEvent {
						createdAt
					}
					... on UnlabeledEvent {
						createdAt
					}
					... on UnlockedEvent {
						createdAt
					}
					... on UnmarkedAsDuplicateEvent {
						createdAt
					}
					... on UnpinnedEvent {
						createdAt
					}
					... on UnsubscribedEvent {
						createdAt
					}
					... on UserBlockedEvent {
						createdAt
					}
				}
			}
		}
	}
	rateLimit {
		...RateLimit
	}
}

query GetAssignableUsers($owner: String!, $name: String!, $first: Int!, $after: String) {
	repository(owner: $owner, name: $name) {
		assignableUsers(first: $first, after: $after) {
			nodes {
				...User
			}
			pageInfo {
				hasNextPage
				endCursor
			}
		}
	}
	rateLimit {
		...RateLimit
	}
}

mutation CreatePullRequest($input: CreatePullRequestInput!) {
	createPullRequest(input: $input) {
		pullRequest {
			...PullRequestFragment
		}
	}
}

mutation RevertPullRequest($input: RevertPullRequestInput!) {
	revertPullRequest(input: $input) {
		revertPullRequest {
			...PullRequestFragment
		}
	}
}

# Queries that only exist in this file and in extra

query GetSuggestedActors($owner: String!, $name: String!, $capabilities: [RepositorySuggestedActorFilter!]!, $first: Int!, $after: String) {
	repository(owner: $owner, name: $name) {
		suggestedActors(first: $first, after: $after, capabilities: $capabilities) {
			nodes {
				...Node
				...Actor
				...User
			}
			pageInfo {
				hasNextPage
				endCursor
			}
		}
	}
	rateLimit {
		...RateLimit
	}
}

mutation DequeuePullRequest($input: DequeuePullRequestInput!) {
	dequeuePullRequest(input: $input) {
		mergeQueueEntry {
			...MergeQueueEntryFragment
		}
	}
}

mutation EnqueuePullRequest($input: EnqueuePullRequestInput!) {
	enqueuePullRequest(input: $input) {
		mergeQueueEntry {
			...MergeQueueEntryFragment
		}
	}
}

mutation ReplaceActorsForAssignable($input: ReplaceActorsForAssignableInput!) {
	replaceActorsForAssignable(input: $input) {
		assignable {
			assignees: assignedActors(first: 100) {
				nodes {
					...Node
					...Actor
					...User
				}
				pageInfo {
					hasNextPage
					endCursor
				}
			}
		}
	}
}`,name:"GraphQL request",locationOffset:{line:1,column:1}};var L={};function D(p){return p.filter(function(k){if(k.kind!=="FragmentDefinition")return!0;var b=k.name.value;return L[b]?!1:(L[b]=!0,!0)})}P.definitions=P.definitions.concat(D(F(72256).definitions));function A(p,k){if(p.kind==="FragmentSpread")k.add(p.name.value);else if(p.kind==="VariableDefinition"){var b=p.type;b.kind==="NamedType"&&k.add(b.name.value)}p.selectionSet&&p.selectionSet.selections.forEach(function(l){A(l,k)}),p.variableDefinitions&&p.variableDefinitions.forEach(function(l){A(l,k)}),p.definitions&&p.definitions.forEach(function(l){A(l,k)})}var h={};(function(){P.definitions.forEach(function(k){if(k.name){var b=new Set;A(k,b),h[k.name.value]=b}})})();function m(p,k){for(var b=0;b<p.definitions.length;b++){var l=p.definitions[b];if(l.name&&l.name.value==k)return l}}function g(p,k){var b={kind:p.kind,definitions:[m(p,k)]};p.hasOwnProperty("loc")&&(b.loc=p.loc);var l=h[k]||new Set,E=new Set,c=new Set;for(l.forEach(function(f){c.add(f)});c.size>0;){var v=c;c=new Set,v.forEach(function(f){if(!E.has(f)){E.add(f);var w=h[f]||new Set;w.forEach(function(_){c.add(_)})}})}return E.forEach(function(f){var w=m(p,f);w&&b.definitions.push(w)}),b}s.exports=P,s.exports.Issue=g(P,"Issue"),s.exports.IssueWithComments=g(P,"IssueWithComments"),s.exports.Issues=g(P,"Issues"),s.exports.PullRequest=g(P,"PullRequest"),s.exports.PullRequestForHead=g(P,"PullRequestForHead"),s.exports.PullRequestMergeabilityMergeRequirements=g(P,"PullRequestMergeabilityMergeRequirements"),s.exports.LatestUpdates=g(P,"LatestUpdates"),s.exports.LatestIssueUpdates=g(P,"LatestIssueUpdates"),s.exports.GetAssignableUsers=g(P,"GetAssignableUsers"),s.exports.CreatePullRequest=g(P,"CreatePullRequest"),s.exports.RevertPullRequest=g(P,"RevertPullRequest"),s.exports.GetSuggestedActors=g(P,"GetSuggestedActors"),s.exports.DequeuePullRequest=g(P,"DequeuePullRequest"),s.exports.EnqueuePullRequest=g(P,"EnqueuePullRequest"),s.exports.ReplaceActorsForAssignable=g(P,"ReplaceActorsForAssignable")},8575:(s,G,F)=>{var P={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"Node"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Node"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"Actor"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Actor"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"User"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"Organization"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Organization"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"Team"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Team"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"slug"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"Reactable"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Reactable"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"reactionGroups"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"content"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerHasReacted"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reactors"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"10"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Actor"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"IssueBase"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Issue"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"number"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stateReason"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"body"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bodyHTML"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"titleHTML"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"author"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"User"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Organization"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"updatedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"milestone"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"dueOn"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"number"},arguments:[],directives:[]}]}},{kind:"Field",alias:{kind:"Name",value:"assignees"},name:{kind:"Name",value:"assignedActors"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"10"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"User"},directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"labels"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"50"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"color"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"databaseId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reactions"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"Reactable"},directives:[]},{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"projectItems"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"project"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"IssueFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Issue"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"IssueBase"},directives:[]},{kind:"Field",name:{kind:"Name",value:"comments"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"1"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"IssueWithCommentsFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Issue"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"IssueBase"},directives:[]},{kind:"Field",name:{kind:"Name",value:"comments"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"50"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"author"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"User"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Organization"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"body"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"databaseId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reactions"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"PullRequestFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PullRequest"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"number"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"body"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bodyHTML"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"titleHTML"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"author"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"User"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Organization"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"updatedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"milestone"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"dueOn"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"number"},arguments:[],directives:[]}]}},{kind:"Field",alias:{kind:"Name",value:"assignees"},name:{kind:"Name",value:"assignedActors"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"10"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"User"},directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"labels"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"50"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"color"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"databaseId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reactions"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"Reactable"},directives:[]},{kind:"Field",name:{kind:"Name",value:"projectItems"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"project"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"comments"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"1"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"commits"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"50"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"commit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"headRef"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Ref"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"headRefName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"headRefOid"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"headRepository"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isInOrganization"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"baseRef"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Ref"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"baseRefName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"baseRefOid"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"baseRepository"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isInOrganization"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"squashMergeCommitTitle"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"squashMergeCommitMessage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mergeCommitMessage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mergeCommitTitle"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"merged"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mergeable"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mergeQueueEntry"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"MergeQueueEntryFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"mergeStateStatus"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reviewThreads"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"autoMergeRequest"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"mergeMethod"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"viewerCanEnableAutoMerge"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerCanDisableAutoMerge"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerCanUpdate"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isDraft"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"suggestedReviewers"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isAuthor"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isCommenter"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reviewer"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"User"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"Issue"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"issue"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"IssueFragment"},directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"IssueWithComments"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"issue"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"IssueWithCommentsFragment"},directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"Issues"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"query"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"search"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}},{kind:"Argument",name:{kind:"Name",value:"type"},value:{kind:"EnumValue",value:"ISSUE"}},{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"Variable",name:{kind:"Name",value:"query"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"issueCount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pageInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hasNextPage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"endCursor"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"IssueFragment"},directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PullRequest"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PullRequestFragment"},directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PullRequestForHead"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"headRefName"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequests"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"3"}},{kind:"Argument",name:{kind:"Name",value:"headRefName"},value:{kind:"Variable",name:{kind:"Name",value:"headRefName"}}},{kind:"Argument",name:{kind:"Name",value:"orderBy"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"field"},value:{kind:"EnumValue",value:"CREATED_AT"}},{kind:"ObjectField",name:{kind:"Name",value:"direction"},value:{kind:"EnumValue",value:"DESC"}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PullRequestFragment"},directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PullRequestMergeabilityMergeRequirements"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"mergeable"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mergeStateStatus"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mergeRequirements"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"conditions"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"result"},arguments:[],directives:[]},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PullRequestMergeConflictStateCondition"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"conflicts"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isConflictResolvableInWeb"},arguments:[],directives:[]}]}}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetSuggestedActors"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"capabilities"}},type:{kind:"NonNullType",type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"RepositorySuggestedActorFilter"}}}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"first"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"after"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"suggestedActors"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"Variable",name:{kind:"Name",value:"first"}}},{kind:"Argument",name:{kind:"Name",value:"after"},value:{kind:"Variable",name:{kind:"Name",value:"after"}}},{kind:"Argument",name:{kind:"Name",value:"capabilities"},value:{kind:"Variable",name:{kind:"Name",value:"capabilities"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"User"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"pageInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hasNextPage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"endCursor"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"LatestUpdates"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"since"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"DateTime"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"reactions"},arguments:[{kind:"Argument",name:{kind:"Name",value:"orderBy"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"direction"},value:{kind:"EnumValue",value:"DESC"}},{kind:"ObjectField",name:{kind:"Name",value:"field"},value:{kind:"EnumValue",value:"CREATED_AT"}}]}},{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"1"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"updatedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"comments"},arguments:[{kind:"Argument",name:{kind:"Name",value:"orderBy"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"direction"},value:{kind:"EnumValue",value:"DESC"}},{kind:"ObjectField",name:{kind:"Name",value:"field"},value:{kind:"EnumValue",value:"UPDATED_AT"}}]}},{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"1"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"updatedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reactions"},arguments:[{kind:"Argument",name:{kind:"Name",value:"orderBy"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"direction"},value:{kind:"EnumValue",value:"DESC"}},{kind:"ObjectField",name:{kind:"Name",value:"field"},value:{kind:"EnumValue",value:"CREATED_AT"}}]}},{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"1"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"timelineItems"},arguments:[{kind:"Argument",name:{kind:"Name",value:"since"},value:{kind:"Variable",name:{kind:"Name",value:"since"}}},{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"1"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"AddedToMergeQueueEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"AddedToProjectEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"AssignedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"AutoMergeDisabledEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"AutoMergeEnabledEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"AutoRebaseEnabledEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"AutoSquashEnabledEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"AutomaticBaseChangeFailedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"AutomaticBaseChangeSucceededEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"BaseRefChangedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"BaseRefDeletedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"BaseRefForcePushedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ClosedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"CommentDeletedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ConnectedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ConvertToDraftEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ConvertedNoteToIssueEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ConvertedToDiscussionEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"CrossReferencedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"DemilestonedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"DeployedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"DeploymentEnvironmentChangedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"DisconnectedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"HeadRefDeletedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"HeadRefForcePushedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"HeadRefRestoredEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"IssueComment"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"IssueTypeAddedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"LabeledEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"LockedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"MarkedAsDuplicateEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"MentionedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"MergedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"MilestonedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"MovedColumnsInProjectEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PinnedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PullRequestCommit"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"commit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"committedDate"},arguments:[],directives:[]}]}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PullRequestReview"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PullRequestReviewThread"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"comments"},arguments:[{kind:"Argument",name:{kind:"Name",value:"last"},value:{kind:"IntValue",value:"1"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}}]}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PullRequestRevisionMarker"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ReadyForReviewEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ReferencedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"RemovedFromMergeQueueEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"RemovedFromProjectEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"RenamedTitleEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ReopenedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ReviewDismissedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ReviewRequestRemovedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ReviewRequestedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"SubscribedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"TransferredEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"UnassignedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"UnlabeledEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"UnlockedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"UnmarkedAsDuplicateEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"UnpinnedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"UnsubscribedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"UserBlockedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"LatestIssueUpdates"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"since"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"DateTime"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"pullRequest"},name:{kind:"Name",value:"issue"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"reactions"},arguments:[{kind:"Argument",name:{kind:"Name",value:"orderBy"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"direction"},value:{kind:"EnumValue",value:"DESC"}},{kind:"ObjectField",name:{kind:"Name",value:"field"},value:{kind:"EnumValue",value:"CREATED_AT"}}]}},{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"1"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"updatedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"comments"},arguments:[{kind:"Argument",name:{kind:"Name",value:"orderBy"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"direction"},value:{kind:"EnumValue",value:"DESC"}},{kind:"ObjectField",name:{kind:"Name",value:"field"},value:{kind:"EnumValue",value:"UPDATED_AT"}}]}},{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"1"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"updatedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reactions"},arguments:[{kind:"Argument",name:{kind:"Name",value:"orderBy"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"direction"},value:{kind:"EnumValue",value:"DESC"}},{kind:"ObjectField",name:{kind:"Name",value:"field"},value:{kind:"EnumValue",value:"CREATED_AT"}}]}},{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"1"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"timelineItems"},arguments:[{kind:"Argument",name:{kind:"Name",value:"since"},value:{kind:"Variable",name:{kind:"Name",value:"since"}}},{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"1"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"AddedToProjectEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"AssignedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ClosedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"CommentDeletedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ConnectedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ConvertedNoteToIssueEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ConvertedToDiscussionEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"CrossReferencedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"DemilestonedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"DisconnectedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"IssueComment"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"IssueTypeAddedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"LabeledEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"LockedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"MarkedAsDuplicateEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"MentionedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"MilestonedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"MovedColumnsInProjectEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PinnedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ReferencedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"RemovedFromProjectEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"RenamedTitleEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ReopenedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"SubscribedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"TransferredEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"UnassignedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"UnlabeledEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"UnlockedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"UnmarkedAsDuplicateEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"UnpinnedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"UnsubscribedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"UserBlockedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetAssignableUsers"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"first"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"after"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"assignableUsers"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"Variable",name:{kind:"Name",value:"first"}}},{kind:"Argument",name:{kind:"Name",value:"after"},value:{kind:"Variable",name:{kind:"Name",value:"after"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"User"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"pageInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hasNextPage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"endCursor"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"CreatePullRequest"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"CreatePullRequestInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createPullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PullRequestFragment"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"ReplaceActorsForAssignable"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ReplaceActorsForAssignableInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"replaceActorsForAssignable"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"assignable"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"assignees"},name:{kind:"Name",value:"assignedActors"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"User"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"pageInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hasNextPage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"endCursor"},arguments:[],directives:[]}]}}]}}]}}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetRepoProjects"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"projectsV2"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}},{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"StringValue",value:"state:OPEN",block:!1}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetOrgProjects"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"after"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"organization"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"projectsV2"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}},{kind:"Argument",name:{kind:"Name",value:"after"},value:{kind:"Variable",name:{kind:"Name",value:"after"}}},{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"StringValue",value:"state:OPEN",block:!1}},{kind:"Argument",name:{kind:"Name",value:"orderBy"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"field"},value:{kind:"EnumValue",value:"UPDATED_AT"}},{kind:"ObjectField",name:{kind:"Name",value:"direction"},value:{kind:"EnumValue",value:"DESC"}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"pageInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hasNextPage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"endCursor"},arguments:[],directives:[]}]}}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"AddPullRequestToProject"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"AddProjectV2ItemByIdInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"addProjectV2ItemById"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"item"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"RemovePullRequestFromProject"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"DeleteProjectV2ItemInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"deleteProjectV2Item"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"deletedItemId"},arguments:[],directives:[]}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"DequeuePullRequest"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"DequeuePullRequestInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"dequeuePullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"mergeQueueEntry"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"MergeQueueEntryFragment"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"EnqueuePullRequest"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"EnqueuePullRequestInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"enqueuePullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"mergeQueueEntry"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"MergeQueueEntryFragment"},directives:[]}]}}]}}]}}],loc:{start:0,end:13712}};P.loc.source={body:`# /*---------------------------------------------------------------------------------------------
#  *  Copyright (c) Microsoft Corporation. All rights reserved.
#  *  Licensed under the MIT License. See License.txt in the project root for license information.
#  *--------------------------------------------------------------------------------------------*/

#import "./queriesShared.gql"

# Queries that are only available with extra auth scopes

fragment Node on Node {
	id
}

fragment Actor on Actor { # We don't want to reference Bot because it is not available on older GHE, so we use Actor instead as it gets us most of the way there.
	__typename
	login
	avatarUrl
	url
}

fragment User on User {
	__typename
	...Actor
	email
	name
	...Node
}

fragment Organization on Organization {
	__typename
	...Actor
	email
	name
	...Node
}

fragment Team on Team { # Team is not an Actor
	name
	avatarUrl
	url
	slug
	...Node
}

fragment Reactable on Reactable {
	reactionGroups {
		content
		viewerHasReacted
		reactors(first: 10) {
			nodes {
				... on User {
					login
				}
				... on Actor {
					login
				}
			}
			totalCount
		}
	}
}

fragment IssueBase on Issue {
	number
	url
	state
	stateReason
	body
	bodyHTML
	title
	titleHTML
	author {
		...Node
		...Actor
		...User
		...Organization
	}
	createdAt
	updatedAt
	milestone {
		title
		dueOn
		createdAt
		id
		number
	}
	assignees: assignedActors(first: 10) {
		nodes {
			...Node
			...Actor
			...User
		}
	}
	labels(first: 50) {
		nodes {
			name
			color
		}
	}
	id
	databaseId
	reactions(first: 100) {
		totalCount
	}
	...Reactable
	repository {
		name
		owner {
			login
		}
		url
	}
	projectItems(first: 100) {
		nodes {
			id
			project {
				title
				id
			}
		}
	}
}

fragment IssueFragment on Issue {
	...IssueBase
	comments(first: 1) {
		totalCount
	}
}

fragment IssueWithCommentsFragment on Issue {
	...IssueBase
	comments(first: 50) {
		nodes {
			author {
				...Node
				...Actor
				...User
				...Organization
			}
			body
			databaseId
			reactions(first: 100) {
				totalCount
			}
		}
		totalCount
	}
}

fragment PullRequestFragment on PullRequest {
	number
	url
	state
	body
	bodyHTML
	title
	titleHTML
	author {
		...Node
		...Actor
		...User
		...Organization
	}
	createdAt
	updatedAt
	milestone {
		title
		dueOn
		createdAt
		id
		number
	}
	assignees: assignedActors(first: 10) {
		nodes {
			...Node
			...Actor
			...User
		}
	}
	labels(first: 50) {
		nodes {
			name
			color
		}
	}
	id
	databaseId
	reactions(first: 100) {
		totalCount
	}
	...Reactable
	projectItems(first: 100) {
		nodes {
			id
			project {
				title
				id
			}
		}
	}
	comments(first: 1) {
		totalCount
	}
	commits(first: 50) {
		nodes {
			commit {
				message
			}
		}
	}
	headRef {
		...Ref
	}
	headRefName
	headRefOid
	headRepository {
		isInOrganization
		owner {
			login
		}
		url
	}
	baseRef {
		...Ref
	}
	baseRefName
	baseRefOid
	baseRepository {
		isInOrganization
		owner {
			login
		}
		url
		squashMergeCommitTitle
		squashMergeCommitMessage
		mergeCommitMessage
		mergeCommitTitle
	}
	merged
	mergeable
	mergeQueueEntry {
		...MergeQueueEntryFragment
	}
	mergeStateStatus
	reviewThreads {
		totalCount
	}
	autoMergeRequest {
		mergeMethod
	}
	viewerCanEnableAutoMerge
	viewerCanDisableAutoMerge
	viewerCanUpdate
	isDraft
	suggestedReviewers {
		isAuthor
		isCommenter
		reviewer {
			...Actor
			...User
			...Node
		}
	}
}

query Issue($owner: String!, $name: String!, $number: Int!) {
	repository(owner: $owner, name: $name) {
		issue(number: $number) {
			...IssueFragment
		}
	}
	rateLimit {
		...RateLimit
	}
}

query IssueWithComments($owner: String!, $name: String!, $number: Int!) {
	repository(owner: $owner, name: $name) {
		issue(number: $number) {
			...IssueWithCommentsFragment
		}
	}
	rateLimit {
		...RateLimit
	}
}

query Issues($query: String!) {
	search(first: 100, type: ISSUE, query: $query) {
		issueCount
		pageInfo {
			hasNextPage
			endCursor
		}
		edges {
			node {
				...IssueFragment
			}
		}
	}
	rateLimit {
		...RateLimit
	}
}

query PullRequest($owner: String!, $name: String!, $number: Int!) {
	repository(owner: $owner, name: $name) {
		pullRequest(number: $number) {
			...PullRequestFragment
		}
	}
	rateLimit {
		...RateLimit
	}
}


query PullRequestForHead($owner: String!, $name: String!, $headRefName: String!) {
	repository(owner: $owner, name: $name) {
		pullRequests(first: 3, headRefName: $headRefName, orderBy: { field: CREATED_AT, direction: DESC }) {
			nodes {
				...PullRequestFragment
			}
		}
	}
	rateLimit {
		...RateLimit
	}
}

query PullRequestMergeabilityMergeRequirements($owner: String!, $name: String!, $number: Int!) {
	repository(owner: $owner, name: $name) {
		pullRequest(number: $number) {
			mergeable
			mergeStateStatus
			mergeRequirements { # This is a privage field we're testing
				state
				conditions {
					result
					... on PullRequestMergeConflictStateCondition {
						__typename
						conflicts
						isConflictResolvableInWeb
					}
				}
			}
		}
	}
	rateLimit {
		...RateLimit
	}
}

query GetSuggestedActors($owner: String!, $name: String!, $capabilities: [RepositorySuggestedActorFilter!]!, $first: Int!, $after: String) {
	repository(owner: $owner, name: $name) {
		suggestedActors(first: $first, after: $after, capabilities: $capabilities) {
			nodes {
				...Node
				...Actor
				...User
			}
			pageInfo {
				hasNextPage
				endCursor
			}
		}
	}
	rateLimit {
		...RateLimit
	}
}

query LatestUpdates($owner: String!, $name: String!, $number: Int!, $since: DateTime!) {
	repository(owner: $owner, name: $name) {
		pullRequest(number: $number) {
			reactions(orderBy:{direction:DESC, field: CREATED_AT}, first: 1) {
				nodes {
					createdAt
				}
			}
			updatedAt
			comments(orderBy: {direction:DESC, field: UPDATED_AT}, first: 1) {
				nodes {
					updatedAt
					reactions(orderBy:{direction:DESC, field: CREATED_AT}, first: 1) {
						nodes {
							createdAt
						}
					}
				}
			}
			timelineItems(since: $since, first: 1) {
				nodes {
					... on AddedToMergeQueueEvent {
						createdAt
					}
					... on AddedToProjectEvent {
						createdAt
					}
					... on AssignedEvent {
						createdAt
					}
					... on AutoMergeDisabledEvent {
						createdAt
					}
					... on AutoMergeEnabledEvent {
						createdAt
					}
					... on AutoRebaseEnabledEvent {
						createdAt
					}
					... on AutoSquashEnabledEvent {
						createdAt
					}
					... on AutomaticBaseChangeFailedEvent {
						createdAt
					}
					... on AutomaticBaseChangeSucceededEvent {
						createdAt
					}
					... on BaseRefChangedEvent {
						createdAt
					}
					... on BaseRefDeletedEvent {
						createdAt
					}
					... on BaseRefForcePushedEvent {
						createdAt
					}
					... on ClosedEvent {
						createdAt
					}
					... on CommentDeletedEvent {
						createdAt
					}
					... on ConnectedEvent {
						createdAt
					}
					... on ConvertToDraftEvent {
						createdAt
					}
					... on ConvertedNoteToIssueEvent {
						createdAt
					}
					... on ConvertedToDiscussionEvent {
						createdAt
					}
					... on CrossReferencedEvent {
						createdAt
					}
					... on DemilestonedEvent {
						createdAt
					}
					... on DeployedEvent {
						createdAt
					}
					... on DeploymentEnvironmentChangedEvent {
						createdAt
					}
					... on DisconnectedEvent {
						createdAt
					}
					... on HeadRefDeletedEvent {
						createdAt
					}
					... on HeadRefForcePushedEvent {
						createdAt
					}
					... on HeadRefRestoredEvent {
						createdAt
					}
					... on IssueComment {
						createdAt
					}
					... on IssueTypeAddedEvent {
						createdAt
					}
					... on LabeledEvent {
						createdAt
					}
					... on LockedEvent {
						createdAt
					}
					... on MarkedAsDuplicateEvent {
						createdAt
					}
					... on MentionedEvent {
						createdAt
					}
					... on MergedEvent {
						createdAt
					}
					... on MilestonedEvent {
						createdAt
					}
					... on MovedColumnsInProjectEvent {
						createdAt
					}
					... on PinnedEvent {
						createdAt
					}
					... on PullRequestCommit {
						commit {
							committedDate
						}
					}
					... on PullRequestReview {
						createdAt
					}
					... on PullRequestReviewThread {
						comments(last: 1) {
							nodes {
								createdAt
							}
						}
					}
					... on PullRequestRevisionMarker {
						createdAt
					}
					... on ReadyForReviewEvent {
						createdAt
					}
					... on ReferencedEvent {
						createdAt
					}
					... on RemovedFromMergeQueueEvent {
						createdAt
					}
					... on RemovedFromProjectEvent {
						createdAt
					}
					... on RenamedTitleEvent {
						createdAt
					}
					... on ReopenedEvent {
						createdAt
					}
					... on ReviewDismissedEvent {
						createdAt
					}
					... on ReviewRequestRemovedEvent {
						createdAt
					}
					... on ReviewRequestedEvent {
						createdAt
					}
					... on SubscribedEvent {
						createdAt
					}
					... on TransferredEvent {
						createdAt
					}
					... on UnassignedEvent {
						createdAt
					}
					... on UnlabeledEvent {
						createdAt
					}
					... on UnlockedEvent {
						createdAt
					}
					... on UnmarkedAsDuplicateEvent {
						createdAt
					}
					... on UnpinnedEvent {
						createdAt
					}
					... on UnsubscribedEvent {
						createdAt
					}
					... on UserBlockedEvent {
						createdAt
					}
				}
			}
		}
	}
	rateLimit {
		...RateLimit
	}
}

query LatestIssueUpdates($owner: String!, $name: String!, $number: Int!, $since: DateTime!) {
	repository(owner: $owner, name: $name) {
		pullRequest: issue(number: $number) {
			reactions(orderBy:{direction:DESC, field: CREATED_AT}, first: 1) {
				nodes {
					createdAt
				}
			}
			updatedAt
			comments(orderBy: {direction:DESC, field: UPDATED_AT}, first: 1) {
				nodes {
					updatedAt
					reactions(orderBy:{direction:DESC, field: CREATED_AT}, first: 1) {
						nodes {
							createdAt
						}
					}
				}
			}
			timelineItems(since: $since, first: 1) {
				nodes {
					... on AddedToProjectEvent {
						createdAt
					}
					... on AssignedEvent {
						createdAt
					}
					... on ClosedEvent {
						createdAt
					}
					... on CommentDeletedEvent {
						createdAt
					}
					... on ConnectedEvent {
						createdAt
					}
					... on ConvertedNoteToIssueEvent {
						createdAt
					}
					... on ConvertedToDiscussionEvent {
						createdAt
					}
					... on CrossReferencedEvent {
						createdAt
					}
					... on DemilestonedEvent {
						createdAt
					}
					... on DisconnectedEvent {
						createdAt
					}
					... on IssueComment {
						createdAt
					}
					... on IssueTypeAddedEvent {
						createdAt
					}
					... on LabeledEvent {
						createdAt
					}
					... on LockedEvent {
						createdAt
					}
					... on MarkedAsDuplicateEvent {
						createdAt
					}
					... on MentionedEvent {
						createdAt
					}
					... on MilestonedEvent {
						createdAt
					}
					... on MovedColumnsInProjectEvent {
						createdAt
					}
					... on PinnedEvent {
						createdAt
					}
					... on ReferencedEvent {
						createdAt
					}
					... on RemovedFromProjectEvent {
						createdAt
					}
					... on RenamedTitleEvent {
						createdAt
					}
					... on ReopenedEvent {
						createdAt
					}
					... on SubscribedEvent {
						createdAt
					}
					... on TransferredEvent {
						createdAt
					}
					... on UnassignedEvent {
						createdAt
					}
					... on UnlabeledEvent {
						createdAt
					}
					... on UnlockedEvent {
						createdAt
					}
					... on UnmarkedAsDuplicateEvent {
						createdAt
					}
					... on UnpinnedEvent {
						createdAt
					}
					... on UnsubscribedEvent {
						createdAt
					}
					... on UserBlockedEvent {
						createdAt
					}
				}
			}
		}
	}
	rateLimit {
		...RateLimit
	}
}

query GetAssignableUsers($owner: String!, $name: String!, $first: Int!, $after: String) {
	repository(owner: $owner, name: $name) {
		assignableUsers(first: $first, after: $after) {
			nodes {
				...User
			}
			pageInfo {
				hasNextPage
				endCursor
			}
		}
	}
	rateLimit {
		...RateLimit
	}
}

mutation CreatePullRequest($input: CreatePullRequestInput!) {
	createPullRequest(input: $input) {
		pullRequest {
			...PullRequestFragment
		}
	}
}

mutation ReplaceActorsForAssignable($input: ReplaceActorsForAssignableInput!) {
	replaceActorsForAssignable(input: $input) {
		assignable {
			assignees: assignedActors(first: 100) {
				nodes {
					...Node
					...Actor
					...User
				}
				pageInfo {
					hasNextPage
					endCursor
				}
			}
		}
	}
}

# Queries that only exist in this file

query GetRepoProjects($owner: String!, $name: String!) {
	repository(owner: $owner, name: $name) {
		projectsV2(first: 100, query: "state:OPEN") {
			nodes {
				title
				id
			}
		}
	}
}

query GetOrgProjects($owner: String!, $after: String) {
	organization(login: $owner) {
		projectsV2(first: 100, after: $after, query: "state:OPEN", orderBy: { field: UPDATED_AT, direction: DESC }) {
			nodes {
				title
				id
			}
			pageInfo {
				hasNextPage
				endCursor
			}
		}
	}
}

mutation AddPullRequestToProject($input: AddProjectV2ItemByIdInput!) {
	addProjectV2ItemById(input: $input) {
		item {
			id
		}
	}
}

mutation RemovePullRequestFromProject($input: DeleteProjectV2ItemInput!) {
	deleteProjectV2Item(input: $input) {
		deletedItemId
	}
}

mutation DequeuePullRequest($input: DequeuePullRequestInput!) {
	dequeuePullRequest(input: $input) {
		mergeQueueEntry {
			...MergeQueueEntryFragment
		}
	}
}

mutation EnqueuePullRequest($input: EnqueuePullRequestInput!) {
	enqueuePullRequest(input: $input) {
		mergeQueueEntry {
			...MergeQueueEntryFragment
		}
	}
}`,name:"GraphQL request",locationOffset:{line:1,column:1}};var L={};function D(p){return p.filter(function(k){if(k.kind!=="FragmentDefinition")return!0;var b=k.name.value;return L[b]?!1:(L[b]=!0,!0)})}P.definitions=P.definitions.concat(D(F(72256).definitions));function A(p,k){if(p.kind==="FragmentSpread")k.add(p.name.value);else if(p.kind==="VariableDefinition"){var b=p.type;b.kind==="NamedType"&&k.add(b.name.value)}p.selectionSet&&p.selectionSet.selections.forEach(function(l){A(l,k)}),p.variableDefinitions&&p.variableDefinitions.forEach(function(l){A(l,k)}),p.definitions&&p.definitions.forEach(function(l){A(l,k)})}var h={};(function(){P.definitions.forEach(function(k){if(k.name){var b=new Set;A(k,b),h[k.name.value]=b}})})();function m(p,k){for(var b=0;b<p.definitions.length;b++){var l=p.definitions[b];if(l.name&&l.name.value==k)return l}}function g(p,k){var b={kind:p.kind,definitions:[m(p,k)]};p.hasOwnProperty("loc")&&(b.loc=p.loc);var l=h[k]||new Set,E=new Set,c=new Set;for(l.forEach(function(f){c.add(f)});c.size>0;){var v=c;c=new Set,v.forEach(function(f){if(!E.has(f)){E.add(f);var w=h[f]||new Set;w.forEach(function(_){c.add(_)})}})}return E.forEach(function(f){var w=m(p,f);w&&b.definitions.push(w)}),b}s.exports=P,s.exports.Issue=g(P,"Issue"),s.exports.IssueWithComments=g(P,"IssueWithComments"),s.exports.Issues=g(P,"Issues"),s.exports.PullRequest=g(P,"PullRequest"),s.exports.PullRequestForHead=g(P,"PullRequestForHead"),s.exports.PullRequestMergeabilityMergeRequirements=g(P,"PullRequestMergeabilityMergeRequirements"),s.exports.GetSuggestedActors=g(P,"GetSuggestedActors"),s.exports.LatestUpdates=g(P,"LatestUpdates"),s.exports.LatestIssueUpdates=g(P,"LatestIssueUpdates"),s.exports.GetAssignableUsers=g(P,"GetAssignableUsers"),s.exports.CreatePullRequest=g(P,"CreatePullRequest"),s.exports.ReplaceActorsForAssignable=g(P,"ReplaceActorsForAssignable"),s.exports.GetRepoProjects=g(P,"GetRepoProjects"),s.exports.GetOrgProjects=g(P,"GetOrgProjects"),s.exports.AddPullRequestToProject=g(P,"AddPullRequestToProject"),s.exports.RemovePullRequestFromProject=g(P,"RemovePullRequestFromProject"),s.exports.DequeuePullRequest=g(P,"DequeuePullRequest"),s.exports.EnqueuePullRequest=g(P,"EnqueuePullRequest")},87831:(s,G,F)=>{var P={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"Node"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Node"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"Actor"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Actor"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"User"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"Organization"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Organization"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"Reactable"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Reactable"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"reactionGroups"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"content"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerHasReacted"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reactors"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"10"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Actor"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"IssueBase"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Issue"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"number"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stateReason"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"body"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bodyHTML"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"titleHTML"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"author"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"User"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Organization"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"updatedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"milestone"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"dueOn"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"number"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"assignees"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"10"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"User"},directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"labels"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"50"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"color"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"databaseId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reactions"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"Reactable"},directives:[]},{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"IssueFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Issue"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"IssueBase"},directives:[]},{kind:"Field",name:{kind:"Name",value:"comments"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"1"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"IssueWithCommentsFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Issue"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"IssueBase"},directives:[]},{kind:"Field",name:{kind:"Name",value:"comments"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"50"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"author"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"User"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Organization"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"body"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"databaseId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reactions"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"PullRequestFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PullRequest"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"number"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"body"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bodyHTML"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"titleHTML"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"author"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"User"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Organization"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"updatedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"milestone"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"dueOn"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"number"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"assignees"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"10"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"User"},directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"labels"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"50"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"color"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"databaseId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reactions"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"Reactable"},directives:[]},{kind:"Field",name:{kind:"Name",value:"comments"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"1"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"commits"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"50"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"commit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"headRef"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Ref"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"headRefName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"headRefOid"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"headRepository"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isInOrganization"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"baseRef"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Ref"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"baseRefName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"baseRefOid"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"baseRepository"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isInOrganization"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"merged"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mergeable"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mergeStateStatus"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"autoMergeRequest"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"mergeMethod"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"reviewThreads"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"viewerCanEnableAutoMerge"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerCanDisableAutoMerge"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerCanUpdate"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isDraft"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"suggestedReviewers"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isAuthor"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isCommenter"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reviewer"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"User"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"Issue"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"issue"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"IssueFragment"},directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"IssueWithComments"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"issue"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"IssueWithCommentsFragment"},directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"Issues"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"query"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"search"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}},{kind:"Argument",name:{kind:"Name",value:"type"},value:{kind:"EnumValue",value:"ISSUE"}},{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"Variable",name:{kind:"Name",value:"query"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"issueCount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pageInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hasNextPage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"endCursor"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"IssueFragment"},directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PullRequest"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PullRequestFragment"},directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PullRequestForHead"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"headRefName"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequests"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"3"}},{kind:"Argument",name:{kind:"Name",value:"headRefName"},value:{kind:"Variable",name:{kind:"Name",value:"headRefName"}}},{kind:"Argument",name:{kind:"Name",value:"orderBy"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"field"},value:{kind:"EnumValue",value:"CREATED_AT"}},{kind:"ObjectField",name:{kind:"Name",value:"direction"},value:{kind:"EnumValue",value:"DESC"}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PullRequestFragment"},directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetAssignableUsers"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"first"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"after"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"assignableUsers"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"Variable",name:{kind:"Name",value:"first"}}},{kind:"Argument",name:{kind:"Name",value:"after"},value:{kind:"Variable",name:{kind:"Name",value:"after"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"User"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"pageInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hasNextPage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"endCursor"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"LatestUpdates"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"since"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"DateTime"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"reactions"},arguments:[{kind:"Argument",name:{kind:"Name",value:"orderBy"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"direction"},value:{kind:"EnumValue",value:"DESC"}},{kind:"ObjectField",name:{kind:"Name",value:"field"},value:{kind:"EnumValue",value:"CREATED_AT"}}]}},{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"1"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"updatedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"comments"},arguments:[{kind:"Argument",name:{kind:"Name",value:"orderBy"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"direction"},value:{kind:"EnumValue",value:"DESC"}},{kind:"ObjectField",name:{kind:"Name",value:"field"},value:{kind:"EnumValue",value:"UPDATED_AT"}}]}},{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"1"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"updatedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reactions"},arguments:[{kind:"Argument",name:{kind:"Name",value:"orderBy"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"direction"},value:{kind:"EnumValue",value:"DESC"}},{kind:"ObjectField",name:{kind:"Name",value:"field"},value:{kind:"EnumValue",value:"CREATED_AT"}}]}},{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"1"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"timelineItems"},arguments:[{kind:"Argument",name:{kind:"Name",value:"since"},value:{kind:"Variable",name:{kind:"Name",value:"since"}}},{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"1"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"AddedToMergeQueueEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"AddedToProjectEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"AssignedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"AutoMergeDisabledEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"AutoMergeEnabledEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"AutoRebaseEnabledEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"AutoSquashEnabledEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"AutomaticBaseChangeFailedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"AutomaticBaseChangeSucceededEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"BaseRefChangedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"BaseRefDeletedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"BaseRefForcePushedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ClosedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"CommentDeletedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ConnectedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ConvertToDraftEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ConvertedNoteToIssueEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ConvertedToDiscussionEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"CrossReferencedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"DemilestonedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"DeployedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"DeploymentEnvironmentChangedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"DisconnectedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"HeadRefDeletedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"HeadRefForcePushedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"HeadRefRestoredEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"IssueComment"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"LabeledEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"LockedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"MarkedAsDuplicateEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"MentionedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"MergedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"MilestonedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"MovedColumnsInProjectEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PinnedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PullRequestCommit"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"commit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"committedDate"},arguments:[],directives:[]}]}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PullRequestReview"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PullRequestReviewThread"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"comments"},arguments:[{kind:"Argument",name:{kind:"Name",value:"last"},value:{kind:"IntValue",value:"1"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}}]}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PullRequestRevisionMarker"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ReadyForReviewEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ReferencedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"RemovedFromMergeQueueEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"RemovedFromProjectEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"RenamedTitleEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ReopenedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ReviewDismissedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ReviewRequestRemovedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ReviewRequestedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"SubscribedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"TransferredEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"UnassignedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"UnlabeledEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"UnlockedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"UnmarkedAsDuplicateEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"UnpinnedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"UnsubscribedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"UserBlockedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"LatestIssueUpdates"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"since"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"DateTime"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"pullRequest"},name:{kind:"Name",value:"issue"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"reactions"},arguments:[{kind:"Argument",name:{kind:"Name",value:"orderBy"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"direction"},value:{kind:"EnumValue",value:"DESC"}},{kind:"ObjectField",name:{kind:"Name",value:"field"},value:{kind:"EnumValue",value:"CREATED_AT"}}]}},{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"1"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"updatedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"comments"},arguments:[{kind:"Argument",name:{kind:"Name",value:"orderBy"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"direction"},value:{kind:"EnumValue",value:"DESC"}},{kind:"ObjectField",name:{kind:"Name",value:"field"},value:{kind:"EnumValue",value:"UPDATED_AT"}}]}},{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"1"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"updatedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reactions"},arguments:[{kind:"Argument",name:{kind:"Name",value:"orderBy"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"direction"},value:{kind:"EnumValue",value:"DESC"}},{kind:"ObjectField",name:{kind:"Name",value:"field"},value:{kind:"EnumValue",value:"CREATED_AT"}}]}},{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"1"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"timelineItems"},arguments:[{kind:"Argument",name:{kind:"Name",value:"since"},value:{kind:"Variable",name:{kind:"Name",value:"since"}}},{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"1"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"AddedToProjectEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"AssignedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ClosedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"CommentDeletedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ConnectedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ConvertedNoteToIssueEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ConvertedToDiscussionEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"CrossReferencedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"DemilestonedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"DisconnectedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"IssueComment"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"LabeledEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"LockedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"MarkedAsDuplicateEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"MentionedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"MilestonedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"MovedColumnsInProjectEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PinnedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ReferencedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"RemovedFromProjectEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"RenamedTitleEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ReopenedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"SubscribedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"TransferredEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"UnassignedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"UnlabeledEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"UnlockedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"UnmarkedAsDuplicateEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"UnpinnedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"UnsubscribedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"UserBlockedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"CreatePullRequest"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"CreatePullRequestInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createPullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PullRequestFragment"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"RevertPullRequest"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"RevertPullRequestInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"revertPullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"revertPullRequest"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PullRequestFragment"},directives:[]}]}}]}}]}}],loc:{start:0,end:10953}};P.loc.source={body:`# /*---------------------------------------------------------------------------------------------
#  *  Copyright (c) Microsoft Corporation. All rights reserved.
#  *  Licensed under the MIT License. See License.txt in the project root for license information.
#  *--------------------------------------------------------------------------------------------*/

#import "./queriesShared.gql"

fragment Node on Node {
	id
}

fragment Actor on Actor  { # We don't want to reference Bot because it is not available on older GHE, so we use Actor instead as it gets us most of the way there.
	__typename
	login
	avatarUrl
	url
}

fragment User on User {
	__typename
	...Actor
	email
	name
	...Node
}

fragment Organization on Organization {
	__typename
	...Actor
	email
	name
	...Node
}

fragment Reactable on Reactable {
	reactionGroups {
		content
		viewerHasReacted
		reactors(first: 10) {
			nodes {
				... on User {
					login
				}
				... on Actor {
					login
				}
			}
			totalCount
		}
	}
}

fragment IssueBase on Issue {
	number
	url
	state
	stateReason
	body
	bodyHTML
	title
	titleHTML
	author {
		...Node
		...Actor
		...User
		...Organization
	}
	createdAt
	updatedAt
	milestone {
		title
		dueOn
		createdAt
		id
		number
	}
	assignees(first: 10) {
		nodes {
			...Node
			...Actor
			...User
		}
	}
	labels(first: 50) {
		nodes {
			name
			color
		}
	}
	id
	databaseId
	reactions(first: 100) {
		totalCount
	}
	...Reactable
	repository {
		name
		owner {
			login
		}
		url
	}
}

fragment IssueFragment on Issue {
	...IssueBase
	comments(first: 1) {
		totalCount
	}
}

fragment IssueWithCommentsFragment on Issue {
	...IssueBase
	comments(first: 50) {
		nodes {
			author {
				...Node
				...Actor
				...User
				...Organization
			}
			body
			databaseId
			reactions(first: 100) {
				totalCount
			}
		}
		totalCount
	}
}

fragment PullRequestFragment on PullRequest {
	number
	url
	state
	body
	bodyHTML
	title
	titleHTML
	author {
		...Node
		...Actor
		...User
		...Organization
	}
	createdAt
	updatedAt
	milestone {
		title
		dueOn
		createdAt
		id
		number
	}
	assignees(first: 10) {
		nodes {
			...Node
			...Actor
			...User
		}
	}
	labels(first: 50) {
		nodes {
			name
			color
		}
	}
	id
	databaseId
	reactions(first: 100) {
		totalCount
	}
	...Reactable
	comments(first: 1) {
		totalCount
	}

	commits(first: 50) {
		nodes {
			commit {
				message
			}
		}
	}
	headRef {
		...Ref
	}
	headRefName
	headRefOid
	headRepository {
		isInOrganization
		owner {
			login
		}
		url
	}
	baseRef {
		...Ref
	}
	baseRefName
	baseRefOid
	baseRepository {
		isInOrganization
		owner {
			login
		}
		url
	}
	merged
	mergeable
	mergeStateStatus
	autoMergeRequest {
		mergeMethod
	}
	reviewThreads {
		totalCount
	}
	viewerCanEnableAutoMerge
	viewerCanDisableAutoMerge
	viewerCanUpdate
	isDraft
	suggestedReviewers {
		isAuthor
		isCommenter
		reviewer {
			...Actor
			...User
			...Node
		}
	}
}

query Issue($owner: String!, $name: String!, $number: Int!) {
	repository(owner: $owner, name: $name) {
		issue(number: $number) {
			...IssueFragment
		}
	}
	rateLimit {
		...RateLimit
	}
}

query IssueWithComments($owner: String!, $name: String!, $number: Int!) {
	repository(owner: $owner, name: $name) {
		issue(number: $number) {
			...IssueWithCommentsFragment
		}
	}
	rateLimit {
		...RateLimit
	}
}

query Issues($query: String!) {
	search(first: 100, type: ISSUE, query: $query) {
		issueCount
		pageInfo {
			hasNextPage
			endCursor
		}
		edges {
			node {
				...IssueFragment
			}
		}
	}
	rateLimit {
		...RateLimit
	}
}

query PullRequest($owner: String!, $name: String!, $number: Int!) {
	repository(owner: $owner, name: $name) {
		pullRequest(number: $number) {
			...PullRequestFragment
		}
	}
	rateLimit {
		...RateLimit
	}
}

query PullRequestForHead($owner: String!, $name: String!, $headRefName: String!) {
	repository(owner: $owner, name: $name) {
		pullRequests(first: 3, headRefName: $headRefName, orderBy: { field: CREATED_AT, direction: DESC }) {
			nodes {
				...PullRequestFragment
			}
		}
	}
	rateLimit {
		...RateLimit
	}
}

query GetAssignableUsers($owner: String!, $name: String!, $first: Int!, $after: String) {
	repository(owner: $owner, name: $name) {
		assignableUsers(first: $first, after: $after) {
			nodes {
				...User
			}
			pageInfo {
				hasNextPage
				endCursor
			}
		}
	}
	rateLimit {
		...RateLimit
	}
}

query LatestUpdates($owner: String!, $name: String!, $number: Int!, $since: DateTime!) {
	repository(owner: $owner, name: $name) {
		pullRequest(number: $number) {
			reactions(orderBy:{direction:DESC, field: CREATED_AT}, first: 1) {
				nodes {
					createdAt
				}
			}
			updatedAt
			comments(orderBy: {direction:DESC, field: UPDATED_AT}, first: 1) {
				nodes {
					updatedAt
					reactions(orderBy:{direction:DESC, field: CREATED_AT}, first: 1) {
						nodes {
							createdAt
						}
					}
				}
			}
			timelineItems(since: $since, first: 1) {
				nodes {
					... on AddedToMergeQueueEvent {
						createdAt
					}
					... on AddedToProjectEvent {
						createdAt
					}
					... on AssignedEvent {
						createdAt
					}
					... on AutoMergeDisabledEvent {
						createdAt
					}
					... on AutoMergeEnabledEvent {
						createdAt
					}
					... on AutoRebaseEnabledEvent {
						createdAt
					}
					... on AutoSquashEnabledEvent {
						createdAt
					}
					... on AutomaticBaseChangeFailedEvent {
						createdAt
					}
					... on AutomaticBaseChangeSucceededEvent {
						createdAt
					}
					... on BaseRefChangedEvent {
						createdAt
					}
					... on BaseRefDeletedEvent {
						createdAt
					}
					... on BaseRefForcePushedEvent {
						createdAt
					}
					... on ClosedEvent {
						createdAt
					}
					... on CommentDeletedEvent {
						createdAt
					}
					... on ConnectedEvent {
						createdAt
					}
					... on ConvertToDraftEvent {
						createdAt
					}
					... on ConvertedNoteToIssueEvent {
						createdAt
					}
					... on ConvertedToDiscussionEvent {
						createdAt
					}
					... on CrossReferencedEvent {
						createdAt
					}
					... on DemilestonedEvent {
						createdAt
					}
					... on DeployedEvent {
						createdAt
					}
					... on DeploymentEnvironmentChangedEvent {
						createdAt
					}
					... on DisconnectedEvent {
						createdAt
					}
					... on HeadRefDeletedEvent {
						createdAt
					}
					... on HeadRefForcePushedEvent {
						createdAt
					}
					... on HeadRefRestoredEvent {
						createdAt
					}
					... on IssueComment {
						createdAt
					}
					... on LabeledEvent {
						createdAt
					}
					... on LockedEvent {
						createdAt
					}
					... on MarkedAsDuplicateEvent {
						createdAt
					}
					... on MentionedEvent {
						createdAt
					}
					... on MergedEvent {
						createdAt
					}
					... on MilestonedEvent {
						createdAt
					}
					... on MovedColumnsInProjectEvent {
						createdAt
					}
					... on PinnedEvent {
						createdAt
					}
					... on PullRequestCommit {
						commit {
							committedDate
						}
					}
					... on PullRequestReview {
						createdAt
					}
					... on PullRequestReviewThread {
						comments(last: 1) {
							nodes {
								createdAt
							}
						}
					}
					... on PullRequestRevisionMarker {
						createdAt
					}
					... on ReadyForReviewEvent {
						createdAt
					}
					... on ReferencedEvent {
						createdAt
					}
					... on RemovedFromMergeQueueEvent {
						createdAt
					}
					... on RemovedFromProjectEvent {
						createdAt
					}
					... on RenamedTitleEvent {
						createdAt
					}
					... on ReopenedEvent {
						createdAt
					}
					... on ReviewDismissedEvent {
						createdAt
					}
					... on ReviewRequestRemovedEvent {
						createdAt
					}
					... on ReviewRequestedEvent {
						createdAt
					}
					... on SubscribedEvent {
						createdAt
					}
					... on TransferredEvent {
						createdAt
					}
					... on UnassignedEvent {
						createdAt
					}
					... on UnlabeledEvent {
						createdAt
					}
					... on UnlockedEvent {
						createdAt
					}
					... on UnmarkedAsDuplicateEvent {
						createdAt
					}
					... on UnpinnedEvent {
						createdAt
					}
					... on UnsubscribedEvent {
						createdAt
					}
					... on UserBlockedEvent {
						createdAt
					}
				}
			}
		}
	}
	rateLimit {
		...RateLimit
	}
}

query LatestIssueUpdates($owner: String!, $name: String!, $number: Int!, $since: DateTime!) {
	repository(owner: $owner, name: $name) {
		pullRequest: issue(number: $number) {
			reactions(orderBy:{direction:DESC, field: CREATED_AT}, first: 1) {
				nodes {
					createdAt
				}
			}
			updatedAt
			comments(orderBy: {direction:DESC, field: UPDATED_AT}, first: 1) {
				nodes {
					updatedAt
					reactions(orderBy:{direction:DESC, field: CREATED_AT}, first: 1) {
						nodes {
							createdAt
						}
					}
				}
			}
			timelineItems(since: $since, first: 1) {
				nodes {
					... on AddedToProjectEvent {
						createdAt
					}
					... on AssignedEvent {
						createdAt
					}
					... on ClosedEvent {
						createdAt
					}
					... on CommentDeletedEvent {
						createdAt
					}
					... on ConnectedEvent {
						createdAt
					}
					... on ConvertedNoteToIssueEvent {
						createdAt
					}
					... on ConvertedToDiscussionEvent {
						createdAt
					}
					... on CrossReferencedEvent {
						createdAt
					}
					... on DemilestonedEvent {
						createdAt
					}
					... on DisconnectedEvent {
						createdAt
					}
					... on IssueComment {
						createdAt
					}
					... on LabeledEvent {
						createdAt
					}
					... on LockedEvent {
						createdAt
					}
					... on MarkedAsDuplicateEvent {
						createdAt
					}
					... on MentionedEvent {
						createdAt
					}
					... on MilestonedEvent {
						createdAt
					}
					... on MovedColumnsInProjectEvent {
						createdAt
					}
					... on PinnedEvent {
						createdAt
					}
					... on ReferencedEvent {
						createdAt
					}
					... on RemovedFromProjectEvent {
						createdAt
					}
					... on RenamedTitleEvent {
						createdAt
					}
					... on ReopenedEvent {
						createdAt
					}
					... on SubscribedEvent {
						createdAt
					}
					... on TransferredEvent {
						createdAt
					}
					... on UnassignedEvent {
						createdAt
					}
					... on UnlabeledEvent {
						createdAt
					}
					... on UnlockedEvent {
						createdAt
					}
					... on UnmarkedAsDuplicateEvent {
						createdAt
					}
					... on UnpinnedEvent {
						createdAt
					}
					... on UnsubscribedEvent {
						createdAt
					}
					... on UserBlockedEvent {
						createdAt
					}
				}
			}
		}
	}
	rateLimit {
		...RateLimit
	}
}

mutation CreatePullRequest($input: CreatePullRequestInput!) {
	createPullRequest(input: $input) {
		pullRequest {
			...PullRequestFragment
		}
	}
}

mutation RevertPullRequest($input: RevertPullRequestInput!) {
	revertPullRequest(input: $input) {
		revertPullRequest {
			...PullRequestFragment
		}
	}
}
`,name:"GraphQL request",locationOffset:{line:1,column:1}};var L={};function D(p){return p.filter(function(k){if(k.kind!=="FragmentDefinition")return!0;var b=k.name.value;return L[b]?!1:(L[b]=!0,!0)})}P.definitions=P.definitions.concat(D(F(72256).definitions));function A(p,k){if(p.kind==="FragmentSpread")k.add(p.name.value);else if(p.kind==="VariableDefinition"){var b=p.type;b.kind==="NamedType"&&k.add(b.name.value)}p.selectionSet&&p.selectionSet.selections.forEach(function(l){A(l,k)}),p.variableDefinitions&&p.variableDefinitions.forEach(function(l){A(l,k)}),p.definitions&&p.definitions.forEach(function(l){A(l,k)})}var h={};(function(){P.definitions.forEach(function(k){if(k.name){var b=new Set;A(k,b),h[k.name.value]=b}})})();function m(p,k){for(var b=0;b<p.definitions.length;b++){var l=p.definitions[b];if(l.name&&l.name.value==k)return l}}function g(p,k){var b={kind:p.kind,definitions:[m(p,k)]};p.hasOwnProperty("loc")&&(b.loc=p.loc);var l=h[k]||new Set,E=new Set,c=new Set;for(l.forEach(function(f){c.add(f)});c.size>0;){var v=c;c=new Set,v.forEach(function(f){if(!E.has(f)){E.add(f);var w=h[f]||new Set;w.forEach(function(_){c.add(_)})}})}return E.forEach(function(f){var w=m(p,f);w&&b.definitions.push(w)}),b}s.exports=P,s.exports.Issue=g(P,"Issue"),s.exports.IssueWithComments=g(P,"IssueWithComments"),s.exports.Issues=g(P,"Issues"),s.exports.PullRequest=g(P,"PullRequest"),s.exports.PullRequestForHead=g(P,"PullRequestForHead"),s.exports.GetAssignableUsers=g(P,"GetAssignableUsers"),s.exports.LatestUpdates=g(P,"LatestUpdates"),s.exports.LatestIssueUpdates=g(P,"LatestIssueUpdates"),s.exports.CreatePullRequest=g(P,"CreatePullRequest"),s.exports.RevertPullRequest=g(P,"RevertPullRequest")},72256:s=>{var G={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"Node"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Node"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"Actor"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Actor"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"User"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"Organization"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Organization"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"Team"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Team"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"slug"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"RateLimit"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"RateLimit"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"limit"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"cost"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"remaining"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"resetAt"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"Merged"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"MergedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"actor"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mergeRef"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"commit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"oid"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"commitUrl"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"HeadRefDeleted"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"HeadRefDeletedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"actor"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"headRefName"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"Ref"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Ref"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"target"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"oid"},arguments:[],directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"Comment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"IssueComment"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"databaseId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"authorAssociation"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"author"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"User"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Organization"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"body"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bodyHTML"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"updatedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerCanUpdate"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerCanReact"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerCanDelete"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Reactable"},directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"Commit"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PullRequestCommit"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"commit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"author"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"User"},directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"committer"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"oid"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"committedDate"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"statusCheckRollup"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"AssignedEvent"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"AssignedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"actor"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"user"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"User"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"UnassignedEvent"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"UnassignedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"actor"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"user"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"User"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"CrossReferencedEvent"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"CrossReferencedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"actor"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"source"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PullRequest"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"number"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",alias:{kind:"Name",value:"repository"},name:{kind:"Name",value:"baseRepository"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Issue"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"number"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"willCloseTarget"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"ClosedEvent"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ClosedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"actor"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"ReopenedEvent"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ReopenedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"actor"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"BaseRefChangedEvent"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"BaseRefChangedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"actor"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"currentRefName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"previousRefName"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"Review"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PullRequestReview"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"databaseId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"authorAssociation"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"author"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"User"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Organization"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"body"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bodyHTML"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"submittedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"updatedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Reactable"},directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"Reactable"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Reactable"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"reactionGroups"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"content"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerHasReacted"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reactors"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"10"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Actor"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"ReviewThread"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PullRequestReviewThread"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isResolved"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerCanResolve"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerCanUnresolve"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"path"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"diffSide"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"line"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"startLine"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"originalStartLine"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"originalLine"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isOutdated"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"subjectType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"comments"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ReviewComment"},directives:[]}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"LegacyReviewThread"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PullRequestReviewThread"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isResolved"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerCanResolve"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerCanUnresolve"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"path"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"diffSide"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"line"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"startLine"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"originalStartLine"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"originalLine"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isOutdated"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"comments"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ReviewComment"},directives:[]}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"MergeQueueEntryFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"MergeQueueEntry"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"position"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mergeQueue"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"TimelineEvents"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"last"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},defaultValue:{kind:"IntValue",value:"150"},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"timelineItems"},arguments:[{kind:"Argument",name:{kind:"Name",value:"last"},value:{kind:"Variable",name:{kind:"Name",value:"last"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Merged"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Comment"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Review"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Commit"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"AssignedEvent"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"UnassignedEvent"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"HeadRefDeleted"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"CrossReferencedEvent"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"ClosedEvent"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"ReopenedEvent"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"BaseRefChangedEvent"},directives:[]}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PullRequestActivityTimelineEvents"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"last"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},defaultValue:{kind:"IntValue",value:"5"},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"timelineItems"},arguments:[{kind:"Argument",name:{kind:"Name",value:"last"},value:{kind:"Variable",name:{kind:"Name",value:"last"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Merged"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Comment"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Review"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Commit"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"ClosedEvent"},directives:[]}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"IssueTimelineEvents"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"last"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},defaultValue:{kind:"IntValue",value:"150"},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"pullRequest"},name:{kind:"Name",value:"issue"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"timelineItems"},arguments:[{kind:"Argument",name:{kind:"Name",value:"last"},value:{kind:"Variable",name:{kind:"Name",value:"last"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Comment"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"AssignedEvent"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"UnassignedEvent"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"CrossReferencedEvent"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"ClosedEvent"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"ReopenedEvent"},directives:[]}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"LatestReviewCommit"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"author"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"reviews"},arguments:[{kind:"Argument",name:{kind:"Name",value:"last"},value:{kind:"IntValue",value:"1"}},{kind:"Argument",name:{kind:"Name",value:"author"},value:{kind:"Variable",name:{kind:"Name",value:"author"}}},{kind:"Argument",name:{kind:"Name",value:"states"},value:{kind:"ListValue",values:[{kind:"EnumValue",value:"APPROVED"},{kind:"EnumValue",value:"CHANGES_REQUESTED"},{kind:"EnumValue",value:"COMMENTED"},{kind:"EnumValue",value:"DISMISSED"}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"commit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"oid"},arguments:[],directives:[]}]}}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"LatestReviews"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"latestReviews"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"10"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetOrganizationTeamsCount"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"login"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"organization"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"login"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"teams"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"0"}},{kind:"Argument",name:{kind:"Name",value:"privacy"},value:{kind:"EnumValue",value:"VISIBLE"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetOrganizationTeams"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"login"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"after"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"repoName"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"organization"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"login"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"teams"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}},{kind:"Argument",name:{kind:"Name",value:"after"},value:{kind:"Variable",name:{kind:"Name",value:"after"}}},{kind:"Argument",name:{kind:"Name",value:"privacy"},value:{kind:"EnumValue",value:"VISIBLE"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Team"},directives:[]},{kind:"Field",name:{kind:"Name",value:"repositories"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"5"}},{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"Variable",name:{kind:"Name",value:"repoName"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pageInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hasNextPage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"endCursor"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetReviewRequestsAdditionalScopes"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"reviewRequests"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"requestedReviewer"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"User"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Team"},directives:[]}]}}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetReviewRequests"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"reviewRequests"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"requestedReviewer"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"User"},directives:[]}]}}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"ReviewComment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PullRequestReviewComment"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"databaseId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"author"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"User"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Organization"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"path"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"originalPosition"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"body"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bodyHTML"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"diffHunk"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"position"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pullRequestReview"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"databaseId"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"commit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"oid"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"replyTo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"databaseId"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"originalCommit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"oid"},arguments:[],directives:[]}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"Reactable"},directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerCanUpdate"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerCanDelete"},arguments:[],directives:[]}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetParticipants"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"first"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"participants"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"Variable",name:{kind:"Name",value:"first"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"User"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Organization"},directives:[]}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetPendingReviewId"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"pullRequestId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"author"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"pullRequestId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PullRequest"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"reviews"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"1"}},{kind:"Argument",name:{kind:"Name",value:"author"},value:{kind:"Variable",name:{kind:"Name",value:"author"}}},{kind:"Argument",name:{kind:"Name",value:"states"},value:{kind:"ListValue",values:[{kind:"EnumValue",value:"PENDING"}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PullRequestComments"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"after"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"reviewThreads"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"20"}},{kind:"Argument",name:{kind:"Name",value:"after"},value:{kind:"Variable",name:{kind:"Name",value:"after"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isResolved"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerCanResolve"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerCanUnresolve"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"path"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"diffSide"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"startLine"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"line"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"originalStartLine"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"originalLine"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isOutdated"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"subjectType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"comments"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequestReview"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"databaseId"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ReviewComment"},directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"pageInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hasNextPage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"endCursor"},arguments:[],directives:[]}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"LegacyPullRequestComments"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"after"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"reviewThreads"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"20"}},{kind:"Argument",name:{kind:"Name",value:"after"},value:{kind:"Variable",name:{kind:"Name",value:"after"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isResolved"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerCanResolve"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerCanUnresolve"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"path"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"diffSide"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"startLine"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"line"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"originalStartLine"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"originalLine"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isOutdated"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"comments"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequestReview"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"databaseId"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ReviewComment"},directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"pageInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hasNextPage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"endCursor"},arguments:[],directives:[]}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"Viewer"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"viewer"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"User"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PullRequestFiles"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"after"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"files"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}},{kind:"Argument",name:{kind:"Name",value:"after"},value:{kind:"Variable",name:{kind:"Name",value:"after"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"path"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerViewedState"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"pageInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hasNextPage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"endCursor"},arguments:[],directives:[]}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetUser"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"login"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"login"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[{kind:"Argument",name:{kind:"Name",value:"size"},value:{kind:"IntValue",value:"50"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bio"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"company"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"location"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"contributionsCollection"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"commitContributionsByRepository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"maxRepositories"},value:{kind:"IntValue",value:"50"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"contributions"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"1"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"occurredAt"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nameWithOwner"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PullRequestMergeability"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"mergeable"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mergeStateStatus"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PullRequestState"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"number"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PullRequestTemplates"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequestTemplates"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"body"},arguments:[],directives:[]}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"PullRequestNumberFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PullRequest"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"number"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"author"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PullRequestNumbers"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"first"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequests"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"Variable",name:{kind:"Name",value:"first"}}},{kind:"Argument",name:{kind:"Name",value:"states"},value:{kind:"EnumValue",value:"OPEN"}},{kind:"Argument",name:{kind:"Name",value:"orderBy"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"field"},value:{kind:"EnumValue",value:"CREATED_AT"}},{kind:"ObjectField",name:{kind:"Name",value:"direction"},value:{kind:"EnumValue",value:"DESC"}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PullRequestNumberFragment"},directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"AddComment"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"AddPullRequestReviewCommentInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"addPullRequestReviewComment"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"comment"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ReviewComment"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"AddReviewThread"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"AddPullRequestReviewThreadInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"addPullRequestReviewThread"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"thread"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ReviewThread"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"LegacyAddReviewThread"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"AddPullRequestReviewThreadInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"addPullRequestReviewThread"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"thread"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"LegacyReviewThread"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"AddReviewers"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"RequestReviewsInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"requestReviews"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"EditComment"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UpdatePullRequestReviewCommentInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"updatePullRequestReviewComment"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequestReviewComment"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ReviewComment"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"ReadyForReview"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"MarkPullRequestReadyForReviewInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"markPullRequestReadyForReview"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isDraft"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mergeable"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mergeStateStatus"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerCanEnableAutoMerge"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerCanDisableAutoMerge"},arguments:[],directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"ConvertToDraft"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ConvertPullRequestToDraftInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"convertPullRequestToDraft"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isDraft"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mergeable"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mergeStateStatus"},arguments:[],directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"StartReview"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"AddPullRequestReviewInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"addPullRequestReview"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequestReview"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"SubmitReview"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"event"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"PullRequestReviewEvent"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"body"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"submitPullRequestReview"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"event"},value:{kind:"Variable",name:{kind:"Name",value:"event"}}},{kind:"ObjectField",name:{kind:"Name",value:"pullRequestReviewId"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}},{kind:"ObjectField",name:{kind:"Name",value:"body"},value:{kind:"Variable",name:{kind:"Name",value:"body"}}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequestReview"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"comments"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ReviewComment"},directives:[]}]}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"Review"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"DeleteReview"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"DeletePullRequestReviewInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"deletePullRequestReview"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequestReview"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"databaseId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"comments"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ReviewComment"},directives:[]}]}}]}}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"AddReaction"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"AddReactionInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"addReaction"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"reaction"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"content"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"subject"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Reactable"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"DeleteReaction"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"RemoveReactionInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"removeReaction"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"reaction"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"content"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"subject"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Reactable"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UpdateIssue"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UpdateIssueInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"updateIssue"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"issue"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"body"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bodyHTML"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"titleHTML"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"milestone"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"dueOn"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"number"},arguments:[],directives:[]}]}}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UpdatePullRequest"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UpdatePullRequestInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"updateIssue"},name:{kind:"Name",value:"updatePullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"issue"},name:{kind:"Name",value:"pullRequest"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"body"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bodyHTML"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"titleHTML"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"milestone"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"dueOn"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"number"},arguments:[],directives:[]}]}}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"AddIssueComment"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"AddCommentInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"addComment"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"commentEdge"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Comment"},directives:[]}]}}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"EditIssueComment"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UpdateIssueCommentInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"updateIssueComment"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"issueComment"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Comment"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetMentionableUsers"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"first"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"after"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"mentionableUsers"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"Variable",name:{kind:"Name",value:"first"}}},{kind:"Argument",name:{kind:"Name",value:"after"},value:{kind:"Variable",name:{kind:"Name",value:"after"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"User"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"pageInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hasNextPage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"endCursor"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetBranch"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"qualifiedName"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"ref"},arguments:[{kind:"Argument",name:{kind:"Name",value:"qualifiedName"},value:{kind:"Variable",name:{kind:"Name",value:"qualifiedName"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"target"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"oid"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ListBranches"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"first"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"after"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"query"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"refs"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"Variable",name:{kind:"Name",value:"first"}}},{kind:"Argument",name:{kind:"Name",value:"after"},value:{kind:"Variable",name:{kind:"Name",value:"after"}}},{kind:"Argument",name:{kind:"Name",value:"refPrefix"},value:{kind:"StringValue",value:"refs/heads/",block:!1}},{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"Variable",name:{kind:"Name",value:"query"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"pageInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hasNextPage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"endCursor"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"MaxIssue"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"issues"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"1"}},{kind:"Argument",name:{kind:"Name",value:"orderBy"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"direction"},value:{kind:"EnumValue",value:"DESC"}},{kind:"ObjectField",name:{kind:"Name",value:"field"},value:{kind:"EnumValue",value:"CREATED_AT"}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Issue"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"number"},arguments:[],directives:[]}]}}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"MaxPullRequest"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"issues"},name:{kind:"Name",value:"pullRequests"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"1"}},{kind:"Argument",name:{kind:"Name",value:"orderBy"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"direction"},value:{kind:"EnumValue",value:"DESC"}},{kind:"ObjectField",name:{kind:"Name",value:"field"},value:{kind:"EnumValue",value:"CREATED_AT"}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PullRequest"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"number"},arguments:[],directives:[]}]}}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetMilestones"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"states"}},type:{kind:"NonNullType",type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"MilestoneState"}}}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"milestones"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}},{kind:"Argument",name:{kind:"Name",value:"orderBy"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"direction"},value:{kind:"EnumValue",value:"DESC"}},{kind:"ObjectField",name:{kind:"Name",value:"field"},value:{kind:"EnumValue",value:"DUE_DATE"}}]}},{kind:"Argument",name:{kind:"Name",value:"states"},value:{kind:"Variable",name:{kind:"Name",value:"states"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"dueOn"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"number"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetViewerPermission"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"viewerPermission"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetRepositoryForkDetails"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isFork"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"parent"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetChecks"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"latestReviews"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"10"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"authorAssociation"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"authorCanPushToRepository"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"author"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",alias:{kind:"Name",value:"reviewsRequestingChanges"},name:{kind:"Name",value:"reviews"},arguments:[{kind:"Argument",name:{kind:"Name",value:"last"},value:{kind:"IntValue",value:"5"}},{kind:"Argument",name:{kind:"Name",value:"states"},value:{kind:"ListValue",values:[{kind:"EnumValue",value:"CHANGES_REQUESTED"}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"authorAssociation"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"authorCanPushToRepository"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"author"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"baseRef"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"refUpdateRule"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"requiredApprovingReviewCount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"requiredStatusCheckContexts"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"requiresCodeOwnerReviews"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerCanPush"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"commits"},arguments:[{kind:"Argument",name:{kind:"Name",value:"last"},value:{kind:"IntValue",value:"1"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"commit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"statusCheckRollup"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"contexts"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"StatusContext"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"targetUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"context"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isRequired"},arguments:[{kind:"Argument",name:{kind:"Name",value:"pullRequestNumber"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"CheckRun"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"conclusion"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"detailsUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"resourcePath"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isRequired"},arguments:[{kind:"Argument",name:{kind:"Name",value:"pullRequestNumber"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"checkSuite"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"app"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"logoUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"workflowRun"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"event"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"workflow"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetChecksWithoutSuite"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"latestReviews"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"10"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"authorAssociation"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"authorCanPushToRepository"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"author"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",alias:{kind:"Name",value:"reviewsRequestingChanges"},name:{kind:"Name",value:"reviews"},arguments:[{kind:"Argument",name:{kind:"Name",value:"last"},value:{kind:"IntValue",value:"5"}},{kind:"Argument",name:{kind:"Name",value:"states"},value:{kind:"ListValue",values:[{kind:"EnumValue",value:"CHANGES_REQUESTED"}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"authorAssociation"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"authorCanPushToRepository"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"author"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"baseRef"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"refUpdateRule"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"requiredApprovingReviewCount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"requiredStatusCheckContexts"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"requiresCodeOwnerReviews"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerCanPush"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"commits"},arguments:[{kind:"Argument",name:{kind:"Name",value:"last"},value:{kind:"IntValue",value:"1"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"commit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"statusCheckRollup"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"contexts"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"StatusContext"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"targetUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"context"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isRequired"},arguments:[{kind:"Argument",name:{kind:"Name",value:"pullRequestNumber"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"CheckRun"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"conclusion"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"detailsUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"resourcePath"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isRequired"},arguments:[{kind:"Argument",name:{kind:"Name",value:"pullRequestNumber"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[]}]}}]}}]}}]}}]}}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"MergeQueueForBranch"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"branch"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"mergeQueue"},arguments:[{kind:"Argument",name:{kind:"Name",value:"branch"},value:{kind:"Variable",name:{kind:"Name",value:"branch"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"configuration"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"mergeMethod"},arguments:[],directives:[]}]}}]}}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetFileContent"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"expression"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"object"},arguments:[{kind:"Argument",name:{kind:"Name",value:"expression"},value:{kind:"Variable",name:{kind:"Name",value:"expression"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Blob"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"text"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"ResolveReviewThread"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ResolveReviewThreadInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"resolveReviewThread"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"thread"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ReviewThread"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"LegacyResolveReviewThread"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ResolveReviewThreadInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"resolveReviewThread"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"thread"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"LegacyReviewThread"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UnresolveReviewThread"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UnresolveReviewThreadInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"unresolveReviewThread"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"thread"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ReviewThread"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"LegacyUnresolveReviewThread"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UnresolveReviewThreadInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"unresolveReviewThread"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"thread"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"LegacyReviewThread"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"EnablePullRequestAutoMerge"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"EnablePullRequestAutoMergeInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"enablePullRequestAutoMerge"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"DisablePullRequestAutoMerge"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"DisablePullRequestAutoMergeInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"disablePullRequestAutoMerge"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"MarkFileAsViewed"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"MarkFileAsViewedInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"markFileAsViewed"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UnmarkFileAsViewed"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UnmarkFileAsViewedInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"unmarkFileAsViewed"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"MergePullRequest"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"MergePullRequestInput"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"last"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},defaultValue:{kind:"IntValue",value:"150"},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"mergePullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"timelineItems"},arguments:[{kind:"Argument",name:{kind:"Name",value:"last"},value:{kind:"Variable",name:{kind:"Name",value:"last"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Merged"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Comment"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Review"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Commit"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"AssignedEvent"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"UnassignedEvent"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"HeadRefDeleted"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"CrossReferencedEvent"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"ClosedEvent"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"ReopenedEvent"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"BaseRefChangedEvent"},directives:[]}]}}]}}]}}]}}]}}],loc:{start:0,end:22247}};G.loc.source={body:`# /*---------------------------------------------------------------------------------------------\r
#  *  Copyright (c) Microsoft Corporation. All rights reserved.\r
#  *  Licensed under the MIT License. See License.txt in the project root for license information.\r
#  *--------------------------------------------------------------------------------------------*/\r
\r
fragment Node on Node {\r
	id\r
}\r
\r
fragment Actor on Actor { # We don't want to reference Bot because it is not available on older GHE, so we use Actor instead as it gets us most of the way there.\r
	__typename\r
	login\r
	avatarUrl\r
	url\r
}\r
\r
fragment User on User {\r
	__typename\r
	...Actor\r
	email\r
	name\r
	...Node\r
}\r
\r
fragment Organization on Organization {\r
	__typename\r
	...Actor\r
	email\r
	name\r
	...Node\r
}\r
\r
fragment Team on Team { # Team is not an Actor\r
	name\r
	avatarUrl\r
	url\r
	slug\r
	...Node\r
}\r
\r
fragment RateLimit on RateLimit {\r
	limit\r
	cost\r
	remaining\r
	resetAt\r
}\r
\r
fragment Merged on MergedEvent {\r
	id\r
	actor {\r
		...Node\r
		...Actor\r
	}\r
	createdAt\r
	mergeRef {\r
		name\r
	}\r
	commit {\r
		oid\r
		commitUrl\r
	}\r
	url\r
}\r
\r
fragment HeadRefDeleted on HeadRefDeletedEvent {\r
	id\r
	actor {\r
		...Node\r
		...Actor\r
	}\r
	createdAt\r
	headRefName\r
}\r
\r
fragment Ref on Ref {\r
	name\r
	repository {\r
		owner {\r
			login\r
		}\r
		url\r
	}\r
	target {\r
		oid\r
	}\r
}\r
\r
fragment Comment on IssueComment {\r
	id\r
	databaseId\r
	authorAssociation\r
	author {\r
		...Node\r
		...Actor\r
		...User\r
		...Organization\r
	}\r
	url\r
	body\r
	bodyHTML\r
	updatedAt\r
	createdAt\r
	viewerCanUpdate\r
	viewerCanReact\r
	viewerCanDelete\r
	...Reactable\r
}\r
\r
fragment Commit on PullRequestCommit {\r
	id\r
	commit {\r
		author {\r
			user {\r
				...Node\r
				...Actor\r
				...User\r
			}\r
		}\r
		committer {\r
			avatarUrl\r
			name\r
		}\r
		oid\r
		message\r
		committedDate\r
		statusCheckRollup {\r
			state\r
		}\r
	}\r
	url\r
}\r
\r
fragment AssignedEvent on AssignedEvent {\r
	id\r
	actor {\r
		...Node\r
		...Actor\r
	}\r
	user {\r
		...Node\r
		...Actor\r
		...User\r
	}\r
	createdAt\r
}\r
\r
fragment UnassignedEvent on UnassignedEvent {\r
	id\r
	actor {\r
		...Node\r
		...Actor\r
	}\r
	user {\r
		...Node\r
		...Actor\r
		...User\r
	}\r
	createdAt\r
}\r
\r
fragment CrossReferencedEvent on CrossReferencedEvent {\r
	id\r
	actor {\r
		...Node\r
		...Actor\r
	}\r
	createdAt\r
	source {\r
		... on PullRequest {\r
			number\r
			url\r
			title\r
			repository: baseRepository {\r
				owner {\r
					login\r
				}\r
				name\r
			}\r
		}\r
		... on Issue {\r
			number\r
			url\r
			title\r
			repository {\r
				owner {\r
					login\r
				}\r
				name\r
			}\r
		}\r
	}\r
	willCloseTarget\r
}\r
\r
fragment ClosedEvent on ClosedEvent {\r
	id\r
	actor {\r
		...Node\r
		...Actor\r
	}\r
	createdAt\r
}\r
\r
fragment ReopenedEvent on ReopenedEvent {\r
	id\r
	actor {\r
		...Node\r
		...Actor\r
	}\r
	createdAt\r
}\r
\r
fragment BaseRefChangedEvent on BaseRefChangedEvent {\r
	id\r
	actor {\r
		...Node\r
		...Actor\r
	}\r
	createdAt\r
	currentRefName\r
	previousRefName\r
}\r
\r
fragment Review on PullRequestReview {\r
	id\r
	databaseId\r
	authorAssociation\r
	url\r
	author {\r
		...User\r
		...Organization\r
		...Node\r
		...Actor\r
	}\r
	state\r
	body\r
	bodyHTML\r
	submittedAt\r
	updatedAt\r
	createdAt\r
	...Reactable\r
}\r
\r
fragment Reactable on Reactable {\r
	reactionGroups {\r
		content\r
		viewerHasReacted\r
		reactors(first: 10) {\r
			nodes {\r
				... on User {\r
					login\r
				}\r
				... on Actor {\r
					login\r
				}\r
			}\r
			totalCount\r
		}\r
	}\r
}\r
\r
\r
fragment ReviewThread on PullRequestReviewThread {\r
	id\r
	isResolved\r
	viewerCanResolve\r
	viewerCanUnresolve\r
	path\r
	diffSide\r
	line\r
	startLine\r
	originalStartLine\r
	originalLine\r
	isOutdated\r
	subjectType\r
	comments(first: 100) {\r
		nodes {\r
			...ReviewComment\r
		}\r
	}\r
}\r
\r
fragment LegacyReviewThread on PullRequestReviewThread {\r
	id\r
	isResolved\r
	viewerCanResolve\r
	viewerCanUnresolve\r
	path\r
	diffSide\r
	line\r
	startLine\r
	originalStartLine\r
	originalLine\r
	isOutdated\r
	comments(first: 100) {\r
		nodes {\r
			...ReviewComment\r
		}\r
	}\r
}\r
\r
fragment MergeQueueEntryFragment on MergeQueueEntry {\r
	position\r
	state\r
	mergeQueue {\r
		url\r
	}\r
}\r
\r
query TimelineEvents($owner: String!, $name: String!, $number: Int!, $last: Int = 150) {\r
	repository(owner: $owner, name: $name) {\r
		pullRequest(number: $number) {\r
			timelineItems(last: $last) {\r
				nodes {\r
					__typename\r
					...Merged\r
					...Comment\r
					...Review\r
					...Commit\r
					...AssignedEvent\r
					...UnassignedEvent\r
					...HeadRefDeleted\r
					...CrossReferencedEvent\r
					...ClosedEvent\r
					...ReopenedEvent\r
					...BaseRefChangedEvent\r
				}\r
			}\r
		}\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
query PullRequestActivityTimelineEvents($owner: String!, $name: String!, $number: Int!, $last: Int = 5) {\r
	repository(owner: $owner, name: $name) {\r
		pullRequest(number: $number) {\r
			timelineItems(last: $last) {\r
				nodes {\r
					__typename\r
					...Merged\r
					...Comment\r
					...Review\r
					...Commit\r
					...ClosedEvent\r
				}\r
			}\r
		}\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
query IssueTimelineEvents($owner: String!, $name: String!, $number: Int!, $last: Int = 150) {\r
	repository(owner: $owner, name: $name) {\r
		pullRequest: issue(number: $number) {\r
			timelineItems(last: $last) {\r
				nodes {\r
					__typename\r
					...Comment\r
					...AssignedEvent\r
					...UnassignedEvent\r
					...CrossReferencedEvent\r
					...ClosedEvent\r
					...ReopenedEvent\r
				}\r
			}\r
		}\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
query LatestReviewCommit($owner: String!, $name: String!, $number: Int!, $author: String!) {\r
	repository(owner: $owner, name: $name) {\r
		pullRequest(number: $number) {\r
			reviews(last: 1, author: $author, states: [APPROVED, CHANGES_REQUESTED, COMMENTED, DISMISSED]) {\r
				nodes {\r
					commit {\r
						oid\r
					}\r
				}\r
			}\r
		}\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
query LatestReviews($owner: String!, $name: String!, $number: Int!) {\r
	repository(owner: $owner, name: $name) {\r
		pullRequest(number: $number) {\r
			latestReviews (first: 10) {\r
				nodes {\r
					state\r
				}\r
			}\r
		}\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
query GetOrganizationTeamsCount($login: String!) {\r
	organization(login: $login) {\r
		teams(first: 0, privacy: VISIBLE) {\r
			totalCount\r
		}\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
query GetOrganizationTeams($login: String!, $after: String, $repoName: String!) {\r
	organization(login: $login) {\r
		teams(first: 100, after: $after, privacy: VISIBLE) {\r
			nodes {\r
				...Team\r
				repositories(first: 5, query: $repoName) {\r
					nodes {\r
						name\r
					}\r
				}\r
			}\r
			totalCount\r
			pageInfo {\r
				hasNextPage\r
				endCursor\r
			}\r
		}\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
query GetReviewRequestsAdditionalScopes($owner: String!, $name: String!, $number: Int!) {\r
	repository(owner: $owner, name: $name) {\r
		pullRequest(number: $number) {\r
			reviewRequests(first: 100) {\r
				nodes {\r
					requestedReviewer {\r
						...Node\r
						...Actor\r
						...User\r
						...Team\r
					}\r
				}\r
			}\r
		}\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
query GetReviewRequests($owner: String!, $name: String!, $number: Int!) {\r
	repository(owner: $owner, name: $name) {\r
		pullRequest(number: $number) {\r
			reviewRequests(first: 100) {\r
				nodes {\r
					requestedReviewer {\r
						...Node\r
						...Actor\r
						...User\r
					}\r
				}\r
			}\r
		}\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
fragment ReviewComment on PullRequestReviewComment {\r
	id\r
	databaseId\r
	url\r
	author {\r
		...Actor\r
		...Node\r
		...User\r
		...Organization\r
	}\r
	path\r
	originalPosition\r
	body\r
	bodyHTML\r
	diffHunk\r
	position\r
	state\r
	pullRequestReview {\r
		databaseId\r
	}\r
	commit {\r
		oid\r
	}\r
	replyTo {\r
		databaseId\r
	}\r
	createdAt\r
	originalCommit {\r
		oid\r
	}\r
	...Reactable\r
	viewerCanUpdate\r
	viewerCanDelete\r
}\r
\r
query GetParticipants($owner: String!, $name: String!, $number: Int!, $first: Int!) {\r
	repository(owner: $owner, name: $name) {\r
		pullRequest(number: $number) {\r
			participants(first: $first) {\r
				nodes {\r
					...Node\r
					...Actor\r
					...User\r
					...Organization\r
				}\r
			}\r
		}\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
query GetPendingReviewId($pullRequestId: ID!, $author: String!) {\r
	node(id: $pullRequestId) {\r
		... on PullRequest {\r
			reviews(first: 1, author: $author, states: [PENDING]) {\r
				nodes {\r
					id\r
				}\r
			}\r
		}\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
query PullRequestComments($owner: String!, $name: String!, $number: Int!, $after: String) {\r
	repository(owner: $owner, name: $name) {\r
		pullRequest(number: $number) {\r
			reviewThreads(first: 20, after: $after) {\r
				nodes {\r
					id\r
					isResolved\r
					viewerCanResolve\r
					viewerCanUnresolve\r
					path\r
					diffSide\r
					startLine\r
					line\r
					originalStartLine\r
					originalLine\r
					isOutdated\r
					subjectType\r
					comments(first: 100) {\r
						edges {\r
							node {\r
								pullRequestReview {\r
									databaseId\r
								}\r
							}\r
						}\r
						nodes {\r
							...ReviewComment\r
						}\r
					}\r
				}\r
				pageInfo {\r
					hasNextPage\r
					endCursor\r
				}\r
			}\r
		}\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
query LegacyPullRequestComments($owner: String!, $name: String!, $number: Int!, $after: String) {\r
	repository(owner: $owner, name: $name) {\r
		pullRequest(number: $number) {\r
			reviewThreads(first: 20, after: $after) {\r
				nodes {\r
					id\r
					isResolved\r
					viewerCanResolve\r
					viewerCanUnresolve\r
					path\r
					diffSide\r
					startLine\r
					line\r
					originalStartLine\r
					originalLine\r
					isOutdated\r
					comments(first: 100) {\r
						edges {\r
							node {\r
								pullRequestReview {\r
									databaseId\r
								}\r
							}\r
						}\r
						nodes {\r
							...ReviewComment\r
						}\r
					}\r
				}\r
				pageInfo {\r
					hasNextPage\r
					endCursor\r
				}\r
			}\r
		}\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
query Viewer {\r
	viewer {\r
		...User\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
query PullRequestFiles($owner: String!, $name: String!, $number: Int!, $after: String) {\r
	repository(owner: $owner, name: $name) {\r
		pullRequest(number: $number) {\r
			files(first: 100, after: $after) {\r
				nodes {\r
					path\r
					viewerViewedState\r
				}\r
				pageInfo {\r
					hasNextPage\r
					endCursor\r
				}\r
			}\r
		}\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
query GetUser($login: String!) {\r
	user(login: $login) {\r
		login\r
		avatarUrl(size: 50)\r
		id\r
		bio\r
		name\r
		company\r
		location\r
		contributionsCollection {\r
			commitContributionsByRepository(maxRepositories: 50) {\r
				contributions(first: 1) {\r
					nodes {\r
						occurredAt\r
					}\r
				}\r
				repository {\r
					nameWithOwner\r
				}\r
			}\r
		}\r
		url\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
query PullRequestMergeability($owner: String!, $name: String!, $number: Int!) {\r
	repository(owner: $owner, name: $name) {\r
		pullRequest(number: $number) {\r
			mergeable\r
			mergeStateStatus\r
		}\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
query PullRequestState($owner: String!, $name: String!, $number: Int!) {\r
	repository(owner: $owner, name: $name) {\r
		pullRequest(number: $number) {\r
			title\r
			number\r
			state\r
		}\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
query PullRequestTemplates($owner: String!, $name: String!) {\r
	repository(owner: $owner, name: $name) {\r
		pullRequestTemplates {\r
			body\r
		}\r
	}\r
}\r
\r
fragment PullRequestNumberFragment on PullRequest {\r
	number\r
	title\r
	author {\r
		login\r
	}\r
}\r
\r
query PullRequestNumbers($owner: String!, $name: String!, $first: Int!) {\r
	repository(owner: $owner, name: $name) {\r
		pullRequests(first: $first, states: OPEN, orderBy: { field: CREATED_AT, direction: DESC }) {\r
			nodes {\r
				...PullRequestNumberFragment\r
			}\r
		}\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
mutation AddComment($input: AddPullRequestReviewCommentInput!) {\r
	addPullRequestReviewComment(input: $input) {\r
		comment {\r
			...ReviewComment\r
		}\r
	}\r
}\r
\r
mutation AddReviewThread($input: AddPullRequestReviewThreadInput!) {\r
	addPullRequestReviewThread(input: $input) {\r
		thread {\r
			...ReviewThread\r
		}\r
	}\r
}\r
\r
mutation LegacyAddReviewThread($input: AddPullRequestReviewThreadInput!) {\r
	addPullRequestReviewThread(input: $input) {\r
		thread {\r
			...LegacyReviewThread\r
		}\r
	}\r
}\r
\r
mutation AddReviewers($input: RequestReviewsInput!) {\r
	requestReviews(input: $input) {\r
		pullRequest {\r
			id\r
		}\r
	}\r
}\r
\r
mutation EditComment($input: UpdatePullRequestReviewCommentInput!) {\r
	updatePullRequestReviewComment(input: $input) {\r
		pullRequestReviewComment {\r
			...ReviewComment\r
		}\r
	}\r
}\r
\r
mutation ReadyForReview($input: MarkPullRequestReadyForReviewInput!) {\r
	markPullRequestReadyForReview(input: $input) {\r
		pullRequest {\r
			isDraft\r
			mergeable\r
			mergeStateStatus\r
			viewerCanEnableAutoMerge\r
			viewerCanDisableAutoMerge\r
		}\r
	}\r
}\r
\r
mutation ConvertToDraft($input: ConvertPullRequestToDraftInput!) {\r
	convertPullRequestToDraft(input: $input) {\r
		pullRequest {\r
			isDraft\r
			mergeable\r
			mergeStateStatus\r
		}\r
	}\r
}\r
\r
mutation StartReview($input: AddPullRequestReviewInput!) {\r
	addPullRequestReview(input: $input) {\r
		pullRequestReview {\r
			id\r
		}\r
	}\r
}\r
\r
mutation SubmitReview($id: ID!, $event: PullRequestReviewEvent!, $body: String) {\r
	submitPullRequestReview(input: { event: $event, pullRequestReviewId: $id, body: $body }) {\r
		pullRequestReview {\r
			comments(first: 100) {\r
				nodes {\r
					...ReviewComment\r
				}\r
			}\r
			...Review\r
		}\r
	}\r
}\r
\r
mutation DeleteReview($input: DeletePullRequestReviewInput!) {\r
	deletePullRequestReview(input: $input) {\r
		pullRequestReview {\r
			databaseId\r
			comments(first: 100) {\r
				nodes {\r
					...ReviewComment\r
				}\r
			}\r
		}\r
	}\r
}\r
\r
mutation AddReaction($input: AddReactionInput!) {\r
	addReaction(input: $input) {\r
		reaction {\r
			content\r
		}\r
		subject {\r
			...Reactable\r
		}\r
	}\r
}\r
\r
mutation DeleteReaction($input: RemoveReactionInput!) {\r
	removeReaction(input: $input) {\r
		reaction {\r
			content\r
		}\r
		subject {\r
			...Reactable\r
		}\r
	}\r
}\r
\r
mutation UpdateIssue($input: UpdateIssueInput!) {\r
	updateIssue(input: $input) {\r
		issue {\r
			body\r
			bodyHTML\r
			title\r
			titleHTML\r
			milestone {\r
				title\r
				dueOn\r
				createdAt\r
				id\r
				number\r
			}\r
		}\r
	}\r
}\r
\r
mutation UpdatePullRequest($input: UpdatePullRequestInput!) {\r
	updateIssue: updatePullRequest(input: $input) {\r
		issue: pullRequest {\r
			body\r
			bodyHTML\r
			title\r
			titleHTML\r
			milestone {\r
				title\r
				dueOn\r
				createdAt\r
				id\r
				number\r
			}\r
		}\r
	}\r
}\r
\r
mutation AddIssueComment($input: AddCommentInput!) {\r
	addComment(input: $input) {\r
		commentEdge {\r
			node {\r
				...Comment\r
			}\r
		}\r
	}\r
}\r
\r
mutation EditIssueComment($input: UpdateIssueCommentInput!) {\r
	updateIssueComment(input: $input) {\r
		issueComment {\r
			...Comment\r
		}\r
	}\r
}\r
\r
query GetMentionableUsers($owner: String!, $name: String!, $first: Int!, $after: String) {\r
	repository(owner: $owner, name: $name) {\r
		mentionableUsers(first: $first, after: $after) {\r
			nodes {\r
				...Node\r
				...Actor\r
				...User\r
			}\r
			pageInfo {\r
				hasNextPage\r
				endCursor\r
			}\r
		}\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
query GetBranch($owner: String!, $name: String!, $qualifiedName: String!) {\r
	repository(owner: $owner, name: $name) {\r
		ref(qualifiedName: $qualifiedName) {\r
			target {\r
				oid\r
			}\r
		}\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
query ListBranches($owner: String!, $name: String!, $first: Int!, $after: String, $query: String) {\r
	repository(owner: $owner, name: $name) {\r
		refs(first: $first, after: $after, refPrefix: "refs/heads/", query: $query) {\r
			nodes {\r
				name\r
			}\r
			pageInfo {\r
				hasNextPage\r
				endCursor\r
			}\r
		}\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
query MaxIssue($owner: String!, $name: String!) {\r
	repository(owner: $owner, name: $name) {\r
		issues(first: 1, orderBy: { direction: DESC, field: CREATED_AT }) {\r
			edges {\r
				node {\r
					... on Issue {\r
						number\r
					}\r
				}\r
			}\r
		}\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
query MaxPullRequest($owner: String!, $name: String!) {\r
	repository(owner: $owner, name: $name) {\r
		issues: pullRequests(first: 1, orderBy: { direction: DESC, field: CREATED_AT }) {\r
			edges {\r
				node {\r
					... on PullRequest {\r
						number\r
					}\r
				}\r
			}\r
		}\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
query GetMilestones($owner: String!, $name: String!, $states: [MilestoneState!]!) {\r
	repository(owner: $owner, name: $name) {\r
		milestones(first: 100, orderBy: { direction: DESC, field: DUE_DATE }, states: $states) {\r
			nodes {\r
				dueOn\r
				title\r
				createdAt\r
				id\r
				number\r
			}\r
		}\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
query GetViewerPermission($owner: String!, $name: String!) {\r
	repository(owner: $owner, name: $name) {\r
		viewerPermission\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
query GetRepositoryForkDetails($owner: String!, $name: String!) {\r
	repository(owner: $owner, name: $name) {\r
		isFork\r
		parent {\r
			name\r
			owner {\r
				login\r
			}\r
		}\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
query GetChecks($owner: String!, $name: String!, $number: Int!) {\r
	repository(owner: $owner, name: $name) {\r
		pullRequest(number: $number) {\r
			url\r
			latestReviews (first: 10) {\r
				nodes {\r
					authorAssociation\r
					authorCanPushToRepository\r
					state\r
					author {\r
						login\r
					}\r
				}\r
			}\r
			reviewsRequestingChanges: reviews (last: 5, states: [CHANGES_REQUESTED]) {\r
				nodes {\r
					authorAssociation\r
					authorCanPushToRepository\r
					state\r
					author {\r
						login\r
					}\r
				}\r
			}\r
			baseRef {\r
				refUpdateRule {\r
					requiredApprovingReviewCount\r
					requiredStatusCheckContexts\r
					requiresCodeOwnerReviews\r
					viewerCanPush\r
				}\r
			}\r
			commits(last: 1) {\r
				nodes {\r
					commit {\r
						statusCheckRollup {\r
							state\r
							contexts(first: 100) {\r
								nodes {\r
									__typename\r
									... on StatusContext {\r
										id\r
										state\r
										targetUrl\r
										description\r
										context\r
										avatarUrl\r
										isRequired(pullRequestNumber: $number)\r
									}\r
									... on CheckRun {\r
										id\r
										conclusion\r
										title\r
										detailsUrl\r
										name\r
										resourcePath\r
										isRequired(pullRequestNumber: $number)\r
										checkSuite {\r
											app {\r
												logoUrl\r
												url\r
											}\r
											workflowRun {\r
												event\r
												workflow {\r
													name\r
												}\r
											}\r
										}\r
									}\r
								}\r
							}\r
						}\r
					}\r
				}\r
			}\r
		}\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
query GetChecksWithoutSuite($owner: String!, $name: String!, $number: Int!) {\r
	repository(owner: $owner, name: $name) {\r
		pullRequest(number: $number) {\r
			url\r
			latestReviews (first: 10) {\r
				nodes {\r
					authorAssociation\r
					authorCanPushToRepository\r
					state\r
					author {\r
						login\r
					}\r
				}\r
			}\r
			reviewsRequestingChanges: reviews (last: 5, states: [CHANGES_REQUESTED]) {\r
				nodes {\r
					authorAssociation\r
					authorCanPushToRepository\r
					state\r
					author {\r
						login\r
					}\r
				}\r
			}\r
			baseRef {\r
				refUpdateRule {\r
					requiredApprovingReviewCount\r
					requiredStatusCheckContexts\r
					requiresCodeOwnerReviews\r
					viewerCanPush\r
				}\r
			}\r
			commits(last: 1) {\r
				nodes {\r
					commit {\r
						statusCheckRollup {\r
							state\r
							contexts(first: 100) {\r
								nodes {\r
									__typename\r
									... on StatusContext {\r
										id\r
										state\r
										targetUrl\r
										description\r
										context\r
										avatarUrl\r
										isRequired(pullRequestNumber: $number)\r
									}\r
									... on CheckRun {\r
										id\r
										conclusion\r
										title\r
										detailsUrl\r
										name\r
										resourcePath\r
										isRequired(pullRequestNumber: $number)\r
									}\r
								}\r
							}\r
						}\r
					}\r
				}\r
			}\r
		}\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
query MergeQueueForBranch($owner: String!, $name: String!, $branch: String!) {\r
	repository(owner: $owner, name: $name) {\r
		mergeQueue(branch: $branch) {\r
			configuration {\r
				mergeMethod\r
			}\r
		}\r
	}\r
}\r
\r
query GetFileContent($owner: String!, $name: String!, $expression: String!) {\r
	repository(owner: $owner, name: $name) {\r
		object(expression: $expression) {\r
			... on Blob {\r
				text\r
			}\r
		}\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
mutation ResolveReviewThread($input: ResolveReviewThreadInput!) {\r
	resolveReviewThread(input: $input) {\r
		thread {\r
			...ReviewThread\r
		}\r
	}\r
}\r
\r
mutation LegacyResolveReviewThread($input: ResolveReviewThreadInput!) {\r
	resolveReviewThread(input: $input) {\r
		thread {\r
			...LegacyReviewThread\r
		}\r
	}\r
}\r
\r
mutation UnresolveReviewThread($input: UnresolveReviewThreadInput!) {\r
	unresolveReviewThread(input: $input) {\r
		thread {\r
			...ReviewThread\r
		}\r
	}\r
}\r
\r
mutation LegacyUnresolveReviewThread($input: UnresolveReviewThreadInput!) {\r
	unresolveReviewThread(input: $input) {\r
		thread {\r
			...LegacyReviewThread\r
		}\r
	}\r
}\r
\r
mutation EnablePullRequestAutoMerge($input: EnablePullRequestAutoMergeInput!) {\r
	enablePullRequestAutoMerge(input: $input) {\r
		pullRequest {\r
			id\r
		}\r
	}\r
}\r
\r
mutation DisablePullRequestAutoMerge($input: DisablePullRequestAutoMergeInput!) {\r
	disablePullRequestAutoMerge(input: $input) {\r
		pullRequest {\r
			id\r
		}\r
	}\r
}\r
\r
mutation MarkFileAsViewed($input: MarkFileAsViewedInput!) {\r
	markFileAsViewed(input: $input) {\r
		pullRequest {\r
			id\r
		}\r
	}\r
}\r
\r
mutation UnmarkFileAsViewed($input: UnmarkFileAsViewedInput!) {\r
	unmarkFileAsViewed(input: $input) {\r
		pullRequest {\r
			id\r
		}\r
	}\r
}\r
\r
mutation MergePullRequest($input: MergePullRequestInput!, $last: Int = 150) {\r
	mergePullRequest(input: $input) {\r
		pullRequest {\r
			id\r
			timelineItems(last: $last) {\r
				nodes {\r
					__typename\r
					...Merged\r
					...Comment\r
					...Review\r
					...Commit\r
					...AssignedEvent\r
					...UnassignedEvent\r
					...HeadRefDeleted\r
					...CrossReferencedEvent\r
					...ClosedEvent\r
					...ReopenedEvent\r
					...BaseRefChangedEvent\r
				}\r
			}\r
		}\r
	}\r
}\r
`,name:"GraphQL request",locationOffset:{line:1,column:1}};var F={};function P(m){return m.filter(function(g){if(g.kind!=="FragmentDefinition")return!0;var p=g.name.value;return F[p]?!1:(F[p]=!0,!0)})}function L(m,g){if(m.kind==="FragmentSpread")g.add(m.name.value);else if(m.kind==="VariableDefinition"){var p=m.type;p.kind==="NamedType"&&g.add(p.name.value)}m.selectionSet&&m.selectionSet.selections.forEach(function(k){L(k,g)}),m.variableDefinitions&&m.variableDefinitions.forEach(function(k){L(k,g)}),m.definitions&&m.definitions.forEach(function(k){L(k,g)})}var D={};(function(){G.definitions.forEach(function(g){if(g.name){var p=new Set;L(g,p),D[g.name.value]=p}})})();function A(m,g){for(var p=0;p<m.definitions.length;p++){var k=m.definitions[p];if(k.name&&k.name.value==g)return k}}function h(m,g){var p={kind:m.kind,definitions:[A(m,g)]};m.hasOwnProperty("loc")&&(p.loc=m.loc);var k=D[g]||new Set,b=new Set,l=new Set;for(k.forEach(function(c){l.add(c)});l.size>0;){var E=l;l=new Set,E.forEach(function(c){if(!b.has(c)){b.add(c);var v=D[c]||new Set;v.forEach(function(f){l.add(f)})}})}return b.forEach(function(c){var v=A(m,c);v&&p.definitions.push(v)}),p}s.exports=G,s.exports.TimelineEvents=h(G,"TimelineEvents"),s.exports.PullRequestActivityTimelineEvents=h(G,"PullRequestActivityTimelineEvents"),s.exports.IssueTimelineEvents=h(G,"IssueTimelineEvents"),s.exports.LatestReviewCommit=h(G,"LatestReviewCommit"),s.exports.LatestReviews=h(G,"LatestReviews"),s.exports.GetOrganizationTeamsCount=h(G,"GetOrganizationTeamsCount"),s.exports.GetOrganizationTeams=h(G,"GetOrganizationTeams"),s.exports.GetReviewRequestsAdditionalScopes=h(G,"GetReviewRequestsAdditionalScopes"),s.exports.GetReviewRequests=h(G,"GetReviewRequests"),s.exports.GetParticipants=h(G,"GetParticipants"),s.exports.GetPendingReviewId=h(G,"GetPendingReviewId"),s.exports.PullRequestComments=h(G,"PullRequestComments"),s.exports.LegacyPullRequestComments=h(G,"LegacyPullRequestComments"),s.exports.Viewer=h(G,"Viewer"),s.exports.PullRequestFiles=h(G,"PullRequestFiles"),s.exports.GetUser=h(G,"GetUser"),s.exports.PullRequestMergeability=h(G,"PullRequestMergeability"),s.exports.PullRequestState=h(G,"PullRequestState"),s.exports.PullRequestTemplates=h(G,"PullRequestTemplates"),s.exports.PullRequestNumbers=h(G,"PullRequestNumbers"),s.exports.AddComment=h(G,"AddComment"),s.exports.AddReviewThread=h(G,"AddReviewThread"),s.exports.LegacyAddReviewThread=h(G,"LegacyAddReviewThread"),s.exports.AddReviewers=h(G,"AddReviewers"),s.exports.EditComment=h(G,"EditComment"),s.exports.ReadyForReview=h(G,"ReadyForReview"),s.exports.ConvertToDraft=h(G,"ConvertToDraft"),s.exports.StartReview=h(G,"StartReview"),s.exports.SubmitReview=h(G,"SubmitReview"),s.exports.DeleteReview=h(G,"DeleteReview"),s.exports.AddReaction=h(G,"AddReaction"),s.exports.DeleteReaction=h(G,"DeleteReaction"),s.exports.UpdateIssue=h(G,"UpdateIssue"),s.exports.UpdatePullRequest=h(G,"UpdatePullRequest"),s.exports.AddIssueComment=h(G,"AddIssueComment"),s.exports.EditIssueComment=h(G,"EditIssueComment"),s.exports.GetMentionableUsers=h(G,"GetMentionableUsers"),s.exports.GetBranch=h(G,"GetBranch"),s.exports.ListBranches=h(G,"ListBranches"),s.exports.MaxIssue=h(G,"MaxIssue"),s.exports.MaxPullRequest=h(G,"MaxPullRequest"),s.exports.GetMilestones=h(G,"GetMilestones"),s.exports.GetViewerPermission=h(G,"GetViewerPermission"),s.exports.GetRepositoryForkDetails=h(G,"GetRepositoryForkDetails"),s.exports.GetChecks=h(G,"GetChecks"),s.exports.GetChecksWithoutSuite=h(G,"GetChecksWithoutSuite"),s.exports.MergeQueueForBranch=h(G,"MergeQueueForBranch"),s.exports.GetFileContent=h(G,"GetFileContent"),s.exports.ResolveReviewThread=h(G,"ResolveReviewThread"),s.exports.LegacyResolveReviewThread=h(G,"LegacyResolveReviewThread"),s.exports.UnresolveReviewThread=h(G,"UnresolveReviewThread"),s.exports.LegacyUnresolveReviewThread=h(G,"LegacyUnresolveReviewThread"),s.exports.EnablePullRequestAutoMerge=h(G,"EnablePullRequestAutoMerge"),s.exports.DisablePullRequestAutoMerge=h(G,"DisablePullRequestAutoMerge"),s.exports.MarkFileAsViewed=h(G,"MarkFileAsViewed"),s.exports.UnmarkFileAsViewed=h(G,"UnmarkFileAsViewed"),s.exports.MergePullRequest=h(G,"MergePullRequest")},77358:(s,G,F)=>{var P=F(50246),L=P.parse;function D(_){return _.replace(/[\s,]+/g," ").trim()}var A={},h={};function m(_){return D(_.source.body.substring(_.start,_.end))}function g(){A={},h={}}var p=!0;function k(_){for(var R={},M=[],U=0;U<_.definitions.length;U++){var x=_.definitions[U];if(x.kind==="FragmentDefinition"){var y=x.name.value,W=m(x.loc);h.hasOwnProperty(y)&&!h[y][W]?(p&&console.warn("Warning: fragment with name "+y+` already exists.
graphql-tag enforces all fragment names across your application to be unique; read more about
this in the docs: http://dev.apollodata.com/core/fragments.html#unique-names`),h[y][W]=!0):h.hasOwnProperty(y)||(h[y]={},h[y][W]=!0),R[W]||(R[W]=!0,M.push(x))}else M.push(x)}return _.definitions=M,_}function b(){p=!1}function l(_,R){var M=Object.prototype.toString.call(_);if(M==="[object Array]")return _.map(function(Q){return l(Q,R)});if(M!=="[object Object]")throw new Error("Unexpected input.");R&&_.loc&&delete _.loc,_.loc&&(delete _.loc.startToken,delete _.loc.endToken);var U=Object.keys(_),x,y,W;for(x in U)U.hasOwnProperty(x)&&(y=_[U[x]],W=Object.prototype.toString.call(y),(W==="[object Object]"||W==="[object Array]")&&(_[U[x]]=l(y,!0)));return _}var E=!1;function c(_){var R=D(_);if(A[R])return A[R];var M=L(_,{experimentalFragmentVariables:E});if(!M||M.kind!=="Document")throw new Error("Not a valid GraphQL document.");return M=k(M),M=l(M,!1),A[R]=M,M}function v(){E=!0}function f(){E=!1}function w(){for(var _=Array.prototype.slice.call(arguments),R=_[0],M=typeof R=="string"?R:R[0],U=1;U<_.length;U++)_[U]&&_[U].kind&&_[U].kind==="Document"?M+=_[U].loc.source.body:M+=_[U],M+=R[U];return c(M)}w.default=w,w.resetCaches=g,w.disableFragmentWarnings=b,w.enableExperimentalFragmentVariables=v,w.disableExperimentalFragmentVariables=f,s.exports=w},61702:(s,G,F)=>{"use strict";function P(y){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?P=function(Q){return typeof Q}:P=function(Q){return Q&&typeof Symbol=="function"&&Q.constructor===Symbol&&Q!==Symbol.prototype?"symbol":typeof Q},P(y)}Object.defineProperty(G,"__esModule",{value:!0}),G.printError=x,G.GraphQLError=void 0;var L=m(F(55569)),D=F(25888),A=F(99530),h=F(40825);function m(y){return y&&y.__esModule?y:{default:y}}function g(y,W){if(!(y instanceof W))throw new TypeError("Cannot call a class as a function")}function p(y,W){for(var Q=0;Q<W.length;Q++){var Z=W[Q];Z.enumerable=Z.enumerable||!1,Z.configurable=!0,"value"in Z&&(Z.writable=!0),Object.defineProperty(y,Z.key,Z)}}function k(y,W,Q){return W&&p(y.prototype,W),Q&&p(y,Q),y}function b(y,W){if(typeof W!="function"&&W!==null)throw new TypeError("Super expression must either be null or a function");y.prototype=Object.create(W&&W.prototype,{constructor:{value:y,writable:!0,configurable:!0}}),W&&R(y,W)}function l(y){var W=w();return function(){var Z=M(y),ee;if(W){var J=M(this).constructor;ee=Reflect.construct(Z,arguments,J)}else ee=Z.apply(this,arguments);return E(this,ee)}}function E(y,W){return W&&(P(W)==="object"||typeof W=="function")?W:c(y)}function c(y){if(y===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y}function v(y){var W=typeof Map=="function"?new Map:void 0;return v=function(Z){if(Z===null||!_(Z))return Z;if(typeof Z!="function")throw new TypeError("Super expression must either be null or a function");if(typeof W!="undefined"){if(W.has(Z))return W.get(Z);W.set(Z,ee)}function ee(){return f(Z,arguments,M(this).constructor)}return ee.prototype=Object.create(Z.prototype,{constructor:{value:ee,enumerable:!1,writable:!0,configurable:!0}}),R(ee,Z)},v(y)}function f(y,W,Q){return w()?f=Reflect.construct:f=function(ee,J,O){var H=[null];H.push.apply(H,J);var I=Function.bind.apply(ee,H),u=new I;return O&&R(u,O.prototype),u},f.apply(null,arguments)}function w(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function _(y){return Function.toString.call(y).indexOf("[native code]")!==-1}function R(y,W){return R=Object.setPrototypeOf||function(Z,ee){return Z.__proto__=ee,Z},R(y,W)}function M(y){return M=Object.setPrototypeOf?Object.getPrototypeOf:function(Q){return Q.__proto__||Object.getPrototypeOf(Q)},M(y)}var U=function(y){b(Q,y);var W=l(Q);function Q(Z,ee,J,O,H,I,u){var N,q,V,K,j;g(this,Q),j=W.call(this,Z);var ie=Array.isArray(ee)?ee.length!==0?ee:void 0:ee?[ee]:void 0,X=J;if(!X&&ie){var B;X=(B=ie[0].loc)===null||B===void 0?void 0:B.source}var se=O;!se&&ie&&(se=ie.reduce(function(Me,te){return te.loc&&Me.push(te.loc.start),Me},[])),se&&se.length===0&&(se=void 0);var Pe;O&&J?Pe=O.map(function(Me){return(0,A.getLocation)(J,Me)}):ie&&(Pe=ie.reduce(function(Me,te){return te.loc&&Me.push((0,A.getLocation)(te.loc.source,te.loc.start)),Me},[]));var we=u;if(we==null&&I!=null){var _e=I.extensions;(0,L.default)(_e)&&(we=_e)}return Object.defineProperties(c(j),{name:{value:"GraphQLError"},message:{value:Z,enumerable:!0,writable:!0},locations:{value:(N=Pe)!==null&&N!==void 0?N:void 0,enumerable:Pe!=null},path:{value:H!=null?H:void 0,enumerable:H!=null},nodes:{value:ie!=null?ie:void 0},source:{value:(q=X)!==null&&q!==void 0?q:void 0},positions:{value:(V=se)!==null&&V!==void 0?V:void 0},originalError:{value:I},extensions:{value:(K=we)!==null&&K!==void 0?K:void 0,enumerable:we!=null}}),I!=null&&I.stack?(Object.defineProperty(c(j),"stack",{value:I.stack,writable:!0,configurable:!0}),E(j)):(Error.captureStackTrace?Error.captureStackTrace(c(j),Q):Object.defineProperty(c(j),"stack",{value:Error().stack,writable:!0,configurable:!0}),j)}return k(Q,[{key:"toString",value:function(){return x(this)}},{key:D.SYMBOL_TO_STRING_TAG,get:function(){return"Object"}}]),Q}(v(Error));G.GraphQLError=U;function x(y){var W=y.message;if(y.nodes)for(var Q=0,Z=y.nodes;Q<Z.length;Q++){var ee=Z[Q];ee.loc&&(W+=`

`+(0,h.printLocation)(ee.loc))}else if(y.source&&y.locations)for(var J=0,O=y.locations;J<O.length;J++){var H=O[J];W+=`

`+(0,h.printSourceLocation)(y.source,H)}return W}},51352:(s,G,F)=>{"use strict";Object.defineProperty(G,"__esModule",{value:!0}),G.syntaxError=L;var P=F(61702);function L(D,A,h){return new P.GraphQLError("Syntax Error: ".concat(h),void 0,D,[A])}},63580:(s,G,F)=>{"use strict";Object.defineProperty(G,"__esModule",{value:!0}),G.default=A;var P=D(F(61321)),L=D(F(98493));function D(h){return h&&h.__esModule?h:{default:h}}function A(h){var m=h.prototype.toJSON;typeof m=="function"||(0,P.default)(0),h.prototype.inspect=m,L.default&&(h.prototype[L.default]=m)}},93028:(s,G)=>{"use strict";Object.defineProperty(G,"__esModule",{value:!0}),G.default=F;function F(P,L){var D=!!P;if(!D)throw new Error(L)}},29657:(s,G,F)=>{"use strict";Object.defineProperty(G,"__esModule",{value:!0}),G.default=m;var P=L(F(98493));function L(c){return c&&c.__esModule?c:{default:c}}function D(c){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?D=function(f){return typeof f}:D=function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f},D(c)}var A=10,h=2;function m(c){return g(c,[])}function g(c,v){switch(D(c)){case"string":return JSON.stringify(c);case"function":return c.name?"[function ".concat(c.name,"]"):"[function]";case"object":return c===null?"null":p(c,v);default:return String(c)}}function p(c,v){if(v.indexOf(c)!==-1)return"[Circular]";var f=[].concat(v,[c]),w=l(c);if(w!==void 0){var _=w.call(c);if(_!==c)return typeof _=="string"?_:g(_,f)}else if(Array.isArray(c))return b(c,f);return k(c,f)}function k(c,v){var f=Object.keys(c);if(f.length===0)return"{}";if(v.length>h)return"["+E(c)+"]";var w=f.map(function(_){var R=g(c[_],v);return _+": "+R});return"{ "+w.join(", ")+" }"}function b(c,v){if(c.length===0)return"[]";if(v.length>h)return"[Array]";for(var f=Math.min(A,c.length),w=c.length-f,_=[],R=0;R<f;++R)_.push(g(c[R],v));return w===1?_.push("... 1 more item"):w>1&&_.push("... ".concat(w," more items")),"["+_.join(", ")+"]"}function l(c){var v=c[String(P.default)];if(typeof v=="function")return v;if(typeof c.inspect=="function")return c.inspect}function E(c){var v=Object.prototype.toString.call(c).replace(/^\[object /,"").replace(/]$/,"");if(v==="Object"&&typeof c.constructor=="function"){var f=c.constructor.name;if(typeof f=="string"&&f!=="")return f}return v}},79527:(s,G)=>{"use strict";Object.defineProperty(G,"__esModule",{value:!0}),G.default=void 0;var F=function(L,D){return L instanceof D};G.default=F},61321:(s,G)=>{"use strict";Object.defineProperty(G,"__esModule",{value:!0}),G.default=F;function F(P,L){var D=!!P;if(!D)throw new Error(L!=null?L:"Unexpected invariant triggered.")}},55569:(s,G)=>{"use strict";Object.defineProperty(G,"__esModule",{value:!0}),G.default=P;function F(L){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?F=function(A){return typeof A}:F=function(A){return A&&typeof Symbol=="function"&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":typeof A},F(L)}function P(L){return F(L)=="object"&&L!==null}},98493:(s,G)=>{"use strict";Object.defineProperty(G,"__esModule",{value:!0}),G.default=void 0;var F=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):void 0,P=F;G.default=P},76257:(s,G,F)=>{"use strict";Object.defineProperty(G,"__esModule",{value:!0}),G.isNode=h,G.Token=G.Location=void 0;var P=L(F(63580));function L(m){return m&&m.__esModule?m:{default:m}}var D=function(){function m(p,k,b){this.start=p.start,this.end=k.end,this.startToken=p,this.endToken=k,this.source=b}var g=m.prototype;return g.toJSON=function(){return{start:this.start,end:this.end}},m}();G.Location=D,(0,P.default)(D);var A=function(){function m(p,k,b,l,E,c,v){this.kind=p,this.start=k,this.end=b,this.line=l,this.column=E,this.value=v,this.prev=c,this.next=null}var g=m.prototype;return g.toJSON=function(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}},m}();G.Token=A,(0,P.default)(A);function h(m){return m!=null&&typeof m.kind=="string"}},69165:(s,G)=>{"use strict";Object.defineProperty(G,"__esModule",{value:!0}),G.dedentBlockStringValue=F,G.getBlockStringIndentation=L,G.printBlockString=D;function F(A){var h=A.split(/\r\n|[\n\r]/g),m=L(A);if(m!==0)for(var g=1;g<h.length;g++)h[g]=h[g].slice(m);for(var p=0;p<h.length&&P(h[p]);)++p;for(var k=h.length;k>p&&P(h[k-1]);)--k;return h.slice(p,k).join(`
`)}function P(A){for(var h=0;h<A.length;++h)if(A[h]!==" "&&A[h]!=="	")return!1;return!0}function L(A){for(var h,m=!0,g=!0,p=0,k=null,b=0;b<A.length;++b)switch(A.charCodeAt(b)){case 13:A.charCodeAt(b+1)===10&&++b;case 10:m=!1,g=!0,p=0;break;case 9:case 32:++p;break;default:g&&!m&&(k===null||p<k)&&(k=p),g=!1}return(h=k)!==null&&h!==void 0?h:0}function D(A){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,g=A.indexOf(`
`)===-1,p=A[0]===" "||A[0]==="	",k=A[A.length-1]==='"',b=A[A.length-1]==="\\",l=!g||k||b||m,E="";return l&&!(g&&p)&&(E+=`
`+h),E+=h?A.replace(/\n/g,`
`+h):A,l&&(E+=`
`),'"""'+E.replace(/"""/g,'\\"""')+'"""'}},5919:(s,G)=>{"use strict";Object.defineProperty(G,"__esModule",{value:!0}),G.DirectiveLocation=void 0;var F=Object.freeze({QUERY:"QUERY",MUTATION:"MUTATION",SUBSCRIPTION:"SUBSCRIPTION",FIELD:"FIELD",FRAGMENT_DEFINITION:"FRAGMENT_DEFINITION",FRAGMENT_SPREAD:"FRAGMENT_SPREAD",INLINE_FRAGMENT:"INLINE_FRAGMENT",VARIABLE_DEFINITION:"VARIABLE_DEFINITION",SCHEMA:"SCHEMA",SCALAR:"SCALAR",OBJECT:"OBJECT",FIELD_DEFINITION:"FIELD_DEFINITION",ARGUMENT_DEFINITION:"ARGUMENT_DEFINITION",INTERFACE:"INTERFACE",UNION:"UNION",ENUM:"ENUM",ENUM_VALUE:"ENUM_VALUE",INPUT_OBJECT:"INPUT_OBJECT",INPUT_FIELD_DEFINITION:"INPUT_FIELD_DEFINITION"});G.DirectiveLocation=F},7030:(s,G)=>{"use strict";Object.defineProperty(G,"__esModule",{value:!0}),G.Kind=void 0;var F=Object.freeze({NAME:"Name",DOCUMENT:"Document",OPERATION_DEFINITION:"OperationDefinition",VARIABLE_DEFINITION:"VariableDefinition",SELECTION_SET:"SelectionSet",FIELD:"Field",ARGUMENT:"Argument",FRAGMENT_SPREAD:"FragmentSpread",INLINE_FRAGMENT:"InlineFragment",FRAGMENT_DEFINITION:"FragmentDefinition",VARIABLE:"Variable",INT:"IntValue",FLOAT:"FloatValue",STRING:"StringValue",BOOLEAN:"BooleanValue",NULL:"NullValue",ENUM:"EnumValue",LIST:"ListValue",OBJECT:"ObjectValue",OBJECT_FIELD:"ObjectField",DIRECTIVE:"Directive",NAMED_TYPE:"NamedType",LIST_TYPE:"ListType",NON_NULL_TYPE:"NonNullType",SCHEMA_DEFINITION:"SchemaDefinition",OPERATION_TYPE_DEFINITION:"OperationTypeDefinition",SCALAR_TYPE_DEFINITION:"ScalarTypeDefinition",OBJECT_TYPE_DEFINITION:"ObjectTypeDefinition",FIELD_DEFINITION:"FieldDefinition",INPUT_VALUE_DEFINITION:"InputValueDefinition",INTERFACE_TYPE_DEFINITION:"InterfaceTypeDefinition",UNION_TYPE_DEFINITION:"UnionTypeDefinition",ENUM_TYPE_DEFINITION:"EnumTypeDefinition",ENUM_VALUE_DEFINITION:"EnumValueDefinition",INPUT_OBJECT_TYPE_DEFINITION:"InputObjectTypeDefinition",DIRECTIVE_DEFINITION:"DirectiveDefinition",SCHEMA_EXTENSION:"SchemaExtension",SCALAR_TYPE_EXTENSION:"ScalarTypeExtension",OBJECT_TYPE_EXTENSION:"ObjectTypeExtension",INTERFACE_TYPE_EXTENSION:"InterfaceTypeExtension",UNION_TYPE_EXTENSION:"UnionTypeExtension",ENUM_TYPE_EXTENSION:"EnumTypeExtension",INPUT_OBJECT_TYPE_EXTENSION:"InputObjectTypeExtension"});G.Kind=F},46083:(s,G,F)=>{"use strict";Object.defineProperty(G,"__esModule",{value:!0}),G.isPunctuatorTokenKind=m,G.Lexer=void 0;var P=F(51352),L=F(76257),D=F(73038),A=F(69165),h=function(){function M(x){var y=new L.Token(D.TokenKind.SOF,0,0,0,0,null);this.source=x,this.lastToken=y,this.token=y,this.line=1,this.lineStart=0}var U=M.prototype;return U.advance=function(){this.lastToken=this.token;var y=this.token=this.lookahead();return y},U.lookahead=function(){var y=this.token;if(y.kind!==D.TokenKind.EOF)do{var W;y=(W=y.next)!==null&&W!==void 0?W:y.next=p(this,y)}while(y.kind===D.TokenKind.COMMENT);return y},M}();G.Lexer=h;function m(M){return M===D.TokenKind.BANG||M===D.TokenKind.DOLLAR||M===D.TokenKind.AMP||M===D.TokenKind.PAREN_L||M===D.TokenKind.PAREN_R||M===D.TokenKind.SPREAD||M===D.TokenKind.COLON||M===D.TokenKind.EQUALS||M===D.TokenKind.AT||M===D.TokenKind.BRACKET_L||M===D.TokenKind.BRACKET_R||M===D.TokenKind.BRACE_L||M===D.TokenKind.PIPE||M===D.TokenKind.BRACE_R}function g(M){return isNaN(M)?D.TokenKind.EOF:M<127?JSON.stringify(String.fromCharCode(M)):'"\\u'.concat(("00"+M.toString(16).toUpperCase()).slice(-4),'"')}function p(M,U){for(var x=M.source,y=x.body,W=y.length,Q=U.end;Q<W;){var Z=y.charCodeAt(Q),ee=M.line,J=1+Q-M.lineStart;switch(Z){case 65279:case 9:case 32:case 44:++Q;continue;case 10:++Q,++M.line,M.lineStart=Q;continue;case 13:y.charCodeAt(Q+1)===10?Q+=2:++Q,++M.line,M.lineStart=Q;continue;case 33:return new L.Token(D.TokenKind.BANG,Q,Q+1,ee,J,U);case 35:return b(x,Q,ee,J,U);case 36:return new L.Token(D.TokenKind.DOLLAR,Q,Q+1,ee,J,U);case 38:return new L.Token(D.TokenKind.AMP,Q,Q+1,ee,J,U);case 40:return new L.Token(D.TokenKind.PAREN_L,Q,Q+1,ee,J,U);case 41:return new L.Token(D.TokenKind.PAREN_R,Q,Q+1,ee,J,U);case 46:if(y.charCodeAt(Q+1)===46&&y.charCodeAt(Q+2)===46)return new L.Token(D.TokenKind.SPREAD,Q,Q+3,ee,J,U);break;case 58:return new L.Token(D.TokenKind.COLON,Q,Q+1,ee,J,U);case 61:return new L.Token(D.TokenKind.EQUALS,Q,Q+1,ee,J,U);case 64:return new L.Token(D.TokenKind.AT,Q,Q+1,ee,J,U);case 91:return new L.Token(D.TokenKind.BRACKET_L,Q,Q+1,ee,J,U);case 93:return new L.Token(D.TokenKind.BRACKET_R,Q,Q+1,ee,J,U);case 123:return new L.Token(D.TokenKind.BRACE_L,Q,Q+1,ee,J,U);case 124:return new L.Token(D.TokenKind.PIPE,Q,Q+1,ee,J,U);case 125:return new L.Token(D.TokenKind.BRACE_R,Q,Q+1,ee,J,U);case 34:return y.charCodeAt(Q+1)===34&&y.charCodeAt(Q+2)===34?v(x,Q,ee,J,U,M):c(x,Q,ee,J,U);case 45:case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return l(x,Q,Z,ee,J,U);case 65:case 66:case 67:case 68:case 69:case 70:case 71:case 72:case 73:case 74:case 75:case 76:case 77:case 78:case 79:case 80:case 81:case 82:case 83:case 84:case 85:case 86:case 87:case 88:case 89:case 90:case 95:case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 106:case 107:case 108:case 109:case 110:case 111:case 112:case 113:case 114:case 115:case 116:case 117:case 118:case 119:case 120:case 121:case 122:return _(x,Q,ee,J,U)}throw(0,P.syntaxError)(x,Q,k(Z))}var O=M.line,H=1+Q-M.lineStart;return new L.Token(D.TokenKind.EOF,W,W,O,H,U)}function k(M){return M<32&&M!==9&&M!==10&&M!==13?"Cannot contain the invalid character ".concat(g(M),"."):M===39?`Unexpected single quote character ('), did you mean to use a double quote (")?`:"Cannot parse the unexpected character ".concat(g(M),".")}function b(M,U,x,y,W){var Q=M.body,Z,ee=U;do Z=Q.charCodeAt(++ee);while(!isNaN(Z)&&(Z>31||Z===9));return new L.Token(D.TokenKind.COMMENT,U,ee,x,y,W,Q.slice(U+1,ee))}function l(M,U,x,y,W,Q){var Z=M.body,ee=x,J=U,O=!1;if(ee===45&&(ee=Z.charCodeAt(++J)),ee===48){if(ee=Z.charCodeAt(++J),ee>=48&&ee<=57)throw(0,P.syntaxError)(M,J,"Invalid number, unexpected digit after 0: ".concat(g(ee),"."))}else J=E(M,J,ee),ee=Z.charCodeAt(J);if(ee===46&&(O=!0,ee=Z.charCodeAt(++J),J=E(M,J,ee),ee=Z.charCodeAt(J)),(ee===69||ee===101)&&(O=!0,ee=Z.charCodeAt(++J),(ee===43||ee===45)&&(ee=Z.charCodeAt(++J)),J=E(M,J,ee),ee=Z.charCodeAt(J)),ee===46||R(ee))throw(0,P.syntaxError)(M,J,"Invalid number, expected digit but got: ".concat(g(ee),"."));return new L.Token(O?D.TokenKind.FLOAT:D.TokenKind.INT,U,J,y,W,Q,Z.slice(U,J))}function E(M,U,x){var y=M.body,W=U,Q=x;if(Q>=48&&Q<=57){do Q=y.charCodeAt(++W);while(Q>=48&&Q<=57);return W}throw(0,P.syntaxError)(M,W,"Invalid number, expected digit but got: ".concat(g(Q),"."))}function c(M,U,x,y,W){for(var Q=M.body,Z=U+1,ee=Z,J=0,O="";Z<Q.length&&!isNaN(J=Q.charCodeAt(Z))&&J!==10&&J!==13;){if(J===34)return O+=Q.slice(ee,Z),new L.Token(D.TokenKind.STRING,U,Z+1,x,y,W,O);if(J<32&&J!==9)throw(0,P.syntaxError)(M,Z,"Invalid character within String: ".concat(g(J),"."));if(++Z,J===92){switch(O+=Q.slice(ee,Z-1),J=Q.charCodeAt(Z),J){case 34:O+='"';break;case 47:O+="/";break;case 92:O+="\\";break;case 98:O+="\b";break;case 102:O+="\f";break;case 110:O+=`
`;break;case 114:O+="\r";break;case 116:O+="	";break;case 117:{var H=f(Q.charCodeAt(Z+1),Q.charCodeAt(Z+2),Q.charCodeAt(Z+3),Q.charCodeAt(Z+4));if(H<0){var I=Q.slice(Z+1,Z+5);throw(0,P.syntaxError)(M,Z,"Invalid character escape sequence: \\u".concat(I,"."))}O+=String.fromCharCode(H),Z+=4;break}default:throw(0,P.syntaxError)(M,Z,"Invalid character escape sequence: \\".concat(String.fromCharCode(J),"."))}++Z,ee=Z}}throw(0,P.syntaxError)(M,Z,"Unterminated string.")}function v(M,U,x,y,W,Q){for(var Z=M.body,ee=U+3,J=ee,O=0,H="";ee<Z.length&&!isNaN(O=Z.charCodeAt(ee));){if(O===34&&Z.charCodeAt(ee+1)===34&&Z.charCodeAt(ee+2)===34)return H+=Z.slice(J,ee),new L.Token(D.TokenKind.BLOCK_STRING,U,ee+3,x,y,W,(0,A.dedentBlockStringValue)(H));if(O<32&&O!==9&&O!==10&&O!==13)throw(0,P.syntaxError)(M,ee,"Invalid character within String: ".concat(g(O),"."));O===10?(++ee,++Q.line,Q.lineStart=ee):O===13?(Z.charCodeAt(ee+1)===10?ee+=2:++ee,++Q.line,Q.lineStart=ee):O===92&&Z.charCodeAt(ee+1)===34&&Z.charCodeAt(ee+2)===34&&Z.charCodeAt(ee+3)===34?(H+=Z.slice(J,ee)+'"""',ee+=4,J=ee):++ee}throw(0,P.syntaxError)(M,ee,"Unterminated string.")}function f(M,U,x,y){return w(M)<<12|w(U)<<8|w(x)<<4|w(y)}function w(M){return M>=48&&M<=57?M-48:M>=65&&M<=70?M-55:M>=97&&M<=102?M-87:-1}function _(M,U,x,y,W){for(var Q=M.body,Z=Q.length,ee=U+1,J=0;ee!==Z&&!isNaN(J=Q.charCodeAt(ee))&&(J===95||J>=48&&J<=57||J>=65&&J<=90||J>=97&&J<=122);)++ee;return new L.Token(D.TokenKind.NAME,U,ee,x,y,W,Q.slice(U,ee))}function R(M){return M===95||M>=65&&M<=90||M>=97&&M<=122}},99530:(s,G)=>{"use strict";Object.defineProperty(G,"__esModule",{value:!0}),G.getLocation=F;function F(P,L){for(var D=/\r\n|[\n\r]/g,A=1,h=L+1,m;(m=D.exec(P.body))&&m.index<L;)A+=1,h=L+1-(m.index+m[0].length);return{line:A,column:h}}},50246:(s,G,F)=>{"use strict";Object.defineProperty(G,"__esModule",{value:!0}),G.parse=p,G.parseValue=k,G.parseType=b,G.Parser=void 0;var P=F(51352),L=F(7030),D=F(76257),A=F(73038),h=F(46876),m=F(5919),g=F(46083);function p(v,f){var w=new l(v,f);return w.parseDocument()}function k(v,f){var w=new l(v,f);w.expectToken(A.TokenKind.SOF);var _=w.parseValueLiteral(!1);return w.expectToken(A.TokenKind.EOF),_}function b(v,f){var w=new l(v,f);w.expectToken(A.TokenKind.SOF);var _=w.parseTypeReference();return w.expectToken(A.TokenKind.EOF),_}var l=function(){function v(w,_){var R=(0,h.isSource)(w)?w:new h.Source(w);this._lexer=new g.Lexer(R),this._options=_}var f=v.prototype;return f.parseName=function(){var _=this.expectToken(A.TokenKind.NAME);return{kind:L.Kind.NAME,value:_.value,loc:this.loc(_)}},f.parseDocument=function(){var _=this._lexer.token;return{kind:L.Kind.DOCUMENT,definitions:this.many(A.TokenKind.SOF,this.parseDefinition,A.TokenKind.EOF),loc:this.loc(_)}},f.parseDefinition=function(){if(this.peek(A.TokenKind.NAME))switch(this._lexer.token.value){case"query":case"mutation":case"subscription":return this.parseOperationDefinition();case"fragment":return this.parseFragmentDefinition();case"schema":case"scalar":case"type":case"interface":case"union":case"enum":case"input":case"directive":return this.parseTypeSystemDefinition();case"extend":return this.parseTypeSystemExtension()}else{if(this.peek(A.TokenKind.BRACE_L))return this.parseOperationDefinition();if(this.peekDescription())return this.parseTypeSystemDefinition()}throw this.unexpected()},f.parseOperationDefinition=function(){var _=this._lexer.token;if(this.peek(A.TokenKind.BRACE_L))return{kind:L.Kind.OPERATION_DEFINITION,operation:"query",name:void 0,variableDefinitions:[],directives:[],selectionSet:this.parseSelectionSet(),loc:this.loc(_)};var R=this.parseOperationType(),M;return this.peek(A.TokenKind.NAME)&&(M=this.parseName()),{kind:L.Kind.OPERATION_DEFINITION,operation:R,name:M,variableDefinitions:this.parseVariableDefinitions(),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(_)}},f.parseOperationType=function(){var _=this.expectToken(A.TokenKind.NAME);switch(_.value){case"query":return"query";case"mutation":return"mutation";case"subscription":return"subscription"}throw this.unexpected(_)},f.parseVariableDefinitions=function(){return this.optionalMany(A.TokenKind.PAREN_L,this.parseVariableDefinition,A.TokenKind.PAREN_R)},f.parseVariableDefinition=function(){var _=this._lexer.token;return{kind:L.Kind.VARIABLE_DEFINITION,variable:this.parseVariable(),type:(this.expectToken(A.TokenKind.COLON),this.parseTypeReference()),defaultValue:this.expectOptionalToken(A.TokenKind.EQUALS)?this.parseValueLiteral(!0):void 0,directives:this.parseDirectives(!0),loc:this.loc(_)}},f.parseVariable=function(){var _=this._lexer.token;return this.expectToken(A.TokenKind.DOLLAR),{kind:L.Kind.VARIABLE,name:this.parseName(),loc:this.loc(_)}},f.parseSelectionSet=function(){var _=this._lexer.token;return{kind:L.Kind.SELECTION_SET,selections:this.many(A.TokenKind.BRACE_L,this.parseSelection,A.TokenKind.BRACE_R),loc:this.loc(_)}},f.parseSelection=function(){return this.peek(A.TokenKind.SPREAD)?this.parseFragment():this.parseField()},f.parseField=function(){var _=this._lexer.token,R=this.parseName(),M,U;return this.expectOptionalToken(A.TokenKind.COLON)?(M=R,U=this.parseName()):U=R,{kind:L.Kind.FIELD,alias:M,name:U,arguments:this.parseArguments(!1),directives:this.parseDirectives(!1),selectionSet:this.peek(A.TokenKind.BRACE_L)?this.parseSelectionSet():void 0,loc:this.loc(_)}},f.parseArguments=function(_){var R=_?this.parseConstArgument:this.parseArgument;return this.optionalMany(A.TokenKind.PAREN_L,R,A.TokenKind.PAREN_R)},f.parseArgument=function(){var _=this._lexer.token,R=this.parseName();return this.expectToken(A.TokenKind.COLON),{kind:L.Kind.ARGUMENT,name:R,value:this.parseValueLiteral(!1),loc:this.loc(_)}},f.parseConstArgument=function(){var _=this._lexer.token;return{kind:L.Kind.ARGUMENT,name:this.parseName(),value:(this.expectToken(A.TokenKind.COLON),this.parseValueLiteral(!0)),loc:this.loc(_)}},f.parseFragment=function(){var _=this._lexer.token;this.expectToken(A.TokenKind.SPREAD);var R=this.expectOptionalKeyword("on");return!R&&this.peek(A.TokenKind.NAME)?{kind:L.Kind.FRAGMENT_SPREAD,name:this.parseFragmentName(),directives:this.parseDirectives(!1),loc:this.loc(_)}:{kind:L.Kind.INLINE_FRAGMENT,typeCondition:R?this.parseNamedType():void 0,directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(_)}},f.parseFragmentDefinition=function(){var _,R=this._lexer.token;return this.expectKeyword("fragment"),((_=this._options)===null||_===void 0?void 0:_.experimentalFragmentVariables)===!0?{kind:L.Kind.FRAGMENT_DEFINITION,name:this.parseFragmentName(),variableDefinitions:this.parseVariableDefinitions(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(R)}:{kind:L.Kind.FRAGMENT_DEFINITION,name:this.parseFragmentName(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(R)}},f.parseFragmentName=function(){if(this._lexer.token.value==="on")throw this.unexpected();return this.parseName()},f.parseValueLiteral=function(_){var R=this._lexer.token;switch(R.kind){case A.TokenKind.BRACKET_L:return this.parseList(_);case A.TokenKind.BRACE_L:return this.parseObject(_);case A.TokenKind.INT:return this._lexer.advance(),{kind:L.Kind.INT,value:R.value,loc:this.loc(R)};case A.TokenKind.FLOAT:return this._lexer.advance(),{kind:L.Kind.FLOAT,value:R.value,loc:this.loc(R)};case A.TokenKind.STRING:case A.TokenKind.BLOCK_STRING:return this.parseStringLiteral();case A.TokenKind.NAME:switch(this._lexer.advance(),R.value){case"true":return{kind:L.Kind.BOOLEAN,value:!0,loc:this.loc(R)};case"false":return{kind:L.Kind.BOOLEAN,value:!1,loc:this.loc(R)};case"null":return{kind:L.Kind.NULL,loc:this.loc(R)};default:return{kind:L.Kind.ENUM,value:R.value,loc:this.loc(R)}}case A.TokenKind.DOLLAR:if(!_)return this.parseVariable();break}throw this.unexpected()},f.parseStringLiteral=function(){var _=this._lexer.token;return this._lexer.advance(),{kind:L.Kind.STRING,value:_.value,block:_.kind===A.TokenKind.BLOCK_STRING,loc:this.loc(_)}},f.parseList=function(_){var R=this,M=this._lexer.token,U=function(){return R.parseValueLiteral(_)};return{kind:L.Kind.LIST,values:this.any(A.TokenKind.BRACKET_L,U,A.TokenKind.BRACKET_R),loc:this.loc(M)}},f.parseObject=function(_){var R=this,M=this._lexer.token,U=function(){return R.parseObjectField(_)};return{kind:L.Kind.OBJECT,fields:this.any(A.TokenKind.BRACE_L,U,A.TokenKind.BRACE_R),loc:this.loc(M)}},f.parseObjectField=function(_){var R=this._lexer.token,M=this.parseName();return this.expectToken(A.TokenKind.COLON),{kind:L.Kind.OBJECT_FIELD,name:M,value:this.parseValueLiteral(_),loc:this.loc(R)}},f.parseDirectives=function(_){for(var R=[];this.peek(A.TokenKind.AT);)R.push(this.parseDirective(_));return R},f.parseDirective=function(_){var R=this._lexer.token;return this.expectToken(A.TokenKind.AT),{kind:L.Kind.DIRECTIVE,name:this.parseName(),arguments:this.parseArguments(_),loc:this.loc(R)}},f.parseTypeReference=function(){var _=this._lexer.token,R;return this.expectOptionalToken(A.TokenKind.BRACKET_L)?(R=this.parseTypeReference(),this.expectToken(A.TokenKind.BRACKET_R),R={kind:L.Kind.LIST_TYPE,type:R,loc:this.loc(_)}):R=this.parseNamedType(),this.expectOptionalToken(A.TokenKind.BANG)?{kind:L.Kind.NON_NULL_TYPE,type:R,loc:this.loc(_)}:R},f.parseNamedType=function(){var _=this._lexer.token;return{kind:L.Kind.NAMED_TYPE,name:this.parseName(),loc:this.loc(_)}},f.parseTypeSystemDefinition=function(){var _=this.peekDescription()?this._lexer.lookahead():this._lexer.token;if(_.kind===A.TokenKind.NAME)switch(_.value){case"schema":return this.parseSchemaDefinition();case"scalar":return this.parseScalarTypeDefinition();case"type":return this.parseObjectTypeDefinition();case"interface":return this.parseInterfaceTypeDefinition();case"union":return this.parseUnionTypeDefinition();case"enum":return this.parseEnumTypeDefinition();case"input":return this.parseInputObjectTypeDefinition();case"directive":return this.parseDirectiveDefinition()}throw this.unexpected(_)},f.peekDescription=function(){return this.peek(A.TokenKind.STRING)||this.peek(A.TokenKind.BLOCK_STRING)},f.parseDescription=function(){if(this.peekDescription())return this.parseStringLiteral()},f.parseSchemaDefinition=function(){var _=this._lexer.token,R=this.parseDescription();this.expectKeyword("schema");var M=this.parseDirectives(!0),U=this.many(A.TokenKind.BRACE_L,this.parseOperationTypeDefinition,A.TokenKind.BRACE_R);return{kind:L.Kind.SCHEMA_DEFINITION,description:R,directives:M,operationTypes:U,loc:this.loc(_)}},f.parseOperationTypeDefinition=function(){var _=this._lexer.token,R=this.parseOperationType();this.expectToken(A.TokenKind.COLON);var M=this.parseNamedType();return{kind:L.Kind.OPERATION_TYPE_DEFINITION,operation:R,type:M,loc:this.loc(_)}},f.parseScalarTypeDefinition=function(){var _=this._lexer.token,R=this.parseDescription();this.expectKeyword("scalar");var M=this.parseName(),U=this.parseDirectives(!0);return{kind:L.Kind.SCALAR_TYPE_DEFINITION,description:R,name:M,directives:U,loc:this.loc(_)}},f.parseObjectTypeDefinition=function(){var _=this._lexer.token,R=this.parseDescription();this.expectKeyword("type");var M=this.parseName(),U=this.parseImplementsInterfaces(),x=this.parseDirectives(!0),y=this.parseFieldsDefinition();return{kind:L.Kind.OBJECT_TYPE_DEFINITION,description:R,name:M,interfaces:U,directives:x,fields:y,loc:this.loc(_)}},f.parseImplementsInterfaces=function(){var _;if(!this.expectOptionalKeyword("implements"))return[];if(((_=this._options)===null||_===void 0?void 0:_.allowLegacySDLImplementsInterfaces)===!0){var R=[];this.expectOptionalToken(A.TokenKind.AMP);do R.push(this.parseNamedType());while(this.expectOptionalToken(A.TokenKind.AMP)||this.peek(A.TokenKind.NAME));return R}return this.delimitedMany(A.TokenKind.AMP,this.parseNamedType)},f.parseFieldsDefinition=function(){var _;return((_=this._options)===null||_===void 0?void 0:_.allowLegacySDLEmptyFields)===!0&&this.peek(A.TokenKind.BRACE_L)&&this._lexer.lookahead().kind===A.TokenKind.BRACE_R?(this._lexer.advance(),this._lexer.advance(),[]):this.optionalMany(A.TokenKind.BRACE_L,this.parseFieldDefinition,A.TokenKind.BRACE_R)},f.parseFieldDefinition=function(){var _=this._lexer.token,R=this.parseDescription(),M=this.parseName(),U=this.parseArgumentDefs();this.expectToken(A.TokenKind.COLON);var x=this.parseTypeReference(),y=this.parseDirectives(!0);return{kind:L.Kind.FIELD_DEFINITION,description:R,name:M,arguments:U,type:x,directives:y,loc:this.loc(_)}},f.parseArgumentDefs=function(){return this.optionalMany(A.TokenKind.PAREN_L,this.parseInputValueDef,A.TokenKind.PAREN_R)},f.parseInputValueDef=function(){var _=this._lexer.token,R=this.parseDescription(),M=this.parseName();this.expectToken(A.TokenKind.COLON);var U=this.parseTypeReference(),x;this.expectOptionalToken(A.TokenKind.EQUALS)&&(x=this.parseValueLiteral(!0));var y=this.parseDirectives(!0);return{kind:L.Kind.INPUT_VALUE_DEFINITION,description:R,name:M,type:U,defaultValue:x,directives:y,loc:this.loc(_)}},f.parseInterfaceTypeDefinition=function(){var _=this._lexer.token,R=this.parseDescription();this.expectKeyword("interface");var M=this.parseName(),U=this.parseImplementsInterfaces(),x=this.parseDirectives(!0),y=this.parseFieldsDefinition();return{kind:L.Kind.INTERFACE_TYPE_DEFINITION,description:R,name:M,interfaces:U,directives:x,fields:y,loc:this.loc(_)}},f.parseUnionTypeDefinition=function(){var _=this._lexer.token,R=this.parseDescription();this.expectKeyword("union");var M=this.parseName(),U=this.parseDirectives(!0),x=this.parseUnionMemberTypes();return{kind:L.Kind.UNION_TYPE_DEFINITION,description:R,name:M,directives:U,types:x,loc:this.loc(_)}},f.parseUnionMemberTypes=function(){return this.expectOptionalToken(A.TokenKind.EQUALS)?this.delimitedMany(A.TokenKind.PIPE,this.parseNamedType):[]},f.parseEnumTypeDefinition=function(){var _=this._lexer.token,R=this.parseDescription();this.expectKeyword("enum");var M=this.parseName(),U=this.parseDirectives(!0),x=this.parseEnumValuesDefinition();return{kind:L.Kind.ENUM_TYPE_DEFINITION,description:R,name:M,directives:U,values:x,loc:this.loc(_)}},f.parseEnumValuesDefinition=function(){return this.optionalMany(A.TokenKind.BRACE_L,this.parseEnumValueDefinition,A.TokenKind.BRACE_R)},f.parseEnumValueDefinition=function(){var _=this._lexer.token,R=this.parseDescription(),M=this.parseName(),U=this.parseDirectives(!0);return{kind:L.Kind.ENUM_VALUE_DEFINITION,description:R,name:M,directives:U,loc:this.loc(_)}},f.parseInputObjectTypeDefinition=function(){var _=this._lexer.token,R=this.parseDescription();this.expectKeyword("input");var M=this.parseName(),U=this.parseDirectives(!0),x=this.parseInputFieldsDefinition();return{kind:L.Kind.INPUT_OBJECT_TYPE_DEFINITION,description:R,name:M,directives:U,fields:x,loc:this.loc(_)}},f.parseInputFieldsDefinition=function(){return this.optionalMany(A.TokenKind.BRACE_L,this.parseInputValueDef,A.TokenKind.BRACE_R)},f.parseTypeSystemExtension=function(){var _=this._lexer.lookahead();if(_.kind===A.TokenKind.NAME)switch(_.value){case"schema":return this.parseSchemaExtension();case"scalar":return this.parseScalarTypeExtension();case"type":return this.parseObjectTypeExtension();case"interface":return this.parseInterfaceTypeExtension();case"union":return this.parseUnionTypeExtension();case"enum":return this.parseEnumTypeExtension();case"input":return this.parseInputObjectTypeExtension()}throw this.unexpected(_)},f.parseSchemaExtension=function(){var _=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("schema");var R=this.parseDirectives(!0),M=this.optionalMany(A.TokenKind.BRACE_L,this.parseOperationTypeDefinition,A.TokenKind.BRACE_R);if(R.length===0&&M.length===0)throw this.unexpected();return{kind:L.Kind.SCHEMA_EXTENSION,directives:R,operationTypes:M,loc:this.loc(_)}},f.parseScalarTypeExtension=function(){var _=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("scalar");var R=this.parseName(),M=this.parseDirectives(!0);if(M.length===0)throw this.unexpected();return{kind:L.Kind.SCALAR_TYPE_EXTENSION,name:R,directives:M,loc:this.loc(_)}},f.parseObjectTypeExtension=function(){var _=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("type");var R=this.parseName(),M=this.parseImplementsInterfaces(),U=this.parseDirectives(!0),x=this.parseFieldsDefinition();if(M.length===0&&U.length===0&&x.length===0)throw this.unexpected();return{kind:L.Kind.OBJECT_TYPE_EXTENSION,name:R,interfaces:M,directives:U,fields:x,loc:this.loc(_)}},f.parseInterfaceTypeExtension=function(){var _=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("interface");var R=this.parseName(),M=this.parseImplementsInterfaces(),U=this.parseDirectives(!0),x=this.parseFieldsDefinition();if(M.length===0&&U.length===0&&x.length===0)throw this.unexpected();return{kind:L.Kind.INTERFACE_TYPE_EXTENSION,name:R,interfaces:M,directives:U,fields:x,loc:this.loc(_)}},f.parseUnionTypeExtension=function(){var _=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("union");var R=this.parseName(),M=this.parseDirectives(!0),U=this.parseUnionMemberTypes();if(M.length===0&&U.length===0)throw this.unexpected();return{kind:L.Kind.UNION_TYPE_EXTENSION,name:R,directives:M,types:U,loc:this.loc(_)}},f.parseEnumTypeExtension=function(){var _=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("enum");var R=this.parseName(),M=this.parseDirectives(!0),U=this.parseEnumValuesDefinition();if(M.length===0&&U.length===0)throw this.unexpected();return{kind:L.Kind.ENUM_TYPE_EXTENSION,name:R,directives:M,values:U,loc:this.loc(_)}},f.parseInputObjectTypeExtension=function(){var _=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("input");var R=this.parseName(),M=this.parseDirectives(!0),U=this.parseInputFieldsDefinition();if(M.length===0&&U.length===0)throw this.unexpected();return{kind:L.Kind.INPUT_OBJECT_TYPE_EXTENSION,name:R,directives:M,fields:U,loc:this.loc(_)}},f.parseDirectiveDefinition=function(){var _=this._lexer.token,R=this.parseDescription();this.expectKeyword("directive"),this.expectToken(A.TokenKind.AT);var M=this.parseName(),U=this.parseArgumentDefs(),x=this.expectOptionalKeyword("repeatable");this.expectKeyword("on");var y=this.parseDirectiveLocations();return{kind:L.Kind.DIRECTIVE_DEFINITION,description:R,name:M,arguments:U,repeatable:x,locations:y,loc:this.loc(_)}},f.parseDirectiveLocations=function(){return this.delimitedMany(A.TokenKind.PIPE,this.parseDirectiveLocation)},f.parseDirectiveLocation=function(){var _=this._lexer.token,R=this.parseName();if(m.DirectiveLocation[R.value]!==void 0)return R;throw this.unexpected(_)},f.loc=function(_){var R;if(((R=this._options)===null||R===void 0?void 0:R.noLocation)!==!0)return new D.Location(_,this._lexer.lastToken,this._lexer.source)},f.peek=function(_){return this._lexer.token.kind===_},f.expectToken=function(_){var R=this._lexer.token;if(R.kind===_)return this._lexer.advance(),R;throw(0,P.syntaxError)(this._lexer.source,R.start,"Expected ".concat(c(_),", found ").concat(E(R),"."))},f.expectOptionalToken=function(_){var R=this._lexer.token;if(R.kind===_)return this._lexer.advance(),R},f.expectKeyword=function(_){var R=this._lexer.token;if(R.kind===A.TokenKind.NAME&&R.value===_)this._lexer.advance();else throw(0,P.syntaxError)(this._lexer.source,R.start,'Expected "'.concat(_,'", found ').concat(E(R),"."))},f.expectOptionalKeyword=function(_){var R=this._lexer.token;return R.kind===A.TokenKind.NAME&&R.value===_?(this._lexer.advance(),!0):!1},f.unexpected=function(_){var R=_!=null?_:this._lexer.token;return(0,P.syntaxError)(this._lexer.source,R.start,"Unexpected ".concat(E(R),"."))},f.any=function(_,R,M){this.expectToken(_);for(var U=[];!this.expectOptionalToken(M);)U.push(R.call(this));return U},f.optionalMany=function(_,R,M){if(this.expectOptionalToken(_)){var U=[];do U.push(R.call(this));while(!this.expectOptionalToken(M));return U}return[]},f.many=function(_,R,M){this.expectToken(_);var U=[];do U.push(R.call(this));while(!this.expectOptionalToken(M));return U},f.delimitedMany=function(_,R){this.expectOptionalToken(_);var M=[];do M.push(R.call(this));while(this.expectOptionalToken(_));return M},v}();G.Parser=l;function E(v){var f=v.value;return c(v.kind)+(f!=null?' "'.concat(f,'"'):"")}function c(v){return(0,g.isPunctuatorTokenKind)(v)?'"'.concat(v,'"'):v}},40825:(s,G,F)=>{"use strict";Object.defineProperty(G,"__esModule",{value:!0}),G.printLocation=L,G.printSourceLocation=D;var P=F(99530);function L(g){return D(g.source,(0,P.getLocation)(g.source,g.start))}function D(g,p){var k=g.locationOffset.column-1,b=h(k)+g.body,l=p.line-1,E=g.locationOffset.line-1,c=p.line+E,v=p.line===1?k:0,f=p.column+v,w="".concat(g.name,":").concat(c,":").concat(f,`
`),_=b.split(/\r\n|[\n\r]/g),R=_[l];if(R.length>120){for(var M=Math.floor(f/80),U=f%80,x=[],y=0;y<R.length;y+=80)x.push(R.slice(y,y+80));return w+A([["".concat(c),x[0]]].concat(x.slice(1,M+1).map(function(W){return["",W]}),[[" ",h(U-1)+"^"],["",x[M+1]]]))}return w+A([["".concat(c-1),_[l-1]],["".concat(c),R],["",h(f-1)+"^"],["".concat(c+1),_[l+1]]])}function A(g){var p=g.filter(function(b){var l=b[0],E=b[1];return E!==void 0}),k=Math.max.apply(Math,p.map(function(b){var l=b[0];return l.length}));return p.map(function(b){var l=b[0],E=b[1];return m(k,l)+(E?" | "+E:" |")}).join(`
`)}function h(g){return Array(g+1).join(" ")}function m(g,p){return h(g-p.length)+p}},70585:(s,G,F)=>{"use strict";var P;P={value:!0},G.y=A;var L=F(9111),D=F(69165);function A(v){return(0,L.visit)(v,{leave:m})}var h=80,m={Name:function(f){return f.value},Variable:function(f){return"$"+f.name},Document:function(f){return p(f.definitions,`

`)+`
`},OperationDefinition:function(f){var w=f.operation,_=f.name,R=b("(",p(f.variableDefinitions,", "),")"),M=p(f.directives," "),U=f.selectionSet;return!_&&!M&&!R&&w==="query"?U:p([w,p([_,R]),M,U]," ")},VariableDefinition:function(f){var w=f.variable,_=f.type,R=f.defaultValue,M=f.directives;return w+": "+_+b(" = ",R)+b(" ",p(M," "))},SelectionSet:function(f){var w=f.selections;return k(w)},Field:function(f){var w=f.alias,_=f.name,R=f.arguments,M=f.directives,U=f.selectionSet,x=b("",w,": ")+_,y=x+b("(",p(R,", "),")");return y.length>h&&(y=x+b(`(
`,l(p(R,`
`)),`
)`)),p([y,p(M," "),U]," ")},Argument:function(f){var w=f.name,_=f.value;return w+": "+_},FragmentSpread:function(f){var w=f.name,_=f.directives;return"..."+w+b(" ",p(_," "))},InlineFragment:function(f){var w=f.typeCondition,_=f.directives,R=f.selectionSet;return p(["...",b("on ",w),p(_," "),R]," ")},FragmentDefinition:function(f){var w=f.name,_=f.typeCondition,R=f.variableDefinitions,M=f.directives,U=f.selectionSet;return"fragment ".concat(w).concat(b("(",p(R,", "),")")," ")+"on ".concat(_," ").concat(b("",p(M," ")," "))+U},IntValue:function(f){var w=f.value;return w},FloatValue:function(f){var w=f.value;return w},StringValue:function(f,w){var _=f.value,R=f.block;return R?(0,D.printBlockString)(_,w==="description"?"":"  "):JSON.stringify(_)},BooleanValue:function(f){var w=f.value;return w?"true":"false"},NullValue:function(){return"null"},EnumValue:function(f){var w=f.value;return w},ListValue:function(f){var w=f.values;return"["+p(w,", ")+"]"},ObjectValue:function(f){var w=f.fields;return"{"+p(w,", ")+"}"},ObjectField:function(f){var w=f.name,_=f.value;return w+": "+_},Directive:function(f){var w=f.name,_=f.arguments;return"@"+w+b("(",p(_,", "),")")},NamedType:function(f){var w=f.name;return w},ListType:function(f){var w=f.type;return"["+w+"]"},NonNullType:function(f){var w=f.type;return w+"!"},SchemaDefinition:g(function(v){var f=v.directives,w=v.operationTypes;return p(["schema",p(f," "),k(w)]," ")}),OperationTypeDefinition:function(f){var w=f.operation,_=f.type;return w+": "+_},ScalarTypeDefinition:g(function(v){var f=v.name,w=v.directives;return p(["scalar",f,p(w," ")]," ")}),ObjectTypeDefinition:g(function(v){var f=v.name,w=v.interfaces,_=v.directives,R=v.fields;return p(["type",f,b("implements ",p(w," & ")),p(_," "),k(R)]," ")}),FieldDefinition:g(function(v){var f=v.name,w=v.arguments,_=v.type,R=v.directives;return f+(c(w)?b(`(
`,l(p(w,`
`)),`
)`):b("(",p(w,", "),")"))+": "+_+b(" ",p(R," "))}),InputValueDefinition:g(function(v){var f=v.name,w=v.type,_=v.defaultValue,R=v.directives;return p([f+": "+w,b("= ",_),p(R," ")]," ")}),InterfaceTypeDefinition:g(function(v){var f=v.name,w=v.interfaces,_=v.directives,R=v.fields;return p(["interface",f,b("implements ",p(w," & ")),p(_," "),k(R)]," ")}),UnionTypeDefinition:g(function(v){var f=v.name,w=v.directives,_=v.types;return p(["union",f,p(w," "),_&&_.length!==0?"= "+p(_," | "):""]," ")}),EnumTypeDefinition:g(function(v){var f=v.name,w=v.directives,_=v.values;return p(["enum",f,p(w," "),k(_)]," ")}),EnumValueDefinition:g(function(v){var f=v.name,w=v.directives;return p([f,p(w," ")]," ")}),InputObjectTypeDefinition:g(function(v){var f=v.name,w=v.directives,_=v.fields;return p(["input",f,p(w," "),k(_)]," ")}),DirectiveDefinition:g(function(v){var f=v.name,w=v.arguments,_=v.repeatable,R=v.locations;return"directive @"+f+(c(w)?b(`(
`,l(p(w,`
`)),`
)`):b("(",p(w,", "),")"))+(_?" repeatable":"")+" on "+p(R," | ")}),SchemaExtension:function(f){var w=f.directives,_=f.operationTypes;return p(["extend schema",p(w," "),k(_)]," ")},ScalarTypeExtension:function(f){var w=f.name,_=f.directives;return p(["extend scalar",w,p(_," ")]," ")},ObjectTypeExtension:function(f){var w=f.name,_=f.interfaces,R=f.directives,M=f.fields;return p(["extend type",w,b("implements ",p(_," & ")),p(R," "),k(M)]," ")},InterfaceTypeExtension:function(f){var w=f.name,_=f.interfaces,R=f.directives,M=f.fields;return p(["extend interface",w,b("implements ",p(_," & ")),p(R," "),k(M)]," ")},UnionTypeExtension:function(f){var w=f.name,_=f.directives,R=f.types;return p(["extend union",w,p(_," "),R&&R.length!==0?"= "+p(R," | "):""]," ")},EnumTypeExtension:function(f){var w=f.name,_=f.directives,R=f.values;return p(["extend enum",w,p(_," "),k(R)]," ")},InputObjectTypeExtension:function(f){var w=f.name,_=f.directives,R=f.fields;return p(["extend input",w,p(_," "),k(R)]," ")}};function g(v){return function(f){return p([f.description,v(f)],`
`)}}function p(v){var f,w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return(f=v==null?void 0:v.filter(function(_){return _}).join(w))!==null&&f!==void 0?f:""}function k(v){return b(`{
`,l(p(v,`
`)),`
}`)}function b(v,f){var w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"";return f!=null&&f!==""?v+f+w:""}function l(v){return b("  ",v.replace(/\n/g,`
  `))}function E(v){return v.indexOf(`
`)!==-1}function c(v){return v!=null&&v.some(E)}},46876:(s,G,F)=>{"use strict";Object.defineProperty(G,"__esModule",{value:!0}),G.isSource=k,G.Source=void 0;var P=F(25888),L=h(F(29657)),D=h(F(93028)),A=h(F(79527));function h(b){return b&&b.__esModule?b:{default:b}}function m(b,l){for(var E=0;E<l.length;E++){var c=l[E];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(b,c.key,c)}}function g(b,l,E){return l&&m(b.prototype,l),E&&m(b,E),b}var p=function(){function b(l){var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"GraphQL request",c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{line:1,column:1};typeof l=="string"||(0,D.default)(0,"Body must be a string. Received: ".concat((0,L.default)(l),".")),this.body=l,this.name=E,this.locationOffset=c,this.locationOffset.line>0||(0,D.default)(0,"line in locationOffset is 1-indexed and must be positive."),this.locationOffset.column>0||(0,D.default)(0,"column in locationOffset is 1-indexed and must be positive.")}return g(b,[{key:P.SYMBOL_TO_STRING_TAG,get:function(){return"Source"}}]),b}();G.Source=p;function k(b){return(0,A.default)(b,p)}},73038:(s,G)=>{"use strict";Object.defineProperty(G,"__esModule",{value:!0}),G.TokenKind=void 0;var F=Object.freeze({SOF:"<SOF>",EOF:"<EOF>",BANG:"!",DOLLAR:"$",AMP:"&",PAREN_L:"(",PAREN_R:")",SPREAD:"...",COLON:":",EQUALS:"=",AT:"@",BRACKET_L:"[",BRACKET_R:"]",BRACE_L:"{",PIPE:"|",BRACE_R:"}",NAME:"Name",INT:"Int",FLOAT:"Float",STRING:"String",BLOCK_STRING:"BlockString",COMMENT:"Comment"});G.TokenKind=F},9111:(s,G,F)=>{"use strict";Object.defineProperty(G,"__esModule",{value:!0}),G.visit=m,G.visitInParallel=g,G.getVisitFn=p,G.BREAK=G.QueryDocumentKeys=void 0;var P=D(F(29657)),L=F(76257);function D(k){return k&&k.__esModule?k:{default:k}}var A={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]};G.QueryDocumentKeys=A;var h=Object.freeze({});G.BREAK=h;function m(k,b){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:A,E=void 0,c=Array.isArray(k),v=[k],f=-1,w=[],_=void 0,R=void 0,M=void 0,U=[],x=[],y=k;do{f++;var W=f===v.length,Q=W&&w.length!==0;if(W){if(R=x.length===0?void 0:U[U.length-1],_=M,M=x.pop(),Q){if(c)_=_.slice();else{for(var Z={},ee=0,J=Object.keys(_);ee<J.length;ee++){var O=J[ee];Z[O]=_[O]}_=Z}for(var H=0,I=0;I<w.length;I++){var u=w[I][0],N=w[I][1];c&&(u-=H),c&&N===null?(_.splice(u,1),H++):_[u]=N}}f=E.index,v=E.keys,w=E.edits,c=E.inArray,E=E.prev}else{if(R=M?c?f:v[f]:void 0,_=M?M[R]:y,_==null)continue;M&&U.push(R)}var q=void 0;if(!Array.isArray(_)){if(!(0,L.isNode)(_))throw new Error("Invalid AST Node: ".concat((0,P.default)(_),"."));var V=p(b,_.kind,W);if(V){if(q=V.call(b,_,R,M,U,x),q===h)break;if(q===!1){if(!W){U.pop();continue}}else if(q!==void 0&&(w.push([R,q]),!W))if((0,L.isNode)(q))_=q;else{U.pop();continue}}}if(q===void 0&&Q&&w.push([R,_]),W)U.pop();else{var K;E={inArray:c,index:f,keys:v,edits:w,prev:E},c=Array.isArray(_),v=c?_:(K=l[_.kind])!==null&&K!==void 0?K:[],f=-1,w=[],M&&x.push(M),M=_}}while(E!==void 0);return w.length!==0&&(y=w[w.length-1][1]),y}function g(k){var b=new Array(k.length);return{enter:function(E){for(var c=0;c<k.length;c++)if(b[c]==null){var v=p(k[c],E.kind,!1);if(v){var f=v.apply(k[c],arguments);if(f===!1)b[c]=E;else if(f===h)b[c]=h;else if(f!==void 0)return f}}},leave:function(E){for(var c=0;c<k.length;c++)if(b[c]==null){var v=p(k[c],E.kind,!0);if(v){var f=v.apply(k[c],arguments);if(f===h)b[c]=h;else if(f!==void 0&&f!==!1)return f}}else b[c]===E&&(b[c]=null)}}}function p(k,b,l){var E=k[b];if(E){if(!l&&typeof E=="function")return E;var c=l?E.leave:E.enter;if(typeof c=="function")return c}else{var v=l?k.leave:k.enter;if(v){if(typeof v=="function")return v;var f=v[b];if(typeof f=="function")return f}}}},25888:(s,G)=>{"use strict";Object.defineProperty(G,"__esModule",{value:!0}),G.SYMBOL_TO_STRING_TAG=G.SYMBOL_ASYNC_ITERATOR=G.SYMBOL_ITERATOR=void 0;var F=typeof Symbol=="function"&&Symbol.iterator!=null?Symbol.iterator:"@@iterator";G.SYMBOL_ITERATOR=F;var P=typeof Symbol=="function"&&Symbol.asyncIterator!=null?Symbol.asyncIterator:"@@asyncIterator";G.SYMBOL_ASYNC_ITERATOR=P;var L=typeof Symbol=="function"&&Symbol.toStringTag!=null?Symbol.toStringTag:"@@toStringTag";G.SYMBOL_TO_STRING_TAG=L},30592:(s,G,F)=>{"use strict";var P=F(30655),L=function(){return!!P};L.hasArrayLengthDefineBug=function(){if(!P)return null;try{return P([],"length",{value:1}).length!==1}catch{return!0}},s.exports=L},48896:s=>{"use strict";s.exports=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var F={},P=Symbol("test"),L=Object(P);if(typeof P=="string"||Object.prototype.toString.call(P)!=="[object Symbol]"||Object.prototype.toString.call(L)!=="[object Symbol]")return!1;var D=42;F[P]=D;for(var A in F)return!1;if(typeof Object.keys=="function"&&Object.keys(F).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(F).length!==0)return!1;var h=Object.getOwnPropertySymbols(F);if(h.length!==1||h[0]!==P||!Object.prototype.propertyIsEnumerable.call(F,P))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var m=Object.getOwnPropertyDescriptor(F,P);if(m.value!==D||m.enumerable!==!0)return!1}return!0}},49092:(s,G,F)=>{"use strict";var P=F(48896);s.exports=function(){return P()&&!!Symbol.toStringTag}},4729:(s,G,F)=>{"use strict";var P=F(92861).Buffer,L=F(61603).Transform,D=F(56698);function A(m,g){if(!P.isBuffer(m)&&typeof m!="string")throw new TypeError(g+" must be a string or a buffer")}function h(m){L.call(this),this._block=P.allocUnsafe(m),this._blockSize=m,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}D(h,L),h.prototype._transform=function(m,g,p){var k=null;try{this.update(m,g)}catch(b){k=b}p(k)},h.prototype._flush=function(m){var g=null;try{this.push(this.digest())}catch(p){g=p}m(g)},h.prototype.update=function(m,g){if(A(m,"Data"),this._finalized)throw new Error("Digest already called");P.isBuffer(m)||(m=P.from(m,g));for(var p=this._block,k=0;this._blockOffset+m.length-k>=this._blockSize;){for(var b=this._blockOffset;b<this._blockSize;)p[b++]=m[k++];this._update(),this._blockOffset=0}for(;k<m.length;)p[this._blockOffset++]=m[k++];for(var l=0,E=m.length*8;E>0;++l)this._length[l]+=E,E=this._length[l]/4294967296|0,E>0&&(this._length[l]-=4294967296*E);return this},h.prototype._update=function(){throw new Error("_update is not implemented")},h.prototype.digest=function(m){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var g=this._digest();m!==void 0&&(g=g.toString(m)),this._block.fill(0),this._blockOffset=0;for(var p=0;p<4;++p)this._length[p]=0;return g},h.prototype._digest=function(){throw new Error("_digest is not implemented")},s.exports=h},92260:s=>{"use strict";function G(m,g){m.prototype=Object.create(g.prototype),m.prototype.constructor=m,m.__proto__=g}var F={};function P(m,g,p){p||(p=Error);function k(l,E,c){return typeof g=="string"?g:g(l,E,c)}var b=function(l){G(E,l);function E(c,v,f){return l.call(this,k(c,v,f))||this}return E}(p);b.prototype.name=p.name,b.prototype.code=m,F[m]=b}function L(m,g){if(Array.isArray(m)){var p=m.length;return m=m.map(function(k){return String(k)}),p>2?"one of ".concat(g," ").concat(m.slice(0,p-1).join(", "),", or ")+m[p-1]:p===2?"one of ".concat(g," ").concat(m[0]," or ").concat(m[1]):"of ".concat(g," ").concat(m[0])}else return"of ".concat(g," ").concat(String(m))}function D(m,g,p){return m.substr(!p||p<0?0:+p,g.length)===g}function A(m,g,p){return(p===void 0||p>m.length)&&(p=m.length),m.substring(p-g.length,p)===g}function h(m,g,p){return typeof p!="number"&&(p=0),p+g.length>m.length?!1:m.indexOf(g,p)!==-1}P("ERR_INVALID_OPT_VALUE",function(m,g){return'The value "'+g+'" is invalid for option "'+m+'"'},TypeError),P("ERR_INVALID_ARG_TYPE",function(m,g,p){var k;typeof g=="string"&&D(g,"not ")?(k="must not be",g=g.replace(/^not /,"")):k="must be";var b;if(A(m," argument"))b="The ".concat(m," ").concat(k," ").concat(L(g,"type"));else{var l=h(m,".")?"property":"argument";b='The "'.concat(m,'" ').concat(l," ").concat(k," ").concat(L(g,"type"))}return b+=". Received type ".concat(typeof p),b},TypeError),P("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),P("ERR_METHOD_NOT_IMPLEMENTED",function(m){return"The "+m+" method is not implemented"}),P("ERR_STREAM_PREMATURE_CLOSE","Premature close"),P("ERR_STREAM_DESTROYED",function(m){return"Cannot call "+m+" after a stream was destroyed"}),P("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),P("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),P("ERR_STREAM_WRITE_AFTER_END","write after end"),P("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),P("ERR_UNKNOWN_ENCODING",function(m){return"Unknown encoding: "+m},TypeError),P("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),s.exports.F=F},92818:(s,G,F)=>{"use strict";var P=F(65606),L=Object.keys||function(l){var E=[];for(var c in l)E.push(c);return E};s.exports=p;var D=F(6736),A=F(62192);F(56698)(p,D);for(var h=L(A.prototype),m=0;m<h.length;m++){var g=h[m];p.prototype[g]||(p.prototype[g]=A.prototype[g])}function p(l){if(!(this instanceof p))return new p(l);D.call(this,l),A.call(this,l),this.allowHalfOpen=!0,l&&(l.readable===!1&&(this.readable=!1),l.writable===!1&&(this.writable=!1),l.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",k)))}Object.defineProperty(p.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(p.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(p.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function k(){this._writableState.ended||P.nextTick(b,this)}function b(l){l.end()}Object.defineProperty(p.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(E){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=E,this._writableState.destroyed=E)}})},35860:(s,G,F)=>{"use strict";s.exports=L;var P=F(13054);F(56698)(L,P);function L(D){if(!(this instanceof L))return new L(D);P.call(this,D)}L.prototype._transform=function(D,A,h){h(null,D)}},6736:(s,G,F)=>{"use strict";var P=F(65606);s.exports=O;var L;O.ReadableState=J;var D=F(37007).EventEmitter,A=function(T,oe){return T.listeners(oe).length},h=F(71181),m=F(48287).Buffer,g=F.g.Uint8Array||function(){};function p(z){return m.from(z)}function k(z){return m.isBuffer(z)||z instanceof g}var b=F(92382),l;b&&b.debuglog?l=b.debuglog("stream"):l=function(){};var E=F(12389),c=F(41468),v=F(8775),f=v.getHighWaterMark,w=F(92260).F,_=w.ERR_INVALID_ARG_TYPE,R=w.ERR_STREAM_PUSH_AFTER_EOF,M=w.ERR_METHOD_NOT_IMPLEMENTED,U=w.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,x,y,W;F(56698)(O,h);var Q=c.errorOrDestroy,Z=["error","close","destroy","pause","resume"];function ee(z,T,oe){if(typeof z.prependListener=="function")return z.prependListener(T,oe);!z._events||!z._events[T]?z.on(T,oe):Array.isArray(z._events[T])?z._events[T].unshift(oe):z._events[T]=[oe,z._events[T]]}function J(z,T,oe){L=L||F(92818),z=z||{},typeof oe!="boolean"&&(oe=T instanceof L),this.objectMode=!!z.objectMode,oe&&(this.objectMode=this.objectMode||!!z.readableObjectMode),this.highWaterMark=f(this,z,"readableHighWaterMark",oe),this.buffer=new E,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=z.emitClose!==!1,this.autoDestroy=!!z.autoDestroy,this.destroyed=!1,this.defaultEncoding=z.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,z.encoding&&(x||(x=F(83141).I),this.decoder=new x(z.encoding),this.encoding=z.encoding)}function O(z){if(L=L||F(92818),!(this instanceof O))return new O(z);var T=this instanceof L;this._readableState=new J(z,this,T),this.readable=!0,z&&(typeof z.read=="function"&&(this._read=z.read),typeof z.destroy=="function"&&(this._destroy=z.destroy)),h.call(this)}Object.defineProperty(O.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(T){this._readableState&&(this._readableState.destroyed=T)}}),O.prototype.destroy=c.destroy,O.prototype._undestroy=c.undestroy,O.prototype._destroy=function(z,T){T(z)},O.prototype.push=function(z,T){var oe=this._readableState,fe;return oe.objectMode?fe=!0:typeof z=="string"&&(T=T||oe.defaultEncoding,T!==oe.encoding&&(z=m.from(z,T),T=""),fe=!0),H(this,z,T,!1,fe)},O.prototype.unshift=function(z){return H(this,z,null,!0,!1)};function H(z,T,oe,fe,de){l("readableAddChunk",T);var ue=z._readableState;if(T===null)ue.reading=!1,K(z,ue);else{var ve;if(de||(ve=u(ue,T)),ve)Q(z,ve);else if(ue.objectMode||T&&T.length>0)if(typeof T!="string"&&!ue.objectMode&&Object.getPrototypeOf(T)!==m.prototype&&(T=p(T)),fe)ue.endEmitted?Q(z,new U):I(z,ue,T,!0);else if(ue.ended)Q(z,new R);else{if(ue.destroyed)return!1;ue.reading=!1,ue.decoder&&!oe?(T=ue.decoder.write(T),ue.objectMode||T.length!==0?I(z,ue,T,!1):X(z,ue)):I(z,ue,T,!1)}else fe||(ue.reading=!1,X(z,ue))}return!ue.ended&&(ue.length<ue.highWaterMark||ue.length===0)}function I(z,T,oe,fe){T.flowing&&T.length===0&&!T.sync?(T.awaitDrain=0,z.emit("data",oe)):(T.length+=T.objectMode?1:oe.length,fe?T.buffer.unshift(oe):T.buffer.push(oe),T.needReadable&&j(z)),X(z,T)}function u(z,T){var oe;return!k(T)&&typeof T!="string"&&T!==void 0&&!z.objectMode&&(oe=new _("chunk",["string","Buffer","Uint8Array"],T)),oe}O.prototype.isPaused=function(){return this._readableState.flowing===!1},O.prototype.setEncoding=function(z){x||(x=F(83141).I);var T=new x(z);this._readableState.decoder=T,this._readableState.encoding=this._readableState.decoder.encoding;for(var oe=this._readableState.buffer.head,fe="";oe!==null;)fe+=T.write(oe.data),oe=oe.next;return this._readableState.buffer.clear(),fe!==""&&this._readableState.buffer.push(fe),this._readableState.length=fe.length,this};var N=1073741824;function q(z){return z>=N?z=N:(z--,z|=z>>>1,z|=z>>>2,z|=z>>>4,z|=z>>>8,z|=z>>>16,z++),z}function V(z,T){return z<=0||T.length===0&&T.ended?0:T.objectMode?1:z!==z?T.flowing&&T.length?T.buffer.head.data.length:T.length:(z>T.highWaterMark&&(T.highWaterMark=q(z)),z<=T.length?z:T.ended?T.length:(T.needReadable=!0,0))}O.prototype.read=function(z){l("read",z),z=parseInt(z,10);var T=this._readableState,oe=z;if(z!==0&&(T.emittedReadable=!1),z===0&&T.needReadable&&((T.highWaterMark!==0?T.length>=T.highWaterMark:T.length>0)||T.ended))return l("read: emitReadable",T.length,T.ended),T.length===0&&T.ended?ge(this):j(this),null;if(z=V(z,T),z===0&&T.ended)return T.length===0&&ge(this),null;var fe=T.needReadable;l("need readable",fe),(T.length===0||T.length-z<T.highWaterMark)&&(fe=!0,l("length less than watermark",fe)),T.ended||T.reading?(fe=!1,l("reading or ended",fe)):fe&&(l("do read"),T.reading=!0,T.sync=!0,T.length===0&&(T.needReadable=!0),this._read(T.highWaterMark),T.sync=!1,T.reading||(z=V(oe,T)));var de;return z>0?de=re(z,T):de=null,de===null?(T.needReadable=T.length<=T.highWaterMark,z=0):(T.length-=z,T.awaitDrain=0),T.length===0&&(T.ended||(T.needReadable=!0),oe!==z&&T.ended&&ge(this)),de!==null&&this.emit("data",de),de};function K(z,T){if(l("onEofChunk"),!T.ended){if(T.decoder){var oe=T.decoder.end();oe&&oe.length&&(T.buffer.push(oe),T.length+=T.objectMode?1:oe.length)}T.ended=!0,T.sync?j(z):(T.needReadable=!1,T.emittedReadable||(T.emittedReadable=!0,ie(z)))}}function j(z){var T=z._readableState;l("emitReadable",T.needReadable,T.emittedReadable),T.needReadable=!1,T.emittedReadable||(l("emitReadable",T.flowing),T.emittedReadable=!0,P.nextTick(ie,z))}function ie(z){var T=z._readableState;l("emitReadable_",T.destroyed,T.length,T.ended),!T.destroyed&&(T.length||T.ended)&&(z.emit("readable"),T.emittedReadable=!1),T.needReadable=!T.flowing&&!T.ended&&T.length<=T.highWaterMark,te(z)}function X(z,T){T.readingMore||(T.readingMore=!0,P.nextTick(B,z,T))}function B(z,T){for(;!T.reading&&!T.ended&&(T.length<T.highWaterMark||T.flowing&&T.length===0);){var oe=T.length;if(l("maybeReadMore read 0"),z.read(0),oe===T.length)break}T.readingMore=!1}O.prototype._read=function(z){Q(this,new M("_read()"))},O.prototype.pipe=function(z,T){var oe=this,fe=this._readableState;switch(fe.pipesCount){case 0:fe.pipes=z;break;case 1:fe.pipes=[fe.pipes,z];break;default:fe.pipes.push(z);break}fe.pipesCount+=1,l("pipe count=%d opts=%j",fe.pipesCount,T);var de=(!T||T.end!==!1)&&z!==P.stdout&&z!==P.stderr,ue=de?Fe:ce;fe.endEmitted?P.nextTick(ue):oe.once("end",ue),z.on("unpipe",ve);function ve(Re,xe){l("onunpipe"),Re===oe&&xe&&xe.hasUnpiped===!1&&(xe.hasUnpiped=!0,qe())}function Fe(){l("onend"),z.end()}var Oe=se(oe);z.on("drain",Oe);var $e=!1;function qe(){l("cleanup"),z.removeListener("close",me),z.removeListener("finish",ae),z.removeListener("drain",Oe),z.removeListener("error",Je),z.removeListener("unpipe",ve),oe.removeListener("end",Fe),oe.removeListener("end",ce),oe.removeListener("data",Ve),$e=!0,fe.awaitDrain&&(!z._writableState||z._writableState.needDrain)&&Oe()}oe.on("data",Ve);function Ve(Re){l("ondata");var xe=z.write(Re);l("dest.write",xe),xe===!1&&((fe.pipesCount===1&&fe.pipes===z||fe.pipesCount>1&&Ee(fe.pipes,z)!==-1)&&!$e&&(l("false write response, pause",fe.awaitDrain),fe.awaitDrain++),oe.pause())}function Je(Re){l("onerror",Re),ce(),z.removeListener("error",Je),A(z,"error")===0&&Q(z,Re)}ee(z,"error",Je);function me(){z.removeListener("finish",ae),ce()}z.once("close",me);function ae(){l("onfinish"),z.removeListener("close",me),ce()}z.once("finish",ae);function ce(){l("unpipe"),oe.unpipe(z)}return z.emit("pipe",oe),fe.flowing||(l("pipe resume"),oe.resume()),z};function se(z){return function(){var oe=z._readableState;l("pipeOnDrain",oe.awaitDrain),oe.awaitDrain&&oe.awaitDrain--,oe.awaitDrain===0&&A(z,"data")&&(oe.flowing=!0,te(z))}}O.prototype.unpipe=function(z){var T=this._readableState,oe={hasUnpiped:!1};if(T.pipesCount===0)return this;if(T.pipesCount===1)return z&&z!==T.pipes?this:(z||(z=T.pipes),T.pipes=null,T.pipesCount=0,T.flowing=!1,z&&z.emit("unpipe",this,oe),this);if(!z){var fe=T.pipes,de=T.pipesCount;T.pipes=null,T.pipesCount=0,T.flowing=!1;for(var ue=0;ue<de;ue++)fe[ue].emit("unpipe",this,{hasUnpiped:!1});return this}var ve=Ee(T.pipes,z);return ve===-1?this:(T.pipes.splice(ve,1),T.pipesCount-=1,T.pipesCount===1&&(T.pipes=T.pipes[0]),z.emit("unpipe",this,oe),this)},O.prototype.on=function(z,T){var oe=h.prototype.on.call(this,z,T),fe=this._readableState;return z==="data"?(fe.readableListening=this.listenerCount("readable")>0,fe.flowing!==!1&&this.resume()):z==="readable"&&!fe.endEmitted&&!fe.readableListening&&(fe.readableListening=fe.needReadable=!0,fe.flowing=!1,fe.emittedReadable=!1,l("on readable",fe.length,fe.reading),fe.length?j(this):fe.reading||P.nextTick(we,this)),oe},O.prototype.addListener=O.prototype.on,O.prototype.removeListener=function(z,T){var oe=h.prototype.removeListener.call(this,z,T);return z==="readable"&&P.nextTick(Pe,this),oe},O.prototype.removeAllListeners=function(z){var T=h.prototype.removeAllListeners.apply(this,arguments);return(z==="readable"||z===void 0)&&P.nextTick(Pe,this),T};function Pe(z){var T=z._readableState;T.readableListening=z.listenerCount("readable")>0,T.resumeScheduled&&!T.paused?T.flowing=!0:z.listenerCount("data")>0&&z.resume()}function we(z){l("readable nexttick read 0"),z.read(0)}O.prototype.resume=function(){var z=this._readableState;return z.flowing||(l("resume"),z.flowing=!z.readableListening,_e(this,z)),z.paused=!1,this};function _e(z,T){T.resumeScheduled||(T.resumeScheduled=!0,P.nextTick(Me,z,T))}function Me(z,T){l("resume",T.reading),T.reading||z.read(0),T.resumeScheduled=!1,z.emit("resume"),te(z),T.flowing&&!T.reading&&z.read(0)}O.prototype.pause=function(){return l("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(l("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function te(z){var T=z._readableState;for(l("flow",T.flowing);T.flowing&&z.read()!==null;);}O.prototype.wrap=function(z){var T=this,oe=this._readableState,fe=!1;z.on("end",function(){if(l("wrapped end"),oe.decoder&&!oe.ended){var ve=oe.decoder.end();ve&&ve.length&&T.push(ve)}T.push(null)}),z.on("data",function(ve){if(l("wrapped data"),oe.decoder&&(ve=oe.decoder.write(ve)),!(oe.objectMode&&ve==null)&&!(!oe.objectMode&&(!ve||!ve.length))){var Fe=T.push(ve);Fe||(fe=!0,z.pause())}});for(var de in z)this[de]===void 0&&typeof z[de]=="function"&&(this[de]=function(Fe){return function(){return z[Fe].apply(z,arguments)}}(de));for(var ue=0;ue<Z.length;ue++)z.on(Z[ue],this.emit.bind(this,Z[ue]));return this._read=function(ve){l("wrapped _read",ve),fe&&(fe=!1,z.resume())},this},typeof Symbol=="function"&&(O.prototype[Symbol.asyncIterator]=function(){return y===void 0&&(y=F(74743)),y(this)}),Object.defineProperty(O.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(O.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(O.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(T){this._readableState&&(this._readableState.flowing=T)}}),O._fromList=re,Object.defineProperty(O.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function re(z,T){if(T.length===0)return null;var oe;return T.objectMode?oe=T.buffer.shift():!z||z>=T.length?(T.decoder?oe=T.buffer.join(""):T.buffer.length===1?oe=T.buffer.first():oe=T.buffer.concat(T.length),T.buffer.clear()):oe=T.buffer.consume(z,T.decoder),oe}function ge(z){var T=z._readableState;l("endReadable",T.endEmitted),T.endEmitted||(T.ended=!0,P.nextTick(ye,T,z))}function ye(z,T){if(l("endReadableNT",z.endEmitted,z.length),!z.endEmitted&&z.length===0&&(z.endEmitted=!0,T.readable=!1,T.emit("end"),z.autoDestroy)){var oe=T._writableState;(!oe||oe.autoDestroy&&oe.finished)&&T.destroy()}}typeof Symbol=="function"&&(O.from=function(z,T){return W===void 0&&(W=F(45049)),W(O,z,T)});function Ee(z,T){for(var oe=0,fe=z.length;oe<fe;oe++)if(z[oe]===T)return oe;return-1}},13054:(s,G,F)=>{"use strict";s.exports=p;var P=F(92260).F,L=P.ERR_METHOD_NOT_IMPLEMENTED,D=P.ERR_MULTIPLE_CALLBACK,A=P.ERR_TRANSFORM_ALREADY_TRANSFORMING,h=P.ERR_TRANSFORM_WITH_LENGTH_0,m=F(92818);F(56698)(p,m);function g(l,E){var c=this._transformState;c.transforming=!1;var v=c.writecb;if(v===null)return this.emit("error",new D);c.writechunk=null,c.writecb=null,E!=null&&this.push(E),v(l);var f=this._readableState;f.reading=!1,(f.needReadable||f.length<f.highWaterMark)&&this._read(f.highWaterMark)}function p(l){if(!(this instanceof p))return new p(l);m.call(this,l),this._transformState={afterTransform:g.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,l&&(typeof l.transform=="function"&&(this._transform=l.transform),typeof l.flush=="function"&&(this._flush=l.flush)),this.on("prefinish",k)}function k(){var l=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(E,c){b(l,E,c)}):b(this,null,null)}p.prototype.push=function(l,E){return this._transformState.needTransform=!1,m.prototype.push.call(this,l,E)},p.prototype._transform=function(l,E,c){c(new L("_transform()"))},p.prototype._write=function(l,E,c){var v=this._transformState;if(v.writecb=c,v.writechunk=l,v.writeencoding=E,!v.transforming){var f=this._readableState;(v.needTransform||f.needReadable||f.length<f.highWaterMark)&&this._read(f.highWaterMark)}},p.prototype._read=function(l){var E=this._transformState;E.writechunk!==null&&!E.transforming?(E.transforming=!0,this._transform(E.writechunk,E.writeencoding,E.afterTransform)):E.needTransform=!0},p.prototype._destroy=function(l,E){m.prototype._destroy.call(this,l,function(c){E(c)})};function b(l,E,c){if(E)return l.emit("error",E);if(c!=null&&l.push(c),l._writableState.length)throw new h;if(l._transformState.transforming)throw new A;return l.push(null)}},62192:(s,G,F)=>{"use strict";var P=F(65606);s.exports=J;function L(te,re,ge){this.chunk=te,this.encoding=re,this.callback=ge,this.next=null}function D(te){var re=this;this.next=null,this.entry=null,this.finish=function(){Me(re,te)}}var A;J.WritableState=Z;var h={deprecate:F(94643)},m=F(71181),g=F(48287).Buffer,p=F.g.Uint8Array||function(){};function k(te){return g.from(te)}function b(te){return g.isBuffer(te)||te instanceof p}var l=F(41468),E=F(8775),c=E.getHighWaterMark,v=F(92260).F,f=v.ERR_INVALID_ARG_TYPE,w=v.ERR_METHOD_NOT_IMPLEMENTED,_=v.ERR_MULTIPLE_CALLBACK,R=v.ERR_STREAM_CANNOT_PIPE,M=v.ERR_STREAM_DESTROYED,U=v.ERR_STREAM_NULL_VALUES,x=v.ERR_STREAM_WRITE_AFTER_END,y=v.ERR_UNKNOWN_ENCODING,W=l.errorOrDestroy;F(56698)(J,m);function Q(){}function Z(te,re,ge){A=A||F(92818),te=te||{},typeof ge!="boolean"&&(ge=re instanceof A),this.objectMode=!!te.objectMode,ge&&(this.objectMode=this.objectMode||!!te.writableObjectMode),this.highWaterMark=c(this,te,"writableHighWaterMark",ge),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var ye=te.decodeStrings===!1;this.decodeStrings=!ye,this.defaultEncoding=te.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(Ee){K(re,Ee)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=te.emitClose!==!1,this.autoDestroy=!!te.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new D(this)}Z.prototype.getBuffer=function(){for(var re=this.bufferedRequest,ge=[];re;)ge.push(re),re=re.next;return ge},function(){try{Object.defineProperty(Z.prototype,"buffer",{get:h.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var ee;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(ee=Function.prototype[Symbol.hasInstance],Object.defineProperty(J,Symbol.hasInstance,{value:function(re){return ee.call(this,re)?!0:this!==J?!1:re&&re._writableState instanceof Z}})):ee=function(re){return re instanceof this};function J(te){A=A||F(92818);var re=this instanceof A;if(!re&&!ee.call(J,this))return new J(te);this._writableState=new Z(te,this,re),this.writable=!0,te&&(typeof te.write=="function"&&(this._write=te.write),typeof te.writev=="function"&&(this._writev=te.writev),typeof te.destroy=="function"&&(this._destroy=te.destroy),typeof te.final=="function"&&(this._final=te.final)),m.call(this)}J.prototype.pipe=function(){W(this,new R)};function O(te,re){var ge=new x;W(te,ge),P.nextTick(re,ge)}function H(te,re,ge,ye){var Ee;return ge===null?Ee=new U:typeof ge!="string"&&!re.objectMode&&(Ee=new f("chunk",["string","Buffer"],ge)),Ee?(W(te,Ee),P.nextTick(ye,Ee),!1):!0}J.prototype.write=function(te,re,ge){var ye=this._writableState,Ee=!1,z=!ye.objectMode&&b(te);return z&&!g.isBuffer(te)&&(te=k(te)),typeof re=="function"&&(ge=re,re=null),z?re="buffer":re||(re=ye.defaultEncoding),typeof ge!="function"&&(ge=Q),ye.ending?O(this,ge):(z||H(this,ye,te,ge))&&(ye.pendingcb++,Ee=u(this,ye,z,te,re,ge)),Ee},J.prototype.cork=function(){this._writableState.corked++},J.prototype.uncork=function(){var te=this._writableState;te.corked&&(te.corked--,!te.writing&&!te.corked&&!te.bufferProcessing&&te.bufferedRequest&&X(this,te))},J.prototype.setDefaultEncoding=function(re){if(typeof re=="string"&&(re=re.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((re+"").toLowerCase())>-1))throw new y(re);return this._writableState.defaultEncoding=re,this},Object.defineProperty(J.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function I(te,re,ge){return!te.objectMode&&te.decodeStrings!==!1&&typeof re=="string"&&(re=g.from(re,ge)),re}Object.defineProperty(J.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function u(te,re,ge,ye,Ee,z){if(!ge){var T=I(re,ye,Ee);ye!==T&&(ge=!0,Ee="buffer",ye=T)}var oe=re.objectMode?1:ye.length;re.length+=oe;var fe=re.length<re.highWaterMark;if(fe||(re.needDrain=!0),re.writing||re.corked){var de=re.lastBufferedRequest;re.lastBufferedRequest={chunk:ye,encoding:Ee,isBuf:ge,callback:z,next:null},de?de.next=re.lastBufferedRequest:re.bufferedRequest=re.lastBufferedRequest,re.bufferedRequestCount+=1}else N(te,re,!1,oe,ye,Ee,z);return fe}function N(te,re,ge,ye,Ee,z,T){re.writelen=ye,re.writecb=T,re.writing=!0,re.sync=!0,re.destroyed?re.onwrite(new M("write")):ge?te._writev(Ee,re.onwrite):te._write(Ee,z,re.onwrite),re.sync=!1}function q(te,re,ge,ye,Ee){--re.pendingcb,ge?(P.nextTick(Ee,ye),P.nextTick(we,te,re),te._writableState.errorEmitted=!0,W(te,ye)):(Ee(ye),te._writableState.errorEmitted=!0,W(te,ye),we(te,re))}function V(te){te.writing=!1,te.writecb=null,te.length-=te.writelen,te.writelen=0}function K(te,re){var ge=te._writableState,ye=ge.sync,Ee=ge.writecb;if(typeof Ee!="function")throw new _;if(V(ge),re)q(te,ge,ye,re,Ee);else{var z=B(ge)||te.destroyed;!z&&!ge.corked&&!ge.bufferProcessing&&ge.bufferedRequest&&X(te,ge),ye?P.nextTick(j,te,ge,z,Ee):j(te,ge,z,Ee)}}function j(te,re,ge,ye){ge||ie(te,re),re.pendingcb--,ye(),we(te,re)}function ie(te,re){re.length===0&&re.needDrain&&(re.needDrain=!1,te.emit("drain"))}function X(te,re){re.bufferProcessing=!0;var ge=re.bufferedRequest;if(te._writev&&ge&&ge.next){var ye=re.bufferedRequestCount,Ee=new Array(ye),z=re.corkedRequestsFree;z.entry=ge;for(var T=0,oe=!0;ge;)Ee[T]=ge,ge.isBuf||(oe=!1),ge=ge.next,T+=1;Ee.allBuffers=oe,N(te,re,!0,re.length,Ee,"",z.finish),re.pendingcb++,re.lastBufferedRequest=null,z.next?(re.corkedRequestsFree=z.next,z.next=null):re.corkedRequestsFree=new D(re),re.bufferedRequestCount=0}else{for(;ge;){var fe=ge.chunk,de=ge.encoding,ue=ge.callback,ve=re.objectMode?1:fe.length;if(N(te,re,!1,ve,fe,de,ue),ge=ge.next,re.bufferedRequestCount--,re.writing)break}ge===null&&(re.lastBufferedRequest=null)}re.bufferedRequest=ge,re.bufferProcessing=!1}J.prototype._write=function(te,re,ge){ge(new w("_write()"))},J.prototype._writev=null,J.prototype.end=function(te,re,ge){var ye=this._writableState;return typeof te=="function"?(ge=te,te=null,re=null):typeof re=="function"&&(ge=re,re=null),te!=null&&this.write(te,re),ye.corked&&(ye.corked=1,this.uncork()),ye.ending||_e(this,ye,ge),this},Object.defineProperty(J.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function B(te){return te.ending&&te.length===0&&te.bufferedRequest===null&&!te.finished&&!te.writing}function se(te,re){te._final(function(ge){re.pendingcb--,ge&&W(te,ge),re.prefinished=!0,te.emit("prefinish"),we(te,re)})}function Pe(te,re){!re.prefinished&&!re.finalCalled&&(typeof te._final=="function"&&!re.destroyed?(re.pendingcb++,re.finalCalled=!0,P.nextTick(se,te,re)):(re.prefinished=!0,te.emit("prefinish")))}function we(te,re){var ge=B(re);if(ge&&(Pe(te,re),re.pendingcb===0&&(re.finished=!0,te.emit("finish"),re.autoDestroy))){var ye=te._readableState;(!ye||ye.autoDestroy&&ye.endEmitted)&&te.destroy()}return ge}function _e(te,re,ge){re.ending=!0,we(te,re),ge&&(re.finished?P.nextTick(ge):te.once("finish",ge)),re.ended=!0,te.writable=!1}function Me(te,re,ge){var ye=te.entry;for(te.entry=null;ye;){var Ee=ye.callback;re.pendingcb--,Ee(ge),ye=ye.next}re.corkedRequestsFree.next=te}Object.defineProperty(J.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(re){this._writableState&&(this._writableState.destroyed=re)}}),J.prototype.destroy=l.destroy,J.prototype._undestroy=l.undestroy,J.prototype._destroy=function(te,re){re(te)}},74743:(s,G,F)=>{"use strict";var P=F(65606),L;function D(M,U,x){return U in M?Object.defineProperty(M,U,{value:x,enumerable:!0,configurable:!0,writable:!0}):M[U]=x,M}var A=F(45826),h=Symbol("lastResolve"),m=Symbol("lastReject"),g=Symbol("error"),p=Symbol("ended"),k=Symbol("lastPromise"),b=Symbol("handlePromise"),l=Symbol("stream");function E(M,U){return{value:M,done:U}}function c(M){var U=M[h];if(U!==null){var x=M[l].read();x!==null&&(M[k]=null,M[h]=null,M[m]=null,U(E(x,!1)))}}function v(M){P.nextTick(c,M)}function f(M,U){return function(x,y){M.then(function(){if(U[p]){x(E(void 0,!0));return}U[b](x,y)},y)}}var w=Object.getPrototypeOf(function(){}),_=Object.setPrototypeOf((L={get stream(){return this[l]},next:function(){var U=this,x=this[g];if(x!==null)return Promise.reject(x);if(this[p])return Promise.resolve(E(void 0,!0));if(this[l].destroyed)return new Promise(function(Z,ee){P.nextTick(function(){U[g]?ee(U[g]):Z(E(void 0,!0))})});var y=this[k],W;if(y)W=new Promise(f(y,this));else{var Q=this[l].read();if(Q!==null)return Promise.resolve(E(Q,!1));W=new Promise(this[b])}return this[k]=W,W}},D(L,Symbol.asyncIterator,function(){return this}),D(L,"return",function(){var U=this;return new Promise(function(x,y){U[l].destroy(null,function(W){if(W){y(W);return}x(E(void 0,!0))})})}),L),w),R=function(U){var x,y=Object.create(_,(x={},D(x,l,{value:U,writable:!0}),D(x,h,{value:null,writable:!0}),D(x,m,{value:null,writable:!0}),D(x,g,{value:null,writable:!0}),D(x,p,{value:U._readableState.endEmitted,writable:!0}),D(x,b,{value:function(Q,Z){var ee=y[l].read();ee?(y[k]=null,y[h]=null,y[m]=null,Q(E(ee,!1))):(y[h]=Q,y[m]=Z)},writable:!0}),x));return y[k]=null,A(U,function(W){if(W&&W.code!=="ERR_STREAM_PREMATURE_CLOSE"){var Q=y[m];Q!==null&&(y[k]=null,y[h]=null,y[m]=null,Q(W)),y[g]=W;return}var Z=y[h];Z!==null&&(y[k]=null,y[h]=null,y[m]=null,Z(E(void 0,!0))),y[p]=!0}),U.on("readable",v.bind(null,y)),y};s.exports=R},12389:(s,G,F)=>{"use strict";function P(c,v){var f=Object.keys(c);if(Object.getOwnPropertySymbols){var w=Object.getOwnPropertySymbols(c);v&&(w=w.filter(function(_){return Object.getOwnPropertyDescriptor(c,_).enumerable})),f.push.apply(f,w)}return f}function L(c){for(var v=1;v<arguments.length;v++){var f=arguments[v]!=null?arguments[v]:{};v%2?P(Object(f),!0).forEach(function(w){D(c,w,f[w])}):Object.getOwnPropertyDescriptors?Object.defineProperties(c,Object.getOwnPropertyDescriptors(f)):P(Object(f)).forEach(function(w){Object.defineProperty(c,w,Object.getOwnPropertyDescriptor(f,w))})}return c}function D(c,v,f){return v in c?Object.defineProperty(c,v,{value:f,enumerable:!0,configurable:!0,writable:!0}):c[v]=f,c}function A(c,v){if(!(c instanceof v))throw new TypeError("Cannot call a class as a function")}function h(c,v){for(var f=0;f<v.length;f++){var w=v[f];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(c,w.key,w)}}function m(c,v,f){return v&&h(c.prototype,v),f&&h(c,f),c}var g=F(48287),p=g.Buffer,k=F(8460),b=k.inspect,l=b&&b.custom||"inspect";function E(c,v,f){p.prototype.copy.call(c,v,f)}s.exports=function(){function c(){A(this,c),this.head=null,this.tail=null,this.length=0}return m(c,[{key:"push",value:function(f){var w={data:f,next:null};this.length>0?this.tail.next=w:this.head=w,this.tail=w,++this.length}},{key:"unshift",value:function(f){var w={data:f,next:this.head};this.length===0&&(this.tail=w),this.head=w,++this.length}},{key:"shift",value:function(){if(this.length!==0){var f=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,f}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(f){if(this.length===0)return"";for(var w=this.head,_=""+w.data;w=w.next;)_+=f+w.data;return _}},{key:"concat",value:function(f){if(this.length===0)return p.alloc(0);for(var w=p.allocUnsafe(f>>>0),_=this.head,R=0;_;)E(_.data,w,R),R+=_.data.length,_=_.next;return w}},{key:"consume",value:function(f,w){var _;return f<this.head.data.length?(_=this.head.data.slice(0,f),this.head.data=this.head.data.slice(f)):f===this.head.data.length?_=this.shift():_=w?this._getString(f):this._getBuffer(f),_}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(f){var w=this.head,_=1,R=w.data;for(f-=R.length;w=w.next;){var M=w.data,U=f>M.length?M.length:f;if(U===M.length?R+=M:R+=M.slice(0,f),f-=U,f===0){U===M.length?(++_,w.next?this.head=w.next:this.head=this.tail=null):(this.head=w,w.data=M.slice(U));break}++_}return this.length-=_,R}},{key:"_getBuffer",value:function(f){var w=p.allocUnsafe(f),_=this.head,R=1;for(_.data.copy(w),f-=_.data.length;_=_.next;){var M=_.data,U=f>M.length?M.length:f;if(M.copy(w,w.length-f,0,U),f-=U,f===0){U===M.length?(++R,_.next?this.head=_.next:this.head=this.tail=null):(this.head=_,_.data=M.slice(U));break}++R}return this.length-=R,w}},{key:l,value:function(f,w){return b(this,L({},w,{depth:0,customInspect:!1}))}}]),c}()},41468:(s,G,F)=>{"use strict";var P=F(65606);function L(p,k){var b=this,l=this._readableState&&this._readableState.destroyed,E=this._writableState&&this._writableState.destroyed;return l||E?(k?k(p):p&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,P.nextTick(m,this,p)):P.nextTick(m,this,p)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(p||null,function(c){!k&&c?b._writableState?b._writableState.errorEmitted?P.nextTick(A,b):(b._writableState.errorEmitted=!0,P.nextTick(D,b,c)):P.nextTick(D,b,c):k?(P.nextTick(A,b),k(c)):P.nextTick(A,b)}),this)}function D(p,k){m(p,k),A(p)}function A(p){p._writableState&&!p._writableState.emitClose||p._readableState&&!p._readableState.emitClose||p.emit("close")}function h(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function m(p,k){p.emit("error",k)}function g(p,k){var b=p._readableState,l=p._writableState;b&&b.autoDestroy||l&&l.autoDestroy?p.destroy(k):p.emit("error",k)}s.exports={destroy:L,undestroy:h,errorOrDestroy:g}},45826:(s,G,F)=>{"use strict";var P=F(92260).F.ERR_STREAM_PREMATURE_CLOSE;function L(m){var g=!1;return function(){if(!g){g=!0;for(var p=arguments.length,k=new Array(p),b=0;b<p;b++)k[b]=arguments[b];m.apply(this,k)}}}function D(){}function A(m){return m.setHeader&&typeof m.abort=="function"}function h(m,g,p){if(typeof g=="function")return h(m,null,g);g||(g={}),p=L(p||D);var k=g.readable||g.readable!==!1&&m.readable,b=g.writable||g.writable!==!1&&m.writable,l=function(){m.writable||c()},E=m._writableState&&m._writableState.finished,c=function(){b=!1,E=!0,k||p.call(m)},v=m._readableState&&m._readableState.endEmitted,f=function(){k=!1,v=!0,b||p.call(m)},w=function(U){p.call(m,U)},_=function(){var U;if(k&&!v)return(!m._readableState||!m._readableState.ended)&&(U=new P),p.call(m,U);if(b&&!E)return(!m._writableState||!m._writableState.ended)&&(U=new P),p.call(m,U)},R=function(){m.req.on("finish",c)};return A(m)?(m.on("complete",c),m.on("abort",_),m.req?R():m.on("request",R)):b&&!m._writableState&&(m.on("end",l),m.on("close",l)),m.on("end",f),m.on("finish",c),g.error!==!1&&m.on("error",w),m.on("close",_),function(){m.removeListener("complete",c),m.removeListener("abort",_),m.removeListener("request",R),m.req&&m.req.removeListener("finish",c),m.removeListener("end",l),m.removeListener("close",l),m.removeListener("finish",c),m.removeListener("end",f),m.removeListener("error",w),m.removeListener("close",_)}}s.exports=h},45049:s=>{s.exports=function(){throw new Error("Readable.from is not available in the browser")}},29434:(s,G,F)=>{"use strict";var P;function L(c){var v=!1;return function(){v||(v=!0,c.apply(void 0,arguments))}}var D=F(92260).F,A=D.ERR_MISSING_ARGS,h=D.ERR_STREAM_DESTROYED;function m(c){if(c)throw c}function g(c){return c.setHeader&&typeof c.abort=="function"}function p(c,v,f,w){w=L(w);var _=!1;c.on("close",function(){_=!0}),P===void 0&&(P=F(45826)),P(c,{readable:v,writable:f},function(M){if(M)return w(M);_=!0,w()});var R=!1;return function(M){if(!_&&!R){if(R=!0,g(c))return c.abort();if(typeof c.destroy=="function")return c.destroy();w(M||new h("pipe"))}}}function k(c){c()}function b(c,v){return c.pipe(v)}function l(c){return!c.length||typeof c[c.length-1]!="function"?m:c.pop()}function E(){for(var c=arguments.length,v=new Array(c),f=0;f<c;f++)v[f]=arguments[f];var w=l(v);if(Array.isArray(v[0])&&(v=v[0]),v.length<2)throw new A("streams");var _,R=v.map(function(M,U){var x=U<v.length-1,y=U>0;return p(M,x,y,function(W){_||(_=W),W&&R.forEach(k),!x&&(R.forEach(k),w(_))})});return v.reduce(b)}s.exports=E},8775:(s,G,F)=>{"use strict";var P=F(92260).F.ERR_INVALID_OPT_VALUE;function L(A,h,m){return A.highWaterMark!=null?A.highWaterMark:h?A[m]:null}function D(A,h,m,g){var p=L(h,g,m);if(p!=null){if(!(isFinite(p)&&Math.floor(p)===p)||p<0){var k=g?m:"highWaterMark";throw new P(k,p)}return Math.floor(p)}return A.objectMode?16:16384}s.exports={getHighWaterMark:D}},71181:(s,G,F)=>{s.exports=F(37007).EventEmitter},61603:(s,G,F)=>{G=s.exports=F(6736),G.Stream=G,G.Readable=G,G.Writable=F(62192),G.Duplex=F(92818),G.Transform=F(13054),G.PassThrough=F(35860),G.finished=F(45826),G.pipeline=F(29434)},77952:(s,G,F)=>{var P=G;P.utils=F(67426),P.common=F(66166),P.sha=F(46229),P.ripemd=F(46784),P.hmac=F(28948),P.sha1=P.sha.sha1,P.sha256=P.sha.sha256,P.sha224=P.sha.sha224,P.sha384=P.sha.sha384,P.sha512=P.sha.sha512,P.ripemd160=P.ripemd.ripemd160},66166:(s,G,F)=>{"use strict";var P=F(67426),L=F(43349);function D(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}G.BlockHash=D,D.prototype.update=function(h,m){if(h=P.toArray(h,m),this.pending?this.pending=this.pending.concat(h):this.pending=h,this.pendingTotal+=h.length,this.pending.length>=this._delta8){h=this.pending;var g=h.length%this._delta8;this.pending=h.slice(h.length-g,h.length),this.pending.length===0&&(this.pending=null),h=P.join32(h,0,h.length-g,this.endian);for(var p=0;p<h.length;p+=this._delta32)this._update(h,p,p+this._delta32)}return this},D.prototype.digest=function(h){return this.update(this._pad()),L(this.pending===null),this._digest(h)},D.prototype._pad=function(){var h=this.pendingTotal,m=this._delta8,g=m-(h+this.padLength)%m,p=new Array(g+this.padLength);p[0]=128;for(var k=1;k<g;k++)p[k]=0;if(h<<=3,this.endian==="big"){for(var b=8;b<this.padLength;b++)p[k++]=0;p[k++]=0,p[k++]=0,p[k++]=0,p[k++]=0,p[k++]=h>>>24&255,p[k++]=h>>>16&255,p[k++]=h>>>8&255,p[k++]=h&255}else for(p[k++]=h&255,p[k++]=h>>>8&255,p[k++]=h>>>16&255,p[k++]=h>>>24&255,p[k++]=0,p[k++]=0,p[k++]=0,p[k++]=0,b=8;b<this.padLength;b++)p[k++]=0;return p}},28948:(s,G,F)=>{"use strict";var P=F(67426),L=F(43349);function D(A,h,m){if(!(this instanceof D))return new D(A,h,m);this.Hash=A,this.blockSize=A.blockSize/8,this.outSize=A.outSize/8,this.inner=null,this.outer=null,this._init(P.toArray(h,m))}s.exports=D,D.prototype._init=function(h){h.length>this.blockSize&&(h=new this.Hash().update(h).digest()),L(h.length<=this.blockSize);for(var m=h.length;m<this.blockSize;m++)h.push(0);for(m=0;m<h.length;m++)h[m]^=54;for(this.inner=new this.Hash().update(h),m=0;m<h.length;m++)h[m]^=106;this.outer=new this.Hash().update(h)},D.prototype.update=function(h,m){return this.inner.update(h,m),this},D.prototype.digest=function(h){return this.outer.update(this.inner.digest()),this.outer.digest(h)}},46784:(s,G,F)=>{"use strict";var P=F(67426),L=F(66166),D=P.rotl32,A=P.sum32,h=P.sum32_3,m=P.sum32_4,g=L.BlockHash;function p(){if(!(this instanceof p))return new p;g.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}P.inherits(p,g),G.ripemd160=p,p.blockSize=512,p.outSize=160,p.hmacStrength=192,p.padLength=64,p.prototype._update=function(_,R){for(var M=this.h[0],U=this.h[1],x=this.h[2],y=this.h[3],W=this.h[4],Q=M,Z=U,ee=x,J=y,O=W,H=0;H<80;H++){var I=A(D(m(M,k(H,U,x,y),_[E[H]+R],b(H)),v[H]),W);M=W,W=y,y=D(x,10),x=U,U=I,I=A(D(m(Q,k(79-H,Z,ee,J),_[c[H]+R],l(H)),f[H]),O),Q=O,O=J,J=D(ee,10),ee=Z,Z=I}I=h(this.h[1],x,J),this.h[1]=h(this.h[2],y,O),this.h[2]=h(this.h[3],W,Q),this.h[3]=h(this.h[4],M,Z),this.h[4]=h(this.h[0],U,ee),this.h[0]=I},p.prototype._digest=function(_){return _==="hex"?P.toHex32(this.h,"little"):P.split32(this.h,"little")};function k(w,_,R,M){return w<=15?_^R^M:w<=31?_&R|~_&M:w<=47?(_|~R)^M:w<=63?_&M|R&~M:_^(R|~M)}function b(w){return w<=15?0:w<=31?1518500249:w<=47?1859775393:w<=63?2400959708:2840853838}function l(w){return w<=15?1352829926:w<=31?1548603684:w<=47?1836072691:w<=63?2053994217:0}var E=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],c=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],v=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],f=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},46229:(s,G,F)=>{"use strict";G.sha1=F(43917),G.sha224=F(47714),G.sha256=F(2287),G.sha384=F(21911),G.sha512=F(57766)},43917:(s,G,F)=>{"use strict";var P=F(67426),L=F(66166),D=F(66225),A=P.rotl32,h=P.sum32,m=P.sum32_5,g=D.ft_1,p=L.BlockHash,k=[1518500249,1859775393,2400959708,3395469782];function b(){if(!(this instanceof b))return new b;p.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}P.inherits(b,p),s.exports=b,b.blockSize=512,b.outSize=160,b.hmacStrength=80,b.padLength=64,b.prototype._update=function(E,c){for(var v=this.W,f=0;f<16;f++)v[f]=E[c+f];for(;f<v.length;f++)v[f]=A(v[f-3]^v[f-8]^v[f-14]^v[f-16],1);var w=this.h[0],_=this.h[1],R=this.h[2],M=this.h[3],U=this.h[4];for(f=0;f<v.length;f++){var x=~~(f/20),y=m(A(w,5),g(x,_,R,M),U,v[f],k[x]);U=M,M=R,R=A(_,30),_=w,w=y}this.h[0]=h(this.h[0],w),this.h[1]=h(this.h[1],_),this.h[2]=h(this.h[2],R),this.h[3]=h(this.h[3],M),this.h[4]=h(this.h[4],U)},b.prototype._digest=function(E){return E==="hex"?P.toHex32(this.h,"big"):P.split32(this.h,"big")}},47714:(s,G,F)=>{"use strict";var P=F(67426),L=F(2287);function D(){if(!(this instanceof D))return new D;L.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}P.inherits(D,L),s.exports=D,D.blockSize=512,D.outSize=224,D.hmacStrength=192,D.padLength=64,D.prototype._digest=function(h){return h==="hex"?P.toHex32(this.h.slice(0,7),"big"):P.split32(this.h.slice(0,7),"big")}},2287:(s,G,F)=>{"use strict";var P=F(67426),L=F(66166),D=F(66225),A=F(43349),h=P.sum32,m=P.sum32_4,g=P.sum32_5,p=D.ch32,k=D.maj32,b=D.s0_256,l=D.s1_256,E=D.g0_256,c=D.g1_256,v=L.BlockHash,f=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function w(){if(!(this instanceof w))return new w;v.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=f,this.W=new Array(64)}P.inherits(w,v),s.exports=w,w.blockSize=512,w.outSize=256,w.hmacStrength=192,w.padLength=64,w.prototype._update=function(R,M){for(var U=this.W,x=0;x<16;x++)U[x]=R[M+x];for(;x<U.length;x++)U[x]=m(c(U[x-2]),U[x-7],E(U[x-15]),U[x-16]);var y=this.h[0],W=this.h[1],Q=this.h[2],Z=this.h[3],ee=this.h[4],J=this.h[5],O=this.h[6],H=this.h[7];for(A(this.k.length===U.length),x=0;x<U.length;x++){var I=g(H,l(ee),p(ee,J,O),this.k[x],U[x]),u=h(b(y),k(y,W,Q));H=O,O=J,J=ee,ee=h(Z,I),Z=Q,Q=W,W=y,y=h(I,u)}this.h[0]=h(this.h[0],y),this.h[1]=h(this.h[1],W),this.h[2]=h(this.h[2],Q),this.h[3]=h(this.h[3],Z),this.h[4]=h(this.h[4],ee),this.h[5]=h(this.h[5],J),this.h[6]=h(this.h[6],O),this.h[7]=h(this.h[7],H)},w.prototype._digest=function(R){return R==="hex"?P.toHex32(this.h,"big"):P.split32(this.h,"big")}},21911:(s,G,F)=>{"use strict";var P=F(67426),L=F(57766);function D(){if(!(this instanceof D))return new D;L.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}P.inherits(D,L),s.exports=D,D.blockSize=1024,D.outSize=384,D.hmacStrength=192,D.padLength=128,D.prototype._digest=function(h){return h==="hex"?P.toHex32(this.h.slice(0,12),"big"):P.split32(this.h.slice(0,12),"big")}},57766:(s,G,F)=>{"use strict";var P=F(67426),L=F(66166),D=F(43349),A=P.rotr64_hi,h=P.rotr64_lo,m=P.shr64_hi,g=P.shr64_lo,p=P.sum64,k=P.sum64_hi,b=P.sum64_lo,l=P.sum64_4_hi,E=P.sum64_4_lo,c=P.sum64_5_hi,v=P.sum64_5_lo,f=L.BlockHash,w=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function _(){if(!(this instanceof _))return new _;f.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=w,this.W=new Array(160)}P.inherits(_,f),s.exports=_,_.blockSize=1024,_.outSize=512,_.hmacStrength=192,_.padLength=128,_.prototype._prepareBlock=function(u,N){for(var q=this.W,V=0;V<32;V++)q[V]=u[N+V];for(;V<q.length;V+=2){var K=O(q[V-4],q[V-3]),j=H(q[V-4],q[V-3]),ie=q[V-14],X=q[V-13],B=ee(q[V-30],q[V-29]),se=J(q[V-30],q[V-29]),Pe=q[V-32],we=q[V-31];q[V]=l(K,j,ie,X,B,se,Pe,we),q[V+1]=E(K,j,ie,X,B,se,Pe,we)}},_.prototype._update=function(u,N){this._prepareBlock(u,N);var q=this.W,V=this.h[0],K=this.h[1],j=this.h[2],ie=this.h[3],X=this.h[4],B=this.h[5],se=this.h[6],Pe=this.h[7],we=this.h[8],_e=this.h[9],Me=this.h[10],te=this.h[11],re=this.h[12],ge=this.h[13],ye=this.h[14],Ee=this.h[15];D(this.k.length===q.length);for(var z=0;z<q.length;z+=2){var T=ye,oe=Ee,fe=Q(we,_e),de=Z(we,_e),ue=R(we,_e,Me,te,re,ge),ve=M(we,_e,Me,te,re,ge),Fe=this.k[z],Oe=this.k[z+1],$e=q[z],qe=q[z+1],Ve=c(T,oe,fe,de,ue,ve,Fe,Oe,$e,qe),Je=v(T,oe,fe,de,ue,ve,Fe,Oe,$e,qe);T=y(V,K),oe=W(V,K),fe=U(V,K,j,ie,X,B),de=x(V,K,j,ie,X,B);var me=k(T,oe,fe,de),ae=b(T,oe,fe,de);ye=re,Ee=ge,re=Me,ge=te,Me=we,te=_e,we=k(se,Pe,Ve,Je),_e=b(Pe,Pe,Ve,Je),se=X,Pe=B,X=j,B=ie,j=V,ie=K,V=k(Ve,Je,me,ae),K=b(Ve,Je,me,ae)}p(this.h,0,V,K),p(this.h,2,j,ie),p(this.h,4,X,B),p(this.h,6,se,Pe),p(this.h,8,we,_e),p(this.h,10,Me,te),p(this.h,12,re,ge),p(this.h,14,ye,Ee)},_.prototype._digest=function(u){return u==="hex"?P.toHex32(this.h,"big"):P.split32(this.h,"big")};function R(I,u,N,q,V){var K=I&N^~I&V;return K<0&&(K+=4294967296),K}function M(I,u,N,q,V,K){var j=u&q^~u&K;return j<0&&(j+=4294967296),j}function U(I,u,N,q,V){var K=I&N^I&V^N&V;return K<0&&(K+=4294967296),K}function x(I,u,N,q,V,K){var j=u&q^u&K^q&K;return j<0&&(j+=4294967296),j}function y(I,u){var N=A(I,u,28),q=A(u,I,2),V=A(u,I,7),K=N^q^V;return K<0&&(K+=4294967296),K}function W(I,u){var N=h(I,u,28),q=h(u,I,2),V=h(u,I,7),K=N^q^V;return K<0&&(K+=4294967296),K}function Q(I,u){var N=A(I,u,14),q=A(I,u,18),V=A(u,I,9),K=N^q^V;return K<0&&(K+=4294967296),K}function Z(I,u){var N=h(I,u,14),q=h(I,u,18),V=h(u,I,9),K=N^q^V;return K<0&&(K+=4294967296),K}function ee(I,u){var N=A(I,u,1),q=A(I,u,8),V=m(I,u,7),K=N^q^V;return K<0&&(K+=4294967296),K}function J(I,u){var N=h(I,u,1),q=h(I,u,8),V=g(I,u,7),K=N^q^V;return K<0&&(K+=4294967296),K}function O(I,u){var N=A(I,u,19),q=A(u,I,29),V=m(I,u,6),K=N^q^V;return K<0&&(K+=4294967296),K}function H(I,u){var N=h(I,u,19),q=h(u,I,29),V=g(I,u,6),K=N^q^V;return K<0&&(K+=4294967296),K}},66225:(s,G,F)=>{"use strict";var P=F(67426),L=P.rotr32;function D(l,E,c,v){if(l===0)return A(E,c,v);if(l===1||l===3)return m(E,c,v);if(l===2)return h(E,c,v)}G.ft_1=D;function A(l,E,c){return l&E^~l&c}G.ch32=A;function h(l,E,c){return l&E^l&c^E&c}G.maj32=h;function m(l,E,c){return l^E^c}G.p32=m;function g(l){return L(l,2)^L(l,13)^L(l,22)}G.s0_256=g;function p(l){return L(l,6)^L(l,11)^L(l,25)}G.s1_256=p;function k(l){return L(l,7)^L(l,18)^l>>>3}G.g0_256=k;function b(l){return L(l,17)^L(l,19)^l>>>10}G.g1_256=b},67426:(s,G,F)=>{"use strict";var P=F(43349),L=F(56698);G.inherits=L;function D(H,I){return(H.charCodeAt(I)&64512)!==55296||I<0||I+1>=H.length?!1:(H.charCodeAt(I+1)&64512)===56320}function A(H,I){if(Array.isArray(H))return H.slice();if(!H)return[];var u=[];if(typeof H=="string")if(I){if(I==="hex")for(H=H.replace(/[^a-z0-9]+/ig,""),H.length%2!==0&&(H="0"+H),q=0;q<H.length;q+=2)u.push(parseInt(H[q]+H[q+1],16))}else for(var N=0,q=0;q<H.length;q++){var V=H.charCodeAt(q);V<128?u[N++]=V:V<2048?(u[N++]=V>>6|192,u[N++]=V&63|128):D(H,q)?(V=65536+((V&1023)<<10)+(H.charCodeAt(++q)&1023),u[N++]=V>>18|240,u[N++]=V>>12&63|128,u[N++]=V>>6&63|128,u[N++]=V&63|128):(u[N++]=V>>12|224,u[N++]=V>>6&63|128,u[N++]=V&63|128)}else for(q=0;q<H.length;q++)u[q]=H[q]|0;return u}G.toArray=A;function h(H){for(var I="",u=0;u<H.length;u++)I+=p(H[u].toString(16));return I}G.toHex=h;function m(H){var I=H>>>24|H>>>8&65280|H<<8&16711680|(H&255)<<24;return I>>>0}G.htonl=m;function g(H,I){for(var u="",N=0;N<H.length;N++){var q=H[N];I==="little"&&(q=m(q)),u+=k(q.toString(16))}return u}G.toHex32=g;function p(H){return H.length===1?"0"+H:H}G.zero2=p;function k(H){return H.length===7?"0"+H:H.length===6?"00"+H:H.length===5?"000"+H:H.length===4?"0000"+H:H.length===3?"00000"+H:H.length===2?"000000"+H:H.length===1?"0000000"+H:H}G.zero8=k;function b(H,I,u,N){var q=u-I;P(q%4===0);for(var V=new Array(q/4),K=0,j=I;K<V.length;K++,j+=4){var ie;N==="big"?ie=H[j]<<24|H[j+1]<<16|H[j+2]<<8|H[j+3]:ie=H[j+3]<<24|H[j+2]<<16|H[j+1]<<8|H[j],V[K]=ie>>>0}return V}G.join32=b;function l(H,I){for(var u=new Array(H.length*4),N=0,q=0;N<H.length;N++,q+=4){var V=H[N];I==="big"?(u[q]=V>>>24,u[q+1]=V>>>16&255,u[q+2]=V>>>8&255,u[q+3]=V&255):(u[q+3]=V>>>24,u[q+2]=V>>>16&255,u[q+1]=V>>>8&255,u[q]=V&255)}return u}G.split32=l;function E(H,I){return H>>>I|H<<32-I}G.rotr32=E;function c(H,I){return H<<I|H>>>32-I}G.rotl32=c;function v(H,I){return H+I>>>0}G.sum32=v;function f(H,I,u){return H+I+u>>>0}G.sum32_3=f;function w(H,I,u,N){return H+I+u+N>>>0}G.sum32_4=w;function _(H,I,u,N,q){return H+I+u+N+q>>>0}G.sum32_5=_;function R(H,I,u,N){var q=H[I],V=H[I+1],K=N+V>>>0,j=(K<N?1:0)+u+q;H[I]=j>>>0,H[I+1]=K}G.sum64=R;function M(H,I,u,N){var q=I+N>>>0,V=(q<I?1:0)+H+u;return V>>>0}G.sum64_hi=M;function U(H,I,u,N){var q=I+N;return q>>>0}G.sum64_lo=U;function x(H,I,u,N,q,V,K,j){var ie=0,X=I;X=X+N>>>0,ie+=X<I?1:0,X=X+V>>>0,ie+=X<V?1:0,X=X+j>>>0,ie+=X<j?1:0;var B=H+u+q+K+ie;return B>>>0}G.sum64_4_hi=x;function y(H,I,u,N,q,V,K,j){var ie=I+N+V+j;return ie>>>0}G.sum64_4_lo=y;function W(H,I,u,N,q,V,K,j,ie,X){var B=0,se=I;se=se+N>>>0,B+=se<I?1:0,se=se+V>>>0,B+=se<V?1:0,se=se+j>>>0,B+=se<j?1:0,se=se+X>>>0,B+=se<X?1:0;var Pe=H+u+q+K+ie+B;return Pe>>>0}G.sum64_5_hi=W;function Q(H,I,u,N,q,V,K,j,ie,X){var B=I+N+V+j+X;return B>>>0}G.sum64_5_lo=Q;function Z(H,I,u){var N=I<<32-u|H>>>u;return N>>>0}G.rotr64_hi=Z;function ee(H,I,u){var N=H<<32-u|I>>>u;return N>>>0}G.rotr64_lo=ee;function J(H,I,u){return H>>>u}G.shr64_hi=J;function O(H,I,u){var N=H<<32-u|I>>>u;return N>>>0}G.shr64_lo=O},9957:(s,G,F)=>{"use strict";var P=Function.prototype.call,L=Object.prototype.hasOwnProperty,D=F(63639);s.exports=D.call(P,L)},74921:s=>{"use strict";var G="Function.prototype.bind called on incompatible ",F=Object.prototype.toString,P=Math.max,L="[object Function]",D=function(g,p){for(var k=[],b=0;b<g.length;b+=1)k[b]=g[b];for(var l=0;l<p.length;l+=1)k[l+g.length]=p[l];return k},A=function(g,p){for(var k=[],b=p||0,l=0;b<g.length;b+=1,l+=1)k[l]=g[b];return k},h=function(m,g){for(var p="",k=0;k<m.length;k+=1)p+=m[k],k+1<m.length&&(p+=g);return p};s.exports=function(g){var p=this;if(typeof p!="function"||F.apply(p)!==L)throw new TypeError(G+p);for(var k=A(arguments,1),b,l=function(){if(this instanceof b){var w=p.apply(this,D(k,arguments));return Object(w)===w?w:this}return p.apply(g,D(k,arguments))},E=P(0,p.length-k.length),c=[],v=0;v<E;v++)c[v]="$"+v;if(b=Function("binder","return function ("+h(c,",")+"){ return binder.apply(this,arguments); }")(l),p.prototype){var f=function(){};f.prototype=p.prototype,b.prototype=new f,f.prototype=null}return b}},63639:(s,G,F)=>{"use strict";var P=F(74921);s.exports=Function.prototype.bind||P},32723:(s,G,F)=>{"use strict";var P=F(77952),L=F(64367),D=F(43349);function A(h){if(!(this instanceof A))return new A(h);this.hash=h.hash,this.predResist=!!h.predResist,this.outLen=this.hash.outSize,this.minEntropy=h.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var m=L.toArray(h.entropy,h.entropyEnc||"hex"),g=L.toArray(h.nonce,h.nonceEnc||"hex"),p=L.toArray(h.pers,h.persEnc||"hex");D(m.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(m,g,p)}s.exports=A,A.prototype._init=function(m,g,p){var k=m.concat(g).concat(p);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var b=0;b<this.V.length;b++)this.K[b]=0,this.V[b]=1;this._update(k),this._reseed=1,this.reseedInterval=281474976710656},A.prototype._hmac=function(){return new P.hmac(this.hash,this.K)},A.prototype._update=function(m){var g=this._hmac().update(this.V).update([0]);m&&(g=g.update(m)),this.K=g.digest(),this.V=this._hmac().update(this.V).digest(),m&&(this.K=this._hmac().update(this.V).update([1]).update(m).digest(),this.V=this._hmac().update(this.V).digest())},A.prototype.reseed=function(m,g,p,k){typeof g!="string"&&(k=p,p=g,g=null),m=L.toArray(m,g),p=L.toArray(p,k),D(m.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(m.concat(p||[])),this._reseed=1},A.prototype.generate=function(m,g,p,k){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof g!="string"&&(k=p,p=g,g=null),p&&(p=L.toArray(p,k||"hex"),this._update(p));for(var b=[];b.length<m;)this.V=this._hmac().update(this.V).digest(),b=b.concat(this.V);var l=b.slice(0,m);return this._update(p),this._reseed++,L.encode(l,g)}},251:(s,G)=>{/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */G.read=function(F,P,L,D,A){var h,m,g=A*8-D-1,p=(1<<g)-1,k=p>>1,b=-7,l=L?A-1:0,E=L?-1:1,c=F[P+l];for(l+=E,h=c&(1<<-b)-1,c>>=-b,b+=g;b>0;h=h*256+F[P+l],l+=E,b-=8);for(m=h&(1<<-b)-1,h>>=-b,b+=D;b>0;m=m*256+F[P+l],l+=E,b-=8);if(h===0)h=1-k;else{if(h===p)return m?NaN:(c?-1:1)*(1/0);m=m+Math.pow(2,D),h=h-k}return(c?-1:1)*m*Math.pow(2,h-D)},G.write=function(F,P,L,D,A,h){var m,g,p,k=h*8-A-1,b=(1<<k)-1,l=b>>1,E=A===23?Math.pow(2,-24)-Math.pow(2,-77):0,c=D?0:h-1,v=D?1:-1,f=P<0||P===0&&1/P<0?1:0;for(P=Math.abs(P),isNaN(P)||P===1/0?(g=isNaN(P)?1:0,m=b):(m=Math.floor(Math.log(P)/Math.LN2),P*(p=Math.pow(2,-m))<1&&(m--,p*=2),m+l>=1?P+=E/p:P+=E*Math.pow(2,1-l),P*p>=2&&(m++,p/=2),m+l>=b?(g=0,m=b):m+l>=1?(g=(P*p-1)*Math.pow(2,A),m=m+l):(g=P*Math.pow(2,l-1)*Math.pow(2,A),m=0));A>=8;F[L+c]=g&255,c+=v,g/=256,A-=8);for(m=m<<A|g,k+=A;k>0;F[L+c]=m&255,c+=v,m/=256,k-=8);F[L+c-v]|=f*128}},56698:s=>{typeof Object.create=="function"?s.exports=function(F,P){P&&(F.super_=P,F.prototype=Object.create(P.prototype,{constructor:{value:F,enumerable:!1,writable:!0,configurable:!0}}))}:s.exports=function(F,P){if(P){F.super_=P;var L=function(){};L.prototype=P.prototype,F.prototype=new L,F.prototype.constructor=F}}},69600:s=>{"use strict";var G=Function.prototype.toString,F=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,P,L;if(typeof F=="function"&&typeof Object.defineProperty=="function")try{P=Object.defineProperty({},"length",{get:function(){throw L}}),L={},F(function(){throw 42},null,P)}catch(_){_!==L&&(F=null)}else F=null;var D=/^\s*class\b/,A=function(R){try{var M=G.call(R);return D.test(M)}catch{return!1}},h=function(R){try{return A(R)?!1:(G.call(R),!0)}catch{return!1}},m=Object.prototype.toString,g="[object Object]",p="[object Function]",k="[object GeneratorFunction]",b="[object HTMLAllCollection]",l="[object HTML document.all class]",E="[object HTMLCollection]",c=typeof Symbol=="function"&&!!Symbol.toStringTag,v=!(0 in[,]),f=function(){return!1};if(typeof document=="object"){var w=document.all;m.call(w)===m.call(document.all)&&(f=function(R){if((v||!R)&&(typeof R=="undefined"||typeof R=="object"))try{var M=m.call(R);return(M===b||M===l||M===E||M===g)&&R("")==null}catch{}return!1})}s.exports=F?function(R){if(f(R))return!0;if(!R||typeof R!="function"&&typeof R!="object")return!1;try{F(R,null,P)}catch(M){if(M!==L)return!1}return!A(R)&&h(R)}:function(R){if(f(R))return!0;if(!R||typeof R!="function"&&typeof R!="object")return!1;if(c)return h(R);if(A(R))return!1;var M=m.call(R);return M!==p&&M!==k&&!/^\[object HTML/.test(M)?!1:h(R)}},35680:(s,G,F)=>{"use strict";var P=F(25767);s.exports=function(D){return!!P(D)}},64634:s=>{var G={}.toString;s.exports=Array.isArray||function(F){return G.call(F)=="[object Array]"}},71710:(s,G,F)=>{var P=F(48287).Buffer,L=F(65606);/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/(function(D){s.exports=D()})(function(){return function D(A,h,m){function g(b,l){if(!h[b]){if(!A[b]){var E=void 0;if(!l&&E)return require(b,!0);if(p)return p(b,!0);var c=new Error("Cannot find module '"+b+"'");throw c.code="MODULE_NOT_FOUND",c}var v=h[b]={exports:{}};A[b][0].call(v.exports,function(f){var w=A[b][1][f];return g(w||f)},v,v.exports,D,A,h,m)}return h[b].exports}for(var p=void 0,k=0;k<m.length;k++)g(m[k]);return g}({1:[function(D,A,h){"use strict";var m=D("./utils"),g=D("./support"),p="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";h.encode=function(k){for(var b,l,E,c,v,f,w,_=[],R=0,M=k.length,U=M,x=m.getTypeOf(k)!=="string";R<k.length;)U=M-R,E=x?(b=k[R++],l=R<M?k[R++]:0,R<M?k[R++]:0):(b=k.charCodeAt(R++),l=R<M?k.charCodeAt(R++):0,R<M?k.charCodeAt(R++):0),c=b>>2,v=(3&b)<<4|l>>4,f=1<U?(15&l)<<2|E>>6:64,w=2<U?63&E:64,_.push(p.charAt(c)+p.charAt(v)+p.charAt(f)+p.charAt(w));return _.join("")},h.decode=function(k){var b,l,E,c,v,f,w=0,_=0,R="data:";if(k.substr(0,R.length)===R)throw new Error("Invalid base64 input, it looks like a data url.");var M,U=3*(k=k.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(k.charAt(k.length-1)===p.charAt(64)&&U--,k.charAt(k.length-2)===p.charAt(64)&&U--,U%1!=0)throw new Error("Invalid base64 input, bad content length.");for(M=g.uint8array?new Uint8Array(0|U):new Array(0|U);w<k.length;)b=p.indexOf(k.charAt(w++))<<2|(c=p.indexOf(k.charAt(w++)))>>4,l=(15&c)<<4|(v=p.indexOf(k.charAt(w++)))>>2,E=(3&v)<<6|(f=p.indexOf(k.charAt(w++))),M[_++]=b,v!==64&&(M[_++]=l),f!==64&&(M[_++]=E);return M}},{"./support":30,"./utils":32}],2:[function(D,A,h){"use strict";var m=D("./external"),g=D("./stream/DataWorker"),p=D("./stream/Crc32Probe"),k=D("./stream/DataLengthProbe");function b(l,E,c,v,f){this.compressedSize=l,this.uncompressedSize=E,this.crc32=c,this.compression=v,this.compressedContent=f}b.prototype={getContentWorker:function(){var l=new g(m.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new k("data_length")),E=this;return l.on("end",function(){if(this.streamInfo.data_length!==E.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),l},getCompressedWorker:function(){return new g(m.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},b.createWorkerFrom=function(l,E,c){return l.pipe(new p).pipe(new k("uncompressedSize")).pipe(E.compressWorker(c)).pipe(new k("compressedSize")).withStreamInfo("compression",E)},A.exports=b},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(D,A,h){"use strict";var m=D("./stream/GenericWorker");h.STORE={magic:"\0\0",compressWorker:function(){return new m("STORE compression")},uncompressWorker:function(){return new m("STORE decompression")}},h.DEFLATE=D("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(D,A,h){"use strict";var m=D("./utils"),g=function(){for(var p,k=[],b=0;b<256;b++){p=b;for(var l=0;l<8;l++)p=1&p?3988292384^p>>>1:p>>>1;k[b]=p}return k}();A.exports=function(p,k){return p!==void 0&&p.length?m.getTypeOf(p)!=="string"?function(b,l,E,c){var v=g,f=c+E;b^=-1;for(var w=c;w<f;w++)b=b>>>8^v[255&(b^l[w])];return-1^b}(0|k,p,p.length,0):function(b,l,E,c){var v=g,f=c+E;b^=-1;for(var w=c;w<f;w++)b=b>>>8^v[255&(b^l.charCodeAt(w))];return-1^b}(0|k,p,p.length,0):0}},{"./utils":32}],5:[function(D,A,h){"use strict";h.base64=!1,h.binary=!1,h.dir=!1,h.createFolders=!0,h.date=null,h.compression=null,h.compressionOptions=null,h.comment=null,h.unixPermissions=null,h.dosPermissions=null},{}],6:[function(D,A,h){"use strict";var m=null;m=typeof Promise!="undefined"?Promise:D("lie"),A.exports={Promise:m}},{lie:37}],7:[function(D,A,h){"use strict";var m=typeof Uint8Array!="undefined"&&typeof Uint16Array!="undefined"&&typeof Uint32Array!="undefined",g=D("pako"),p=D("./utils"),k=D("./stream/GenericWorker"),b=m?"uint8array":"array";function l(E,c){k.call(this,"FlateWorker/"+E),this._pako=null,this._pakoAction=E,this._pakoOptions=c,this.meta={}}h.magic="\b\0",p.inherits(l,k),l.prototype.processChunk=function(E){this.meta=E.meta,this._pako===null&&this._createPako(),this._pako.push(p.transformTo(b,E.data),!1)},l.prototype.flush=function(){k.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},l.prototype.cleanUp=function(){k.prototype.cleanUp.call(this),this._pako=null},l.prototype._createPako=function(){this._pako=new g[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var E=this;this._pako.onData=function(c){E.push({data:c,meta:E.meta})}},h.compressWorker=function(E){return new l("Deflate",E)},h.uncompressWorker=function(){return new l("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(D,A,h){"use strict";function m(v,f){var w,_="";for(w=0;w<f;w++)_+=String.fromCharCode(255&v),v>>>=8;return _}function g(v,f,w,_,R,M){var U,x,y=v.file,W=v.compression,Q=M!==b.utf8encode,Z=p.transformTo("string",M(y.name)),ee=p.transformTo("string",b.utf8encode(y.name)),J=y.comment,O=p.transformTo("string",M(J)),H=p.transformTo("string",b.utf8encode(J)),I=ee.length!==y.name.length,u=H.length!==J.length,N="",q="",V="",K=y.dir,j=y.date,ie={crc32:0,compressedSize:0,uncompressedSize:0};f&&!w||(ie.crc32=v.crc32,ie.compressedSize=v.compressedSize,ie.uncompressedSize=v.uncompressedSize);var X=0;f&&(X|=8),Q||!I&&!u||(X|=2048);var B=0,se=0;K&&(B|=16),R==="UNIX"?(se=798,B|=function(we,_e){var Me=we;return we||(Me=_e?16893:33204),(65535&Me)<<16}(y.unixPermissions,K)):(se=20,B|=function(we){return 63&(we||0)}(y.dosPermissions)),U=j.getUTCHours(),U<<=6,U|=j.getUTCMinutes(),U<<=5,U|=j.getUTCSeconds()/2,x=j.getUTCFullYear()-1980,x<<=4,x|=j.getUTCMonth()+1,x<<=5,x|=j.getUTCDate(),I&&(q=m(1,1)+m(l(Z),4)+ee,N+="up"+m(q.length,2)+q),u&&(V=m(1,1)+m(l(O),4)+H,N+="uc"+m(V.length,2)+V);var Pe="";return Pe+=`
\0`,Pe+=m(X,2),Pe+=W.magic,Pe+=m(U,2),Pe+=m(x,2),Pe+=m(ie.crc32,4),Pe+=m(ie.compressedSize,4),Pe+=m(ie.uncompressedSize,4),Pe+=m(Z.length,2),Pe+=m(N.length,2),{fileRecord:E.LOCAL_FILE_HEADER+Pe+Z+N,dirRecord:E.CENTRAL_FILE_HEADER+m(se,2)+Pe+m(O.length,2)+"\0\0\0\0"+m(B,4)+m(_,4)+Z+N+O}}var p=D("../utils"),k=D("../stream/GenericWorker"),b=D("../utf8"),l=D("../crc32"),E=D("../signature");function c(v,f,w,_){k.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=f,this.zipPlatform=w,this.encodeFileName=_,this.streamFiles=v,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}p.inherits(c,k),c.prototype.push=function(v){var f=v.meta.percent||0,w=this.entriesCount,_=this._sources.length;this.accumulate?this.contentBuffer.push(v):(this.bytesWritten+=v.data.length,k.prototype.push.call(this,{data:v.data,meta:{currentFile:this.currentFile,percent:w?(f+100*(w-_-1))/w:100}}))},c.prototype.openedSource=function(v){this.currentSourceOffset=this.bytesWritten,this.currentFile=v.file.name;var f=this.streamFiles&&!v.file.dir;if(f){var w=g(v,f,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:w.fileRecord,meta:{percent:0}})}else this.accumulate=!0},c.prototype.closedSource=function(v){this.accumulate=!1;var f=this.streamFiles&&!v.file.dir,w=g(v,f,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(w.dirRecord),f)this.push({data:function(_){return E.DATA_DESCRIPTOR+m(_.crc32,4)+m(_.compressedSize,4)+m(_.uncompressedSize,4)}(v),meta:{percent:100}});else for(this.push({data:w.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},c.prototype.flush=function(){for(var v=this.bytesWritten,f=0;f<this.dirRecords.length;f++)this.push({data:this.dirRecords[f],meta:{percent:100}});var w=this.bytesWritten-v,_=function(R,M,U,x,y){var W=p.transformTo("string",y(x));return E.CENTRAL_DIRECTORY_END+"\0\0\0\0"+m(R,2)+m(R,2)+m(M,4)+m(U,4)+m(W.length,2)+W}(this.dirRecords.length,w,v,this.zipComment,this.encodeFileName);this.push({data:_,meta:{percent:100}})},c.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},c.prototype.registerPrevious=function(v){this._sources.push(v);var f=this;return v.on("data",function(w){f.processChunk(w)}),v.on("end",function(){f.closedSource(f.previous.streamInfo),f._sources.length?f.prepareNextSource():f.end()}),v.on("error",function(w){f.error(w)}),this},c.prototype.resume=function(){return!!k.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},c.prototype.error=function(v){var f=this._sources;if(!k.prototype.error.call(this,v))return!1;for(var w=0;w<f.length;w++)try{f[w].error(v)}catch{}return!0},c.prototype.lock=function(){k.prototype.lock.call(this);for(var v=this._sources,f=0;f<v.length;f++)v[f].lock()},A.exports=c},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(D,A,h){"use strict";var m=D("../compressions"),g=D("./ZipFileWorker");h.generateWorker=function(p,k,b){var l=new g(k.streamFiles,b,k.platform,k.encodeFileName),E=0;try{p.forEach(function(c,v){E++;var f=function(M,U){var x=M||U,y=m[x];if(!y)throw new Error(x+" is not a valid compression method !");return y}(v.options.compression,k.compression),w=v.options.compressionOptions||k.compressionOptions||{},_=v.dir,R=v.date;v._compressWorker(f,w).withStreamInfo("file",{name:c,dir:_,date:R,comment:v.comment||"",unixPermissions:v.unixPermissions,dosPermissions:v.dosPermissions}).pipe(l)}),l.entriesCount=E}catch(c){l.error(c)}return l}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(D,A,h){"use strict";function m(){if(!(this instanceof m))return new m;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var g=new m;for(var p in this)typeof this[p]!="function"&&(g[p]=this[p]);return g}}(m.prototype=D("./object")).loadAsync=D("./load"),m.support=D("./support"),m.defaults=D("./defaults"),m.version="3.10.1",m.loadAsync=function(g,p){return new m().loadAsync(g,p)},m.external=D("./external"),A.exports=m},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(D,A,h){"use strict";var m=D("./utils"),g=D("./external"),p=D("./utf8"),k=D("./zipEntries"),b=D("./stream/Crc32Probe"),l=D("./nodejsUtils");function E(c){return new g.Promise(function(v,f){var w=c.decompressed.getContentWorker().pipe(new b);w.on("error",function(_){f(_)}).on("end",function(){w.streamInfo.crc32!==c.decompressed.crc32?f(new Error("Corrupted zip : CRC32 mismatch")):v()}).resume()})}A.exports=function(c,v){var f=this;return v=m.extend(v||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:p.utf8decode}),l.isNode&&l.isStream(c)?g.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):m.prepareContent("the loaded zip file",c,!0,v.optimizedBinaryString,v.base64).then(function(w){var _=new k(v);return _.load(w),_}).then(function(w){var _=[g.Promise.resolve(w)],R=w.files;if(v.checkCRC32)for(var M=0;M<R.length;M++)_.push(E(R[M]));return g.Promise.all(_)}).then(function(w){for(var _=w.shift(),R=_.files,M=0;M<R.length;M++){var U=R[M],x=U.fileNameStr,y=m.resolve(U.fileNameStr);f.file(y,U.decompressed,{binary:!0,optimizedBinaryString:!0,date:U.date,dir:U.dir,comment:U.fileCommentStr.length?U.fileCommentStr:null,unixPermissions:U.unixPermissions,dosPermissions:U.dosPermissions,createFolders:v.createFolders}),U.dir||(f.file(y).unsafeOriginalName=x)}return _.zipComment.length&&(f.comment=_.zipComment),f})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(D,A,h){"use strict";var m=D("../utils"),g=D("../stream/GenericWorker");function p(k,b){g.call(this,"Nodejs stream input adapter for "+k),this._upstreamEnded=!1,this._bindStream(b)}m.inherits(p,g),p.prototype._bindStream=function(k){var b=this;(this._stream=k).pause(),k.on("data",function(l){b.push({data:l,meta:{percent:0}})}).on("error",function(l){b.isPaused?this.generatedError=l:b.error(l)}).on("end",function(){b.isPaused?b._upstreamEnded=!0:b.end()})},p.prototype.pause=function(){return!!g.prototype.pause.call(this)&&(this._stream.pause(),!0)},p.prototype.resume=function(){return!!g.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},A.exports=p},{"../stream/GenericWorker":28,"../utils":32}],13:[function(D,A,h){"use strict";var m=D("readable-stream").Readable;function g(p,k,b){m.call(this,k),this._helper=p;var l=this;p.on("data",function(E,c){l.push(E)||l._helper.pause(),b&&b(c)}).on("error",function(E){l.emit("error",E)}).on("end",function(){l.push(null)})}D("../utils").inherits(g,m),g.prototype._read=function(){this._helper.resume()},A.exports=g},{"../utils":32,"readable-stream":16}],14:[function(D,A,h){"use strict";A.exports={isNode:typeof P!="undefined",newBufferFrom:function(m,g){if(P.from&&P.from!==Uint8Array.from)return P.from(m,g);if(typeof m=="number")throw new Error('The "data" argument must not be a number');return new P(m,g)},allocBuffer:function(m){if(P.alloc)return P.alloc(m);var g=new P(m);return g.fill(0),g},isBuffer:function(m){return P.isBuffer(m)},isStream:function(m){return m&&typeof m.on=="function"&&typeof m.pause=="function"&&typeof m.resume=="function"}}},{}],15:[function(D,A,h){"use strict";function m(y,W,Q){var Z,ee=p.getTypeOf(W),J=p.extend(Q||{},l);J.date=J.date||new Date,J.compression!==null&&(J.compression=J.compression.toUpperCase()),typeof J.unixPermissions=="string"&&(J.unixPermissions=parseInt(J.unixPermissions,8)),J.unixPermissions&&16384&J.unixPermissions&&(J.dir=!0),J.dosPermissions&&16&J.dosPermissions&&(J.dir=!0),J.dir&&(y=R(y)),J.createFolders&&(Z=_(y))&&M.call(this,Z,!0);var O=ee==="string"&&J.binary===!1&&J.base64===!1;Q&&Q.binary!==void 0||(J.binary=!O),(W instanceof E&&W.uncompressedSize===0||J.dir||!W||W.length===0)&&(J.base64=!1,J.binary=!0,W="",J.compression="STORE",ee="string");var H=null;H=W instanceof E||W instanceof k?W:f.isNode&&f.isStream(W)?new w(y,W):p.prepareContent(y,W,J.binary,J.optimizedBinaryString,J.base64);var I=new c(y,H,J);this.files[y]=I}var g=D("./utf8"),p=D("./utils"),k=D("./stream/GenericWorker"),b=D("./stream/StreamHelper"),l=D("./defaults"),E=D("./compressedObject"),c=D("./zipObject"),v=D("./generate"),f=D("./nodejsUtils"),w=D("./nodejs/NodejsStreamInputAdapter"),_=function(y){y.slice(-1)==="/"&&(y=y.substring(0,y.length-1));var W=y.lastIndexOf("/");return 0<W?y.substring(0,W):""},R=function(y){return y.slice(-1)!=="/"&&(y+="/"),y},M=function(y,W){return W=W!==void 0?W:l.createFolders,y=R(y),this.files[y]||m.call(this,y,null,{dir:!0,createFolders:W}),this.files[y]};function U(y){return Object.prototype.toString.call(y)==="[object RegExp]"}var x={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(y){var W,Q,Z;for(W in this.files)Z=this.files[W],(Q=W.slice(this.root.length,W.length))&&W.slice(0,this.root.length)===this.root&&y(Q,Z)},filter:function(y){var W=[];return this.forEach(function(Q,Z){y(Q,Z)&&W.push(Z)}),W},file:function(y,W,Q){if(arguments.length!==1)return y=this.root+y,m.call(this,y,W,Q),this;if(U(y)){var Z=y;return this.filter(function(J,O){return!O.dir&&Z.test(J)})}var ee=this.files[this.root+y];return ee&&!ee.dir?ee:null},folder:function(y){if(!y)return this;if(U(y))return this.filter(function(ee,J){return J.dir&&y.test(ee)});var W=this.root+y,Q=M.call(this,W),Z=this.clone();return Z.root=Q.name,Z},remove:function(y){y=this.root+y;var W=this.files[y];if(W||(y.slice(-1)!=="/"&&(y+="/"),W=this.files[y]),W&&!W.dir)delete this.files[y];else for(var Q=this.filter(function(ee,J){return J.name.slice(0,y.length)===y}),Z=0;Z<Q.length;Z++)delete this.files[Q[Z].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(y){var W,Q={};try{if((Q=p.extend(y||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:g.utf8encode})).type=Q.type.toLowerCase(),Q.compression=Q.compression.toUpperCase(),Q.type==="binarystring"&&(Q.type="string"),!Q.type)throw new Error("No output type specified.");p.checkSupport(Q.type),Q.platform!=="darwin"&&Q.platform!=="freebsd"&&Q.platform!=="linux"&&Q.platform!=="sunos"||(Q.platform="UNIX"),Q.platform==="win32"&&(Q.platform="DOS");var Z=Q.comment||this.comment||"";W=v.generateWorker(this,Q,Z)}catch(ee){(W=new k("error")).error(ee)}return new b(W,Q.type||"string",Q.mimeType)},generateAsync:function(y,W){return this.generateInternalStream(y).accumulate(W)},generateNodeStream:function(y,W){return(y=y||{}).type||(y.type="nodebuffer"),this.generateInternalStream(y).toNodejsStream(W)}};A.exports=x},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(D,A,h){"use strict";A.exports=D("stream")},{stream:void 0}],17:[function(D,A,h){"use strict";var m=D("./DataReader");function g(p){m.call(this,p);for(var k=0;k<this.data.length;k++)p[k]=255&p[k]}D("../utils").inherits(g,m),g.prototype.byteAt=function(p){return this.data[this.zero+p]},g.prototype.lastIndexOfSignature=function(p){for(var k=p.charCodeAt(0),b=p.charCodeAt(1),l=p.charCodeAt(2),E=p.charCodeAt(3),c=this.length-4;0<=c;--c)if(this.data[c]===k&&this.data[c+1]===b&&this.data[c+2]===l&&this.data[c+3]===E)return c-this.zero;return-1},g.prototype.readAndCheckSignature=function(p){var k=p.charCodeAt(0),b=p.charCodeAt(1),l=p.charCodeAt(2),E=p.charCodeAt(3),c=this.readData(4);return k===c[0]&&b===c[1]&&l===c[2]&&E===c[3]},g.prototype.readData=function(p){if(this.checkOffset(p),p===0)return[];var k=this.data.slice(this.zero+this.index,this.zero+this.index+p);return this.index+=p,k},A.exports=g},{"../utils":32,"./DataReader":18}],18:[function(D,A,h){"use strict";var m=D("../utils");function g(p){this.data=p,this.length=p.length,this.index=0,this.zero=0}g.prototype={checkOffset:function(p){this.checkIndex(this.index+p)},checkIndex:function(p){if(this.length<this.zero+p||p<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+p+"). Corrupted zip ?")},setIndex:function(p){this.checkIndex(p),this.index=p},skip:function(p){this.setIndex(this.index+p)},byteAt:function(){},readInt:function(p){var k,b=0;for(this.checkOffset(p),k=this.index+p-1;k>=this.index;k--)b=(b<<8)+this.byteAt(k);return this.index+=p,b},readString:function(p){return m.transformTo("string",this.readData(p))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var p=this.readInt(4);return new Date(Date.UTC(1980+(p>>25&127),(p>>21&15)-1,p>>16&31,p>>11&31,p>>5&63,(31&p)<<1))}},A.exports=g},{"../utils":32}],19:[function(D,A,h){"use strict";var m=D("./Uint8ArrayReader");function g(p){m.call(this,p)}D("../utils").inherits(g,m),g.prototype.readData=function(p){this.checkOffset(p);var k=this.data.slice(this.zero+this.index,this.zero+this.index+p);return this.index+=p,k},A.exports=g},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(D,A,h){"use strict";var m=D("./DataReader");function g(p){m.call(this,p)}D("../utils").inherits(g,m),g.prototype.byteAt=function(p){return this.data.charCodeAt(this.zero+p)},g.prototype.lastIndexOfSignature=function(p){return this.data.lastIndexOf(p)-this.zero},g.prototype.readAndCheckSignature=function(p){return p===this.readData(4)},g.prototype.readData=function(p){this.checkOffset(p);var k=this.data.slice(this.zero+this.index,this.zero+this.index+p);return this.index+=p,k},A.exports=g},{"../utils":32,"./DataReader":18}],21:[function(D,A,h){"use strict";var m=D("./ArrayReader");function g(p){m.call(this,p)}D("../utils").inherits(g,m),g.prototype.readData=function(p){if(this.checkOffset(p),p===0)return new Uint8Array(0);var k=this.data.subarray(this.zero+this.index,this.zero+this.index+p);return this.index+=p,k},A.exports=g},{"../utils":32,"./ArrayReader":17}],22:[function(D,A,h){"use strict";var m=D("../utils"),g=D("../support"),p=D("./ArrayReader"),k=D("./StringReader"),b=D("./NodeBufferReader"),l=D("./Uint8ArrayReader");A.exports=function(E){var c=m.getTypeOf(E);return m.checkSupport(c),c!=="string"||g.uint8array?c==="nodebuffer"?new b(E):g.uint8array?new l(m.transformTo("uint8array",E)):new p(m.transformTo("array",E)):new k(E)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(D,A,h){"use strict";h.LOCAL_FILE_HEADER="PK",h.CENTRAL_FILE_HEADER="PK",h.CENTRAL_DIRECTORY_END="PK",h.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",h.ZIP64_CENTRAL_DIRECTORY_END="PK",h.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(D,A,h){"use strict";var m=D("./GenericWorker"),g=D("../utils");function p(k){m.call(this,"ConvertWorker to "+k),this.destType=k}g.inherits(p,m),p.prototype.processChunk=function(k){this.push({data:g.transformTo(this.destType,k.data),meta:k.meta})},A.exports=p},{"../utils":32,"./GenericWorker":28}],25:[function(D,A,h){"use strict";var m=D("./GenericWorker"),g=D("../crc32");function p(){m.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}D("../utils").inherits(p,m),p.prototype.processChunk=function(k){this.streamInfo.crc32=g(k.data,this.streamInfo.crc32||0),this.push(k)},A.exports=p},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(D,A,h){"use strict";var m=D("../utils"),g=D("./GenericWorker");function p(k){g.call(this,"DataLengthProbe for "+k),this.propName=k,this.withStreamInfo(k,0)}m.inherits(p,g),p.prototype.processChunk=function(k){if(k){var b=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=b+k.data.length}g.prototype.processChunk.call(this,k)},A.exports=p},{"../utils":32,"./GenericWorker":28}],27:[function(D,A,h){"use strict";var m=D("../utils"),g=D("./GenericWorker");function p(k){g.call(this,"DataWorker");var b=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,k.then(function(l){b.dataIsReady=!0,b.data=l,b.max=l&&l.length||0,b.type=m.getTypeOf(l),b.isPaused||b._tickAndRepeat()},function(l){b.error(l)})}m.inherits(p,g),p.prototype.cleanUp=function(){g.prototype.cleanUp.call(this),this.data=null},p.prototype.resume=function(){return!!g.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,m.delay(this._tickAndRepeat,[],this)),!0)},p.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(m.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},p.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var k=null,b=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":k=this.data.substring(this.index,b);break;case"uint8array":k=this.data.subarray(this.index,b);break;case"array":case"nodebuffer":k=this.data.slice(this.index,b)}return this.index=b,this.push({data:k,meta:{percent:this.max?this.index/this.max*100:0}})},A.exports=p},{"../utils":32,"./GenericWorker":28}],28:[function(D,A,h){"use strict";function m(g){this.name=g||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}m.prototype={push:function(g){this.emit("data",g)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(g){this.emit("error",g)}return!0},error:function(g){return!this.isFinished&&(this.isPaused?this.generatedError=g:(this.isFinished=!0,this.emit("error",g),this.previous&&this.previous.error(g),this.cleanUp()),!0)},on:function(g,p){return this._listeners[g].push(p),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(g,p){if(this._listeners[g])for(var k=0;k<this._listeners[g].length;k++)this._listeners[g][k].call(this,p)},pipe:function(g){return g.registerPrevious(this)},registerPrevious:function(g){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=g.streamInfo,this.mergeStreamInfo(),this.previous=g;var p=this;return g.on("data",function(k){p.processChunk(k)}),g.on("end",function(){p.end()}),g.on("error",function(k){p.error(k)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var g=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),g=!0),this.previous&&this.previous.resume(),!g},flush:function(){},processChunk:function(g){this.push(g)},withStreamInfo:function(g,p){return this.extraStreamInfo[g]=p,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var g in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,g)&&(this.streamInfo[g]=this.extraStreamInfo[g])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var g="Worker "+this.name;return this.previous?this.previous+" -> "+g:g}},A.exports=m},{}],29:[function(D,A,h){"use strict";var m=D("../utils"),g=D("./ConvertWorker"),p=D("./GenericWorker"),k=D("../base64"),b=D("../support"),l=D("../external"),E=null;if(b.nodestream)try{E=D("../nodejs/NodejsStreamOutputAdapter")}catch{}function c(f,w){return new l.Promise(function(_,R){var M=[],U=f._internalType,x=f._outputType,y=f._mimeType;f.on("data",function(W,Q){M.push(W),w&&w(Q)}).on("error",function(W){M=[],R(W)}).on("end",function(){try{var W=function(Q,Z,ee){switch(Q){case"blob":return m.newBlob(m.transformTo("arraybuffer",Z),ee);case"base64":return k.encode(Z);default:return m.transformTo(Q,Z)}}(x,function(Q,Z){var ee,J=0,O=null,H=0;for(ee=0;ee<Z.length;ee++)H+=Z[ee].length;switch(Q){case"string":return Z.join("");case"array":return Array.prototype.concat.apply([],Z);case"uint8array":for(O=new Uint8Array(H),ee=0;ee<Z.length;ee++)O.set(Z[ee],J),J+=Z[ee].length;return O;case"nodebuffer":return P.concat(Z);default:throw new Error("concat : unsupported type '"+Q+"'")}}(U,M),y);_(W)}catch(Q){R(Q)}M=[]}).resume()})}function v(f,w,_){var R=w;switch(w){case"blob":case"arraybuffer":R="uint8array";break;case"base64":R="string"}try{this._internalType=R,this._outputType=w,this._mimeType=_,m.checkSupport(R),this._worker=f.pipe(new g(R)),f.lock()}catch(M){this._worker=new p("error"),this._worker.error(M)}}v.prototype={accumulate:function(f){return c(this,f)},on:function(f,w){var _=this;return f==="data"?this._worker.on(f,function(R){w.call(_,R.data,R.meta)}):this._worker.on(f,function(){m.delay(w,arguments,_)}),this},resume:function(){return m.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(f){if(m.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new E(this,{objectMode:this._outputType!=="nodebuffer"},f)}},A.exports=v},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(D,A,h){"use strict";if(h.base64=!0,h.array=!0,h.string=!0,h.arraybuffer=typeof ArrayBuffer!="undefined"&&typeof Uint8Array!="undefined",h.nodebuffer=typeof P!="undefined",h.uint8array=typeof Uint8Array!="undefined",typeof ArrayBuffer=="undefined")h.blob=!1;else{var m=new ArrayBuffer(0);try{h.blob=new Blob([m],{type:"application/zip"}).size===0}catch{try{var g=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);g.append(m),h.blob=g.getBlob("application/zip").size===0}catch{h.blob=!1}}}try{h.nodestream=!!D("readable-stream").Readable}catch{h.nodestream=!1}},{"readable-stream":16}],31:[function(D,A,h){"use strict";for(var m=D("./utils"),g=D("./support"),p=D("./nodejsUtils"),k=D("./stream/GenericWorker"),b=new Array(256),l=0;l<256;l++)b[l]=252<=l?6:248<=l?5:240<=l?4:224<=l?3:192<=l?2:1;b[254]=b[254]=1;function E(){k.call(this,"utf-8 decode"),this.leftOver=null}function c(){k.call(this,"utf-8 encode")}h.utf8encode=function(v){return g.nodebuffer?p.newBufferFrom(v,"utf-8"):function(f){var w,_,R,M,U,x=f.length,y=0;for(M=0;M<x;M++)(64512&(_=f.charCodeAt(M)))==55296&&M+1<x&&(64512&(R=f.charCodeAt(M+1)))==56320&&(_=65536+(_-55296<<10)+(R-56320),M++),y+=_<128?1:_<2048?2:_<65536?3:4;for(w=g.uint8array?new Uint8Array(y):new Array(y),M=U=0;U<y;M++)(64512&(_=f.charCodeAt(M)))==55296&&M+1<x&&(64512&(R=f.charCodeAt(M+1)))==56320&&(_=65536+(_-55296<<10)+(R-56320),M++),_<128?w[U++]=_:(_<2048?w[U++]=192|_>>>6:(_<65536?w[U++]=224|_>>>12:(w[U++]=240|_>>>18,w[U++]=128|_>>>12&63),w[U++]=128|_>>>6&63),w[U++]=128|63&_);return w}(v)},h.utf8decode=function(v){return g.nodebuffer?m.transformTo("nodebuffer",v).toString("utf-8"):function(f){var w,_,R,M,U=f.length,x=new Array(2*U);for(w=_=0;w<U;)if((R=f[w++])<128)x[_++]=R;else if(4<(M=b[R]))x[_++]=65533,w+=M-1;else{for(R&=M===2?31:M===3?15:7;1<M&&w<U;)R=R<<6|63&f[w++],M--;1<M?x[_++]=65533:R<65536?x[_++]=R:(R-=65536,x[_++]=55296|R>>10&1023,x[_++]=56320|1023&R)}return x.length!==_&&(x.subarray?x=x.subarray(0,_):x.length=_),m.applyFromCharCode(x)}(v=m.transformTo(g.uint8array?"uint8array":"array",v))},m.inherits(E,k),E.prototype.processChunk=function(v){var f=m.transformTo(g.uint8array?"uint8array":"array",v.data);if(this.leftOver&&this.leftOver.length){if(g.uint8array){var w=f;(f=new Uint8Array(w.length+this.leftOver.length)).set(this.leftOver,0),f.set(w,this.leftOver.length)}else f=this.leftOver.concat(f);this.leftOver=null}var _=function(M,U){var x;for((U=U||M.length)>M.length&&(U=M.length),x=U-1;0<=x&&(192&M[x])==128;)x--;return x<0||x===0?U:x+b[M[x]]>U?x:U}(f),R=f;_!==f.length&&(g.uint8array?(R=f.subarray(0,_),this.leftOver=f.subarray(_,f.length)):(R=f.slice(0,_),this.leftOver=f.slice(_,f.length))),this.push({data:h.utf8decode(R),meta:v.meta})},E.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:h.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},h.Utf8DecodeWorker=E,m.inherits(c,k),c.prototype.processChunk=function(v){this.push({data:h.utf8encode(v.data),meta:v.meta})},h.Utf8EncodeWorker=c},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(D,A,h){"use strict";var m=D("./support"),g=D("./base64"),p=D("./nodejsUtils"),k=D("./external");function b(w){return w}function l(w,_){for(var R=0;R<w.length;++R)_[R]=255&w.charCodeAt(R);return _}D("setimmediate"),h.newBlob=function(w,_){h.checkSupport("blob");try{return new Blob([w],{type:_})}catch{try{var R=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return R.append(w),R.getBlob(_)}catch{throw new Error("Bug : can't construct the Blob.")}}};var E={stringifyByChunk:function(w,_,R){var M=[],U=0,x=w.length;if(x<=R)return String.fromCharCode.apply(null,w);for(;U<x;)_==="array"||_==="nodebuffer"?M.push(String.fromCharCode.apply(null,w.slice(U,Math.min(U+R,x)))):M.push(String.fromCharCode.apply(null,w.subarray(U,Math.min(U+R,x)))),U+=R;return M.join("")},stringifyByChar:function(w){for(var _="",R=0;R<w.length;R++)_+=String.fromCharCode(w[R]);return _},applyCanBeUsed:{uint8array:function(){try{return m.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return m.nodebuffer&&String.fromCharCode.apply(null,p.allocBuffer(1)).length===1}catch{return!1}}()}};function c(w){var _=65536,R=h.getTypeOf(w),M=!0;if(R==="uint8array"?M=E.applyCanBeUsed.uint8array:R==="nodebuffer"&&(M=E.applyCanBeUsed.nodebuffer),M)for(;1<_;)try{return E.stringifyByChunk(w,R,_)}catch{_=Math.floor(_/2)}return E.stringifyByChar(w)}function v(w,_){for(var R=0;R<w.length;R++)_[R]=w[R];return _}h.applyFromCharCode=c;var f={};f.string={string:b,array:function(w){return l(w,new Array(w.length))},arraybuffer:function(w){return f.string.uint8array(w).buffer},uint8array:function(w){return l(w,new Uint8Array(w.length))},nodebuffer:function(w){return l(w,p.allocBuffer(w.length))}},f.array={string:c,array:b,arraybuffer:function(w){return new Uint8Array(w).buffer},uint8array:function(w){return new Uint8Array(w)},nodebuffer:function(w){return p.newBufferFrom(w)}},f.arraybuffer={string:function(w){return c(new Uint8Array(w))},array:function(w){return v(new Uint8Array(w),new Array(w.byteLength))},arraybuffer:b,uint8array:function(w){return new Uint8Array(w)},nodebuffer:function(w){return p.newBufferFrom(new Uint8Array(w))}},f.uint8array={string:c,array:function(w){return v(w,new Array(w.length))},arraybuffer:function(w){return w.buffer},uint8array:b,nodebuffer:function(w){return p.newBufferFrom(w)}},f.nodebuffer={string:c,array:function(w){return v(w,new Array(w.length))},arraybuffer:function(w){return f.nodebuffer.uint8array(w).buffer},uint8array:function(w){return v(w,new Uint8Array(w.length))},nodebuffer:b},h.transformTo=function(w,_){if(_=_||"",!w)return _;h.checkSupport(w);var R=h.getTypeOf(_);return f[R][w](_)},h.resolve=function(w){for(var _=w.split("/"),R=[],M=0;M<_.length;M++){var U=_[M];U==="."||U===""&&M!==0&&M!==_.length-1||(U===".."?R.pop():R.push(U))}return R.join("/")},h.getTypeOf=function(w){return typeof w=="string"?"string":Object.prototype.toString.call(w)==="[object Array]"?"array":m.nodebuffer&&p.isBuffer(w)?"nodebuffer":m.uint8array&&w instanceof Uint8Array?"uint8array":m.arraybuffer&&w instanceof ArrayBuffer?"arraybuffer":void 0},h.checkSupport=function(w){if(!m[w.toLowerCase()])throw new Error(w+" is not supported by this platform")},h.MAX_VALUE_16BITS=65535,h.MAX_VALUE_32BITS=-1,h.pretty=function(w){var _,R,M="";for(R=0;R<(w||"").length;R++)M+="\\x"+((_=w.charCodeAt(R))<16?"0":"")+_.toString(16).toUpperCase();return M},h.delay=function(w,_,R){setImmediate(function(){w.apply(R||null,_||[])})},h.inherits=function(w,_){function R(){}R.prototype=_.prototype,w.prototype=new R},h.extend=function(){var w,_,R={};for(w=0;w<arguments.length;w++)for(_ in arguments[w])Object.prototype.hasOwnProperty.call(arguments[w],_)&&R[_]===void 0&&(R[_]=arguments[w][_]);return R},h.prepareContent=function(w,_,R,M,U){return k.Promise.resolve(_).then(function(x){return m.blob&&(x instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(x))!==-1)&&typeof FileReader!="undefined"?new k.Promise(function(y,W){var Q=new FileReader;Q.onload=function(Z){y(Z.target.result)},Q.onerror=function(Z){W(Z.target.error)},Q.readAsArrayBuffer(x)}):x}).then(function(x){var y=h.getTypeOf(x);return y?(y==="arraybuffer"?x=h.transformTo("uint8array",x):y==="string"&&(U?x=g.decode(x):R&&M!==!0&&(x=function(W){return l(W,m.uint8array?new Uint8Array(W.length):new Array(W.length))}(x))),x):k.Promise.reject(new Error("Can't read the data of '"+w+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(D,A,h){"use strict";var m=D("./reader/readerFor"),g=D("./utils"),p=D("./signature"),k=D("./zipEntry"),b=D("./support");function l(E){this.files=[],this.loadOptions=E}l.prototype={checkSignature:function(E){if(!this.reader.readAndCheckSignature(E)){this.reader.index-=4;var c=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+g.pretty(c)+", expected "+g.pretty(E)+")")}},isSignature:function(E,c){var v=this.reader.index;this.reader.setIndex(E);var f=this.reader.readString(4)===c;return this.reader.setIndex(v),f},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var E=this.reader.readData(this.zipCommentLength),c=b.uint8array?"uint8array":"array",v=g.transformTo(c,E);this.zipComment=this.loadOptions.decodeFileName(v)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var E,c,v,f=this.zip64EndOfCentralSize-44;0<f;)E=this.reader.readInt(2),c=this.reader.readInt(4),v=this.reader.readData(c),this.zip64ExtensibleData[E]={id:E,length:c,value:v}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var E,c;for(E=0;E<this.files.length;E++)c=this.files[E],this.reader.setIndex(c.localHeaderOffset),this.checkSignature(p.LOCAL_FILE_HEADER),c.readLocalPart(this.reader),c.handleUTF8(),c.processAttributes()},readCentralDir:function(){var E;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(p.CENTRAL_FILE_HEADER);)(E=new k({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(E);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var E=this.reader.lastIndexOfSignature(p.CENTRAL_DIRECTORY_END);if(E<0)throw this.isSignature(0,p.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(E);var c=E;if(this.checkSignature(p.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===g.MAX_VALUE_16BITS||this.diskWithCentralDirStart===g.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===g.MAX_VALUE_16BITS||this.centralDirRecords===g.MAX_VALUE_16BITS||this.centralDirSize===g.MAX_VALUE_32BITS||this.centralDirOffset===g.MAX_VALUE_32BITS){if(this.zip64=!0,(E=this.reader.lastIndexOfSignature(p.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(E),this.checkSignature(p.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,p.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(p.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(p.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var v=this.centralDirOffset+this.centralDirSize;this.zip64&&(v+=20,v+=12+this.zip64EndOfCentralSize);var f=c-v;if(0<f)this.isSignature(c,p.CENTRAL_FILE_HEADER)||(this.reader.zero=f);else if(f<0)throw new Error("Corrupted zip: missing "+Math.abs(f)+" bytes.")},prepareReader:function(E){this.reader=m(E)},load:function(E){this.prepareReader(E),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},A.exports=l},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(D,A,h){"use strict";var m=D("./reader/readerFor"),g=D("./utils"),p=D("./compressedObject"),k=D("./crc32"),b=D("./utf8"),l=D("./compressions"),E=D("./support");function c(v,f){this.options=v,this.loadOptions=f}c.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(v){var f,w;if(v.skip(22),this.fileNameLength=v.readInt(2),w=v.readInt(2),this.fileName=v.readData(this.fileNameLength),v.skip(w),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((f=function(_){for(var R in l)if(Object.prototype.hasOwnProperty.call(l,R)&&l[R].magic===_)return l[R];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+g.pretty(this.compressionMethod)+" unknown (inner file : "+g.transformTo("string",this.fileName)+")");this.decompressed=new p(this.compressedSize,this.uncompressedSize,this.crc32,f,v.readData(this.compressedSize))},readCentralPart:function(v){this.versionMadeBy=v.readInt(2),v.skip(2),this.bitFlag=v.readInt(2),this.compressionMethod=v.readString(2),this.date=v.readDate(),this.crc32=v.readInt(4),this.compressedSize=v.readInt(4),this.uncompressedSize=v.readInt(4);var f=v.readInt(2);if(this.extraFieldsLength=v.readInt(2),this.fileCommentLength=v.readInt(2),this.diskNumberStart=v.readInt(2),this.internalFileAttributes=v.readInt(2),this.externalFileAttributes=v.readInt(4),this.localHeaderOffset=v.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");v.skip(f),this.readExtraFields(v),this.parseZIP64ExtraField(v),this.fileComment=v.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var v=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),v==0&&(this.dosPermissions=63&this.externalFileAttributes),v==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var v=m(this.extraFields[1].value);this.uncompressedSize===g.MAX_VALUE_32BITS&&(this.uncompressedSize=v.readInt(8)),this.compressedSize===g.MAX_VALUE_32BITS&&(this.compressedSize=v.readInt(8)),this.localHeaderOffset===g.MAX_VALUE_32BITS&&(this.localHeaderOffset=v.readInt(8)),this.diskNumberStart===g.MAX_VALUE_32BITS&&(this.diskNumberStart=v.readInt(4))}},readExtraFields:function(v){var f,w,_,R=v.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});v.index+4<R;)f=v.readInt(2),w=v.readInt(2),_=v.readData(w),this.extraFields[f]={id:f,length:w,value:_};v.setIndex(R)},handleUTF8:function(){var v=E.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=b.utf8decode(this.fileName),this.fileCommentStr=b.utf8decode(this.fileComment);else{var f=this.findExtraFieldUnicodePath();if(f!==null)this.fileNameStr=f;else{var w=g.transformTo(v,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(w)}var _=this.findExtraFieldUnicodeComment();if(_!==null)this.fileCommentStr=_;else{var R=g.transformTo(v,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(R)}}},findExtraFieldUnicodePath:function(){var v=this.extraFields[28789];if(v){var f=m(v.value);return f.readInt(1)!==1||k(this.fileName)!==f.readInt(4)?null:b.utf8decode(f.readData(v.length-5))}return null},findExtraFieldUnicodeComment:function(){var v=this.extraFields[25461];if(v){var f=m(v.value);return f.readInt(1)!==1||k(this.fileComment)!==f.readInt(4)?null:b.utf8decode(f.readData(v.length-5))}return null}},A.exports=c},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(D,A,h){"use strict";function m(f,w,_){this.name=f,this.dir=_.dir,this.date=_.date,this.comment=_.comment,this.unixPermissions=_.unixPermissions,this.dosPermissions=_.dosPermissions,this._data=w,this._dataBinary=_.binary,this.options={compression:_.compression,compressionOptions:_.compressionOptions}}var g=D("./stream/StreamHelper"),p=D("./stream/DataWorker"),k=D("./utf8"),b=D("./compressedObject"),l=D("./stream/GenericWorker");m.prototype={internalStream:function(f){var w=null,_="string";try{if(!f)throw new Error("No output type specified.");var R=(_=f.toLowerCase())==="string"||_==="text";_!=="binarystring"&&_!=="text"||(_="string"),w=this._decompressWorker();var M=!this._dataBinary;M&&!R&&(w=w.pipe(new k.Utf8EncodeWorker)),!M&&R&&(w=w.pipe(new k.Utf8DecodeWorker))}catch(U){(w=new l("error")).error(U)}return new g(w,_,"")},async:function(f,w){return this.internalStream(f).accumulate(w)},nodeStream:function(f,w){return this.internalStream(f||"nodebuffer").toNodejsStream(w)},_compressWorker:function(f,w){if(this._data instanceof b&&this._data.compression.magic===f.magic)return this._data.getCompressedWorker();var _=this._decompressWorker();return this._dataBinary||(_=_.pipe(new k.Utf8EncodeWorker)),b.createWorkerFrom(_,f,w)},_decompressWorker:function(){return this._data instanceof b?this._data.getContentWorker():this._data instanceof l?this._data:new p(this._data)}};for(var E=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],c=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},v=0;v<E.length;v++)m.prototype[E[v]]=c;A.exports=m},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(D,A,h){(function(m){"use strict";var g,p,k=m.MutationObserver||m.WebKitMutationObserver;if(k){var b=0,l=new k(f),E=m.document.createTextNode("");l.observe(E,{characterData:!0}),g=function(){E.data=b=++b%2}}else if(m.setImmediate||m.MessageChannel===void 0)g="document"in m&&"onreadystatechange"in m.document.createElement("script")?function(){var w=m.document.createElement("script");w.onreadystatechange=function(){f(),w.onreadystatechange=null,w.parentNode.removeChild(w),w=null},m.document.documentElement.appendChild(w)}:function(){setTimeout(f,0)};else{var c=new m.MessageChannel;c.port1.onmessage=f,g=function(){c.port2.postMessage(0)}}var v=[];function f(){var w,_;p=!0;for(var R=v.length;R;){for(_=v,v=[],w=-1;++w<R;)_[w]();R=v.length}p=!1}A.exports=function(w){v.push(w)!==1||p||g()}}).call(this,typeof F.g!="undefined"?F.g:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{}],37:[function(D,A,h){"use strict";var m=D("immediate");function g(){}var p={},k=["REJECTED"],b=["FULFILLED"],l=["PENDING"];function E(R){if(typeof R!="function")throw new TypeError("resolver must be a function");this.state=l,this.queue=[],this.outcome=void 0,R!==g&&w(this,R)}function c(R,M,U){this.promise=R,typeof M=="function"&&(this.onFulfilled=M,this.callFulfilled=this.otherCallFulfilled),typeof U=="function"&&(this.onRejected=U,this.callRejected=this.otherCallRejected)}function v(R,M,U){m(function(){var x;try{x=M(U)}catch(y){return p.reject(R,y)}x===R?p.reject(R,new TypeError("Cannot resolve promise with itself")):p.resolve(R,x)})}function f(R){var M=R&&R.then;if(R&&(typeof R=="object"||typeof R=="function")&&typeof M=="function")return function(){M.apply(R,arguments)}}function w(R,M){var U=!1;function x(Q){U||(U=!0,p.reject(R,Q))}function y(Q){U||(U=!0,p.resolve(R,Q))}var W=_(function(){M(y,x)});W.status==="error"&&x(W.value)}function _(R,M){var U={};try{U.value=R(M),U.status="success"}catch(x){U.status="error",U.value=x}return U}(A.exports=E).prototype.finally=function(R){if(typeof R!="function")return this;var M=this.constructor;return this.then(function(U){return M.resolve(R()).then(function(){return U})},function(U){return M.resolve(R()).then(function(){throw U})})},E.prototype.catch=function(R){return this.then(null,R)},E.prototype.then=function(R,M){if(typeof R!="function"&&this.state===b||typeof M!="function"&&this.state===k)return this;var U=new this.constructor(g);return this.state!==l?v(U,this.state===b?R:M,this.outcome):this.queue.push(new c(U,R,M)),U},c.prototype.callFulfilled=function(R){p.resolve(this.promise,R)},c.prototype.otherCallFulfilled=function(R){v(this.promise,this.onFulfilled,R)},c.prototype.callRejected=function(R){p.reject(this.promise,R)},c.prototype.otherCallRejected=function(R){v(this.promise,this.onRejected,R)},p.resolve=function(R,M){var U=_(f,M);if(U.status==="error")return p.reject(R,U.value);var x=U.value;if(x)w(R,x);else{R.state=b,R.outcome=M;for(var y=-1,W=R.queue.length;++y<W;)R.queue[y].callFulfilled(M)}return R},p.reject=function(R,M){R.state=k,R.outcome=M;for(var U=-1,x=R.queue.length;++U<x;)R.queue[U].callRejected(M);return R},E.resolve=function(R){return R instanceof this?R:p.resolve(new this(g),R)},E.reject=function(R){var M=new this(g);return p.reject(M,R)},E.all=function(R){var M=this;if(Object.prototype.toString.call(R)!=="[object Array]")return this.reject(new TypeError("must be an array"));var U=R.length,x=!1;if(!U)return this.resolve([]);for(var y=new Array(U),W=0,Q=-1,Z=new this(g);++Q<U;)ee(R[Q],Q);return Z;function ee(J,O){M.resolve(J).then(function(H){y[O]=H,++W!==U||x||(x=!0,p.resolve(Z,y))},function(H){x||(x=!0,p.reject(Z,H))})}},E.race=function(R){var M=this;if(Object.prototype.toString.call(R)!=="[object Array]")return this.reject(new TypeError("must be an array"));var U=R.length,x=!1;if(!U)return this.resolve([]);for(var y=-1,W=new this(g);++y<U;)Q=R[y],M.resolve(Q).then(function(Z){x||(x=!0,p.resolve(W,Z))},function(Z){x||(x=!0,p.reject(W,Z))});var Q;return W}},{immediate:36}],38:[function(D,A,h){"use strict";var m={};(0,D("./lib/utils/common").assign)(m,D("./lib/deflate"),D("./lib/inflate"),D("./lib/zlib/constants")),A.exports=m},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(D,A,h){"use strict";var m=D("./zlib/deflate"),g=D("./utils/common"),p=D("./utils/strings"),k=D("./zlib/messages"),b=D("./zlib/zstream"),l=Object.prototype.toString,E=0,c=-1,v=0,f=8;function w(R){if(!(this instanceof w))return new w(R);this.options=g.assign({level:c,method:f,chunkSize:16384,windowBits:15,memLevel:8,strategy:v,to:""},R||{});var M=this.options;M.raw&&0<M.windowBits?M.windowBits=-M.windowBits:M.gzip&&0<M.windowBits&&M.windowBits<16&&(M.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new b,this.strm.avail_out=0;var U=m.deflateInit2(this.strm,M.level,M.method,M.windowBits,M.memLevel,M.strategy);if(U!==E)throw new Error(k[U]);if(M.header&&m.deflateSetHeader(this.strm,M.header),M.dictionary){var x;if(x=typeof M.dictionary=="string"?p.string2buf(M.dictionary):l.call(M.dictionary)==="[object ArrayBuffer]"?new Uint8Array(M.dictionary):M.dictionary,(U=m.deflateSetDictionary(this.strm,x))!==E)throw new Error(k[U]);this._dict_set=!0}}function _(R,M){var U=new w(M);if(U.push(R,!0),U.err)throw U.msg||k[U.err];return U.result}w.prototype.push=function(R,M){var U,x,y=this.strm,W=this.options.chunkSize;if(this.ended)return!1;x=M===~~M?M:M===!0?4:0,typeof R=="string"?y.input=p.string2buf(R):l.call(R)==="[object ArrayBuffer]"?y.input=new Uint8Array(R):y.input=R,y.next_in=0,y.avail_in=y.input.length;do{if(y.avail_out===0&&(y.output=new g.Buf8(W),y.next_out=0,y.avail_out=W),(U=m.deflate(y,x))!==1&&U!==E)return this.onEnd(U),!(this.ended=!0);y.avail_out!==0&&(y.avail_in!==0||x!==4&&x!==2)||(this.options.to==="string"?this.onData(p.buf2binstring(g.shrinkBuf(y.output,y.next_out))):this.onData(g.shrinkBuf(y.output,y.next_out)))}while((0<y.avail_in||y.avail_out===0)&&U!==1);return x===4?(U=m.deflateEnd(this.strm),this.onEnd(U),this.ended=!0,U===E):x!==2||(this.onEnd(E),!(y.avail_out=0))},w.prototype.onData=function(R){this.chunks.push(R)},w.prototype.onEnd=function(R){R===E&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=g.flattenChunks(this.chunks)),this.chunks=[],this.err=R,this.msg=this.strm.msg},h.Deflate=w,h.deflate=_,h.deflateRaw=function(R,M){return(M=M||{}).raw=!0,_(R,M)},h.gzip=function(R,M){return(M=M||{}).gzip=!0,_(R,M)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(D,A,h){"use strict";var m=D("./zlib/inflate"),g=D("./utils/common"),p=D("./utils/strings"),k=D("./zlib/constants"),b=D("./zlib/messages"),l=D("./zlib/zstream"),E=D("./zlib/gzheader"),c=Object.prototype.toString;function v(w){if(!(this instanceof v))return new v(w);this.options=g.assign({chunkSize:16384,windowBits:0,to:""},w||{});var _=this.options;_.raw&&0<=_.windowBits&&_.windowBits<16&&(_.windowBits=-_.windowBits,_.windowBits===0&&(_.windowBits=-15)),!(0<=_.windowBits&&_.windowBits<16)||w&&w.windowBits||(_.windowBits+=32),15<_.windowBits&&_.windowBits<48&&!(15&_.windowBits)&&(_.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new l,this.strm.avail_out=0;var R=m.inflateInit2(this.strm,_.windowBits);if(R!==k.Z_OK)throw new Error(b[R]);this.header=new E,m.inflateGetHeader(this.strm,this.header)}function f(w,_){var R=new v(_);if(R.push(w,!0),R.err)throw R.msg||b[R.err];return R.result}v.prototype.push=function(w,_){var R,M,U,x,y,W,Q=this.strm,Z=this.options.chunkSize,ee=this.options.dictionary,J=!1;if(this.ended)return!1;M=_===~~_?_:_===!0?k.Z_FINISH:k.Z_NO_FLUSH,typeof w=="string"?Q.input=p.binstring2buf(w):c.call(w)==="[object ArrayBuffer]"?Q.input=new Uint8Array(w):Q.input=w,Q.next_in=0,Q.avail_in=Q.input.length;do{if(Q.avail_out===0&&(Q.output=new g.Buf8(Z),Q.next_out=0,Q.avail_out=Z),(R=m.inflate(Q,k.Z_NO_FLUSH))===k.Z_NEED_DICT&&ee&&(W=typeof ee=="string"?p.string2buf(ee):c.call(ee)==="[object ArrayBuffer]"?new Uint8Array(ee):ee,R=m.inflateSetDictionary(this.strm,W)),R===k.Z_BUF_ERROR&&J===!0&&(R=k.Z_OK,J=!1),R!==k.Z_STREAM_END&&R!==k.Z_OK)return this.onEnd(R),!(this.ended=!0);Q.next_out&&(Q.avail_out!==0&&R!==k.Z_STREAM_END&&(Q.avail_in!==0||M!==k.Z_FINISH&&M!==k.Z_SYNC_FLUSH)||(this.options.to==="string"?(U=p.utf8border(Q.output,Q.next_out),x=Q.next_out-U,y=p.buf2string(Q.output,U),Q.next_out=x,Q.avail_out=Z-x,x&&g.arraySet(Q.output,Q.output,U,x,0),this.onData(y)):this.onData(g.shrinkBuf(Q.output,Q.next_out)))),Q.avail_in===0&&Q.avail_out===0&&(J=!0)}while((0<Q.avail_in||Q.avail_out===0)&&R!==k.Z_STREAM_END);return R===k.Z_STREAM_END&&(M=k.Z_FINISH),M===k.Z_FINISH?(R=m.inflateEnd(this.strm),this.onEnd(R),this.ended=!0,R===k.Z_OK):M!==k.Z_SYNC_FLUSH||(this.onEnd(k.Z_OK),!(Q.avail_out=0))},v.prototype.onData=function(w){this.chunks.push(w)},v.prototype.onEnd=function(w){w===k.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=g.flattenChunks(this.chunks)),this.chunks=[],this.err=w,this.msg=this.strm.msg},h.Inflate=v,h.inflate=f,h.inflateRaw=function(w,_){return(_=_||{}).raw=!0,f(w,_)},h.ungzip=f},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(D,A,h){"use strict";var m=typeof Uint8Array!="undefined"&&typeof Uint16Array!="undefined"&&typeof Int32Array!="undefined";h.assign=function(k){for(var b=Array.prototype.slice.call(arguments,1);b.length;){var l=b.shift();if(l){if(typeof l!="object")throw new TypeError(l+"must be non-object");for(var E in l)l.hasOwnProperty(E)&&(k[E]=l[E])}}return k},h.shrinkBuf=function(k,b){return k.length===b?k:k.subarray?k.subarray(0,b):(k.length=b,k)};var g={arraySet:function(k,b,l,E,c){if(b.subarray&&k.subarray)k.set(b.subarray(l,l+E),c);else for(var v=0;v<E;v++)k[c+v]=b[l+v]},flattenChunks:function(k){var b,l,E,c,v,f;for(b=E=0,l=k.length;b<l;b++)E+=k[b].length;for(f=new Uint8Array(E),b=c=0,l=k.length;b<l;b++)v=k[b],f.set(v,c),c+=v.length;return f}},p={arraySet:function(k,b,l,E,c){for(var v=0;v<E;v++)k[c+v]=b[l+v]},flattenChunks:function(k){return[].concat.apply([],k)}};h.setTyped=function(k){k?(h.Buf8=Uint8Array,h.Buf16=Uint16Array,h.Buf32=Int32Array,h.assign(h,g)):(h.Buf8=Array,h.Buf16=Array,h.Buf32=Array,h.assign(h,p))},h.setTyped(m)},{}],42:[function(D,A,h){"use strict";var m=D("./common"),g=!0,p=!0;try{String.fromCharCode.apply(null,[0])}catch{g=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{p=!1}for(var k=new m.Buf8(256),b=0;b<256;b++)k[b]=252<=b?6:248<=b?5:240<=b?4:224<=b?3:192<=b?2:1;function l(E,c){if(c<65537&&(E.subarray&&p||!E.subarray&&g))return String.fromCharCode.apply(null,m.shrinkBuf(E,c));for(var v="",f=0;f<c;f++)v+=String.fromCharCode(E[f]);return v}k[254]=k[254]=1,h.string2buf=function(E){var c,v,f,w,_,R=E.length,M=0;for(w=0;w<R;w++)(64512&(v=E.charCodeAt(w)))==55296&&w+1<R&&(64512&(f=E.charCodeAt(w+1)))==56320&&(v=65536+(v-55296<<10)+(f-56320),w++),M+=v<128?1:v<2048?2:v<65536?3:4;for(c=new m.Buf8(M),w=_=0;_<M;w++)(64512&(v=E.charCodeAt(w)))==55296&&w+1<R&&(64512&(f=E.charCodeAt(w+1)))==56320&&(v=65536+(v-55296<<10)+(f-56320),w++),v<128?c[_++]=v:(v<2048?c[_++]=192|v>>>6:(v<65536?c[_++]=224|v>>>12:(c[_++]=240|v>>>18,c[_++]=128|v>>>12&63),c[_++]=128|v>>>6&63),c[_++]=128|63&v);return c},h.buf2binstring=function(E){return l(E,E.length)},h.binstring2buf=function(E){for(var c=new m.Buf8(E.length),v=0,f=c.length;v<f;v++)c[v]=E.charCodeAt(v);return c},h.buf2string=function(E,c){var v,f,w,_,R=c||E.length,M=new Array(2*R);for(v=f=0;v<R;)if((w=E[v++])<128)M[f++]=w;else if(4<(_=k[w]))M[f++]=65533,v+=_-1;else{for(w&=_===2?31:_===3?15:7;1<_&&v<R;)w=w<<6|63&E[v++],_--;1<_?M[f++]=65533:w<65536?M[f++]=w:(w-=65536,M[f++]=55296|w>>10&1023,M[f++]=56320|1023&w)}return l(M,f)},h.utf8border=function(E,c){var v;for((c=c||E.length)>E.length&&(c=E.length),v=c-1;0<=v&&(192&E[v])==128;)v--;return v<0||v===0?c:v+k[E[v]]>c?v:c}},{"./common":41}],43:[function(D,A,h){"use strict";A.exports=function(m,g,p,k){for(var b=65535&m|0,l=m>>>16&65535|0,E=0;p!==0;){for(p-=E=2e3<p?2e3:p;l=l+(b=b+g[k++]|0)|0,--E;);b%=65521,l%=65521}return b|l<<16|0}},{}],44:[function(D,A,h){"use strict";A.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(D,A,h){"use strict";var m=function(){for(var g,p=[],k=0;k<256;k++){g=k;for(var b=0;b<8;b++)g=1&g?3988292384^g>>>1:g>>>1;p[k]=g}return p}();A.exports=function(g,p,k,b){var l=m,E=b+k;g^=-1;for(var c=b;c<E;c++)g=g>>>8^l[255&(g^p[c])];return-1^g}},{}],46:[function(D,A,h){"use strict";var m,g=D("../utils/common"),p=D("./trees"),k=D("./adler32"),b=D("./crc32"),l=D("./messages"),E=0,c=4,v=0,f=-2,w=-1,_=4,R=2,M=8,U=9,x=286,y=30,W=19,Q=2*x+1,Z=15,ee=3,J=258,O=J+ee+1,H=42,I=113,u=1,N=2,q=3,V=4;function K(T,oe){return T.msg=l[oe],oe}function j(T){return(T<<1)-(4<T?9:0)}function ie(T){for(var oe=T.length;0<=--oe;)T[oe]=0}function X(T){var oe=T.state,fe=oe.pending;fe>T.avail_out&&(fe=T.avail_out),fe!==0&&(g.arraySet(T.output,oe.pending_buf,oe.pending_out,fe,T.next_out),T.next_out+=fe,oe.pending_out+=fe,T.total_out+=fe,T.avail_out-=fe,oe.pending-=fe,oe.pending===0&&(oe.pending_out=0))}function B(T,oe){p._tr_flush_block(T,0<=T.block_start?T.block_start:-1,T.strstart-T.block_start,oe),T.block_start=T.strstart,X(T.strm)}function se(T,oe){T.pending_buf[T.pending++]=oe}function Pe(T,oe){T.pending_buf[T.pending++]=oe>>>8&255,T.pending_buf[T.pending++]=255&oe}function we(T,oe){var fe,de,ue=T.max_chain_length,ve=T.strstart,Fe=T.prev_length,Oe=T.nice_match,$e=T.strstart>T.w_size-O?T.strstart-(T.w_size-O):0,qe=T.window,Ve=T.w_mask,Je=T.prev,me=T.strstart+J,ae=qe[ve+Fe-1],ce=qe[ve+Fe];T.prev_length>=T.good_match&&(ue>>=2),Oe>T.lookahead&&(Oe=T.lookahead);do if(qe[(fe=oe)+Fe]===ce&&qe[fe+Fe-1]===ae&&qe[fe]===qe[ve]&&qe[++fe]===qe[ve+1]){ve+=2,fe++;do;while(qe[++ve]===qe[++fe]&&qe[++ve]===qe[++fe]&&qe[++ve]===qe[++fe]&&qe[++ve]===qe[++fe]&&qe[++ve]===qe[++fe]&&qe[++ve]===qe[++fe]&&qe[++ve]===qe[++fe]&&qe[++ve]===qe[++fe]&&ve<me);if(de=J-(me-ve),ve=me-J,Fe<de){if(T.match_start=oe,Oe<=(Fe=de))break;ae=qe[ve+Fe-1],ce=qe[ve+Fe]}}while((oe=Je[oe&Ve])>$e&&--ue!=0);return Fe<=T.lookahead?Fe:T.lookahead}function _e(T){var oe,fe,de,ue,ve,Fe,Oe,$e,qe,Ve,Je=T.w_size;do{if(ue=T.window_size-T.lookahead-T.strstart,T.strstart>=Je+(Je-O)){for(g.arraySet(T.window,T.window,Je,Je,0),T.match_start-=Je,T.strstart-=Je,T.block_start-=Je,oe=fe=T.hash_size;de=T.head[--oe],T.head[oe]=Je<=de?de-Je:0,--fe;);for(oe=fe=Je;de=T.prev[--oe],T.prev[oe]=Je<=de?de-Je:0,--fe;);ue+=Je}if(T.strm.avail_in===0)break;if(Fe=T.strm,Oe=T.window,$e=T.strstart+T.lookahead,qe=ue,Ve=void 0,Ve=Fe.avail_in,qe<Ve&&(Ve=qe),fe=Ve===0?0:(Fe.avail_in-=Ve,g.arraySet(Oe,Fe.input,Fe.next_in,Ve,$e),Fe.state.wrap===1?Fe.adler=k(Fe.adler,Oe,Ve,$e):Fe.state.wrap===2&&(Fe.adler=b(Fe.adler,Oe,Ve,$e)),Fe.next_in+=Ve,Fe.total_in+=Ve,Ve),T.lookahead+=fe,T.lookahead+T.insert>=ee)for(ve=T.strstart-T.insert,T.ins_h=T.window[ve],T.ins_h=(T.ins_h<<T.hash_shift^T.window[ve+1])&T.hash_mask;T.insert&&(T.ins_h=(T.ins_h<<T.hash_shift^T.window[ve+ee-1])&T.hash_mask,T.prev[ve&T.w_mask]=T.head[T.ins_h],T.head[T.ins_h]=ve,ve++,T.insert--,!(T.lookahead+T.insert<ee)););}while(T.lookahead<O&&T.strm.avail_in!==0)}function Me(T,oe){for(var fe,de;;){if(T.lookahead<O){if(_e(T),T.lookahead<O&&oe===E)return u;if(T.lookahead===0)break}if(fe=0,T.lookahead>=ee&&(T.ins_h=(T.ins_h<<T.hash_shift^T.window[T.strstart+ee-1])&T.hash_mask,fe=T.prev[T.strstart&T.w_mask]=T.head[T.ins_h],T.head[T.ins_h]=T.strstart),fe!==0&&T.strstart-fe<=T.w_size-O&&(T.match_length=we(T,fe)),T.match_length>=ee)if(de=p._tr_tally(T,T.strstart-T.match_start,T.match_length-ee),T.lookahead-=T.match_length,T.match_length<=T.max_lazy_match&&T.lookahead>=ee){for(T.match_length--;T.strstart++,T.ins_h=(T.ins_h<<T.hash_shift^T.window[T.strstart+ee-1])&T.hash_mask,fe=T.prev[T.strstart&T.w_mask]=T.head[T.ins_h],T.head[T.ins_h]=T.strstart,--T.match_length!=0;);T.strstart++}else T.strstart+=T.match_length,T.match_length=0,T.ins_h=T.window[T.strstart],T.ins_h=(T.ins_h<<T.hash_shift^T.window[T.strstart+1])&T.hash_mask;else de=p._tr_tally(T,0,T.window[T.strstart]),T.lookahead--,T.strstart++;if(de&&(B(T,!1),T.strm.avail_out===0))return u}return T.insert=T.strstart<ee-1?T.strstart:ee-1,oe===c?(B(T,!0),T.strm.avail_out===0?q:V):T.last_lit&&(B(T,!1),T.strm.avail_out===0)?u:N}function te(T,oe){for(var fe,de,ue;;){if(T.lookahead<O){if(_e(T),T.lookahead<O&&oe===E)return u;if(T.lookahead===0)break}if(fe=0,T.lookahead>=ee&&(T.ins_h=(T.ins_h<<T.hash_shift^T.window[T.strstart+ee-1])&T.hash_mask,fe=T.prev[T.strstart&T.w_mask]=T.head[T.ins_h],T.head[T.ins_h]=T.strstart),T.prev_length=T.match_length,T.prev_match=T.match_start,T.match_length=ee-1,fe!==0&&T.prev_length<T.max_lazy_match&&T.strstart-fe<=T.w_size-O&&(T.match_length=we(T,fe),T.match_length<=5&&(T.strategy===1||T.match_length===ee&&4096<T.strstart-T.match_start)&&(T.match_length=ee-1)),T.prev_length>=ee&&T.match_length<=T.prev_length){for(ue=T.strstart+T.lookahead-ee,de=p._tr_tally(T,T.strstart-1-T.prev_match,T.prev_length-ee),T.lookahead-=T.prev_length-1,T.prev_length-=2;++T.strstart<=ue&&(T.ins_h=(T.ins_h<<T.hash_shift^T.window[T.strstart+ee-1])&T.hash_mask,fe=T.prev[T.strstart&T.w_mask]=T.head[T.ins_h],T.head[T.ins_h]=T.strstart),--T.prev_length!=0;);if(T.match_available=0,T.match_length=ee-1,T.strstart++,de&&(B(T,!1),T.strm.avail_out===0))return u}else if(T.match_available){if((de=p._tr_tally(T,0,T.window[T.strstart-1]))&&B(T,!1),T.strstart++,T.lookahead--,T.strm.avail_out===0)return u}else T.match_available=1,T.strstart++,T.lookahead--}return T.match_available&&(de=p._tr_tally(T,0,T.window[T.strstart-1]),T.match_available=0),T.insert=T.strstart<ee-1?T.strstart:ee-1,oe===c?(B(T,!0),T.strm.avail_out===0?q:V):T.last_lit&&(B(T,!1),T.strm.avail_out===0)?u:N}function re(T,oe,fe,de,ue){this.good_length=T,this.max_lazy=oe,this.nice_length=fe,this.max_chain=de,this.func=ue}function ge(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=M,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new g.Buf16(2*Q),this.dyn_dtree=new g.Buf16(2*(2*y+1)),this.bl_tree=new g.Buf16(2*(2*W+1)),ie(this.dyn_ltree),ie(this.dyn_dtree),ie(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new g.Buf16(Z+1),this.heap=new g.Buf16(2*x+1),ie(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new g.Buf16(2*x+1),ie(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function ye(T){var oe;return T&&T.state?(T.total_in=T.total_out=0,T.data_type=R,(oe=T.state).pending=0,oe.pending_out=0,oe.wrap<0&&(oe.wrap=-oe.wrap),oe.status=oe.wrap?H:I,T.adler=oe.wrap===2?0:1,oe.last_flush=E,p._tr_init(oe),v):K(T,f)}function Ee(T){var oe=ye(T);return oe===v&&function(fe){fe.window_size=2*fe.w_size,ie(fe.head),fe.max_lazy_match=m[fe.level].max_lazy,fe.good_match=m[fe.level].good_length,fe.nice_match=m[fe.level].nice_length,fe.max_chain_length=m[fe.level].max_chain,fe.strstart=0,fe.block_start=0,fe.lookahead=0,fe.insert=0,fe.match_length=fe.prev_length=ee-1,fe.match_available=0,fe.ins_h=0}(T.state),oe}function z(T,oe,fe,de,ue,ve){if(!T)return f;var Fe=1;if(oe===w&&(oe=6),de<0?(Fe=0,de=-de):15<de&&(Fe=2,de-=16),ue<1||U<ue||fe!==M||de<8||15<de||oe<0||9<oe||ve<0||_<ve)return K(T,f);de===8&&(de=9);var Oe=new ge;return(T.state=Oe).strm=T,Oe.wrap=Fe,Oe.gzhead=null,Oe.w_bits=de,Oe.w_size=1<<Oe.w_bits,Oe.w_mask=Oe.w_size-1,Oe.hash_bits=ue+7,Oe.hash_size=1<<Oe.hash_bits,Oe.hash_mask=Oe.hash_size-1,Oe.hash_shift=~~((Oe.hash_bits+ee-1)/ee),Oe.window=new g.Buf8(2*Oe.w_size),Oe.head=new g.Buf16(Oe.hash_size),Oe.prev=new g.Buf16(Oe.w_size),Oe.lit_bufsize=1<<ue+6,Oe.pending_buf_size=4*Oe.lit_bufsize,Oe.pending_buf=new g.Buf8(Oe.pending_buf_size),Oe.d_buf=1*Oe.lit_bufsize,Oe.l_buf=3*Oe.lit_bufsize,Oe.level=oe,Oe.strategy=ve,Oe.method=fe,Ee(T)}m=[new re(0,0,0,0,function(T,oe){var fe=65535;for(fe>T.pending_buf_size-5&&(fe=T.pending_buf_size-5);;){if(T.lookahead<=1){if(_e(T),T.lookahead===0&&oe===E)return u;if(T.lookahead===0)break}T.strstart+=T.lookahead,T.lookahead=0;var de=T.block_start+fe;if((T.strstart===0||T.strstart>=de)&&(T.lookahead=T.strstart-de,T.strstart=de,B(T,!1),T.strm.avail_out===0)||T.strstart-T.block_start>=T.w_size-O&&(B(T,!1),T.strm.avail_out===0))return u}return T.insert=0,oe===c?(B(T,!0),T.strm.avail_out===0?q:V):(T.strstart>T.block_start&&(B(T,!1),T.strm.avail_out),u)}),new re(4,4,8,4,Me),new re(4,5,16,8,Me),new re(4,6,32,32,Me),new re(4,4,16,16,te),new re(8,16,32,32,te),new re(8,16,128,128,te),new re(8,32,128,256,te),new re(32,128,258,1024,te),new re(32,258,258,4096,te)],h.deflateInit=function(T,oe){return z(T,oe,M,15,8,0)},h.deflateInit2=z,h.deflateReset=Ee,h.deflateResetKeep=ye,h.deflateSetHeader=function(T,oe){return T&&T.state?T.state.wrap!==2?f:(T.state.gzhead=oe,v):f},h.deflate=function(T,oe){var fe,de,ue,ve;if(!T||!T.state||5<oe||oe<0)return T?K(T,f):f;if(de=T.state,!T.output||!T.input&&T.avail_in!==0||de.status===666&&oe!==c)return K(T,T.avail_out===0?-5:f);if(de.strm=T,fe=de.last_flush,de.last_flush=oe,de.status===H)if(de.wrap===2)T.adler=0,se(de,31),se(de,139),se(de,8),de.gzhead?(se(de,(de.gzhead.text?1:0)+(de.gzhead.hcrc?2:0)+(de.gzhead.extra?4:0)+(de.gzhead.name?8:0)+(de.gzhead.comment?16:0)),se(de,255&de.gzhead.time),se(de,de.gzhead.time>>8&255),se(de,de.gzhead.time>>16&255),se(de,de.gzhead.time>>24&255),se(de,de.level===9?2:2<=de.strategy||de.level<2?4:0),se(de,255&de.gzhead.os),de.gzhead.extra&&de.gzhead.extra.length&&(se(de,255&de.gzhead.extra.length),se(de,de.gzhead.extra.length>>8&255)),de.gzhead.hcrc&&(T.adler=b(T.adler,de.pending_buf,de.pending,0)),de.gzindex=0,de.status=69):(se(de,0),se(de,0),se(de,0),se(de,0),se(de,0),se(de,de.level===9?2:2<=de.strategy||de.level<2?4:0),se(de,3),de.status=I);else{var Fe=M+(de.w_bits-8<<4)<<8;Fe|=(2<=de.strategy||de.level<2?0:de.level<6?1:de.level===6?2:3)<<6,de.strstart!==0&&(Fe|=32),Fe+=31-Fe%31,de.status=I,Pe(de,Fe),de.strstart!==0&&(Pe(de,T.adler>>>16),Pe(de,65535&T.adler)),T.adler=1}if(de.status===69)if(de.gzhead.extra){for(ue=de.pending;de.gzindex<(65535&de.gzhead.extra.length)&&(de.pending!==de.pending_buf_size||(de.gzhead.hcrc&&de.pending>ue&&(T.adler=b(T.adler,de.pending_buf,de.pending-ue,ue)),X(T),ue=de.pending,de.pending!==de.pending_buf_size));)se(de,255&de.gzhead.extra[de.gzindex]),de.gzindex++;de.gzhead.hcrc&&de.pending>ue&&(T.adler=b(T.adler,de.pending_buf,de.pending-ue,ue)),de.gzindex===de.gzhead.extra.length&&(de.gzindex=0,de.status=73)}else de.status=73;if(de.status===73)if(de.gzhead.name){ue=de.pending;do{if(de.pending===de.pending_buf_size&&(de.gzhead.hcrc&&de.pending>ue&&(T.adler=b(T.adler,de.pending_buf,de.pending-ue,ue)),X(T),ue=de.pending,de.pending===de.pending_buf_size)){ve=1;break}ve=de.gzindex<de.gzhead.name.length?255&de.gzhead.name.charCodeAt(de.gzindex++):0,se(de,ve)}while(ve!==0);de.gzhead.hcrc&&de.pending>ue&&(T.adler=b(T.adler,de.pending_buf,de.pending-ue,ue)),ve===0&&(de.gzindex=0,de.status=91)}else de.status=91;if(de.status===91)if(de.gzhead.comment){ue=de.pending;do{if(de.pending===de.pending_buf_size&&(de.gzhead.hcrc&&de.pending>ue&&(T.adler=b(T.adler,de.pending_buf,de.pending-ue,ue)),X(T),ue=de.pending,de.pending===de.pending_buf_size)){ve=1;break}ve=de.gzindex<de.gzhead.comment.length?255&de.gzhead.comment.charCodeAt(de.gzindex++):0,se(de,ve)}while(ve!==0);de.gzhead.hcrc&&de.pending>ue&&(T.adler=b(T.adler,de.pending_buf,de.pending-ue,ue)),ve===0&&(de.status=103)}else de.status=103;if(de.status===103&&(de.gzhead.hcrc?(de.pending+2>de.pending_buf_size&&X(T),de.pending+2<=de.pending_buf_size&&(se(de,255&T.adler),se(de,T.adler>>8&255),T.adler=0,de.status=I)):de.status=I),de.pending!==0){if(X(T),T.avail_out===0)return de.last_flush=-1,v}else if(T.avail_in===0&&j(oe)<=j(fe)&&oe!==c)return K(T,-5);if(de.status===666&&T.avail_in!==0)return K(T,-5);if(T.avail_in!==0||de.lookahead!==0||oe!==E&&de.status!==666){var Oe=de.strategy===2?function($e,qe){for(var Ve;;){if($e.lookahead===0&&(_e($e),$e.lookahead===0)){if(qe===E)return u;break}if($e.match_length=0,Ve=p._tr_tally($e,0,$e.window[$e.strstart]),$e.lookahead--,$e.strstart++,Ve&&(B($e,!1),$e.strm.avail_out===0))return u}return $e.insert=0,qe===c?(B($e,!0),$e.strm.avail_out===0?q:V):$e.last_lit&&(B($e,!1),$e.strm.avail_out===0)?u:N}(de,oe):de.strategy===3?function($e,qe){for(var Ve,Je,me,ae,ce=$e.window;;){if($e.lookahead<=J){if(_e($e),$e.lookahead<=J&&qe===E)return u;if($e.lookahead===0)break}if($e.match_length=0,$e.lookahead>=ee&&0<$e.strstart&&(Je=ce[me=$e.strstart-1])===ce[++me]&&Je===ce[++me]&&Je===ce[++me]){ae=$e.strstart+J;do;while(Je===ce[++me]&&Je===ce[++me]&&Je===ce[++me]&&Je===ce[++me]&&Je===ce[++me]&&Je===ce[++me]&&Je===ce[++me]&&Je===ce[++me]&&me<ae);$e.match_length=J-(ae-me),$e.match_length>$e.lookahead&&($e.match_length=$e.lookahead)}if($e.match_length>=ee?(Ve=p._tr_tally($e,1,$e.match_length-ee),$e.lookahead-=$e.match_length,$e.strstart+=$e.match_length,$e.match_length=0):(Ve=p._tr_tally($e,0,$e.window[$e.strstart]),$e.lookahead--,$e.strstart++),Ve&&(B($e,!1),$e.strm.avail_out===0))return u}return $e.insert=0,qe===c?(B($e,!0),$e.strm.avail_out===0?q:V):$e.last_lit&&(B($e,!1),$e.strm.avail_out===0)?u:N}(de,oe):m[de.level].func(de,oe);if(Oe!==q&&Oe!==V||(de.status=666),Oe===u||Oe===q)return T.avail_out===0&&(de.last_flush=-1),v;if(Oe===N&&(oe===1?p._tr_align(de):oe!==5&&(p._tr_stored_block(de,0,0,!1),oe===3&&(ie(de.head),de.lookahead===0&&(de.strstart=0,de.block_start=0,de.insert=0))),X(T),T.avail_out===0))return de.last_flush=-1,v}return oe!==c?v:de.wrap<=0?1:(de.wrap===2?(se(de,255&T.adler),se(de,T.adler>>8&255),se(de,T.adler>>16&255),se(de,T.adler>>24&255),se(de,255&T.total_in),se(de,T.total_in>>8&255),se(de,T.total_in>>16&255),se(de,T.total_in>>24&255)):(Pe(de,T.adler>>>16),Pe(de,65535&T.adler)),X(T),0<de.wrap&&(de.wrap=-de.wrap),de.pending!==0?v:1)},h.deflateEnd=function(T){var oe;return T&&T.state?(oe=T.state.status)!==H&&oe!==69&&oe!==73&&oe!==91&&oe!==103&&oe!==I&&oe!==666?K(T,f):(T.state=null,oe===I?K(T,-3):v):f},h.deflateSetDictionary=function(T,oe){var fe,de,ue,ve,Fe,Oe,$e,qe,Ve=oe.length;if(!T||!T.state||(ve=(fe=T.state).wrap)===2||ve===1&&fe.status!==H||fe.lookahead)return f;for(ve===1&&(T.adler=k(T.adler,oe,Ve,0)),fe.wrap=0,Ve>=fe.w_size&&(ve===0&&(ie(fe.head),fe.strstart=0,fe.block_start=0,fe.insert=0),qe=new g.Buf8(fe.w_size),g.arraySet(qe,oe,Ve-fe.w_size,fe.w_size,0),oe=qe,Ve=fe.w_size),Fe=T.avail_in,Oe=T.next_in,$e=T.input,T.avail_in=Ve,T.next_in=0,T.input=oe,_e(fe);fe.lookahead>=ee;){for(de=fe.strstart,ue=fe.lookahead-(ee-1);fe.ins_h=(fe.ins_h<<fe.hash_shift^fe.window[de+ee-1])&fe.hash_mask,fe.prev[de&fe.w_mask]=fe.head[fe.ins_h],fe.head[fe.ins_h]=de,de++,--ue;);fe.strstart=de,fe.lookahead=ee-1,_e(fe)}return fe.strstart+=fe.lookahead,fe.block_start=fe.strstart,fe.insert=fe.lookahead,fe.lookahead=0,fe.match_length=fe.prev_length=ee-1,fe.match_available=0,T.next_in=Oe,T.input=$e,T.avail_in=Fe,fe.wrap=ve,v},h.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(D,A,h){"use strict";A.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(D,A,h){"use strict";A.exports=function(m,g){var p,k,b,l,E,c,v,f,w,_,R,M,U,x,y,W,Q,Z,ee,J,O,H,I,u,N;p=m.state,k=m.next_in,u=m.input,b=k+(m.avail_in-5),l=m.next_out,N=m.output,E=l-(g-m.avail_out),c=l+(m.avail_out-257),v=p.dmax,f=p.wsize,w=p.whave,_=p.wnext,R=p.window,M=p.hold,U=p.bits,x=p.lencode,y=p.distcode,W=(1<<p.lenbits)-1,Q=(1<<p.distbits)-1;e:do{U<15&&(M+=u[k++]<<U,U+=8,M+=u[k++]<<U,U+=8),Z=x[M&W];t:for(;;){if(M>>>=ee=Z>>>24,U-=ee,(ee=Z>>>16&255)===0)N[l++]=65535&Z;else{if(!(16&ee)){if(!(64&ee)){Z=x[(65535&Z)+(M&(1<<ee)-1)];continue t}if(32&ee){p.mode=12;break e}m.msg="invalid literal/length code",p.mode=30;break e}J=65535&Z,(ee&=15)&&(U<ee&&(M+=u[k++]<<U,U+=8),J+=M&(1<<ee)-1,M>>>=ee,U-=ee),U<15&&(M+=u[k++]<<U,U+=8,M+=u[k++]<<U,U+=8),Z=y[M&Q];i:for(;;){if(M>>>=ee=Z>>>24,U-=ee,!(16&(ee=Z>>>16&255))){if(!(64&ee)){Z=y[(65535&Z)+(M&(1<<ee)-1)];continue i}m.msg="invalid distance code",p.mode=30;break e}if(O=65535&Z,U<(ee&=15)&&(M+=u[k++]<<U,(U+=8)<ee&&(M+=u[k++]<<U,U+=8)),v<(O+=M&(1<<ee)-1)){m.msg="invalid distance too far back",p.mode=30;break e}if(M>>>=ee,U-=ee,(ee=l-E)<O){if(w<(ee=O-ee)&&p.sane){m.msg="invalid distance too far back",p.mode=30;break e}if(I=R,(H=0)===_){if(H+=f-ee,ee<J){for(J-=ee;N[l++]=R[H++],--ee;);H=l-O,I=N}}else if(_<ee){if(H+=f+_-ee,(ee-=_)<J){for(J-=ee;N[l++]=R[H++],--ee;);if(H=0,_<J){for(J-=ee=_;N[l++]=R[H++],--ee;);H=l-O,I=N}}}else if(H+=_-ee,ee<J){for(J-=ee;N[l++]=R[H++],--ee;);H=l-O,I=N}for(;2<J;)N[l++]=I[H++],N[l++]=I[H++],N[l++]=I[H++],J-=3;J&&(N[l++]=I[H++],1<J&&(N[l++]=I[H++]))}else{for(H=l-O;N[l++]=N[H++],N[l++]=N[H++],N[l++]=N[H++],2<(J-=3););J&&(N[l++]=N[H++],1<J&&(N[l++]=N[H++]))}break}}break}}while(k<b&&l<c);k-=J=U>>3,M&=(1<<(U-=J<<3))-1,m.next_in=k,m.next_out=l,m.avail_in=k<b?b-k+5:5-(k-b),m.avail_out=l<c?c-l+257:257-(l-c),p.hold=M,p.bits=U}},{}],49:[function(D,A,h){"use strict";var m=D("../utils/common"),g=D("./adler32"),p=D("./crc32"),k=D("./inffast"),b=D("./inftrees"),l=1,E=2,c=0,v=-2,f=1,w=852,_=592;function R(H){return(H>>>24&255)+(H>>>8&65280)+((65280&H)<<8)+((255&H)<<24)}function M(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new m.Buf16(320),this.work=new m.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function U(H){var I;return H&&H.state?(I=H.state,H.total_in=H.total_out=I.total=0,H.msg="",I.wrap&&(H.adler=1&I.wrap),I.mode=f,I.last=0,I.havedict=0,I.dmax=32768,I.head=null,I.hold=0,I.bits=0,I.lencode=I.lendyn=new m.Buf32(w),I.distcode=I.distdyn=new m.Buf32(_),I.sane=1,I.back=-1,c):v}function x(H){var I;return H&&H.state?((I=H.state).wsize=0,I.whave=0,I.wnext=0,U(H)):v}function y(H,I){var u,N;return H&&H.state?(N=H.state,I<0?(u=0,I=-I):(u=1+(I>>4),I<48&&(I&=15)),I&&(I<8||15<I)?v:(N.window!==null&&N.wbits!==I&&(N.window=null),N.wrap=u,N.wbits=I,x(H))):v}function W(H,I){var u,N;return H?(N=new M,(H.state=N).window=null,(u=y(H,I))!==c&&(H.state=null),u):v}var Q,Z,ee=!0;function J(H){if(ee){var I;for(Q=new m.Buf32(512),Z=new m.Buf32(32),I=0;I<144;)H.lens[I++]=8;for(;I<256;)H.lens[I++]=9;for(;I<280;)H.lens[I++]=7;for(;I<288;)H.lens[I++]=8;for(b(l,H.lens,0,288,Q,0,H.work,{bits:9}),I=0;I<32;)H.lens[I++]=5;b(E,H.lens,0,32,Z,0,H.work,{bits:5}),ee=!1}H.lencode=Q,H.lenbits=9,H.distcode=Z,H.distbits=5}function O(H,I,u,N){var q,V=H.state;return V.window===null&&(V.wsize=1<<V.wbits,V.wnext=0,V.whave=0,V.window=new m.Buf8(V.wsize)),N>=V.wsize?(m.arraySet(V.window,I,u-V.wsize,V.wsize,0),V.wnext=0,V.whave=V.wsize):(N<(q=V.wsize-V.wnext)&&(q=N),m.arraySet(V.window,I,u-N,q,V.wnext),(N-=q)?(m.arraySet(V.window,I,u-N,N,0),V.wnext=N,V.whave=V.wsize):(V.wnext+=q,V.wnext===V.wsize&&(V.wnext=0),V.whave<V.wsize&&(V.whave+=q))),0}h.inflateReset=x,h.inflateReset2=y,h.inflateResetKeep=U,h.inflateInit=function(H){return W(H,15)},h.inflateInit2=W,h.inflate=function(H,I){var u,N,q,V,K,j,ie,X,B,se,Pe,we,_e,Me,te,re,ge,ye,Ee,z,T,oe,fe,de,ue=0,ve=new m.Buf8(4),Fe=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!H||!H.state||!H.output||!H.input&&H.avail_in!==0)return v;(u=H.state).mode===12&&(u.mode=13),K=H.next_out,q=H.output,ie=H.avail_out,V=H.next_in,N=H.input,j=H.avail_in,X=u.hold,B=u.bits,se=j,Pe=ie,oe=c;e:for(;;)switch(u.mode){case f:if(u.wrap===0){u.mode=13;break}for(;B<16;){if(j===0)break e;j--,X+=N[V++]<<B,B+=8}if(2&u.wrap&&X===35615){ve[u.check=0]=255&X,ve[1]=X>>>8&255,u.check=p(u.check,ve,2,0),B=X=0,u.mode=2;break}if(u.flags=0,u.head&&(u.head.done=!1),!(1&u.wrap)||(((255&X)<<8)+(X>>8))%31){H.msg="incorrect header check",u.mode=30;break}if((15&X)!=8){H.msg="unknown compression method",u.mode=30;break}if(B-=4,T=8+(15&(X>>>=4)),u.wbits===0)u.wbits=T;else if(T>u.wbits){H.msg="invalid window size",u.mode=30;break}u.dmax=1<<T,H.adler=u.check=1,u.mode=512&X?10:12,B=X=0;break;case 2:for(;B<16;){if(j===0)break e;j--,X+=N[V++]<<B,B+=8}if(u.flags=X,(255&u.flags)!=8){H.msg="unknown compression method",u.mode=30;break}if(57344&u.flags){H.msg="unknown header flags set",u.mode=30;break}u.head&&(u.head.text=X>>8&1),512&u.flags&&(ve[0]=255&X,ve[1]=X>>>8&255,u.check=p(u.check,ve,2,0)),B=X=0,u.mode=3;case 3:for(;B<32;){if(j===0)break e;j--,X+=N[V++]<<B,B+=8}u.head&&(u.head.time=X),512&u.flags&&(ve[0]=255&X,ve[1]=X>>>8&255,ve[2]=X>>>16&255,ve[3]=X>>>24&255,u.check=p(u.check,ve,4,0)),B=X=0,u.mode=4;case 4:for(;B<16;){if(j===0)break e;j--,X+=N[V++]<<B,B+=8}u.head&&(u.head.xflags=255&X,u.head.os=X>>8),512&u.flags&&(ve[0]=255&X,ve[1]=X>>>8&255,u.check=p(u.check,ve,2,0)),B=X=0,u.mode=5;case 5:if(1024&u.flags){for(;B<16;){if(j===0)break e;j--,X+=N[V++]<<B,B+=8}u.length=X,u.head&&(u.head.extra_len=X),512&u.flags&&(ve[0]=255&X,ve[1]=X>>>8&255,u.check=p(u.check,ve,2,0)),B=X=0}else u.head&&(u.head.extra=null);u.mode=6;case 6:if(1024&u.flags&&(j<(we=u.length)&&(we=j),we&&(u.head&&(T=u.head.extra_len-u.length,u.head.extra||(u.head.extra=new Array(u.head.extra_len)),m.arraySet(u.head.extra,N,V,we,T)),512&u.flags&&(u.check=p(u.check,N,we,V)),j-=we,V+=we,u.length-=we),u.length))break e;u.length=0,u.mode=7;case 7:if(2048&u.flags){if(j===0)break e;for(we=0;T=N[V+we++],u.head&&T&&u.length<65536&&(u.head.name+=String.fromCharCode(T)),T&&we<j;);if(512&u.flags&&(u.check=p(u.check,N,we,V)),j-=we,V+=we,T)break e}else u.head&&(u.head.name=null);u.length=0,u.mode=8;case 8:if(4096&u.flags){if(j===0)break e;for(we=0;T=N[V+we++],u.head&&T&&u.length<65536&&(u.head.comment+=String.fromCharCode(T)),T&&we<j;);if(512&u.flags&&(u.check=p(u.check,N,we,V)),j-=we,V+=we,T)break e}else u.head&&(u.head.comment=null);u.mode=9;case 9:if(512&u.flags){for(;B<16;){if(j===0)break e;j--,X+=N[V++]<<B,B+=8}if(X!==(65535&u.check)){H.msg="header crc mismatch",u.mode=30;break}B=X=0}u.head&&(u.head.hcrc=u.flags>>9&1,u.head.done=!0),H.adler=u.check=0,u.mode=12;break;case 10:for(;B<32;){if(j===0)break e;j--,X+=N[V++]<<B,B+=8}H.adler=u.check=R(X),B=X=0,u.mode=11;case 11:if(u.havedict===0)return H.next_out=K,H.avail_out=ie,H.next_in=V,H.avail_in=j,u.hold=X,u.bits=B,2;H.adler=u.check=1,u.mode=12;case 12:if(I===5||I===6)break e;case 13:if(u.last){X>>>=7&B,B-=7&B,u.mode=27;break}for(;B<3;){if(j===0)break e;j--,X+=N[V++]<<B,B+=8}switch(u.last=1&X,B-=1,3&(X>>>=1)){case 0:u.mode=14;break;case 1:if(J(u),u.mode=20,I!==6)break;X>>>=2,B-=2;break e;case 2:u.mode=17;break;case 3:H.msg="invalid block type",u.mode=30}X>>>=2,B-=2;break;case 14:for(X>>>=7&B,B-=7&B;B<32;){if(j===0)break e;j--,X+=N[V++]<<B,B+=8}if((65535&X)!=(X>>>16^65535)){H.msg="invalid stored block lengths",u.mode=30;break}if(u.length=65535&X,B=X=0,u.mode=15,I===6)break e;case 15:u.mode=16;case 16:if(we=u.length){if(j<we&&(we=j),ie<we&&(we=ie),we===0)break e;m.arraySet(q,N,V,we,K),j-=we,V+=we,ie-=we,K+=we,u.length-=we;break}u.mode=12;break;case 17:for(;B<14;){if(j===0)break e;j--,X+=N[V++]<<B,B+=8}if(u.nlen=257+(31&X),X>>>=5,B-=5,u.ndist=1+(31&X),X>>>=5,B-=5,u.ncode=4+(15&X),X>>>=4,B-=4,286<u.nlen||30<u.ndist){H.msg="too many length or distance symbols",u.mode=30;break}u.have=0,u.mode=18;case 18:for(;u.have<u.ncode;){for(;B<3;){if(j===0)break e;j--,X+=N[V++]<<B,B+=8}u.lens[Fe[u.have++]]=7&X,X>>>=3,B-=3}for(;u.have<19;)u.lens[Fe[u.have++]]=0;if(u.lencode=u.lendyn,u.lenbits=7,fe={bits:u.lenbits},oe=b(0,u.lens,0,19,u.lencode,0,u.work,fe),u.lenbits=fe.bits,oe){H.msg="invalid code lengths set",u.mode=30;break}u.have=0,u.mode=19;case 19:for(;u.have<u.nlen+u.ndist;){for(;re=(ue=u.lencode[X&(1<<u.lenbits)-1])>>>16&255,ge=65535&ue,!((te=ue>>>24)<=B);){if(j===0)break e;j--,X+=N[V++]<<B,B+=8}if(ge<16)X>>>=te,B-=te,u.lens[u.have++]=ge;else{if(ge===16){for(de=te+2;B<de;){if(j===0)break e;j--,X+=N[V++]<<B,B+=8}if(X>>>=te,B-=te,u.have===0){H.msg="invalid bit length repeat",u.mode=30;break}T=u.lens[u.have-1],we=3+(3&X),X>>>=2,B-=2}else if(ge===17){for(de=te+3;B<de;){if(j===0)break e;j--,X+=N[V++]<<B,B+=8}B-=te,T=0,we=3+(7&(X>>>=te)),X>>>=3,B-=3}else{for(de=te+7;B<de;){if(j===0)break e;j--,X+=N[V++]<<B,B+=8}B-=te,T=0,we=11+(127&(X>>>=te)),X>>>=7,B-=7}if(u.have+we>u.nlen+u.ndist){H.msg="invalid bit length repeat",u.mode=30;break}for(;we--;)u.lens[u.have++]=T}}if(u.mode===30)break;if(u.lens[256]===0){H.msg="invalid code -- missing end-of-block",u.mode=30;break}if(u.lenbits=9,fe={bits:u.lenbits},oe=b(l,u.lens,0,u.nlen,u.lencode,0,u.work,fe),u.lenbits=fe.bits,oe){H.msg="invalid literal/lengths set",u.mode=30;break}if(u.distbits=6,u.distcode=u.distdyn,fe={bits:u.distbits},oe=b(E,u.lens,u.nlen,u.ndist,u.distcode,0,u.work,fe),u.distbits=fe.bits,oe){H.msg="invalid distances set",u.mode=30;break}if(u.mode=20,I===6)break e;case 20:u.mode=21;case 21:if(6<=j&&258<=ie){H.next_out=K,H.avail_out=ie,H.next_in=V,H.avail_in=j,u.hold=X,u.bits=B,k(H,Pe),K=H.next_out,q=H.output,ie=H.avail_out,V=H.next_in,N=H.input,j=H.avail_in,X=u.hold,B=u.bits,u.mode===12&&(u.back=-1);break}for(u.back=0;re=(ue=u.lencode[X&(1<<u.lenbits)-1])>>>16&255,ge=65535&ue,!((te=ue>>>24)<=B);){if(j===0)break e;j--,X+=N[V++]<<B,B+=8}if(re&&!(240&re)){for(ye=te,Ee=re,z=ge;re=(ue=u.lencode[z+((X&(1<<ye+Ee)-1)>>ye)])>>>16&255,ge=65535&ue,!(ye+(te=ue>>>24)<=B);){if(j===0)break e;j--,X+=N[V++]<<B,B+=8}X>>>=ye,B-=ye,u.back+=ye}if(X>>>=te,B-=te,u.back+=te,u.length=ge,re===0){u.mode=26;break}if(32&re){u.back=-1,u.mode=12;break}if(64&re){H.msg="invalid literal/length code",u.mode=30;break}u.extra=15&re,u.mode=22;case 22:if(u.extra){for(de=u.extra;B<de;){if(j===0)break e;j--,X+=N[V++]<<B,B+=8}u.length+=X&(1<<u.extra)-1,X>>>=u.extra,B-=u.extra,u.back+=u.extra}u.was=u.length,u.mode=23;case 23:for(;re=(ue=u.distcode[X&(1<<u.distbits)-1])>>>16&255,ge=65535&ue,!((te=ue>>>24)<=B);){if(j===0)break e;j--,X+=N[V++]<<B,B+=8}if(!(240&re)){for(ye=te,Ee=re,z=ge;re=(ue=u.distcode[z+((X&(1<<ye+Ee)-1)>>ye)])>>>16&255,ge=65535&ue,!(ye+(te=ue>>>24)<=B);){if(j===0)break e;j--,X+=N[V++]<<B,B+=8}X>>>=ye,B-=ye,u.back+=ye}if(X>>>=te,B-=te,u.back+=te,64&re){H.msg="invalid distance code",u.mode=30;break}u.offset=ge,u.extra=15&re,u.mode=24;case 24:if(u.extra){for(de=u.extra;B<de;){if(j===0)break e;j--,X+=N[V++]<<B,B+=8}u.offset+=X&(1<<u.extra)-1,X>>>=u.extra,B-=u.extra,u.back+=u.extra}if(u.offset>u.dmax){H.msg="invalid distance too far back",u.mode=30;break}u.mode=25;case 25:if(ie===0)break e;if(we=Pe-ie,u.offset>we){if((we=u.offset-we)>u.whave&&u.sane){H.msg="invalid distance too far back",u.mode=30;break}_e=we>u.wnext?(we-=u.wnext,u.wsize-we):u.wnext-we,we>u.length&&(we=u.length),Me=u.window}else Me=q,_e=K-u.offset,we=u.length;for(ie<we&&(we=ie),ie-=we,u.length-=we;q[K++]=Me[_e++],--we;);u.length===0&&(u.mode=21);break;case 26:if(ie===0)break e;q[K++]=u.length,ie--,u.mode=21;break;case 27:if(u.wrap){for(;B<32;){if(j===0)break e;j--,X|=N[V++]<<B,B+=8}if(Pe-=ie,H.total_out+=Pe,u.total+=Pe,Pe&&(H.adler=u.check=u.flags?p(u.check,q,Pe,K-Pe):g(u.check,q,Pe,K-Pe)),Pe=ie,(u.flags?X:R(X))!==u.check){H.msg="incorrect data check",u.mode=30;break}B=X=0}u.mode=28;case 28:if(u.wrap&&u.flags){for(;B<32;){if(j===0)break e;j--,X+=N[V++]<<B,B+=8}if(X!==(4294967295&u.total)){H.msg="incorrect length check",u.mode=30;break}B=X=0}u.mode=29;case 29:oe=1;break e;case 30:oe=-3;break e;case 31:return-4;case 32:default:return v}return H.next_out=K,H.avail_out=ie,H.next_in=V,H.avail_in=j,u.hold=X,u.bits=B,(u.wsize||Pe!==H.avail_out&&u.mode<30&&(u.mode<27||I!==4))&&O(H,H.output,H.next_out,Pe-H.avail_out)?(u.mode=31,-4):(se-=H.avail_in,Pe-=H.avail_out,H.total_in+=se,H.total_out+=Pe,u.total+=Pe,u.wrap&&Pe&&(H.adler=u.check=u.flags?p(u.check,q,Pe,H.next_out-Pe):g(u.check,q,Pe,H.next_out-Pe)),H.data_type=u.bits+(u.last?64:0)+(u.mode===12?128:0)+(u.mode===20||u.mode===15?256:0),(se==0&&Pe===0||I===4)&&oe===c&&(oe=-5),oe)},h.inflateEnd=function(H){if(!H||!H.state)return v;var I=H.state;return I.window&&(I.window=null),H.state=null,c},h.inflateGetHeader=function(H,I){var u;return H&&H.state&&2&(u=H.state).wrap?((u.head=I).done=!1,c):v},h.inflateSetDictionary=function(H,I){var u,N=I.length;return H&&H.state?(u=H.state).wrap!==0&&u.mode!==11?v:u.mode===11&&g(1,I,N,0)!==u.check?-3:O(H,I,N,N)?(u.mode=31,-4):(u.havedict=1,c):v},h.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(D,A,h){"use strict";var m=D("../utils/common"),g=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],p=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],k=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],b=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];A.exports=function(l,E,c,v,f,w,_,R){var M,U,x,y,W,Q,Z,ee,J,O=R.bits,H=0,I=0,u=0,N=0,q=0,V=0,K=0,j=0,ie=0,X=0,B=null,se=0,Pe=new m.Buf16(16),we=new m.Buf16(16),_e=null,Me=0;for(H=0;H<=15;H++)Pe[H]=0;for(I=0;I<v;I++)Pe[E[c+I]]++;for(q=O,N=15;1<=N&&Pe[N]===0;N--);if(N<q&&(q=N),N===0)return f[w++]=20971520,f[w++]=20971520,R.bits=1,0;for(u=1;u<N&&Pe[u]===0;u++);for(q<u&&(q=u),H=j=1;H<=15;H++)if(j<<=1,(j-=Pe[H])<0)return-1;if(0<j&&(l===0||N!==1))return-1;for(we[1]=0,H=1;H<15;H++)we[H+1]=we[H]+Pe[H];for(I=0;I<v;I++)E[c+I]!==0&&(_[we[E[c+I]]++]=I);if(Q=l===0?(B=_e=_,19):l===1?(B=g,se-=257,_e=p,Me-=257,256):(B=k,_e=b,-1),H=u,W=w,K=I=X=0,x=-1,y=(ie=1<<(V=q))-1,l===1&&852<ie||l===2&&592<ie)return 1;for(;;){for(Z=H-K,J=_[I]<Q?(ee=0,_[I]):_[I]>Q?(ee=_e[Me+_[I]],B[se+_[I]]):(ee=96,0),M=1<<H-K,u=U=1<<V;f[W+(X>>K)+(U-=M)]=Z<<24|ee<<16|J|0,U!==0;);for(M=1<<H-1;X&M;)M>>=1;if(M!==0?(X&=M-1,X+=M):X=0,I++,--Pe[H]==0){if(H===N)break;H=E[c+_[I]]}if(q<H&&(X&y)!==x){for(K===0&&(K=q),W+=u,j=1<<(V=H-K);V+K<N&&!((j-=Pe[V+K])<=0);)V++,j<<=1;if(ie+=1<<V,l===1&&852<ie||l===2&&592<ie)return 1;f[x=X&y]=q<<24|V<<16|W-w|0}}return X!==0&&(f[W+X]=H-K<<24|4194304|0),R.bits=q,0}},{"../utils/common":41}],51:[function(D,A,h){"use strict";A.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(D,A,h){"use strict";var m=D("../utils/common"),g=0,p=1;function k(ue){for(var ve=ue.length;0<=--ve;)ue[ve]=0}var b=0,l=29,E=256,c=E+1+l,v=30,f=19,w=2*c+1,_=15,R=16,M=7,U=256,x=16,y=17,W=18,Q=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],Z=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],ee=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],J=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],O=new Array(2*(c+2));k(O);var H=new Array(2*v);k(H);var I=new Array(512);k(I);var u=new Array(256);k(u);var N=new Array(l);k(N);var q,V,K,j=new Array(v);function ie(ue,ve,Fe,Oe,$e){this.static_tree=ue,this.extra_bits=ve,this.extra_base=Fe,this.elems=Oe,this.max_length=$e,this.has_stree=ue&&ue.length}function X(ue,ve){this.dyn_tree=ue,this.max_code=0,this.stat_desc=ve}function B(ue){return ue<256?I[ue]:I[256+(ue>>>7)]}function se(ue,ve){ue.pending_buf[ue.pending++]=255&ve,ue.pending_buf[ue.pending++]=ve>>>8&255}function Pe(ue,ve,Fe){ue.bi_valid>R-Fe?(ue.bi_buf|=ve<<ue.bi_valid&65535,se(ue,ue.bi_buf),ue.bi_buf=ve>>R-ue.bi_valid,ue.bi_valid+=Fe-R):(ue.bi_buf|=ve<<ue.bi_valid&65535,ue.bi_valid+=Fe)}function we(ue,ve,Fe){Pe(ue,Fe[2*ve],Fe[2*ve+1])}function _e(ue,ve){for(var Fe=0;Fe|=1&ue,ue>>>=1,Fe<<=1,0<--ve;);return Fe>>>1}function Me(ue,ve,Fe){var Oe,$e,qe=new Array(_+1),Ve=0;for(Oe=1;Oe<=_;Oe++)qe[Oe]=Ve=Ve+Fe[Oe-1]<<1;for($e=0;$e<=ve;$e++){var Je=ue[2*$e+1];Je!==0&&(ue[2*$e]=_e(qe[Je]++,Je))}}function te(ue){var ve;for(ve=0;ve<c;ve++)ue.dyn_ltree[2*ve]=0;for(ve=0;ve<v;ve++)ue.dyn_dtree[2*ve]=0;for(ve=0;ve<f;ve++)ue.bl_tree[2*ve]=0;ue.dyn_ltree[2*U]=1,ue.opt_len=ue.static_len=0,ue.last_lit=ue.matches=0}function re(ue){8<ue.bi_valid?se(ue,ue.bi_buf):0<ue.bi_valid&&(ue.pending_buf[ue.pending++]=ue.bi_buf),ue.bi_buf=0,ue.bi_valid=0}function ge(ue,ve,Fe,Oe){var $e=2*ve,qe=2*Fe;return ue[$e]<ue[qe]||ue[$e]===ue[qe]&&Oe[ve]<=Oe[Fe]}function ye(ue,ve,Fe){for(var Oe=ue.heap[Fe],$e=Fe<<1;$e<=ue.heap_len&&($e<ue.heap_len&&ge(ve,ue.heap[$e+1],ue.heap[$e],ue.depth)&&$e++,!ge(ve,Oe,ue.heap[$e],ue.depth));)ue.heap[Fe]=ue.heap[$e],Fe=$e,$e<<=1;ue.heap[Fe]=Oe}function Ee(ue,ve,Fe){var Oe,$e,qe,Ve,Je=0;if(ue.last_lit!==0)for(;Oe=ue.pending_buf[ue.d_buf+2*Je]<<8|ue.pending_buf[ue.d_buf+2*Je+1],$e=ue.pending_buf[ue.l_buf+Je],Je++,Oe===0?we(ue,$e,ve):(we(ue,(qe=u[$e])+E+1,ve),(Ve=Q[qe])!==0&&Pe(ue,$e-=N[qe],Ve),we(ue,qe=B(--Oe),Fe),(Ve=Z[qe])!==0&&Pe(ue,Oe-=j[qe],Ve)),Je<ue.last_lit;);we(ue,U,ve)}function z(ue,ve){var Fe,Oe,$e,qe=ve.dyn_tree,Ve=ve.stat_desc.static_tree,Je=ve.stat_desc.has_stree,me=ve.stat_desc.elems,ae=-1;for(ue.heap_len=0,ue.heap_max=w,Fe=0;Fe<me;Fe++)qe[2*Fe]!==0?(ue.heap[++ue.heap_len]=ae=Fe,ue.depth[Fe]=0):qe[2*Fe+1]=0;for(;ue.heap_len<2;)qe[2*($e=ue.heap[++ue.heap_len]=ae<2?++ae:0)]=1,ue.depth[$e]=0,ue.opt_len--,Je&&(ue.static_len-=Ve[2*$e+1]);for(ve.max_code=ae,Fe=ue.heap_len>>1;1<=Fe;Fe--)ye(ue,qe,Fe);for($e=me;Fe=ue.heap[1],ue.heap[1]=ue.heap[ue.heap_len--],ye(ue,qe,1),Oe=ue.heap[1],ue.heap[--ue.heap_max]=Fe,ue.heap[--ue.heap_max]=Oe,qe[2*$e]=qe[2*Fe]+qe[2*Oe],ue.depth[$e]=(ue.depth[Fe]>=ue.depth[Oe]?ue.depth[Fe]:ue.depth[Oe])+1,qe[2*Fe+1]=qe[2*Oe+1]=$e,ue.heap[1]=$e++,ye(ue,qe,1),2<=ue.heap_len;);ue.heap[--ue.heap_max]=ue.heap[1],function(ce,Re){var xe,Ye,Ue,Ze,It,st,ut=Re.dyn_tree,wt=Re.max_code,vt=Re.stat_desc.static_tree,_t=Re.stat_desc.has_stree,oi=Re.stat_desc.extra_bits,yt=Re.stat_desc.extra_base,Pt=Re.stat_desc.max_length,Hi=0;for(Ze=0;Ze<=_;Ze++)ce.bl_count[Ze]=0;for(ut[2*ce.heap[ce.heap_max]+1]=0,xe=ce.heap_max+1;xe<w;xe++)Pt<(Ze=ut[2*ut[2*(Ye=ce.heap[xe])+1]+1]+1)&&(Ze=Pt,Hi++),ut[2*Ye+1]=Ze,wt<Ye||(ce.bl_count[Ze]++,It=0,yt<=Ye&&(It=oi[Ye-yt]),st=ut[2*Ye],ce.opt_len+=st*(Ze+It),_t&&(ce.static_len+=st*(vt[2*Ye+1]+It)));if(Hi!==0){do{for(Ze=Pt-1;ce.bl_count[Ze]===0;)Ze--;ce.bl_count[Ze]--,ce.bl_count[Ze+1]+=2,ce.bl_count[Pt]--,Hi-=2}while(0<Hi);for(Ze=Pt;Ze!==0;Ze--)for(Ye=ce.bl_count[Ze];Ye!==0;)wt<(Ue=ce.heap[--xe])||(ut[2*Ue+1]!==Ze&&(ce.opt_len+=(Ze-ut[2*Ue+1])*ut[2*Ue],ut[2*Ue+1]=Ze),Ye--)}}(ue,ve),Me(qe,ae,ue.bl_count)}function T(ue,ve,Fe){var Oe,$e,qe=-1,Ve=ve[1],Je=0,me=7,ae=4;for(Ve===0&&(me=138,ae=3),ve[2*(Fe+1)+1]=65535,Oe=0;Oe<=Fe;Oe++)$e=Ve,Ve=ve[2*(Oe+1)+1],++Je<me&&$e===Ve||(Je<ae?ue.bl_tree[2*$e]+=Je:$e!==0?($e!==qe&&ue.bl_tree[2*$e]++,ue.bl_tree[2*x]++):Je<=10?ue.bl_tree[2*y]++:ue.bl_tree[2*W]++,qe=$e,ae=(Je=0)===Ve?(me=138,3):$e===Ve?(me=6,3):(me=7,4))}function oe(ue,ve,Fe){var Oe,$e,qe=-1,Ve=ve[1],Je=0,me=7,ae=4;for(Ve===0&&(me=138,ae=3),Oe=0;Oe<=Fe;Oe++)if($e=Ve,Ve=ve[2*(Oe+1)+1],!(++Je<me&&$e===Ve)){if(Je<ae)for(;we(ue,$e,ue.bl_tree),--Je!=0;);else $e!==0?($e!==qe&&(we(ue,$e,ue.bl_tree),Je--),we(ue,x,ue.bl_tree),Pe(ue,Je-3,2)):Je<=10?(we(ue,y,ue.bl_tree),Pe(ue,Je-3,3)):(we(ue,W,ue.bl_tree),Pe(ue,Je-11,7));qe=$e,ae=(Je=0)===Ve?(me=138,3):$e===Ve?(me=6,3):(me=7,4)}}k(j);var fe=!1;function de(ue,ve,Fe,Oe){Pe(ue,(b<<1)+(Oe?1:0),3),function($e,qe,Ve,Je){re($e),Je&&(se($e,Ve),se($e,~Ve)),m.arraySet($e.pending_buf,$e.window,qe,Ve,$e.pending),$e.pending+=Ve}(ue,ve,Fe,!0)}h._tr_init=function(ue){fe||(function(){var ve,Fe,Oe,$e,qe,Ve=new Array(_+1);for($e=Oe=0;$e<l-1;$e++)for(N[$e]=Oe,ve=0;ve<1<<Q[$e];ve++)u[Oe++]=$e;for(u[Oe-1]=$e,$e=qe=0;$e<16;$e++)for(j[$e]=qe,ve=0;ve<1<<Z[$e];ve++)I[qe++]=$e;for(qe>>=7;$e<v;$e++)for(j[$e]=qe<<7,ve=0;ve<1<<Z[$e]-7;ve++)I[256+qe++]=$e;for(Fe=0;Fe<=_;Fe++)Ve[Fe]=0;for(ve=0;ve<=143;)O[2*ve+1]=8,ve++,Ve[8]++;for(;ve<=255;)O[2*ve+1]=9,ve++,Ve[9]++;for(;ve<=279;)O[2*ve+1]=7,ve++,Ve[7]++;for(;ve<=287;)O[2*ve+1]=8,ve++,Ve[8]++;for(Me(O,c+1,Ve),ve=0;ve<v;ve++)H[2*ve+1]=5,H[2*ve]=_e(ve,5);q=new ie(O,Q,E+1,c,_),V=new ie(H,Z,0,v,_),K=new ie(new Array(0),ee,0,f,M)}(),fe=!0),ue.l_desc=new X(ue.dyn_ltree,q),ue.d_desc=new X(ue.dyn_dtree,V),ue.bl_desc=new X(ue.bl_tree,K),ue.bi_buf=0,ue.bi_valid=0,te(ue)},h._tr_stored_block=de,h._tr_flush_block=function(ue,ve,Fe,Oe){var $e,qe,Ve=0;0<ue.level?(ue.strm.data_type===2&&(ue.strm.data_type=function(Je){var me,ae=4093624447;for(me=0;me<=31;me++,ae>>>=1)if(1&ae&&Je.dyn_ltree[2*me]!==0)return g;if(Je.dyn_ltree[18]!==0||Je.dyn_ltree[20]!==0||Je.dyn_ltree[26]!==0)return p;for(me=32;me<E;me++)if(Je.dyn_ltree[2*me]!==0)return p;return g}(ue)),z(ue,ue.l_desc),z(ue,ue.d_desc),Ve=function(Je){var me;for(T(Je,Je.dyn_ltree,Je.l_desc.max_code),T(Je,Je.dyn_dtree,Je.d_desc.max_code),z(Je,Je.bl_desc),me=f-1;3<=me&&Je.bl_tree[2*J[me]+1]===0;me--);return Je.opt_len+=3*(me+1)+5+5+4,me}(ue),$e=ue.opt_len+3+7>>>3,(qe=ue.static_len+3+7>>>3)<=$e&&($e=qe)):$e=qe=Fe+5,Fe+4<=$e&&ve!==-1?de(ue,ve,Fe,Oe):ue.strategy===4||qe===$e?(Pe(ue,2+(Oe?1:0),3),Ee(ue,O,H)):(Pe(ue,4+(Oe?1:0),3),function(Je,me,ae,ce){var Re;for(Pe(Je,me-257,5),Pe(Je,ae-1,5),Pe(Je,ce-4,4),Re=0;Re<ce;Re++)Pe(Je,Je.bl_tree[2*J[Re]+1],3);oe(Je,Je.dyn_ltree,me-1),oe(Je,Je.dyn_dtree,ae-1)}(ue,ue.l_desc.max_code+1,ue.d_desc.max_code+1,Ve+1),Ee(ue,ue.dyn_ltree,ue.dyn_dtree)),te(ue),Oe&&re(ue)},h._tr_tally=function(ue,ve,Fe){return ue.pending_buf[ue.d_buf+2*ue.last_lit]=ve>>>8&255,ue.pending_buf[ue.d_buf+2*ue.last_lit+1]=255&ve,ue.pending_buf[ue.l_buf+ue.last_lit]=255&Fe,ue.last_lit++,ve===0?ue.dyn_ltree[2*Fe]++:(ue.matches++,ve--,ue.dyn_ltree[2*(u[Fe]+E+1)]++,ue.dyn_dtree[2*B(ve)]++),ue.last_lit===ue.lit_bufsize-1},h._tr_align=function(ue){Pe(ue,2,3),we(ue,U,O),function(ve){ve.bi_valid===16?(se(ve,ve.bi_buf),ve.bi_buf=0,ve.bi_valid=0):8<=ve.bi_valid&&(ve.pending_buf[ve.pending++]=255&ve.bi_buf,ve.bi_buf>>=8,ve.bi_valid-=8)}(ue)}},{"../utils/common":41}],53:[function(D,A,h){"use strict";A.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(D,A,h){(function(m){(function(g,p){"use strict";if(!g.setImmediate){var k,b,l,E,c=1,v={},f=!1,w=g.document,_=Object.getPrototypeOf&&Object.getPrototypeOf(g);_=_&&_.setTimeout?_:g,k={}.toString.call(g.process)==="[object process]"?function(x){L.nextTick(function(){M(x)})}:function(){if(g.postMessage&&!g.importScripts){var x=!0,y=g.onmessage;return g.onmessage=function(){x=!1},g.postMessage("","*"),g.onmessage=y,x}}()?(E="setImmediate$"+Math.random()+"$",g.addEventListener?g.addEventListener("message",U,!1):g.attachEvent("onmessage",U),function(x){g.postMessage(E+x,"*")}):g.MessageChannel?((l=new MessageChannel).port1.onmessage=function(x){M(x.data)},function(x){l.port2.postMessage(x)}):w&&"onreadystatechange"in w.createElement("script")?(b=w.documentElement,function(x){var y=w.createElement("script");y.onreadystatechange=function(){M(x),y.onreadystatechange=null,b.removeChild(y),y=null},b.appendChild(y)}):function(x){setTimeout(M,0,x)},_.setImmediate=function(x){typeof x!="function"&&(x=new Function(""+x));for(var y=new Array(arguments.length-1),W=0;W<y.length;W++)y[W]=arguments[W+1];var Q={callback:x,args:y};return v[c]=Q,k(c),c++},_.clearImmediate=R}function R(x){delete v[x]}function M(x){if(f)setTimeout(M,0,x);else{var y=v[x];if(y){f=!0;try{(function(W){var Q=W.callback,Z=W.args;switch(Z.length){case 0:Q();break;case 1:Q(Z[0]);break;case 2:Q(Z[0],Z[1]);break;case 3:Q(Z[0],Z[1],Z[2]);break;default:Q.apply(p,Z)}})(y)}finally{R(x),f=!1}}}}function U(x){x.source===g&&typeof x.data=="string"&&x.data.indexOf(E)===0&&M(+x.data.slice(E.length))}})(typeof self=="undefined"?m===void 0?this:m:self)}).call(this,typeof F.g!="undefined"?F.g:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{}]},{},[10])(10)})},69749:(s,G,F)=>{"use strict";const P=F(28799),L=Symbol("max"),D=Symbol("length"),A=Symbol("lengthCalculator"),h=Symbol("allowStale"),m=Symbol("maxAge"),g=Symbol("dispose"),p=Symbol("noDisposeOnSet"),k=Symbol("lruList"),b=Symbol("cache"),l=Symbol("updateAgeOnGet"),E=()=>1;class c{constructor(x){if(typeof x=="number"&&(x={max:x}),x||(x={}),x.max&&(typeof x.max!="number"||x.max<0))throw new TypeError("max must be a non-negative number");const y=this[L]=x.max||1/0,W=x.length||E;if(this[A]=typeof W!="function"?E:W,this[h]=x.stale||!1,x.maxAge&&typeof x.maxAge!="number")throw new TypeError("maxAge must be a number");this[m]=x.maxAge||0,this[g]=x.dispose,this[p]=x.noDisposeOnSet||!1,this[l]=x.updateAgeOnGet||!1,this.reset()}set max(x){if(typeof x!="number"||x<0)throw new TypeError("max must be a non-negative number");this[L]=x||1/0,w(this)}get max(){return this[L]}set allowStale(x){this[h]=!!x}get allowStale(){return this[h]}set maxAge(x){if(typeof x!="number")throw new TypeError("maxAge must be a non-negative number");this[m]=x,w(this)}get maxAge(){return this[m]}set lengthCalculator(x){typeof x!="function"&&(x=E),x!==this[A]&&(this[A]=x,this[D]=0,this[k].forEach(y=>{y.length=this[A](y.value,y.key),this[D]+=y.length})),w(this)}get lengthCalculator(){return this[A]}get length(){return this[D]}get itemCount(){return this[k].length}rforEach(x,y){y=y||this;for(let W=this[k].tail;W!==null;){const Q=W.prev;M(this,x,W,y),W=Q}}forEach(x,y){y=y||this;for(let W=this[k].head;W!==null;){const Q=W.next;M(this,x,W,y),W=Q}}keys(){return this[k].toArray().map(x=>x.key)}values(){return this[k].toArray().map(x=>x.value)}reset(){this[g]&&this[k]&&this[k].length&&this[k].forEach(x=>this[g](x.key,x.value)),this[b]=new Map,this[k]=new P,this[D]=0}dump(){return this[k].map(x=>f(this,x)?!1:{k:x.key,v:x.value,e:x.now+(x.maxAge||0)}).toArray().filter(x=>x)}dumpLru(){return this[k]}set(x,y,W){if(W=W||this[m],W&&typeof W!="number")throw new TypeError("maxAge must be a number");const Q=W?Date.now():0,Z=this[A](y,x);if(this[b].has(x)){if(Z>this[L])return _(this,this[b].get(x)),!1;const O=this[b].get(x).value;return this[g]&&(this[p]||this[g](x,O.value)),O.now=Q,O.maxAge=W,O.value=y,this[D]+=Z-O.length,O.length=Z,this.get(x),w(this),!0}const ee=new R(x,y,Z,Q,W);return ee.length>this[L]?(this[g]&&this[g](x,y),!1):(this[D]+=ee.length,this[k].unshift(ee),this[b].set(x,this[k].head),w(this),!0)}has(x){if(!this[b].has(x))return!1;const y=this[b].get(x).value;return!f(this,y)}get(x){return v(this,x,!0)}peek(x){return v(this,x,!1)}pop(){const x=this[k].tail;return x?(_(this,x),x.value):null}del(x){_(this,this[b].get(x))}load(x){this.reset();const y=Date.now();for(let W=x.length-1;W>=0;W--){const Q=x[W],Z=Q.e||0;if(Z===0)this.set(Q.k,Q.v);else{const ee=Z-y;ee>0&&this.set(Q.k,Q.v,ee)}}}prune(){this[b].forEach((x,y)=>v(this,y,!1))}}const v=(U,x,y)=>{const W=U[b].get(x);if(W){const Q=W.value;if(f(U,Q)){if(_(U,W),!U[h])return}else y&&(U[l]&&(W.value.now=Date.now()),U[k].unshiftNode(W));return Q.value}},f=(U,x)=>{if(!x||!x.maxAge&&!U[m])return!1;const y=Date.now()-x.now;return x.maxAge?y>x.maxAge:U[m]&&y>U[m]},w=U=>{if(U[D]>U[L])for(let x=U[k].tail;U[D]>U[L]&&x!==null;){const y=x.prev;_(U,x),x=y}},_=(U,x)=>{if(x){const y=x.value;U[g]&&U[g](y.key,y.value),U[D]-=y.length,U[b].delete(y.key),U[k].removeNode(x)}};class R{constructor(x,y,W,Q,Z){this.key=x,this.value=y,this.length=W,this.now=Q,this.maxAge=Z||0}}const M=(U,x,y,W)=>{let Q=y.value;f(U,Q)&&(_(U,y),U[h]||(Q=void 0)),Q&&x.call(W,Q.value,Q.key,U)};s.exports=c},71514:s=>{"use strict";s.exports=Math.abs},58968:s=>{"use strict";s.exports=Math.floor},94459:s=>{"use strict";s.exports=Number.isNaN||function(F){return F!==F}},6188:s=>{"use strict";s.exports=Math.max},68002:s=>{"use strict";s.exports=Math.min},75880:s=>{"use strict";s.exports=Math.pow},70414:s=>{"use strict";s.exports=Math.round},73093:(s,G,F)=>{"use strict";var P=F(94459);s.exports=function(D){return P(D)||D===0?D:D<0?-1:1}},88276:(s,G,F)=>{"use strict";var P=F(56698),L=F(4729),D=F(92861).Buffer,A=new Array(16);function h(){L.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}P(h,L),h.prototype._update=function(){for(var l=A,E=0;E<16;++E)l[E]=this._block.readInt32LE(E*4);var c=this._a,v=this._b,f=this._c,w=this._d;c=g(c,v,f,w,l[0],3614090360,7),w=g(w,c,v,f,l[1],3905402710,12),f=g(f,w,c,v,l[2],606105819,17),v=g(v,f,w,c,l[3],3250441966,22),c=g(c,v,f,w,l[4],4118548399,7),w=g(w,c,v,f,l[5],1200080426,12),f=g(f,w,c,v,l[6],2821735955,17),v=g(v,f,w,c,l[7],4249261313,22),c=g(c,v,f,w,l[8],1770035416,7),w=g(w,c,v,f,l[9],2336552879,12),f=g(f,w,c,v,l[10],4294925233,17),v=g(v,f,w,c,l[11],2304563134,22),c=g(c,v,f,w,l[12],1804603682,7),w=g(w,c,v,f,l[13],4254626195,12),f=g(f,w,c,v,l[14],2792965006,17),v=g(v,f,w,c,l[15],1236535329,22),c=p(c,v,f,w,l[1],4129170786,5),w=p(w,c,v,f,l[6],3225465664,9),f=p(f,w,c,v,l[11],643717713,14),v=p(v,f,w,c,l[0],3921069994,20),c=p(c,v,f,w,l[5],3593408605,5),w=p(w,c,v,f,l[10],38016083,9),f=p(f,w,c,v,l[15],3634488961,14),v=p(v,f,w,c,l[4],3889429448,20),c=p(c,v,f,w,l[9],568446438,5),w=p(w,c,v,f,l[14],3275163606,9),f=p(f,w,c,v,l[3],4107603335,14),v=p(v,f,w,c,l[8],1163531501,20),c=p(c,v,f,w,l[13],2850285829,5),w=p(w,c,v,f,l[2],4243563512,9),f=p(f,w,c,v,l[7],1735328473,14),v=p(v,f,w,c,l[12],2368359562,20),c=k(c,v,f,w,l[5],4294588738,4),w=k(w,c,v,f,l[8],2272392833,11),f=k(f,w,c,v,l[11],1839030562,16),v=k(v,f,w,c,l[14],4259657740,23),c=k(c,v,f,w,l[1],2763975236,4),w=k(w,c,v,f,l[4],1272893353,11),f=k(f,w,c,v,l[7],4139469664,16),v=k(v,f,w,c,l[10],3200236656,23),c=k(c,v,f,w,l[13],681279174,4),w=k(w,c,v,f,l[0],3936430074,11),f=k(f,w,c,v,l[3],3572445317,16),v=k(v,f,w,c,l[6],76029189,23),c=k(c,v,f,w,l[9],3654602809,4),w=k(w,c,v,f,l[12],3873151461,11),f=k(f,w,c,v,l[15],530742520,16),v=k(v,f,w,c,l[2],3299628645,23),c=b(c,v,f,w,l[0],4096336452,6),w=b(w,c,v,f,l[7],1126891415,10),f=b(f,w,c,v,l[14],2878612391,15),v=b(v,f,w,c,l[5],4237533241,21),c=b(c,v,f,w,l[12],1700485571,6),w=b(w,c,v,f,l[3],2399980690,10),f=b(f,w,c,v,l[10],4293915773,15),v=b(v,f,w,c,l[1],2240044497,21),c=b(c,v,f,w,l[8],1873313359,6),w=b(w,c,v,f,l[15],4264355552,10),f=b(f,w,c,v,l[6],2734768916,15),v=b(v,f,w,c,l[13],1309151649,21),c=b(c,v,f,w,l[4],4149444226,6),w=b(w,c,v,f,l[11],3174756917,10),f=b(f,w,c,v,l[2],718787259,15),v=b(v,f,w,c,l[9],3951481745,21),this._a=this._a+c|0,this._b=this._b+v|0,this._c=this._c+f|0,this._d=this._d+w|0},h.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var l=D.allocUnsafe(16);return l.writeInt32LE(this._a,0),l.writeInt32LE(this._b,4),l.writeInt32LE(this._c,8),l.writeInt32LE(this._d,12),l};function m(l,E){return l<<E|l>>>32-E}function g(l,E,c,v,f,w,_){return m(l+(E&c|~E&v)+f+w|0,_)+E|0}function p(l,E,c,v,f,w,_){return m(l+(E&v|c&~v)+f+w|0,_)+E|0}function k(l,E,c,v,f,w,_){return m(l+(E^c^v)+f+w|0,_)+E|0}function b(l,E,c,v,f,w,_){return m(l+(c^(E|~v))+f+w|0,_)+E|0}s.exports=h},52244:(s,G,F)=>{var P=F(39404),L=F(15037);function D(A){this.rand=A||new L.Rand}s.exports=D,D.create=function(h){return new D(h)},D.prototype._randbelow=function(h){var m=h.bitLength(),g=Math.ceil(m/8);do var p=new P(this.rand.generate(g));while(p.cmp(h)>=0);return p},D.prototype._randrange=function(h,m){var g=m.sub(h);return h.add(this._randbelow(g))},D.prototype.test=function(h,m,g){var p=h.bitLength(),k=P.mont(h),b=new P(1).toRed(k);m||(m=Math.max(1,p/48|0));for(var l=h.subn(1),E=0;!l.testn(E);E++);for(var c=h.shrn(E),v=l.toRed(k),f=!0;m>0;m--){var w=this._randrange(new P(2),l);g&&g(w);var _=w.toRed(k).redPow(c);if(!(_.cmp(b)===0||_.cmp(v)===0)){for(var R=1;R<E;R++){if(_=_.redSqr(),_.cmp(b)===0)return!1;if(_.cmp(v)===0)break}if(R===E)return!1}}return f},D.prototype.getDivisor=function(h,m){var g=h.bitLength(),p=P.mont(h),k=new P(1).toRed(p);m||(m=Math.max(1,g/48|0));for(var b=h.subn(1),l=0;!b.testn(l);l++);for(var E=h.shrn(l),c=b.toRed(p);m>0;m--){var v=this._randrange(new P(2),b),f=h.gcd(v);if(f.cmpn(1)!==0)return f;var w=v.toRed(p).redPow(E);if(!(w.cmp(k)===0||w.cmp(c)===0)){for(var _=1;_<l;_++){if(w=w.redSqr(),w.cmp(k)===0)return w.fromRed().subn(1).gcd(h);if(w.cmp(c)===0)break}if(_===l)return w=w.redSqr(),w.fromRed().subn(1).gcd(h)}}return!1}},43349:s=>{s.exports=G;function G(F,P){if(!F)throw new Error(P||"Assertion failed")}G.equal=function(P,L,D){if(P!=L)throw new Error(D||"Assertion failed: "+P+" != "+L)}},64367:(s,G)=>{"use strict";var F=G;function P(A,h){if(Array.isArray(A))return A.slice();if(!A)return[];var m=[];if(typeof A!="string"){for(var g=0;g<A.length;g++)m[g]=A[g]|0;return m}if(h==="hex"){A=A.replace(/[^a-z0-9]+/ig,""),A.length%2!==0&&(A="0"+A);for(var g=0;g<A.length;g+=2)m.push(parseInt(A[g]+A[g+1],16))}else for(var g=0;g<A.length;g++){var p=A.charCodeAt(g),k=p>>8,b=p&255;k?m.push(k,b):m.push(b)}return m}F.toArray=P;function L(A){return A.length===1?"0"+A:A}F.zero2=L;function D(A){for(var h="",m=0;m<A.length;m++)h+=L(A[m].toString(16));return h}F.toHex=D,F.encode=function(h,m){return m==="hex"?D(h):h}},21137:(s,G,F)=>{"use strict";var P=F(87568);G.certificate=F(36413);var L=P.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});G.RSAPrivateKey=L;var D=P.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});G.RSAPublicKey=D;var A=P.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(h),this.key("subjectPublicKey").bitstr())});G.PublicKey=A;var h=P.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),m=P.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(h),this.key("subjectPrivateKey").octstr())});G.PrivateKey=m;var g=P.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});G.EncryptedPrivateKey=g;var p=P.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});G.DSAPrivateKey=p,G.DSAparam=P.define("DSAparam",function(){this.int()});var k=P.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(b),this.key("publicKey").optional().explicit(1).bitstr())});G.ECPrivateKey=k;var b=P.define("ECParameters",function(){this.choice({namedCurve:this.objid()})});G.signature=P.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())})},36413:(s,G,F)=>{"use strict";var P=F(87568),L=P.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),D=P.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),A=P.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())}),h=P.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(A),this.key("subjectPublicKey").bitstr())}),m=P.define("RelativeDistinguishedName",function(){this.setof(D)}),g=P.define("RDNSequence",function(){this.seqof(m)}),p=P.define("Name",function(){this.choice({rdnSequence:this.use(g)})}),k=P.define("Validity",function(){this.seq().obj(this.key("notBefore").use(L),this.key("notAfter").use(L))}),b=P.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),l=P.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(A),this.key("issuer").use(p),this.key("validity").use(k),this.key("subject").use(p),this.key("subjectPublicKeyInfo").use(h),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(b).optional())}),E=P.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(l),this.key("signatureAlgorithm").use(A),this.key("signatureValue").bitstr())});s.exports=E},24101:(s,G,F)=>{var P=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,L=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,D=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,A=F(68078),h=F(1241),m=F(92861).Buffer;s.exports=function(g,p){var k=g.toString(),b=k.match(P),l;if(b){var c="aes"+b[1],v=m.from(b[2],"hex"),f=m.from(b[3].replace(/[\r\n]/g,""),"base64"),w=A(p,v.slice(0,8),parseInt(b[1],10)).key,_=[],R=h.createDecipheriv(c,w,v);_.push(R.update(f)),_.push(R.final()),l=m.concat(_)}else{var E=k.match(D);l=m.from(E[2].replace(/[\r\n]/g,""),"base64")}var M=k.match(L)[1];return{tag:M,data:l}}},78170:(s,G,F)=>{var P=F(21137),L=F(15579),D=F(24101),A=F(1241),h=F(78396),m=F(92861).Buffer;s.exports=g;function g(k){var b;typeof k=="object"&&!m.isBuffer(k)&&(b=k.passphrase,k=k.key),typeof k=="string"&&(k=m.from(k));var l=D(k,b),E=l.tag,c=l.data,v,f;switch(E){case"CERTIFICATE":f=P.certificate.decode(c,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(f||(f=P.PublicKey.decode(c,"der")),v=f.algorithm.algorithm.join("."),v){case"1.2.840.113549.1.1.1":return P.RSAPublicKey.decode(f.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return f.subjectPrivateKey=f.subjectPublicKey,{type:"ec",data:f};case"1.2.840.10040.4.1":return f.algorithm.params.pub_key=P.DSAparam.decode(f.subjectPublicKey.data,"der"),{type:"dsa",data:f.algorithm.params};default:throw new Error("unknown key id "+v)}case"ENCRYPTED PRIVATE KEY":c=P.EncryptedPrivateKey.decode(c,"der"),c=p(c,b);case"PRIVATE KEY":switch(f=P.PrivateKey.decode(c,"der"),v=f.algorithm.algorithm.join("."),v){case"1.2.840.113549.1.1.1":return P.RSAPrivateKey.decode(f.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:f.algorithm.curve,privateKey:P.ECPrivateKey.decode(f.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return f.algorithm.params.priv_key=P.DSAparam.decode(f.subjectPrivateKey,"der"),{type:"dsa",params:f.algorithm.params};default:throw new Error("unknown key id "+v)}case"RSA PUBLIC KEY":return P.RSAPublicKey.decode(c,"der");case"RSA PRIVATE KEY":return P.RSAPrivateKey.decode(c,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:P.DSAPrivateKey.decode(c,"der")};case"EC PRIVATE KEY":return c=P.ECPrivateKey.decode(c,"der"),{curve:c.parameters.value,privateKey:c.privateKey};default:throw new Error("unknown key type "+E)}}g.signature=P.signature;function p(k,b){var l=k.algorithm.decrypt.kde.kdeparams.salt,E=parseInt(k.algorithm.decrypt.kde.kdeparams.iters.toString(),10),c=L[k.algorithm.decrypt.cipher.algo.join(".")],v=k.algorithm.decrypt.cipher.iv,f=k.subjectPrivateKey,w=parseInt(c.split("-")[1],10)/8,_=h.pbkdf2Sync(b,l,E,w,"sha1"),R=A.createDecipheriv(c,_,v),M=[];return M.push(R.update(f)),M.push(R.final()),m.concat(M)}},57975:(s,G,F)=>{"use strict";var P=F(65606);function L(m){if(typeof m!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(m))}function D(m,g){for(var p="",k=0,b=-1,l=0,E,c=0;c<=m.length;++c){if(c<m.length)E=m.charCodeAt(c);else{if(E===47)break;E=47}if(E===47){if(!(b===c-1||l===1))if(b!==c-1&&l===2){if(p.length<2||k!==2||p.charCodeAt(p.length-1)!==46||p.charCodeAt(p.length-2)!==46){if(p.length>2){var v=p.lastIndexOf("/");if(v!==p.length-1){v===-1?(p="",k=0):(p=p.slice(0,v),k=p.length-1-p.lastIndexOf("/")),b=c,l=0;continue}}else if(p.length===2||p.length===1){p="",k=0,b=c,l=0;continue}}g&&(p.length>0?p+="/..":p="..",k=2)}else p.length>0?p+="/"+m.slice(b+1,c):p=m.slice(b+1,c),k=c-b-1;b=c,l=0}else E===46&&l!==-1?++l:l=-1}return p}function A(m,g){var p=g.dir||g.root,k=g.base||(g.name||"")+(g.ext||"");return p?p===g.root?p+k:p+m+k:k}var h={resolve:function(){for(var g="",p=!1,k,b=arguments.length-1;b>=-1&&!p;b--){var l;b>=0?l=arguments[b]:(k===void 0&&(k=P.cwd()),l=k),L(l),l.length!==0&&(g=l+"/"+g,p=l.charCodeAt(0)===47)}return g=D(g,!p),p?g.length>0?"/"+g:"/":g.length>0?g:"."},normalize:function(g){if(L(g),g.length===0)return".";var p=g.charCodeAt(0)===47,k=g.charCodeAt(g.length-1)===47;return g=D(g,!p),g.length===0&&!p&&(g="."),g.length>0&&k&&(g+="/"),p?"/"+g:g},isAbsolute:function(g){return L(g),g.length>0&&g.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var g,p=0;p<arguments.length;++p){var k=arguments[p];L(k),k.length>0&&(g===void 0?g=k:g+="/"+k)}return g===void 0?".":h.normalize(g)},relative:function(g,p){if(L(g),L(p),g===p||(g=h.resolve(g),p=h.resolve(p),g===p))return"";for(var k=1;k<g.length&&g.charCodeAt(k)===47;++k);for(var b=g.length,l=b-k,E=1;E<p.length&&p.charCodeAt(E)===47;++E);for(var c=p.length,v=c-E,f=l<v?l:v,w=-1,_=0;_<=f;++_){if(_===f){if(v>f){if(p.charCodeAt(E+_)===47)return p.slice(E+_+1);if(_===0)return p.slice(E+_)}else l>f&&(g.charCodeAt(k+_)===47?w=_:_===0&&(w=0));break}var R=g.charCodeAt(k+_),M=p.charCodeAt(E+_);if(R!==M)break;R===47&&(w=_)}var U="";for(_=k+w+1;_<=b;++_)(_===b||g.charCodeAt(_)===47)&&(U.length===0?U+="..":U+="/..");return U.length>0?U+p.slice(E+w):(E+=w,p.charCodeAt(E)===47&&++E,p.slice(E))},_makeLong:function(g){return g},dirname:function(g){if(L(g),g.length===0)return".";for(var p=g.charCodeAt(0),k=p===47,b=-1,l=!0,E=g.length-1;E>=1;--E)if(p=g.charCodeAt(E),p===47){if(!l){b=E;break}}else l=!1;return b===-1?k?"/":".":k&&b===1?"//":g.slice(0,b)},basename:function(g,p){if(p!==void 0&&typeof p!="string")throw new TypeError('"ext" argument must be a string');L(g);var k=0,b=-1,l=!0,E;if(p!==void 0&&p.length>0&&p.length<=g.length){if(p.length===g.length&&p===g)return"";var c=p.length-1,v=-1;for(E=g.length-1;E>=0;--E){var f=g.charCodeAt(E);if(f===47){if(!l){k=E+1;break}}else v===-1&&(l=!1,v=E+1),c>=0&&(f===p.charCodeAt(c)?--c===-1&&(b=E):(c=-1,b=v))}return k===b?b=v:b===-1&&(b=g.length),g.slice(k,b)}else{for(E=g.length-1;E>=0;--E)if(g.charCodeAt(E)===47){if(!l){k=E+1;break}}else b===-1&&(l=!1,b=E+1);return b===-1?"":g.slice(k,b)}},extname:function(g){L(g);for(var p=-1,k=0,b=-1,l=!0,E=0,c=g.length-1;c>=0;--c){var v=g.charCodeAt(c);if(v===47){if(!l){k=c+1;break}continue}b===-1&&(l=!1,b=c+1),v===46?p===-1?p=c:E!==1&&(E=1):p!==-1&&(E=-1)}return p===-1||b===-1||E===0||E===1&&p===b-1&&p===k+1?"":g.slice(p,b)},format:function(g){if(g===null||typeof g!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof g);return A("/",g)},parse:function(g){L(g);var p={root:"",dir:"",base:"",ext:"",name:""};if(g.length===0)return p;var k=g.charCodeAt(0),b=k===47,l;b?(p.root="/",l=1):l=0;for(var E=-1,c=0,v=-1,f=!0,w=g.length-1,_=0;w>=l;--w){if(k=g.charCodeAt(w),k===47){if(!f){c=w+1;break}continue}v===-1&&(f=!1,v=w+1),k===46?E===-1?E=w:_!==1&&(_=1):E!==-1&&(_=-1)}return E===-1||v===-1||_===0||_===1&&E===v-1&&E===c+1?v!==-1&&(c===0&&b?p.base=p.name=g.slice(1,v):p.base=p.name=g.slice(c,v)):(c===0&&b?(p.name=g.slice(1,E),p.base=g.slice(1,v)):(p.name=g.slice(c,E),p.base=g.slice(c,v)),p.ext=g.slice(E,v)),c>0?p.dir=g.slice(0,c-1):b&&(p.dir="/"),p},sep:"/",delimiter:":",win32:null,posix:null};h.posix=h,s.exports=h},78396:(s,G,F)=>{"use strict";G.pbkdf2=F(43832),G.pbkdf2Sync=F(21352)},43832:(s,G,F)=>{"use strict";var P=F(92861).Buffer,L=F(64196),D=F(2455),A=F(21352),h=F(93382),m,g=F.g.crypto&&F.g.crypto.subtle,p={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},k=[],b;function l(){return b||(F.g.process&&F.g.process.nextTick?b=F.g.process.nextTick:F.g.queueMicrotask?b=F.g.queueMicrotask:F.g.setImmediate?b=F.g.setImmediate:b=F.g.setTimeout,b)}function E(f,w,_,R,M){return g.importKey("raw",f,{name:"PBKDF2"},!1,["deriveBits"]).then(function(U){return g.deriveBits({name:"PBKDF2",salt:w,iterations:_,hash:{name:M}},U,R<<3)}).then(function(U){return P.from(U)})}function c(f){if(F.g.process&&!F.g.process.browser||!g||!g.importKey||!g.deriveBits)return Promise.resolve(!1);if(k[f]!==void 0)return k[f];m=m||P.alloc(8);var w=E(m,m,10,128,f).then(function(){return!0},function(){return!1});return k[f]=w,w}function v(f,w){f.then(function(_){l()(function(){w(null,_)})},function(_){l()(function(){w(_)})})}s.exports=function(f,w,_,R,M,U){typeof M=="function"&&(U=M,M=void 0),M=M||"sha1";var x=p[M.toLowerCase()];if(!x||typeof F.g.Promise!="function"){l()(function(){var y;try{y=A(f,w,_,R,M)}catch(W){U(W);return}U(null,y)});return}if(L(_,R),f=h(f,D,"Password"),w=h(w,D,"Salt"),typeof U!="function")throw new Error("No callback provided to pbkdf2");v(c(x).then(function(y){return y?E(f,w,_,R,x):A(f,w,_,R,M)}),U)}},2455:(s,G,F)=>{"use strict";var P=F(65606),L;if(F.g.process&&F.g.process.browser)L="utf-8";else if(F.g.process&&F.g.process.version){var D=parseInt(P.version.split(".")[0].slice(1),10);L=D>=6?"utf-8":"binary"}else L="utf-8";s.exports=L},64196:s=>{"use strict";var G=Math.pow(2,30)-1;s.exports=function(F,P){if(typeof F!="number")throw new TypeError("Iterations not a number");if(F<0)throw new TypeError("Bad iterations");if(typeof P!="number")throw new TypeError("Key length not a number");if(P<0||P>G||P!==P)throw new TypeError("Bad key length")}},21352:(s,G,F)=>{"use strict";var P=F(6211),L=F(54304),D=F(62802),A=F(92861).Buffer,h=F(64196),m=F(2455),g=F(93382),p=A.alloc(128),k={__proto__:null,md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,"sha512-256":32,ripemd160:20,rmd160:20},b={__proto__:null,"sha-1":"sha1","sha-224":"sha224","sha-256":"sha256","sha-384":"sha384","sha-512":"sha512","ripemd-160":"ripemd160"};function l(f){return new L().update(f).digest()}function E(f){function w(_){return D(f).update(_).digest()}return f==="rmd160"||f==="ripemd160"?l:f==="md5"?P:w}function c(f,w,_){var R=E(f),M=f==="sha512"||f==="sha384"?128:64;w.length>M?w=R(w):w.length<M&&(w=A.concat([w,p],M));for(var U=A.allocUnsafe(M+k[f]),x=A.allocUnsafe(M+k[f]),y=0;y<M;y++)U[y]=w[y]^54,x[y]=w[y]^92;var W=A.allocUnsafe(M+_+4);U.copy(W,0,0,M),this.ipad1=W,this.ipad2=U,this.opad=x,this.alg=f,this.blocksize=M,this.hash=R,this.size=k[f]}c.prototype.run=function(f,w){f.copy(w,this.blocksize);var _=this.hash(w);return _.copy(this.opad,this.blocksize),this.hash(this.opad)};function v(f,w,_,R,M){h(_,R),f=g(f,m,"Password"),w=g(w,m,"Salt");var U=(M||"sha1").toLowerCase(),x=b[U]||U,y=k[x];if(typeof y!="number"||!y)throw new TypeError("Digest algorithm not supported: "+M);var W=new c(x,f,w.length),Q=A.allocUnsafe(R),Z=A.allocUnsafe(w.length+4);w.copy(Z,0,0,w.length);for(var ee=0,J=y,O=Math.ceil(R/J),H=1;H<=O;H++){Z.writeUInt32BE(H,w.length);for(var I=W.run(Z,W.ipad1),u=I,N=1;N<_;N++){u=W.run(u,W.ipad2);for(var q=0;q<J;q++)I[q]^=u[q]}I.copy(Q,ee),ee+=J}return Q}s.exports=v},93382:(s,G,F)=>{"use strict";var P=F(92861).Buffer,L=F(15377),D=typeof Uint8Array!="undefined",A=D&&typeof ArrayBuffer!="undefined",h=A&&ArrayBuffer.isView;s.exports=function(m,g,p){if(typeof m=="string"||P.isBuffer(m)||D&&m instanceof Uint8Array||h&&h(m))return L(m,g);throw new TypeError(p+" must be a string, a Buffer, a Uint8Array, or a DataView")}},52786:(s,G,F)=>{"use strict";var P=F(48287).Buffer,L=4,D=new P(L);D.fill(0);var A=8,h=16;function m(g){if(g.length%L!==0){var p=g.length+(L-g.length%L);g=P.concat([g,D],p)}for(var k=new Array(g.length>>>2),b=0,l=0;b<g.length;b+=L,l++)k[l]=g.readInt32LE(b);return k}s.exports=function(p,k){var b=k(m(p),p.length*A);p=new P(h);for(var l=0;l<b.length;l++)p.writeInt32LE(b[l],l<<2,!0);return p}},6211:(s,G,F)=>{"use strict";var P=F(52786);function L(b,l){b[l>>5]|=128<<l%32,b[(l+64>>>9<<4)+14]=l;for(var E=1732584193,c=-271733879,v=-1732584194,f=271733878,w=0;w<b.length;w+=16){var _=E,R=c,M=v,U=f;E=A(E,c,v,f,b[w+0],7,-680876936),f=A(f,E,c,v,b[w+1],12,-389564586),v=A(v,f,E,c,b[w+2],17,606105819),c=A(c,v,f,E,b[w+3],22,-1044525330),E=A(E,c,v,f,b[w+4],7,-176418897),f=A(f,E,c,v,b[w+5],12,1200080426),v=A(v,f,E,c,b[w+6],17,-1473231341),c=A(c,v,f,E,b[w+7],22,-45705983),E=A(E,c,v,f,b[w+8],7,1770035416),f=A(f,E,c,v,b[w+9],12,-1958414417),v=A(v,f,E,c,b[w+10],17,-42063),c=A(c,v,f,E,b[w+11],22,-1990404162),E=A(E,c,v,f,b[w+12],7,1804603682),f=A(f,E,c,v,b[w+13],12,-40341101),v=A(v,f,E,c,b[w+14],17,-1502002290),c=A(c,v,f,E,b[w+15],22,1236535329),E=h(E,c,v,f,b[w+1],5,-165796510),f=h(f,E,c,v,b[w+6],9,-1069501632),v=h(v,f,E,c,b[w+11],14,643717713),c=h(c,v,f,E,b[w+0],20,-373897302),E=h(E,c,v,f,b[w+5],5,-701558691),f=h(f,E,c,v,b[w+10],9,38016083),v=h(v,f,E,c,b[w+15],14,-660478335),c=h(c,v,f,E,b[w+4],20,-405537848),E=h(E,c,v,f,b[w+9],5,568446438),f=h(f,E,c,v,b[w+14],9,-1019803690),v=h(v,f,E,c,b[w+3],14,-187363961),c=h(c,v,f,E,b[w+8],20,1163531501),E=h(E,c,v,f,b[w+13],5,-1444681467),f=h(f,E,c,v,b[w+2],9,-51403784),v=h(v,f,E,c,b[w+7],14,1735328473),c=h(c,v,f,E,b[w+12],20,-1926607734),E=m(E,c,v,f,b[w+5],4,-378558),f=m(f,E,c,v,b[w+8],11,-2022574463),v=m(v,f,E,c,b[w+11],16,1839030562),c=m(c,v,f,E,b[w+14],23,-35309556),E=m(E,c,v,f,b[w+1],4,-1530992060),f=m(f,E,c,v,b[w+4],11,1272893353),v=m(v,f,E,c,b[w+7],16,-155497632),c=m(c,v,f,E,b[w+10],23,-1094730640),E=m(E,c,v,f,b[w+13],4,681279174),f=m(f,E,c,v,b[w+0],11,-358537222),v=m(v,f,E,c,b[w+3],16,-722521979),c=m(c,v,f,E,b[w+6],23,76029189),E=m(E,c,v,f,b[w+9],4,-640364487),f=m(f,E,c,v,b[w+12],11,-421815835),v=m(v,f,E,c,b[w+15],16,530742520),c=m(c,v,f,E,b[w+2],23,-995338651),E=g(E,c,v,f,b[w+0],6,-198630844),f=g(f,E,c,v,b[w+7],10,1126891415),v=g(v,f,E,c,b[w+14],15,-1416354905),c=g(c,v,f,E,b[w+5],21,-57434055),E=g(E,c,v,f,b[w+12],6,1700485571),f=g(f,E,c,v,b[w+3],10,-1894986606),v=g(v,f,E,c,b[w+10],15,-1051523),c=g(c,v,f,E,b[w+1],21,-2054922799),E=g(E,c,v,f,b[w+8],6,1873313359),f=g(f,E,c,v,b[w+15],10,-30611744),v=g(v,f,E,c,b[w+6],15,-1560198380),c=g(c,v,f,E,b[w+13],21,1309151649),E=g(E,c,v,f,b[w+4],6,-145523070),f=g(f,E,c,v,b[w+11],10,-1120210379),v=g(v,f,E,c,b[w+2],15,718787259),c=g(c,v,f,E,b[w+9],21,-343485551),E=p(E,_),c=p(c,R),v=p(v,M),f=p(f,U)}return[E,c,v,f]}function D(b,l,E,c,v,f){return p(k(p(p(l,b),p(c,f)),v),E)}function A(b,l,E,c,v,f,w){return D(l&E|~l&c,b,l,v,f,w)}function h(b,l,E,c,v,f,w){return D(l&c|E&~c,b,l,v,f,w)}function m(b,l,E,c,v,f,w){return D(l^E^c,b,l,v,f,w)}function g(b,l,E,c,v,f,w){return D(E^(l|~c),b,l,v,f,w)}function p(b,l){var E=(b&65535)+(l&65535),c=(b>>16)+(l>>16)+(E>>16);return c<<16|E&65535}function k(b,l){return b<<l|b>>>32-l}s.exports=function(l){return P(l,L)}},83706:(s,G,F)=>{"use strict";var P=F(48287).Buffer,L=F(88310).Transform,D=F(56698);function A(h){L.call(this),this._block=new P(h),this._blockSize=h,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}D(A,L),A.prototype._transform=function(h,m,g){var p=null;try{m!=="buffer"&&(h=new P(h,m)),this.update(h)}catch(k){p=k}g(p)},A.prototype._flush=function(h){var m=null;try{this.push(this._digest())}catch(g){m=g}h(m)},A.prototype.update=function(h,m){if(!P.isBuffer(h)&&typeof h!="string")throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Digest already called");P.isBuffer(h)||(h=new P(h,m||"binary"));for(var g=this._block,p=0;this._blockOffset+h.length-p>=this._blockSize;){for(var k=this._blockOffset;k<this._blockSize;)g[k++]=h[p++];this._update(),this._blockOffset=0}for(;p<h.length;)g[this._blockOffset++]=h[p++];for(var b=0,l=h.length*8;l>0;++b)this._length[b]+=l,l=this._length[b]/4294967296|0,l>0&&(this._length[b]-=4294967296*l);return this},A.prototype._update=function(h){throw new Error("_update is not implemented")},A.prototype.digest=function(h){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var m=this._digest();return h!==void 0&&(m=m.toString(h)),m},A.prototype._digest=function(){throw new Error("_digest is not implemented")},s.exports=A},54304:(s,G,F)=>{"use strict";var P=F(48287).Buffer,L=F(56698),D=F(83706);function A(){D.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}L(A,D),A.prototype._update=function(){for(var l=new Array(16),E=0;E<16;++E)l[E]=this._block.readInt32LE(E*4);var c=this._a,v=this._b,f=this._c,w=this._d,_=this._e;c=m(c,v,f,w,_,l[0],0,11),f=h(f,10),_=m(_,c,v,f,w,l[1],0,14),v=h(v,10),w=m(w,_,c,v,f,l[2],0,15),c=h(c,10),f=m(f,w,_,c,v,l[3],0,12),_=h(_,10),v=m(v,f,w,_,c,l[4],0,5),w=h(w,10),c=m(c,v,f,w,_,l[5],0,8),f=h(f,10),_=m(_,c,v,f,w,l[6],0,7),v=h(v,10),w=m(w,_,c,v,f,l[7],0,9),c=h(c,10),f=m(f,w,_,c,v,l[8],0,11),_=h(_,10),v=m(v,f,w,_,c,l[9],0,13),w=h(w,10),c=m(c,v,f,w,_,l[10],0,14),f=h(f,10),_=m(_,c,v,f,w,l[11],0,15),v=h(v,10),w=m(w,_,c,v,f,l[12],0,6),c=h(c,10),f=m(f,w,_,c,v,l[13],0,7),_=h(_,10),v=m(v,f,w,_,c,l[14],0,9),w=h(w,10),c=m(c,v,f,w,_,l[15],0,8),f=h(f,10),_=g(_,c,v,f,w,l[7],1518500249,7),v=h(v,10),w=g(w,_,c,v,f,l[4],1518500249,6),c=h(c,10),f=g(f,w,_,c,v,l[13],1518500249,8),_=h(_,10),v=g(v,f,w,_,c,l[1],1518500249,13),w=h(w,10),c=g(c,v,f,w,_,l[10],1518500249,11),f=h(f,10),_=g(_,c,v,f,w,l[6],1518500249,9),v=h(v,10),w=g(w,_,c,v,f,l[15],1518500249,7),c=h(c,10),f=g(f,w,_,c,v,l[3],1518500249,15),_=h(_,10),v=g(v,f,w,_,c,l[12],1518500249,7),w=h(w,10),c=g(c,v,f,w,_,l[0],1518500249,12),f=h(f,10),_=g(_,c,v,f,w,l[9],1518500249,15),v=h(v,10),w=g(w,_,c,v,f,l[5],1518500249,9),c=h(c,10),f=g(f,w,_,c,v,l[2],1518500249,11),_=h(_,10),v=g(v,f,w,_,c,l[14],1518500249,7),w=h(w,10),c=g(c,v,f,w,_,l[11],1518500249,13),f=h(f,10),_=g(_,c,v,f,w,l[8],1518500249,12),v=h(v,10),w=p(w,_,c,v,f,l[3],1859775393,11),c=h(c,10),f=p(f,w,_,c,v,l[10],1859775393,13),_=h(_,10),v=p(v,f,w,_,c,l[14],1859775393,6),w=h(w,10),c=p(c,v,f,w,_,l[4],1859775393,7),f=h(f,10),_=p(_,c,v,f,w,l[9],1859775393,14),v=h(v,10),w=p(w,_,c,v,f,l[15],1859775393,9),c=h(c,10),f=p(f,w,_,c,v,l[8],1859775393,13),_=h(_,10),v=p(v,f,w,_,c,l[1],1859775393,15),w=h(w,10),c=p(c,v,f,w,_,l[2],1859775393,14),f=h(f,10),_=p(_,c,v,f,w,l[7],1859775393,8),v=h(v,10),w=p(w,_,c,v,f,l[0],1859775393,13),c=h(c,10),f=p(f,w,_,c,v,l[6],1859775393,6),_=h(_,10),v=p(v,f,w,_,c,l[13],1859775393,5),w=h(w,10),c=p(c,v,f,w,_,l[11],1859775393,12),f=h(f,10),_=p(_,c,v,f,w,l[5],1859775393,7),v=h(v,10),w=p(w,_,c,v,f,l[12],1859775393,5),c=h(c,10),f=k(f,w,_,c,v,l[1],2400959708,11),_=h(_,10),v=k(v,f,w,_,c,l[9],2400959708,12),w=h(w,10),c=k(c,v,f,w,_,l[11],2400959708,14),f=h(f,10),_=k(_,c,v,f,w,l[10],2400959708,15),v=h(v,10),w=k(w,_,c,v,f,l[0],2400959708,14),c=h(c,10),f=k(f,w,_,c,v,l[8],2400959708,15),_=h(_,10),v=k(v,f,w,_,c,l[12],2400959708,9),w=h(w,10),c=k(c,v,f,w,_,l[4],2400959708,8),f=h(f,10),_=k(_,c,v,f,w,l[13],2400959708,9),v=h(v,10),w=k(w,_,c,v,f,l[3],2400959708,14),c=h(c,10),f=k(f,w,_,c,v,l[7],2400959708,5),_=h(_,10),v=k(v,f,w,_,c,l[15],2400959708,6),w=h(w,10),c=k(c,v,f,w,_,l[14],2400959708,8),f=h(f,10),_=k(_,c,v,f,w,l[5],2400959708,6),v=h(v,10),w=k(w,_,c,v,f,l[6],2400959708,5),c=h(c,10),f=k(f,w,_,c,v,l[2],2400959708,12),_=h(_,10),v=b(v,f,w,_,c,l[4],2840853838,9),w=h(w,10),c=b(c,v,f,w,_,l[0],2840853838,15),f=h(f,10),_=b(_,c,v,f,w,l[5],2840853838,5),v=h(v,10),w=b(w,_,c,v,f,l[9],2840853838,11),c=h(c,10),f=b(f,w,_,c,v,l[7],2840853838,6),_=h(_,10),v=b(v,f,w,_,c,l[12],2840853838,8),w=h(w,10),c=b(c,v,f,w,_,l[2],2840853838,13),f=h(f,10),_=b(_,c,v,f,w,l[10],2840853838,12),v=h(v,10),w=b(w,_,c,v,f,l[14],2840853838,5),c=h(c,10),f=b(f,w,_,c,v,l[1],2840853838,12),_=h(_,10),v=b(v,f,w,_,c,l[3],2840853838,13),w=h(w,10),c=b(c,v,f,w,_,l[8],2840853838,14),f=h(f,10),_=b(_,c,v,f,w,l[11],2840853838,11),v=h(v,10),w=b(w,_,c,v,f,l[6],2840853838,8),c=h(c,10),f=b(f,w,_,c,v,l[15],2840853838,5),_=h(_,10),v=b(v,f,w,_,c,l[13],2840853838,6),w=h(w,10);var R=this._a,M=this._b,U=this._c,x=this._d,y=this._e;R=b(R,M,U,x,y,l[5],1352829926,8),U=h(U,10),y=b(y,R,M,U,x,l[14],1352829926,9),M=h(M,10),x=b(x,y,R,M,U,l[7],1352829926,9),R=h(R,10),U=b(U,x,y,R,M,l[0],1352829926,11),y=h(y,10),M=b(M,U,x,y,R,l[9],1352829926,13),x=h(x,10),R=b(R,M,U,x,y,l[2],1352829926,15),U=h(U,10),y=b(y,R,M,U,x,l[11],1352829926,15),M=h(M,10),x=b(x,y,R,M,U,l[4],1352829926,5),R=h(R,10),U=b(U,x,y,R,M,l[13],1352829926,7),y=h(y,10),M=b(M,U,x,y,R,l[6],1352829926,7),x=h(x,10),R=b(R,M,U,x,y,l[15],1352829926,8),U=h(U,10),y=b(y,R,M,U,x,l[8],1352829926,11),M=h(M,10),x=b(x,y,R,M,U,l[1],1352829926,14),R=h(R,10),U=b(U,x,y,R,M,l[10],1352829926,14),y=h(y,10),M=b(M,U,x,y,R,l[3],1352829926,12),x=h(x,10),R=b(R,M,U,x,y,l[12],1352829926,6),U=h(U,10),y=k(y,R,M,U,x,l[6],1548603684,9),M=h(M,10),x=k(x,y,R,M,U,l[11],1548603684,13),R=h(R,10),U=k(U,x,y,R,M,l[3],1548603684,15),y=h(y,10),M=k(M,U,x,y,R,l[7],1548603684,7),x=h(x,10),R=k(R,M,U,x,y,l[0],1548603684,12),U=h(U,10),y=k(y,R,M,U,x,l[13],1548603684,8),M=h(M,10),x=k(x,y,R,M,U,l[5],1548603684,9),R=h(R,10),U=k(U,x,y,R,M,l[10],1548603684,11),y=h(y,10),M=k(M,U,x,y,R,l[14],1548603684,7),x=h(x,10),R=k(R,M,U,x,y,l[15],1548603684,7),U=h(U,10),y=k(y,R,M,U,x,l[8],1548603684,12),M=h(M,10),x=k(x,y,R,M,U,l[12],1548603684,7),R=h(R,10),U=k(U,x,y,R,M,l[4],1548603684,6),y=h(y,10),M=k(M,U,x,y,R,l[9],1548603684,15),x=h(x,10),R=k(R,M,U,x,y,l[1],1548603684,13),U=h(U,10),y=k(y,R,M,U,x,l[2],1548603684,11),M=h(M,10),x=p(x,y,R,M,U,l[15],1836072691,9),R=h(R,10),U=p(U,x,y,R,M,l[5],1836072691,7),y=h(y,10),M=p(M,U,x,y,R,l[1],1836072691,15),x=h(x,10),R=p(R,M,U,x,y,l[3],1836072691,11),U=h(U,10),y=p(y,R,M,U,x,l[7],1836072691,8),M=h(M,10),x=p(x,y,R,M,U,l[14],1836072691,6),R=h(R,10),U=p(U,x,y,R,M,l[6],1836072691,6),y=h(y,10),M=p(M,U,x,y,R,l[9],1836072691,14),x=h(x,10),R=p(R,M,U,x,y,l[11],1836072691,12),U=h(U,10),y=p(y,R,M,U,x,l[8],1836072691,13),M=h(M,10),x=p(x,y,R,M,U,l[12],1836072691,5),R=h(R,10),U=p(U,x,y,R,M,l[2],1836072691,14),y=h(y,10),M=p(M,U,x,y,R,l[10],1836072691,13),x=h(x,10),R=p(R,M,U,x,y,l[0],1836072691,13),U=h(U,10),y=p(y,R,M,U,x,l[4],1836072691,7),M=h(M,10),x=p(x,y,R,M,U,l[13],1836072691,5),R=h(R,10),U=g(U,x,y,R,M,l[8],2053994217,15),y=h(y,10),M=g(M,U,x,y,R,l[6],2053994217,5),x=h(x,10),R=g(R,M,U,x,y,l[4],2053994217,8),U=h(U,10),y=g(y,R,M,U,x,l[1],2053994217,11),M=h(M,10),x=g(x,y,R,M,U,l[3],2053994217,14),R=h(R,10),U=g(U,x,y,R,M,l[11],2053994217,14),y=h(y,10),M=g(M,U,x,y,R,l[15],2053994217,6),x=h(x,10),R=g(R,M,U,x,y,l[0],2053994217,14),U=h(U,10),y=g(y,R,M,U,x,l[5],2053994217,6),M=h(M,10),x=g(x,y,R,M,U,l[12],2053994217,9),R=h(R,10),U=g(U,x,y,R,M,l[2],2053994217,12),y=h(y,10),M=g(M,U,x,y,R,l[13],2053994217,9),x=h(x,10),R=g(R,M,U,x,y,l[9],2053994217,12),U=h(U,10),y=g(y,R,M,U,x,l[7],2053994217,5),M=h(M,10),x=g(x,y,R,M,U,l[10],2053994217,15),R=h(R,10),U=g(U,x,y,R,M,l[14],2053994217,8),y=h(y,10),M=m(M,U,x,y,R,l[12],0,8),x=h(x,10),R=m(R,M,U,x,y,l[15],0,5),U=h(U,10),y=m(y,R,M,U,x,l[10],0,12),M=h(M,10),x=m(x,y,R,M,U,l[4],0,9),R=h(R,10),U=m(U,x,y,R,M,l[1],0,12),y=h(y,10),M=m(M,U,x,y,R,l[5],0,5),x=h(x,10),R=m(R,M,U,x,y,l[8],0,14),U=h(U,10),y=m(y,R,M,U,x,l[7],0,6),M=h(M,10),x=m(x,y,R,M,U,l[6],0,8),R=h(R,10),U=m(U,x,y,R,M,l[2],0,13),y=h(y,10),M=m(M,U,x,y,R,l[13],0,6),x=h(x,10),R=m(R,M,U,x,y,l[14],0,5),U=h(U,10),y=m(y,R,M,U,x,l[0],0,15),M=h(M,10),x=m(x,y,R,M,U,l[3],0,13),R=h(R,10),U=m(U,x,y,R,M,l[9],0,11),y=h(y,10),M=m(M,U,x,y,R,l[11],0,11),x=h(x,10);var W=this._b+f+x|0;this._b=this._c+w+y|0,this._c=this._d+_+R|0,this._d=this._e+c+M|0,this._e=this._a+v+U|0,this._a=W},A.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var l=new P(20);return l.writeInt32LE(this._a,0),l.writeInt32LE(this._b,4),l.writeInt32LE(this._c,8),l.writeInt32LE(this._d,12),l.writeInt32LE(this._e,16),l};function h(l,E){return l<<E|l>>>32-E}function m(l,E,c,v,f,w,_,R){return h(l+(E^c^v)+w+_|0,R)+f|0}function g(l,E,c,v,f,w,_,R){return h(l+(E&c|~E&v)+w+_|0,R)+f|0}function p(l,E,c,v,f,w,_,R){return h(l+((E|~c)^v)+w+_|0,R)+f|0}function k(l,E,c,v,f,w,_,R){return h(l+(E&v|c&~v)+w+_|0,R)+f|0}function b(l,E,c,v,f,w,_,R){return h(l+(E^(c|~v))+w+_|0,R)+f|0}s.exports=A},76578:s=>{"use strict";s.exports=["Float16Array","Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array"]},65606:s=>{var G=s.exports={},F,P;function L(){throw new Error("setTimeout has not been defined")}function D(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?F=setTimeout:F=L}catch{F=L}try{typeof clearTimeout=="function"?P=clearTimeout:P=D}catch{P=D}})();function A(v){if(F===setTimeout)return setTimeout(v,0);if((F===L||!F)&&setTimeout)return F=setTimeout,setTimeout(v,0);try{return F(v,0)}catch{try{return F.call(null,v,0)}catch{return F.call(this,v,0)}}}function h(v){if(P===clearTimeout)return clearTimeout(v);if((P===D||!P)&&clearTimeout)return P=clearTimeout,clearTimeout(v);try{return P(v)}catch{try{return P.call(null,v)}catch{return P.call(this,v)}}}var m=[],g=!1,p,k=-1;function b(){!g||!p||(g=!1,p.length?m=p.concat(m):k=-1,m.length&&l())}function l(){if(!g){var v=A(b);g=!0;for(var f=m.length;f;){for(p=m,m=[];++k<f;)p&&p[k].run();k=-1,f=m.length}p=null,g=!1,h(v)}}G.nextTick=function(v){var f=new Array(arguments.length-1);if(arguments.length>1)for(var w=1;w<arguments.length;w++)f[w-1]=arguments[w];m.push(new E(v,f)),m.length===1&&!g&&A(l)};function E(v,f){this.fun=v,this.array=f}E.prototype.run=function(){this.fun.apply(null,this.array)},G.title="browser",G.browser=!0,G.env={},G.argv=[],G.version="",G.versions={};function c(){}G.on=c,G.addListener=c,G.once=c,G.off=c,G.removeListener=c,G.removeAllListeners=c,G.emit=c,G.prependListener=c,G.prependOnceListener=c,G.listeners=function(v){return[]},G.binding=function(v){throw new Error("process.binding is not supported")},G.cwd=function(){return"/"},G.chdir=function(v){throw new Error("process.chdir is not supported")},G.umask=function(){return 0}},97168:(s,G,F)=>{G.publicEncrypt=F(28902),G.privateDecrypt=F(77362),G.privateEncrypt=function(L,D){return G.publicEncrypt(L,D,!0)},G.publicDecrypt=function(L,D){return G.privateDecrypt(L,D,!0)}},48206:(s,G,F)=>{var P=F(47108),L=F(92861).Buffer;s.exports=function(A,h){for(var m=L.alloc(0),g=0,p;m.length<h;)p=D(g++),m=L.concat([m,P("sha1").update(A).update(p).digest()]);return m.slice(0,h)};function D(A){var h=L.allocUnsafe(4);return h.writeUInt32BE(A,0),h}},77362:(s,G,F)=>{var P=F(78170),L=F(48206),D=F(52061),A=F(39404),h=F(67332),m=F(47108),g=F(99247),p=F(92861).Buffer;s.exports=function(c,v,f){var w;c.padding?w=c.padding:f?w=1:w=4;var _=P(c),R=_.modulus.byteLength();if(v.length>R||new A(v).cmp(_.modulus)>=0)throw new Error("decryption error");var M;f?M=g(new A(v),_):M=h(v,_);var U=p.alloc(R-M.length);if(M=p.concat([U,M],R),w===4)return k(_,M);if(w===1)return b(_,M,f);if(w===3)return M;throw new Error("unknown padding")};function k(E,c){var v=E.modulus.byteLength(),f=m("sha1").update(p.alloc(0)).digest(),w=f.length;if(c[0]!==0)throw new Error("decryption error");var _=c.slice(1,w+1),R=c.slice(w+1),M=D(_,L(R,w)),U=D(R,L(M,v-w-1));if(l(f,U.slice(0,w)))throw new Error("decryption error");for(var x=w;U[x]===0;)x++;if(U[x++]!==1)throw new Error("decryption error");return U.slice(x)}function b(E,c,v){for(var f=c.slice(0,2),w=2,_=0;c[w++]!==0;)if(w>=c.length){_++;break}var R=c.slice(2,w-1);if((f.toString("hex")!=="0002"&&!v||f.toString("hex")!=="0001"&&v)&&_++,R.length<8&&_++,_)throw new Error("decryption error");return c.slice(w)}function l(E,c){E=p.from(E),c=p.from(c);var v=0,f=E.length;E.length!==c.length&&(v++,f=Math.min(E.length,c.length));for(var w=-1;++w<f;)v+=E[w]^c[w];return v}},28902:(s,G,F)=>{var P=F(78170),L=F(53209),D=F(47108),A=F(48206),h=F(52061),m=F(39404),g=F(99247),p=F(67332),k=F(92861).Buffer;s.exports=function(v,f,w){var _;v.padding?_=v.padding:w?_=1:_=4;var R=P(v),M;if(_===4)M=b(R,f);else if(_===1)M=l(R,f,w);else if(_===3){if(M=new m(f),M.cmp(R.modulus)>=0)throw new Error("data too long for modulus")}else throw new Error("unknown padding");return w?p(M,R):g(M,R)};function b(c,v){var f=c.modulus.byteLength(),w=v.length,_=D("sha1").update(k.alloc(0)).digest(),R=_.length,M=2*R;if(w>f-M-2)throw new Error("message too long");var U=k.alloc(f-w-M-2),x=f-R-1,y=L(R),W=h(k.concat([_,U,k.alloc(1,1),v],x),A(y,x)),Q=h(y,A(W,R));return new m(k.concat([k.alloc(1),Q,W],f))}function l(c,v,f){var w=v.length,_=c.modulus.byteLength();if(w>_-11)throw new Error("message too long");var R;return f?R=k.alloc(_-w-3,255):R=E(_-w-3),new m(k.concat([k.from([0,f?1:2]),R,k.alloc(1),v],_))}function E(c){for(var v=k.allocUnsafe(c),f=0,w=L(c*2),_=0,R;f<c;)_===w.length&&(w=L(c*2),_=0),R=w[_++],R&&(v[f++]=R);return v}},99247:(s,G,F)=>{var P=F(39404),L=F(92861).Buffer;function D(A,h){return L.from(A.toRed(P.mont(h.modulus)).redPow(new P(h.publicExponent)).fromRed().toArray())}s.exports=D},52061:s=>{s.exports=function(F,P){for(var L=F.length,D=-1;++D<L;)F[D]^=P[D];return F}},53209:(s,G,F)=>{"use strict";var P=F(65606),L=65536,D=4294967295;function A(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}var h=F(92861).Buffer,m=F.g.crypto||F.g.msCrypto;m&&m.getRandomValues?s.exports=g:s.exports=A;function g(p,k){if(p>D)throw new RangeError("requested too many random bytes");var b=h.allocUnsafe(p);if(p>0)if(p>L)for(var l=0;l<p;l+=L)m.getRandomValues(b.slice(l,l+L));else m.getRandomValues(b);return typeof k=="function"?P.nextTick(function(){k(null,b)}):b}},76983:(s,G,F)=>{"use strict";var P=F(65606);function L(){throw new Error(`secure random number generation not supported by this browser
use chrome, FireFox or Internet Explorer 11`)}var D=F(92861),A=F(53209),h=D.Buffer,m=D.kMaxLength,g=F.g.crypto||F.g.msCrypto,p=Math.pow(2,32)-1;function k(v,f){if(typeof v!="number"||v!==v)throw new TypeError("offset must be a number");if(v>p||v<0)throw new TypeError("offset must be a uint32");if(v>m||v>f)throw new RangeError("offset out of range")}function b(v,f,w){if(typeof v!="number"||v!==v)throw new TypeError("size must be a number");if(v>p||v<0)throw new TypeError("size must be a uint32");if(v+f>w||v>m)throw new RangeError("buffer too small")}g&&g.getRandomValues||!P.browser?(G.randomFill=l,G.randomFillSync=c):(G.randomFill=L,G.randomFillSync=L);function l(v,f,w,_){if(!h.isBuffer(v)&&!(v instanceof F.g.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if(typeof f=="function")_=f,f=0,w=v.length;else if(typeof w=="function")_=w,w=v.length-f;else if(typeof _!="function")throw new TypeError('"cb" argument must be a function');return k(f,v.length),b(w,f,v.length),E(v,f,w,_)}function E(v,f,w,_){if(P.browser){var R=v.buffer,M=new Uint8Array(R,f,w);if(g.getRandomValues(M),_){P.nextTick(function(){_(null,v)});return}return v}if(_){A(w,function(x,y){if(x)return _(x);y.copy(v,f),_(null,v)});return}var U=A(w);return U.copy(v,f),v}function c(v,f,w){if(typeof f=="undefined"&&(f=0),!h.isBuffer(v)&&!(v instanceof F.g.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return k(f,v.length),w===void 0&&(w=v.length-f),b(w,f,v.length),E(v,f,w)}},66011:(s,G,F)=>{"use strict";var P=F(48287).Buffer,L=F(56698),D=F(4729),A=new Array(16),h=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],m=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],g=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],p=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],k=[0,1518500249,1859775393,2400959708,2840853838],b=[1352829926,1548603684,1836072691,2053994217,0];function l(){D.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}L(l,D),l.prototype._update=function(){for(var R=A,M=0;M<16;++M)R[M]=this._block.readInt32LE(M*4);for(var U=this._a|0,x=this._b|0,y=this._c|0,W=this._d|0,Q=this._e|0,Z=this._a|0,ee=this._b|0,J=this._c|0,O=this._d|0,H=this._e|0,I=0;I<80;I+=1){var u,N;I<16?(u=c(U,x,y,W,Q,R[h[I]],k[0],g[I]),N=_(Z,ee,J,O,H,R[m[I]],b[0],p[I])):I<32?(u=v(U,x,y,W,Q,R[h[I]],k[1],g[I]),N=w(Z,ee,J,O,H,R[m[I]],b[1],p[I])):I<48?(u=f(U,x,y,W,Q,R[h[I]],k[2],g[I]),N=f(Z,ee,J,O,H,R[m[I]],b[2],p[I])):I<64?(u=w(U,x,y,W,Q,R[h[I]],k[3],g[I]),N=v(Z,ee,J,O,H,R[m[I]],b[3],p[I])):(u=_(U,x,y,W,Q,R[h[I]],k[4],g[I]),N=c(Z,ee,J,O,H,R[m[I]],b[4],p[I])),U=Q,Q=W,W=E(y,10),y=x,x=u,Z=H,H=O,O=E(J,10),J=ee,ee=N}var q=this._b+y+O|0;this._b=this._c+W+H|0,this._c=this._d+Q+Z|0,this._d=this._e+U+ee|0,this._e=this._a+x+J|0,this._a=q},l.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var R=P.alloc?P.alloc(20):new P(20);return R.writeInt32LE(this._a,0),R.writeInt32LE(this._b,4),R.writeInt32LE(this._c,8),R.writeInt32LE(this._d,12),R.writeInt32LE(this._e,16),R};function E(R,M){return R<<M|R>>>32-M}function c(R,M,U,x,y,W,Q,Z){return E(R+(M^U^x)+W+Q|0,Z)+y|0}function v(R,M,U,x,y,W,Q,Z){return E(R+(M&U|~M&x)+W+Q|0,Z)+y|0}function f(R,M,U,x,y,W,Q,Z){return E(R+((M|~U)^x)+W+Q|0,Z)+y|0}function w(R,M,U,x,y,W,Q,Z){return E(R+(M&x|U&~x)+W+Q|0,Z)+y|0}function _(R,M,U,x,y,W,Q,Z){return E(R+(M^(U|~x))+W+Q|0,Z)+y|0}s.exports=l},92861:(s,G,F)=>{/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var P=F(48287),L=P.Buffer;function D(h,m){for(var g in h)m[g]=h[g]}L.from&&L.alloc&&L.allocUnsafe&&L.allocUnsafeSlow?s.exports=P:(D(P,G),G.Buffer=A);function A(h,m,g){return L(h,m,g)}A.prototype=Object.create(L.prototype),D(L,A),A.from=function(h,m,g){if(typeof h=="number")throw new TypeError("Argument must not be a number");return L(h,m,g)},A.alloc=function(h,m,g){if(typeof h!="number")throw new TypeError("Argument must be a number");var p=L(h);return m!==void 0?typeof g=="string"?p.fill(m,g):p.fill(m):p.fill(0),p},A.allocUnsafe=function(h){if(typeof h!="number")throw new TypeError("Argument must be a number");return L(h)},A.allocUnsafeSlow=function(h){if(typeof h!="number")throw new TypeError("Argument must be a number");return P.SlowBuffer(h)}},54774:(s,G,F)=>{"use strict";var P=F(65606),L=F(48287),D=L.Buffer,A={},h;for(h in L)L.hasOwnProperty(h)&&(h==="SlowBuffer"||h==="Buffer"||(A[h]=L[h]));var m=A.Buffer={};for(h in D)D.hasOwnProperty(h)&&(h==="allocUnsafe"||h==="allocUnsafeSlow"||(m[h]=D[h]));if(A.Buffer.prototype=D.prototype,(!m.from||m.from===Uint8Array.from)&&(m.from=function(g,p,k){if(typeof g=="number")throw new TypeError('The "value" argument must not be of type number. Received type '+typeof g);if(g&&typeof g.length=="undefined")throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof g);return D(g,p,k)}),m.alloc||(m.alloc=function(g,p,k){if(typeof g!="number")throw new TypeError('The "size" argument must be of type number. Received type '+typeof g);if(g<0||g>=2147483648)throw new RangeError('The value "'+g+'" is invalid for option "size"');var b=D(g);return!p||p.length===0?b.fill(0):typeof k=="string"?b.fill(p,k):b.fill(p),b}),!A.kStringMaxLength)try{A.kStringMaxLength=P.binding("buffer").kStringMaxLength}catch{}A.constants||(A.constants={MAX_LENGTH:A.kMaxLength},A.kStringMaxLength&&(A.constants.MAX_STRING_LENGTH=A.kStringMaxLength)),s.exports=A},96897:(s,G,F)=>{"use strict";var P=F(70453),L=F(30041),D=F(30592)(),A=F(75795),h=F(69675),m=P("%Math.floor%");s.exports=function(p,k){if(typeof p!="function")throw new h("`fn` is not a function");if(typeof k!="number"||k<0||k>4294967295||m(k)!==k)throw new h("`length` must be a positive 32-bit integer");var b=arguments.length>2&&!!arguments[2],l=!0,E=!0;if("length"in p&&A){var c=A(p,"length");c&&!c.configurable&&(l=!1),c&&!c.writable&&(E=!1)}return(l||E||!b)&&(D?L(p,"length",k,!0,!0):L(p,"length",k)),p}},90392:(s,G,F)=>{"use strict";var P=F(92861).Buffer,L=F(15377);function D(A,h){this._block=P.alloc(A),this._finalSize=h,this._blockSize=A,this._len=0}D.prototype.update=function(A,h){A=L(A,h||"utf8");for(var m=this._block,g=this._blockSize,p=A.length,k=this._len,b=0;b<p;){for(var l=k%g,E=Math.min(p-b,g-l),c=0;c<E;c++)m[l+c]=A[b+c];k+=E,b+=E,k%g===0&&this._update(m)}return this._len+=p,this},D.prototype.digest=function(A){var h=this._len%this._blockSize;this._block[h]=128,this._block.fill(0,h+1),h>=this._finalSize&&(this._update(this._block),this._block.fill(0));var m=this._len*8;if(m<=4294967295)this._block.writeUInt32BE(m,this._blockSize-4);else{var g=(m&4294967295)>>>0,p=(m-g)/4294967296;this._block.writeUInt32BE(p,this._blockSize-8),this._block.writeUInt32BE(g,this._blockSize-4)}this._update(this._block);var k=this._hash();return A?k.toString(A):k},D.prototype._update=function(){throw new Error("_update must be implemented by subclass")},s.exports=D},62802:(s,G,F)=>{"use strict";s.exports=function(L){var D=L.toLowerCase(),A=s.exports[D];if(!A)throw new Error(D+" is not supported (we accept pull requests)");return new A},s.exports.sha=F(27816),s.exports.sha1=F(63737),s.exports.sha224=F(26710),s.exports.sha256=F(24107),s.exports.sha384=F(32827),s.exports.sha512=F(82890)},27816:(s,G,F)=>{"use strict";var P=F(56698),L=F(90392),D=F(92861).Buffer,A=[1518500249,1859775393,-1894007588,-899497514],h=new Array(80);function m(){this.init(),this._w=h,L.call(this,64,56)}P(m,L),m.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function g(b){return b<<5|b>>>27}function p(b){return b<<30|b>>>2}function k(b,l,E,c){return b===0?l&E|~l&c:b===2?l&E|l&c|E&c:l^E^c}m.prototype._update=function(b){for(var l=this._w,E=this._a|0,c=this._b|0,v=this._c|0,f=this._d|0,w=this._e|0,_=0;_<16;++_)l[_]=b.readInt32BE(_*4);for(;_<80;++_)l[_]=l[_-3]^l[_-8]^l[_-14]^l[_-16];for(var R=0;R<80;++R){var M=~~(R/20),U=g(E)+k(M,c,v,f)+w+l[R]+A[M]|0;w=f,f=v,v=p(c),c=E,E=U}this._a=E+this._a|0,this._b=c+this._b|0,this._c=v+this._c|0,this._d=f+this._d|0,this._e=w+this._e|0},m.prototype._hash=function(){var b=D.allocUnsafe(20);return b.writeInt32BE(this._a|0,0),b.writeInt32BE(this._b|0,4),b.writeInt32BE(this._c|0,8),b.writeInt32BE(this._d|0,12),b.writeInt32BE(this._e|0,16),b},s.exports=m},63737:(s,G,F)=>{"use strict";var P=F(56698),L=F(90392),D=F(92861).Buffer,A=[1518500249,1859775393,-1894007588,-899497514],h=new Array(80);function m(){this.init(),this._w=h,L.call(this,64,56)}P(m,L),m.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function g(l){return l<<1|l>>>31}function p(l){return l<<5|l>>>27}function k(l){return l<<30|l>>>2}function b(l,E,c,v){return l===0?E&c|~E&v:l===2?E&c|E&v|c&v:E^c^v}m.prototype._update=function(l){for(var E=this._w,c=this._a|0,v=this._b|0,f=this._c|0,w=this._d|0,_=this._e|0,R=0;R<16;++R)E[R]=l.readInt32BE(R*4);for(;R<80;++R)E[R]=g(E[R-3]^E[R-8]^E[R-14]^E[R-16]);for(var M=0;M<80;++M){var U=~~(M/20),x=p(c)+b(U,v,f,w)+_+E[M]+A[U]|0;_=w,w=f,f=k(v),v=c,c=x}this._a=c+this._a|0,this._b=v+this._b|0,this._c=f+this._c|0,this._d=w+this._d|0,this._e=_+this._e|0},m.prototype._hash=function(){var l=D.allocUnsafe(20);return l.writeInt32BE(this._a|0,0),l.writeInt32BE(this._b|0,4),l.writeInt32BE(this._c|0,8),l.writeInt32BE(this._d|0,12),l.writeInt32BE(this._e|0,16),l},s.exports=m},26710:(s,G,F)=>{"use strict";var P=F(56698),L=F(24107),D=F(90392),A=F(92861).Buffer,h=new Array(64);function m(){this.init(),this._w=h,D.call(this,64,56)}P(m,L),m.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},m.prototype._hash=function(){var g=A.allocUnsafe(28);return g.writeInt32BE(this._a,0),g.writeInt32BE(this._b,4),g.writeInt32BE(this._c,8),g.writeInt32BE(this._d,12),g.writeInt32BE(this._e,16),g.writeInt32BE(this._f,20),g.writeInt32BE(this._g,24),g},s.exports=m},24107:(s,G,F)=>{"use strict";var P=F(56698),L=F(90392),D=F(92861).Buffer,A=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],h=new Array(64);function m(){this.init(),this._w=h,L.call(this,64,56)}P(m,L),m.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this};function g(c,v,f){return f^c&(v^f)}function p(c,v,f){return c&v|f&(c|v)}function k(c){return(c>>>2|c<<30)^(c>>>13|c<<19)^(c>>>22|c<<10)}function b(c){return(c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7)}function l(c){return(c>>>7|c<<25)^(c>>>18|c<<14)^c>>>3}function E(c){return(c>>>17|c<<15)^(c>>>19|c<<13)^c>>>10}m.prototype._update=function(c){for(var v=this._w,f=this._a|0,w=this._b|0,_=this._c|0,R=this._d|0,M=this._e|0,U=this._f|0,x=this._g|0,y=this._h|0,W=0;W<16;++W)v[W]=c.readInt32BE(W*4);for(;W<64;++W)v[W]=E(v[W-2])+v[W-7]+l(v[W-15])+v[W-16]|0;for(var Q=0;Q<64;++Q){var Z=y+b(M)+g(M,U,x)+A[Q]+v[Q]|0,ee=k(f)+p(f,w,_)|0;y=x,x=U,U=M,M=R+Z|0,R=_,_=w,w=f,f=Z+ee|0}this._a=f+this._a|0,this._b=w+this._b|0,this._c=_+this._c|0,this._d=R+this._d|0,this._e=M+this._e|0,this._f=U+this._f|0,this._g=x+this._g|0,this._h=y+this._h|0},m.prototype._hash=function(){var c=D.allocUnsafe(32);return c.writeInt32BE(this._a,0),c.writeInt32BE(this._b,4),c.writeInt32BE(this._c,8),c.writeInt32BE(this._d,12),c.writeInt32BE(this._e,16),c.writeInt32BE(this._f,20),c.writeInt32BE(this._g,24),c.writeInt32BE(this._h,28),c},s.exports=m},32827:(s,G,F)=>{"use strict";var P=F(56698),L=F(82890),D=F(90392),A=F(92861).Buffer,h=new Array(160);function m(){this.init(),this._w=h,D.call(this,128,112)}P(m,L),m.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},m.prototype._hash=function(){var g=A.allocUnsafe(48);function p(k,b,l){g.writeInt32BE(k,l),g.writeInt32BE(b,l+4)}return p(this._ah,this._al,0),p(this._bh,this._bl,8),p(this._ch,this._cl,16),p(this._dh,this._dl,24),p(this._eh,this._el,32),p(this._fh,this._fl,40),g},s.exports=m},82890:(s,G,F)=>{"use strict";var P=F(56698),L=F(90392),D=F(92861).Buffer,A=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],h=new Array(160);function m(){this.init(),this._w=h,L.call(this,128,112)}P(m,L),m.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this};function g(w,_,R){return R^w&(_^R)}function p(w,_,R){return w&_|R&(w|_)}function k(w,_){return(w>>>28|_<<4)^(_>>>2|w<<30)^(_>>>7|w<<25)}function b(w,_){return(w>>>14|_<<18)^(w>>>18|_<<14)^(_>>>9|w<<23)}function l(w,_){return(w>>>1|_<<31)^(w>>>8|_<<24)^w>>>7}function E(w,_){return(w>>>1|_<<31)^(w>>>8|_<<24)^(w>>>7|_<<25)}function c(w,_){return(w>>>19|_<<13)^(_>>>29|w<<3)^w>>>6}function v(w,_){return(w>>>19|_<<13)^(_>>>29|w<<3)^(w>>>6|_<<26)}function f(w,_){return w>>>0<_>>>0?1:0}m.prototype._update=function(w){for(var _=this._w,R=this._ah|0,M=this._bh|0,U=this._ch|0,x=this._dh|0,y=this._eh|0,W=this._fh|0,Q=this._gh|0,Z=this._hh|0,ee=this._al|0,J=this._bl|0,O=this._cl|0,H=this._dl|0,I=this._el|0,u=this._fl|0,N=this._gl|0,q=this._hl|0,V=0;V<32;V+=2)_[V]=w.readInt32BE(V*4),_[V+1]=w.readInt32BE(V*4+4);for(;V<160;V+=2){var K=_[V-30],j=_[V-15*2+1],ie=l(K,j),X=E(j,K);K=_[V-4],j=_[V-4+1];var B=c(K,j),se=v(j,K),Pe=_[V-7*2],we=_[V-7*2+1],_e=_[V-16*2],Me=_[V-16*2+1],te=X+we|0,re=ie+Pe+f(te,X)|0;te=te+se|0,re=re+B+f(te,se)|0,te=te+Me|0,re=re+_e+f(te,Me)|0,_[V]=re,_[V+1]=te}for(var ge=0;ge<160;ge+=2){re=_[ge],te=_[ge+1];var ye=p(R,M,U),Ee=p(ee,J,O),z=k(R,ee),T=k(ee,R),oe=b(y,I),fe=b(I,y),de=A[ge],ue=A[ge+1],ve=g(y,W,Q),Fe=g(I,u,N),Oe=q+fe|0,$e=Z+oe+f(Oe,q)|0;Oe=Oe+Fe|0,$e=$e+ve+f(Oe,Fe)|0,Oe=Oe+ue|0,$e=$e+de+f(Oe,ue)|0,Oe=Oe+te|0,$e=$e+re+f(Oe,te)|0;var qe=T+Ee|0,Ve=z+ye+f(qe,T)|0;Z=Q,q=N,Q=W,N=u,W=y,u=I,I=H+Oe|0,y=x+$e+f(I,H)|0,x=U,H=O,U=M,O=J,M=R,J=ee,ee=Oe+qe|0,R=$e+Ve+f(ee,Oe)|0}this._al=this._al+ee|0,this._bl=this._bl+J|0,this._cl=this._cl+O|0,this._dl=this._dl+H|0,this._el=this._el+I|0,this._fl=this._fl+u|0,this._gl=this._gl+N|0,this._hl=this._hl+q|0,this._ah=this._ah+R+f(this._al,ee)|0,this._bh=this._bh+M+f(this._bl,J)|0,this._ch=this._ch+U+f(this._cl,O)|0,this._dh=this._dh+x+f(this._dl,H)|0,this._eh=this._eh+y+f(this._el,I)|0,this._fh=this._fh+W+f(this._fl,u)|0,this._gh=this._gh+Q+f(this._gl,N)|0,this._hh=this._hh+Z+f(this._hl,q)|0},m.prototype._hash=function(){var w=D.allocUnsafe(64);function _(R,M,U){w.writeInt32BE(R,U),w.writeInt32BE(M,U+4)}return _(this._ah,this._al,0),_(this._bh,this._bl,8),_(this._ch,this._cl,16),_(this._dh,this._dl,24),_(this._eh,this._el,32),_(this._fh,this._fl,40),_(this._gh,this._gl,48),_(this._hh,this._hl,56),w},s.exports=m},1182:(s,G,F)=>{"use strict";const P=F(38601),L=/\s/,D=/\r|\n/,A=/^(Host|Match)$/i,h=/^(GlobalKnownHostsFile|Host|IPQoS|SendEnv|UserKnownHostsFile|ProxyCommand)$/i,m=/^(?:CertificateFile|IdentityFile|User)$/i,g=/^(Include|IdentityFile)$/i,p=1,k=2,b=["IdentityFile","LocalForward","RemoteForward","DynamicForward","CertificateFile"];function l(v,f){return f.hasOwnProperty(v.param)&&f[v.param]===v.value}function E(v){for(const f of v)if(A.test(f.param)){for(const w of f.config)if(w.before)return w.before}return"  "}class c extends Array{compute(f){const w={},_=(R,M)=>{b.includes(R)?(w[R]||(w[R]=[])).push(M):w[R]==null&&(w[R]=M)};for(const R of this)R.type===p&&(R.param==="Host"?P(R.value,f)&&(_(R.param,R.value),R.config.filter(M=>M.type===p).forEach(M=>_(M.param,M.value))):R.param==="Match"||_(R.param,R.value));return w}find(f={}){if(typeof f=="function")return super.find(f);if(!(f&&("Host"in f||"Match"in f)))throw new Error("Can only find by Host or Match");return super.find(w=>l(w,f))}remove(f={}){if(!(f&&("Host"in f||"Match"in f)))throw new Error("Can only remove by Host or Match");const w=typeof f=="function"?super.findIndex(f):super.findIndex(_=>l(_,f));if(w>=0)return this.splice(w,1)}toString(){return this.constructor.stringify(this)}append(f){const w=E(this),_=this.length>0?this[this.length-1]:null;let R=_&&_.config||this,M=this,U=R.length>0?R[R.length-1]:_;U&&!U.after&&(U.after=`
`);for(const x in f){const y={type:p,param:x,separator:" ",value:f[x],before:"",after:`
`};A.test(x)?(R=M,U&&U.after===`
`&&(U.after+=`
`),R.push(y),R=y.config=new c):(y.before=R===M?"":w,R.push(y)),U=y}return M}prepend(f,w=!1){const _=E(this);let R=this,M=0;if(w){for(;M<this.length&&!A.test(this[M].param);)M+=1;if(M>=this.length)return this.append(f)}let U=!1,x=0;for(const y in f){x+=1;const W={type:p,param:y,separator:" ",value:f[y],before:"",after:`
`};if(A.test(y)){R.splice(M,0,W),R=W.config=new c,U=!0;continue}if(x===Object.keys(f).length&&(W.after+=`
`),!U){R.splice(M,0,W),M+=1,g.test(y)&&(W.after+=`
`);continue}W.before=_,R.push(W)}return R}static stringify(f){let w="";function _(U,x){return Array.isArray(U)?U.map(y=>_(y,L.test(y))).join(" "):x?`"${U}"`:U}function R(U){const x=U.quoted||m.test(U.param)&&L.test(U.value),y=_(U.value,x);return`${U.param}${U.separator}${y}`}const M=U=>{w+=U.before,U.type===k?w+=U.content:U.type===p&&b.includes(U.param)?[].concat(U.value).forEach(function(x,y,W){w+=R({...U,value:x}),y<W.length-1&&(w+=`
${U.before}`)}):U.type===p&&(w+=R(U)),w+=U.after,U.config&&U.config.forEach(M)};return f.forEach(M),w}static get DIRECTIVE(){return p}static get COMMENT(){return k}static parse(f){let w=0,_=U(),R=new c,M=R;function U(){return f[w++]}function x(){let I="";for(;L.test(_);)I+=_,_=U();return I}function y(){let I="";for(;D.test(_);)I+=_,_=U();return I}function W(){let I="";for(;_&&/[^ \t=]/.test(_);)I+=_,_=U();return I}function Q(){let I=x();return _==="="&&(I+=_,_=U()),I+x()}function Z(){let I="",u=!1,N=!1;for(;_&&!D.test(_);)N?(I+=_==='"'?_:`\\${_}`,N=!1):_==='"'&&(!I||u)?u=!u:_==="\\"?N=!0:I+=_,_=U();if(u||N)throw new Error(`Unexpected line break at ${I}`);return I.trim()}function ee(){const I=k;let u="";for(;_&&!D.test(_);)u+=_,_=U();return{type:I,content:u}}function J(){const I=[];let u="",N=!1,q=!1;for(;_&&!D.test(_);)q?(u+=_==='"'?_:`\\${_}`,q=!1):_==='"'?N=!N:_==="\\"?q=!0:N?u+=_:/[ \t]/.test(_)?u&&(I.push(u),u=""):u+=_,_=U();if(N||q)throw new Error(`Unexpected line break at ${I.concat(u).join(" ")}`);return u&&I.push(u),I.length>1?I:I[0]}function O(){const I=p,u=W(),N=h.test(u),q={type:I,param:u,separator:Q(),quoted:!N&&_==='"',value:N?J():Z()};return q.quoted||delete q.quoted,q}function H(){const I=x(),u=_==="#"?ee():O(),N=y();return u.before=I,u.after=N,u}for(;_;){let I=H();I.type===p&&A.test(I.param)?(R=M,R.push(I),R=I.config=new c):R.push(I)}return M}}s.exports=c},38601:s=>{"use strict";function G(L,D){for(let A of D)L=L.replace(new RegExp("\\"+A,"g"),"\\"+A);return L}function F(L,D){return L=G(L,"\\()[]{}.+^$|"),L=L.replace(/\*/g,".*").replace(/\?/g,".?"),new RegExp("^(?:"+L+")$").test(D)}function P(L,D){const A=Array.isArray(L)?L:L.split(/,/);let h=!1;for(const m of A){if(m[0]=="!"&&F(m.slice(1),D))return!1;F(m,D)&&(h=!0)}return h}s.exports=P},88310:(s,G,F)=>{s.exports=D;var P=F(37007).EventEmitter,L=F(56698);L(D,P),D.Readable=F(46891),D.Writable=F(81999),D.Duplex=F(88101),D.Transform=F(59083),D.PassThrough=F(3681),D.finished=F(14257),D.pipeline=F(5267),D.Stream=D;function D(){P.call(this)}D.prototype.pipe=function(A,h){var m=this;function g(v){A.writable&&A.write(v)===!1&&m.pause&&m.pause()}m.on("data",g);function p(){m.readable&&m.resume&&m.resume()}A.on("drain",p),!A._isStdio&&(!h||h.end!==!1)&&(m.on("end",b),m.on("close",l));var k=!1;function b(){k||(k=!0,A.end())}function l(){k||(k=!0,typeof A.destroy=="function"&&A.destroy())}function E(v){if(c(),P.listenerCount(this,"error")===0)throw v}m.on("error",E),A.on("error",E);function c(){m.removeListener("data",g),A.removeListener("drain",p),m.removeListener("end",b),m.removeListener("close",l),m.removeListener("error",E),A.removeListener("error",E),m.removeListener("end",c),m.removeListener("close",c),A.removeListener("close",c)}return m.on("end",c),m.on("close",c),A.on("close",c),A.emit("pipe",m),A}},12463:s=>{"use strict";function G(m,g){m.prototype=Object.create(g.prototype),m.prototype.constructor=m,m.__proto__=g}var F={};function P(m,g,p){p||(p=Error);function k(l,E,c){return typeof g=="string"?g:g(l,E,c)}var b=function(l){G(E,l);function E(c,v,f){return l.call(this,k(c,v,f))||this}return E}(p);b.prototype.name=p.name,b.prototype.code=m,F[m]=b}function L(m,g){if(Array.isArray(m)){var p=m.length;return m=m.map(function(k){return String(k)}),p>2?"one of ".concat(g," ").concat(m.slice(0,p-1).join(", "),", or ")+m[p-1]:p===2?"one of ".concat(g," ").concat(m[0]," or ").concat(m[1]):"of ".concat(g," ").concat(m[0])}else return"of ".concat(g," ").concat(String(m))}function D(m,g,p){return m.substr(!p||p<0?0:+p,g.length)===g}function A(m,g,p){return(p===void 0||p>m.length)&&(p=m.length),m.substring(p-g.length,p)===g}function h(m,g,p){return typeof p!="number"&&(p=0),p+g.length>m.length?!1:m.indexOf(g,p)!==-1}P("ERR_INVALID_OPT_VALUE",function(m,g){return'The value "'+g+'" is invalid for option "'+m+'"'},TypeError),P("ERR_INVALID_ARG_TYPE",function(m,g,p){var k;typeof g=="string"&&D(g,"not ")?(k="must not be",g=g.replace(/^not /,"")):k="must be";var b;if(A(m," argument"))b="The ".concat(m," ").concat(k," ").concat(L(g,"type"));else{var l=h(m,".")?"property":"argument";b='The "'.concat(m,'" ').concat(l," ").concat(k," ").concat(L(g,"type"))}return b+=". Received type ".concat(typeof p),b},TypeError),P("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),P("ERR_METHOD_NOT_IMPLEMENTED",function(m){return"The "+m+" method is not implemented"}),P("ERR_STREAM_PREMATURE_CLOSE","Premature close"),P("ERR_STREAM_DESTROYED",function(m){return"Cannot call "+m+" after a stream was destroyed"}),P("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),P("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),P("ERR_STREAM_WRITE_AFTER_END","write after end"),P("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),P("ERR_UNKNOWN_ENCODING",function(m){return"Unknown encoding: "+m},TypeError),P("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),s.exports.F=F},88101:(s,G,F)=>{"use strict";var P=F(65606),L=Object.keys||function(l){var E=[];for(var c in l)E.push(c);return E};s.exports=p;var D=F(46891),A=F(81999);F(56698)(p,D);for(var h=L(A.prototype),m=0;m<h.length;m++){var g=h[m];p.prototype[g]||(p.prototype[g]=A.prototype[g])}function p(l){if(!(this instanceof p))return new p(l);D.call(this,l),A.call(this,l),this.allowHalfOpen=!0,l&&(l.readable===!1&&(this.readable=!1),l.writable===!1&&(this.writable=!1),l.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",k)))}Object.defineProperty(p.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(p.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(p.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function k(){this._writableState.ended||P.nextTick(b,this)}function b(l){l.end()}Object.defineProperty(p.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(E){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=E,this._writableState.destroyed=E)}})},3681:(s,G,F)=>{"use strict";s.exports=L;var P=F(59083);F(56698)(L,P);function L(D){if(!(this instanceof L))return new L(D);P.call(this,D)}L.prototype._transform=function(D,A,h){h(null,D)}},46891:(s,G,F)=>{"use strict";var P=F(65606);s.exports=O;var L;O.ReadableState=J;var D=F(37007).EventEmitter,A=function(T,oe){return T.listeners(oe).length},h=F(41396),m=F(48287).Buffer,g=F.g.Uint8Array||function(){};function p(z){return m.from(z)}function k(z){return m.isBuffer(z)||z instanceof g}var b=F(77199),l;b&&b.debuglog?l=b.debuglog("stream"):l=function(){};var E=F(81766),c=F(54347),v=F(66644),f=v.getHighWaterMark,w=F(12463).F,_=w.ERR_INVALID_ARG_TYPE,R=w.ERR_STREAM_PUSH_AFTER_EOF,M=w.ERR_METHOD_NOT_IMPLEMENTED,U=w.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,x,y,W;F(56698)(O,h);var Q=c.errorOrDestroy,Z=["error","close","destroy","pause","resume"];function ee(z,T,oe){if(typeof z.prependListener=="function")return z.prependListener(T,oe);!z._events||!z._events[T]?z.on(T,oe):Array.isArray(z._events[T])?z._events[T].unshift(oe):z._events[T]=[oe,z._events[T]]}function J(z,T,oe){L=L||F(88101),z=z||{},typeof oe!="boolean"&&(oe=T instanceof L),this.objectMode=!!z.objectMode,oe&&(this.objectMode=this.objectMode||!!z.readableObjectMode),this.highWaterMark=f(this,z,"readableHighWaterMark",oe),this.buffer=new E,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=z.emitClose!==!1,this.autoDestroy=!!z.autoDestroy,this.destroyed=!1,this.defaultEncoding=z.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,z.encoding&&(x||(x=F(83141).I),this.decoder=new x(z.encoding),this.encoding=z.encoding)}function O(z){if(L=L||F(88101),!(this instanceof O))return new O(z);var T=this instanceof L;this._readableState=new J(z,this,T),this.readable=!0,z&&(typeof z.read=="function"&&(this._read=z.read),typeof z.destroy=="function"&&(this._destroy=z.destroy)),h.call(this)}Object.defineProperty(O.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(T){this._readableState&&(this._readableState.destroyed=T)}}),O.prototype.destroy=c.destroy,O.prototype._undestroy=c.undestroy,O.prototype._destroy=function(z,T){T(z)},O.prototype.push=function(z,T){var oe=this._readableState,fe;return oe.objectMode?fe=!0:typeof z=="string"&&(T=T||oe.defaultEncoding,T!==oe.encoding&&(z=m.from(z,T),T=""),fe=!0),H(this,z,T,!1,fe)},O.prototype.unshift=function(z){return H(this,z,null,!0,!1)};function H(z,T,oe,fe,de){l("readableAddChunk",T);var ue=z._readableState;if(T===null)ue.reading=!1,K(z,ue);else{var ve;if(de||(ve=u(ue,T)),ve)Q(z,ve);else if(ue.objectMode||T&&T.length>0)if(typeof T!="string"&&!ue.objectMode&&Object.getPrototypeOf(T)!==m.prototype&&(T=p(T)),fe)ue.endEmitted?Q(z,new U):I(z,ue,T,!0);else if(ue.ended)Q(z,new R);else{if(ue.destroyed)return!1;ue.reading=!1,ue.decoder&&!oe?(T=ue.decoder.write(T),ue.objectMode||T.length!==0?I(z,ue,T,!1):X(z,ue)):I(z,ue,T,!1)}else fe||(ue.reading=!1,X(z,ue))}return!ue.ended&&(ue.length<ue.highWaterMark||ue.length===0)}function I(z,T,oe,fe){T.flowing&&T.length===0&&!T.sync?(T.awaitDrain=0,z.emit("data",oe)):(T.length+=T.objectMode?1:oe.length,fe?T.buffer.unshift(oe):T.buffer.push(oe),T.needReadable&&j(z)),X(z,T)}function u(z,T){var oe;return!k(T)&&typeof T!="string"&&T!==void 0&&!z.objectMode&&(oe=new _("chunk",["string","Buffer","Uint8Array"],T)),oe}O.prototype.isPaused=function(){return this._readableState.flowing===!1},O.prototype.setEncoding=function(z){x||(x=F(83141).I);var T=new x(z);this._readableState.decoder=T,this._readableState.encoding=this._readableState.decoder.encoding;for(var oe=this._readableState.buffer.head,fe="";oe!==null;)fe+=T.write(oe.data),oe=oe.next;return this._readableState.buffer.clear(),fe!==""&&this._readableState.buffer.push(fe),this._readableState.length=fe.length,this};var N=1073741824;function q(z){return z>=N?z=N:(z--,z|=z>>>1,z|=z>>>2,z|=z>>>4,z|=z>>>8,z|=z>>>16,z++),z}function V(z,T){return z<=0||T.length===0&&T.ended?0:T.objectMode?1:z!==z?T.flowing&&T.length?T.buffer.head.data.length:T.length:(z>T.highWaterMark&&(T.highWaterMark=q(z)),z<=T.length?z:T.ended?T.length:(T.needReadable=!0,0))}O.prototype.read=function(z){l("read",z),z=parseInt(z,10);var T=this._readableState,oe=z;if(z!==0&&(T.emittedReadable=!1),z===0&&T.needReadable&&((T.highWaterMark!==0?T.length>=T.highWaterMark:T.length>0)||T.ended))return l("read: emitReadable",T.length,T.ended),T.length===0&&T.ended?ge(this):j(this),null;if(z=V(z,T),z===0&&T.ended)return T.length===0&&ge(this),null;var fe=T.needReadable;l("need readable",fe),(T.length===0||T.length-z<T.highWaterMark)&&(fe=!0,l("length less than watermark",fe)),T.ended||T.reading?(fe=!1,l("reading or ended",fe)):fe&&(l("do read"),T.reading=!0,T.sync=!0,T.length===0&&(T.needReadable=!0),this._read(T.highWaterMark),T.sync=!1,T.reading||(z=V(oe,T)));var de;return z>0?de=re(z,T):de=null,de===null?(T.needReadable=T.length<=T.highWaterMark,z=0):(T.length-=z,T.awaitDrain=0),T.length===0&&(T.ended||(T.needReadable=!0),oe!==z&&T.ended&&ge(this)),de!==null&&this.emit("data",de),de};function K(z,T){if(l("onEofChunk"),!T.ended){if(T.decoder){var oe=T.decoder.end();oe&&oe.length&&(T.buffer.push(oe),T.length+=T.objectMode?1:oe.length)}T.ended=!0,T.sync?j(z):(T.needReadable=!1,T.emittedReadable||(T.emittedReadable=!0,ie(z)))}}function j(z){var T=z._readableState;l("emitReadable",T.needReadable,T.emittedReadable),T.needReadable=!1,T.emittedReadable||(l("emitReadable",T.flowing),T.emittedReadable=!0,P.nextTick(ie,z))}function ie(z){var T=z._readableState;l("emitReadable_",T.destroyed,T.length,T.ended),!T.destroyed&&(T.length||T.ended)&&(z.emit("readable"),T.emittedReadable=!1),T.needReadable=!T.flowing&&!T.ended&&T.length<=T.highWaterMark,te(z)}function X(z,T){T.readingMore||(T.readingMore=!0,P.nextTick(B,z,T))}function B(z,T){for(;!T.reading&&!T.ended&&(T.length<T.highWaterMark||T.flowing&&T.length===0);){var oe=T.length;if(l("maybeReadMore read 0"),z.read(0),oe===T.length)break}T.readingMore=!1}O.prototype._read=function(z){Q(this,new M("_read()"))},O.prototype.pipe=function(z,T){var oe=this,fe=this._readableState;switch(fe.pipesCount){case 0:fe.pipes=z;break;case 1:fe.pipes=[fe.pipes,z];break;default:fe.pipes.push(z);break}fe.pipesCount+=1,l("pipe count=%d opts=%j",fe.pipesCount,T);var de=(!T||T.end!==!1)&&z!==P.stdout&&z!==P.stderr,ue=de?Fe:ce;fe.endEmitted?P.nextTick(ue):oe.once("end",ue),z.on("unpipe",ve);function ve(Re,xe){l("onunpipe"),Re===oe&&xe&&xe.hasUnpiped===!1&&(xe.hasUnpiped=!0,qe())}function Fe(){l("onend"),z.end()}var Oe=se(oe);z.on("drain",Oe);var $e=!1;function qe(){l("cleanup"),z.removeListener("close",me),z.removeListener("finish",ae),z.removeListener("drain",Oe),z.removeListener("error",Je),z.removeListener("unpipe",ve),oe.removeListener("end",Fe),oe.removeListener("end",ce),oe.removeListener("data",Ve),$e=!0,fe.awaitDrain&&(!z._writableState||z._writableState.needDrain)&&Oe()}oe.on("data",Ve);function Ve(Re){l("ondata");var xe=z.write(Re);l("dest.write",xe),xe===!1&&((fe.pipesCount===1&&fe.pipes===z||fe.pipesCount>1&&Ee(fe.pipes,z)!==-1)&&!$e&&(l("false write response, pause",fe.awaitDrain),fe.awaitDrain++),oe.pause())}function Je(Re){l("onerror",Re),ce(),z.removeListener("error",Je),A(z,"error")===0&&Q(z,Re)}ee(z,"error",Je);function me(){z.removeListener("finish",ae),ce()}z.once("close",me);function ae(){l("onfinish"),z.removeListener("close",me),ce()}z.once("finish",ae);function ce(){l("unpipe"),oe.unpipe(z)}return z.emit("pipe",oe),fe.flowing||(l("pipe resume"),oe.resume()),z};function se(z){return function(){var oe=z._readableState;l("pipeOnDrain",oe.awaitDrain),oe.awaitDrain&&oe.awaitDrain--,oe.awaitDrain===0&&A(z,"data")&&(oe.flowing=!0,te(z))}}O.prototype.unpipe=function(z){var T=this._readableState,oe={hasUnpiped:!1};if(T.pipesCount===0)return this;if(T.pipesCount===1)return z&&z!==T.pipes?this:(z||(z=T.pipes),T.pipes=null,T.pipesCount=0,T.flowing=!1,z&&z.emit("unpipe",this,oe),this);if(!z){var fe=T.pipes,de=T.pipesCount;T.pipes=null,T.pipesCount=0,T.flowing=!1;for(var ue=0;ue<de;ue++)fe[ue].emit("unpipe",this,{hasUnpiped:!1});return this}var ve=Ee(T.pipes,z);return ve===-1?this:(T.pipes.splice(ve,1),T.pipesCount-=1,T.pipesCount===1&&(T.pipes=T.pipes[0]),z.emit("unpipe",this,oe),this)},O.prototype.on=function(z,T){var oe=h.prototype.on.call(this,z,T),fe=this._readableState;return z==="data"?(fe.readableListening=this.listenerCount("readable")>0,fe.flowing!==!1&&this.resume()):z==="readable"&&!fe.endEmitted&&!fe.readableListening&&(fe.readableListening=fe.needReadable=!0,fe.flowing=!1,fe.emittedReadable=!1,l("on readable",fe.length,fe.reading),fe.length?j(this):fe.reading||P.nextTick(we,this)),oe},O.prototype.addListener=O.prototype.on,O.prototype.removeListener=function(z,T){var oe=h.prototype.removeListener.call(this,z,T);return z==="readable"&&P.nextTick(Pe,this),oe},O.prototype.removeAllListeners=function(z){var T=h.prototype.removeAllListeners.apply(this,arguments);return(z==="readable"||z===void 0)&&P.nextTick(Pe,this),T};function Pe(z){var T=z._readableState;T.readableListening=z.listenerCount("readable")>0,T.resumeScheduled&&!T.paused?T.flowing=!0:z.listenerCount("data")>0&&z.resume()}function we(z){l("readable nexttick read 0"),z.read(0)}O.prototype.resume=function(){var z=this._readableState;return z.flowing||(l("resume"),z.flowing=!z.readableListening,_e(this,z)),z.paused=!1,this};function _e(z,T){T.resumeScheduled||(T.resumeScheduled=!0,P.nextTick(Me,z,T))}function Me(z,T){l("resume",T.reading),T.reading||z.read(0),T.resumeScheduled=!1,z.emit("resume"),te(z),T.flowing&&!T.reading&&z.read(0)}O.prototype.pause=function(){return l("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(l("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function te(z){var T=z._readableState;for(l("flow",T.flowing);T.flowing&&z.read()!==null;);}O.prototype.wrap=function(z){var T=this,oe=this._readableState,fe=!1;z.on("end",function(){if(l("wrapped end"),oe.decoder&&!oe.ended){var ve=oe.decoder.end();ve&&ve.length&&T.push(ve)}T.push(null)}),z.on("data",function(ve){if(l("wrapped data"),oe.decoder&&(ve=oe.decoder.write(ve)),!(oe.objectMode&&ve==null)&&!(!oe.objectMode&&(!ve||!ve.length))){var Fe=T.push(ve);Fe||(fe=!0,z.pause())}});for(var de in z)this[de]===void 0&&typeof z[de]=="function"&&(this[de]=function(Fe){return function(){return z[Fe].apply(z,arguments)}}(de));for(var ue=0;ue<Z.length;ue++)z.on(Z[ue],this.emit.bind(this,Z[ue]));return this._read=function(ve){l("wrapped _read",ve),fe&&(fe=!1,z.resume())},this},typeof Symbol=="function"&&(O.prototype[Symbol.asyncIterator]=function(){return y===void 0&&(y=F(65034)),y(this)}),Object.defineProperty(O.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(O.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(O.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(T){this._readableState&&(this._readableState.flowing=T)}}),O._fromList=re,Object.defineProperty(O.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function re(z,T){if(T.length===0)return null;var oe;return T.objectMode?oe=T.buffer.shift():!z||z>=T.length?(T.decoder?oe=T.buffer.join(""):T.buffer.length===1?oe=T.buffer.first():oe=T.buffer.concat(T.length),T.buffer.clear()):oe=T.buffer.consume(z,T.decoder),oe}function ge(z){var T=z._readableState;l("endReadable",T.endEmitted),T.endEmitted||(T.ended=!0,P.nextTick(ye,T,z))}function ye(z,T){if(l("endReadableNT",z.endEmitted,z.length),!z.endEmitted&&z.length===0&&(z.endEmitted=!0,T.readable=!1,T.emit("end"),z.autoDestroy)){var oe=T._writableState;(!oe||oe.autoDestroy&&oe.finished)&&T.destroy()}}typeof Symbol=="function"&&(O.from=function(z,T){return W===void 0&&(W=F(90968)),W(O,z,T)});function Ee(z,T){for(var oe=0,fe=z.length;oe<fe;oe++)if(z[oe]===T)return oe;return-1}},59083:(s,G,F)=>{"use strict";s.exports=p;var P=F(12463).F,L=P.ERR_METHOD_NOT_IMPLEMENTED,D=P.ERR_MULTIPLE_CALLBACK,A=P.ERR_TRANSFORM_ALREADY_TRANSFORMING,h=P.ERR_TRANSFORM_WITH_LENGTH_0,m=F(88101);F(56698)(p,m);function g(l,E){var c=this._transformState;c.transforming=!1;var v=c.writecb;if(v===null)return this.emit("error",new D);c.writechunk=null,c.writecb=null,E!=null&&this.push(E),v(l);var f=this._readableState;f.reading=!1,(f.needReadable||f.length<f.highWaterMark)&&this._read(f.highWaterMark)}function p(l){if(!(this instanceof p))return new p(l);m.call(this,l),this._transformState={afterTransform:g.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,l&&(typeof l.transform=="function"&&(this._transform=l.transform),typeof l.flush=="function"&&(this._flush=l.flush)),this.on("prefinish",k)}function k(){var l=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(E,c){b(l,E,c)}):b(this,null,null)}p.prototype.push=function(l,E){return this._transformState.needTransform=!1,m.prototype.push.call(this,l,E)},p.prototype._transform=function(l,E,c){c(new L("_transform()"))},p.prototype._write=function(l,E,c){var v=this._transformState;if(v.writecb=c,v.writechunk=l,v.writeencoding=E,!v.transforming){var f=this._readableState;(v.needTransform||f.needReadable||f.length<f.highWaterMark)&&this._read(f.highWaterMark)}},p.prototype._read=function(l){var E=this._transformState;E.writechunk!==null&&!E.transforming?(E.transforming=!0,this._transform(E.writechunk,E.writeencoding,E.afterTransform)):E.needTransform=!0},p.prototype._destroy=function(l,E){m.prototype._destroy.call(this,l,function(c){E(c)})};function b(l,E,c){if(E)return l.emit("error",E);if(c!=null&&l.push(c),l._writableState.length)throw new h;if(l._transformState.transforming)throw new A;return l.push(null)}},81999:(s,G,F)=>{"use strict";var P=F(65606);s.exports=J;function L(te,re,ge){this.chunk=te,this.encoding=re,this.callback=ge,this.next=null}function D(te){var re=this;this.next=null,this.entry=null,this.finish=function(){Me(re,te)}}var A;J.WritableState=Z;var h={deprecate:F(94643)},m=F(41396),g=F(48287).Buffer,p=F.g.Uint8Array||function(){};function k(te){return g.from(te)}function b(te){return g.isBuffer(te)||te instanceof p}var l=F(54347),E=F(66644),c=E.getHighWaterMark,v=F(12463).F,f=v.ERR_INVALID_ARG_TYPE,w=v.ERR_METHOD_NOT_IMPLEMENTED,_=v.ERR_MULTIPLE_CALLBACK,R=v.ERR_STREAM_CANNOT_PIPE,M=v.ERR_STREAM_DESTROYED,U=v.ERR_STREAM_NULL_VALUES,x=v.ERR_STREAM_WRITE_AFTER_END,y=v.ERR_UNKNOWN_ENCODING,W=l.errorOrDestroy;F(56698)(J,m);function Q(){}function Z(te,re,ge){A=A||F(88101),te=te||{},typeof ge!="boolean"&&(ge=re instanceof A),this.objectMode=!!te.objectMode,ge&&(this.objectMode=this.objectMode||!!te.writableObjectMode),this.highWaterMark=c(this,te,"writableHighWaterMark",ge),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var ye=te.decodeStrings===!1;this.decodeStrings=!ye,this.defaultEncoding=te.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(Ee){K(re,Ee)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=te.emitClose!==!1,this.autoDestroy=!!te.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new D(this)}Z.prototype.getBuffer=function(){for(var re=this.bufferedRequest,ge=[];re;)ge.push(re),re=re.next;return ge},function(){try{Object.defineProperty(Z.prototype,"buffer",{get:h.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var ee;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(ee=Function.prototype[Symbol.hasInstance],Object.defineProperty(J,Symbol.hasInstance,{value:function(re){return ee.call(this,re)?!0:this!==J?!1:re&&re._writableState instanceof Z}})):ee=function(re){return re instanceof this};function J(te){A=A||F(88101);var re=this instanceof A;if(!re&&!ee.call(J,this))return new J(te);this._writableState=new Z(te,this,re),this.writable=!0,te&&(typeof te.write=="function"&&(this._write=te.write),typeof te.writev=="function"&&(this._writev=te.writev),typeof te.destroy=="function"&&(this._destroy=te.destroy),typeof te.final=="function"&&(this._final=te.final)),m.call(this)}J.prototype.pipe=function(){W(this,new R)};function O(te,re){var ge=new x;W(te,ge),P.nextTick(re,ge)}function H(te,re,ge,ye){var Ee;return ge===null?Ee=new U:typeof ge!="string"&&!re.objectMode&&(Ee=new f("chunk",["string","Buffer"],ge)),Ee?(W(te,Ee),P.nextTick(ye,Ee),!1):!0}J.prototype.write=function(te,re,ge){var ye=this._writableState,Ee=!1,z=!ye.objectMode&&b(te);return z&&!g.isBuffer(te)&&(te=k(te)),typeof re=="function"&&(ge=re,re=null),z?re="buffer":re||(re=ye.defaultEncoding),typeof ge!="function"&&(ge=Q),ye.ending?O(this,ge):(z||H(this,ye,te,ge))&&(ye.pendingcb++,Ee=u(this,ye,z,te,re,ge)),Ee},J.prototype.cork=function(){this._writableState.corked++},J.prototype.uncork=function(){var te=this._writableState;te.corked&&(te.corked--,!te.writing&&!te.corked&&!te.bufferProcessing&&te.bufferedRequest&&X(this,te))},J.prototype.setDefaultEncoding=function(re){if(typeof re=="string"&&(re=re.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((re+"").toLowerCase())>-1))throw new y(re);return this._writableState.defaultEncoding=re,this},Object.defineProperty(J.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function I(te,re,ge){return!te.objectMode&&te.decodeStrings!==!1&&typeof re=="string"&&(re=g.from(re,ge)),re}Object.defineProperty(J.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function u(te,re,ge,ye,Ee,z){if(!ge){var T=I(re,ye,Ee);ye!==T&&(ge=!0,Ee="buffer",ye=T)}var oe=re.objectMode?1:ye.length;re.length+=oe;var fe=re.length<re.highWaterMark;if(fe||(re.needDrain=!0),re.writing||re.corked){var de=re.lastBufferedRequest;re.lastBufferedRequest={chunk:ye,encoding:Ee,isBuf:ge,callback:z,next:null},de?de.next=re.lastBufferedRequest:re.bufferedRequest=re.lastBufferedRequest,re.bufferedRequestCount+=1}else N(te,re,!1,oe,ye,Ee,z);return fe}function N(te,re,ge,ye,Ee,z,T){re.writelen=ye,re.writecb=T,re.writing=!0,re.sync=!0,re.destroyed?re.onwrite(new M("write")):ge?te._writev(Ee,re.onwrite):te._write(Ee,z,re.onwrite),re.sync=!1}function q(te,re,ge,ye,Ee){--re.pendingcb,ge?(P.nextTick(Ee,ye),P.nextTick(we,te,re),te._writableState.errorEmitted=!0,W(te,ye)):(Ee(ye),te._writableState.errorEmitted=!0,W(te,ye),we(te,re))}function V(te){te.writing=!1,te.writecb=null,te.length-=te.writelen,te.writelen=0}function K(te,re){var ge=te._writableState,ye=ge.sync,Ee=ge.writecb;if(typeof Ee!="function")throw new _;if(V(ge),re)q(te,ge,ye,re,Ee);else{var z=B(ge)||te.destroyed;!z&&!ge.corked&&!ge.bufferProcessing&&ge.bufferedRequest&&X(te,ge),ye?P.nextTick(j,te,ge,z,Ee):j(te,ge,z,Ee)}}function j(te,re,ge,ye){ge||ie(te,re),re.pendingcb--,ye(),we(te,re)}function ie(te,re){re.length===0&&re.needDrain&&(re.needDrain=!1,te.emit("drain"))}function X(te,re){re.bufferProcessing=!0;var ge=re.bufferedRequest;if(te._writev&&ge&&ge.next){var ye=re.bufferedRequestCount,Ee=new Array(ye),z=re.corkedRequestsFree;z.entry=ge;for(var T=0,oe=!0;ge;)Ee[T]=ge,ge.isBuf||(oe=!1),ge=ge.next,T+=1;Ee.allBuffers=oe,N(te,re,!0,re.length,Ee,"",z.finish),re.pendingcb++,re.lastBufferedRequest=null,z.next?(re.corkedRequestsFree=z.next,z.next=null):re.corkedRequestsFree=new D(re),re.bufferedRequestCount=0}else{for(;ge;){var fe=ge.chunk,de=ge.encoding,ue=ge.callback,ve=re.objectMode?1:fe.length;if(N(te,re,!1,ve,fe,de,ue),ge=ge.next,re.bufferedRequestCount--,re.writing)break}ge===null&&(re.lastBufferedRequest=null)}re.bufferedRequest=ge,re.bufferProcessing=!1}J.prototype._write=function(te,re,ge){ge(new w("_write()"))},J.prototype._writev=null,J.prototype.end=function(te,re,ge){var ye=this._writableState;return typeof te=="function"?(ge=te,te=null,re=null):typeof re=="function"&&(ge=re,re=null),te!=null&&this.write(te,re),ye.corked&&(ye.corked=1,this.uncork()),ye.ending||_e(this,ye,ge),this},Object.defineProperty(J.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function B(te){return te.ending&&te.length===0&&te.bufferedRequest===null&&!te.finished&&!te.writing}function se(te,re){te._final(function(ge){re.pendingcb--,ge&&W(te,ge),re.prefinished=!0,te.emit("prefinish"),we(te,re)})}function Pe(te,re){!re.prefinished&&!re.finalCalled&&(typeof te._final=="function"&&!re.destroyed?(re.pendingcb++,re.finalCalled=!0,P.nextTick(se,te,re)):(re.prefinished=!0,te.emit("prefinish")))}function we(te,re){var ge=B(re);if(ge&&(Pe(te,re),re.pendingcb===0&&(re.finished=!0,te.emit("finish"),re.autoDestroy))){var ye=te._readableState;(!ye||ye.autoDestroy&&ye.endEmitted)&&te.destroy()}return ge}function _e(te,re,ge){re.ending=!0,we(te,re),ge&&(re.finished?P.nextTick(ge):te.once("finish",ge)),re.ended=!0,te.writable=!1}function Me(te,re,ge){var ye=te.entry;for(te.entry=null;ye;){var Ee=ye.callback;re.pendingcb--,Ee(ge),ye=ye.next}re.corkedRequestsFree.next=te}Object.defineProperty(J.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(re){this._writableState&&(this._writableState.destroyed=re)}}),J.prototype.destroy=l.destroy,J.prototype._undestroy=l.undestroy,J.prototype._destroy=function(te,re){re(te)}},65034:(s,G,F)=>{"use strict";var P=F(65606),L;function D(M,U,x){return U in M?Object.defineProperty(M,U,{value:x,enumerable:!0,configurable:!0,writable:!0}):M[U]=x,M}var A=F(14257),h=Symbol("lastResolve"),m=Symbol("lastReject"),g=Symbol("error"),p=Symbol("ended"),k=Symbol("lastPromise"),b=Symbol("handlePromise"),l=Symbol("stream");function E(M,U){return{value:M,done:U}}function c(M){var U=M[h];if(U!==null){var x=M[l].read();x!==null&&(M[k]=null,M[h]=null,M[m]=null,U(E(x,!1)))}}function v(M){P.nextTick(c,M)}function f(M,U){return function(x,y){M.then(function(){if(U[p]){x(E(void 0,!0));return}U[b](x,y)},y)}}var w=Object.getPrototypeOf(function(){}),_=Object.setPrototypeOf((L={get stream(){return this[l]},next:function(){var U=this,x=this[g];if(x!==null)return Promise.reject(x);if(this[p])return Promise.resolve(E(void 0,!0));if(this[l].destroyed)return new Promise(function(Z,ee){P.nextTick(function(){U[g]?ee(U[g]):Z(E(void 0,!0))})});var y=this[k],W;if(y)W=new Promise(f(y,this));else{var Q=this[l].read();if(Q!==null)return Promise.resolve(E(Q,!1));W=new Promise(this[b])}return this[k]=W,W}},D(L,Symbol.asyncIterator,function(){return this}),D(L,"return",function(){var U=this;return new Promise(function(x,y){U[l].destroy(null,function(W){if(W){y(W);return}x(E(void 0,!0))})})}),L),w),R=function(U){var x,y=Object.create(_,(x={},D(x,l,{value:U,writable:!0}),D(x,h,{value:null,writable:!0}),D(x,m,{value:null,writable:!0}),D(x,g,{value:null,writable:!0}),D(x,p,{value:U._readableState.endEmitted,writable:!0}),D(x,b,{value:function(Q,Z){var ee=y[l].read();ee?(y[k]=null,y[h]=null,y[m]=null,Q(E(ee,!1))):(y[h]=Q,y[m]=Z)},writable:!0}),x));return y[k]=null,A(U,function(W){if(W&&W.code!=="ERR_STREAM_PREMATURE_CLOSE"){var Q=y[m];Q!==null&&(y[k]=null,y[h]=null,y[m]=null,Q(W)),y[g]=W;return}var Z=y[h];Z!==null&&(y[k]=null,y[h]=null,y[m]=null,Z(E(void 0,!0))),y[p]=!0}),U.on("readable",v.bind(null,y)),y};s.exports=R},81766:(s,G,F)=>{"use strict";function P(c,v){var f=Object.keys(c);if(Object.getOwnPropertySymbols){var w=Object.getOwnPropertySymbols(c);v&&(w=w.filter(function(_){return Object.getOwnPropertyDescriptor(c,_).enumerable})),f.push.apply(f,w)}return f}function L(c){for(var v=1;v<arguments.length;v++){var f=arguments[v]!=null?arguments[v]:{};v%2?P(Object(f),!0).forEach(function(w){D(c,w,f[w])}):Object.getOwnPropertyDescriptors?Object.defineProperties(c,Object.getOwnPropertyDescriptors(f)):P(Object(f)).forEach(function(w){Object.defineProperty(c,w,Object.getOwnPropertyDescriptor(f,w))})}return c}function D(c,v,f){return v in c?Object.defineProperty(c,v,{value:f,enumerable:!0,configurable:!0,writable:!0}):c[v]=f,c}function A(c,v){if(!(c instanceof v))throw new TypeError("Cannot call a class as a function")}function h(c,v){for(var f=0;f<v.length;f++){var w=v[f];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(c,w.key,w)}}function m(c,v,f){return v&&h(c.prototype,v),f&&h(c,f),c}var g=F(48287),p=g.Buffer,k=F(63779),b=k.inspect,l=b&&b.custom||"inspect";function E(c,v,f){p.prototype.copy.call(c,v,f)}s.exports=function(){function c(){A(this,c),this.head=null,this.tail=null,this.length=0}return m(c,[{key:"push",value:function(f){var w={data:f,next:null};this.length>0?this.tail.next=w:this.head=w,this.tail=w,++this.length}},{key:"unshift",value:function(f){var w={data:f,next:this.head};this.length===0&&(this.tail=w),this.head=w,++this.length}},{key:"shift",value:function(){if(this.length!==0){var f=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,f}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(f){if(this.length===0)return"";for(var w=this.head,_=""+w.data;w=w.next;)_+=f+w.data;return _}},{key:"concat",value:function(f){if(this.length===0)return p.alloc(0);for(var w=p.allocUnsafe(f>>>0),_=this.head,R=0;_;)E(_.data,w,R),R+=_.data.length,_=_.next;return w}},{key:"consume",value:function(f,w){var _;return f<this.head.data.length?(_=this.head.data.slice(0,f),this.head.data=this.head.data.slice(f)):f===this.head.data.length?_=this.shift():_=w?this._getString(f):this._getBuffer(f),_}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(f){var w=this.head,_=1,R=w.data;for(f-=R.length;w=w.next;){var M=w.data,U=f>M.length?M.length:f;if(U===M.length?R+=M:R+=M.slice(0,f),f-=U,f===0){U===M.length?(++_,w.next?this.head=w.next:this.head=this.tail=null):(this.head=w,w.data=M.slice(U));break}++_}return this.length-=_,R}},{key:"_getBuffer",value:function(f){var w=p.allocUnsafe(f),_=this.head,R=1;for(_.data.copy(w),f-=_.data.length;_=_.next;){var M=_.data,U=f>M.length?M.length:f;if(M.copy(w,w.length-f,0,U),f-=U,f===0){U===M.length?(++R,_.next?this.head=_.next:this.head=this.tail=null):(this.head=_,_.data=M.slice(U));break}++R}return this.length-=R,w}},{key:l,value:function(f,w){return b(this,L({},w,{depth:0,customInspect:!1}))}}]),c}()},54347:(s,G,F)=>{"use strict";var P=F(65606);function L(p,k){var b=this,l=this._readableState&&this._readableState.destroyed,E=this._writableState&&this._writableState.destroyed;return l||E?(k?k(p):p&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,P.nextTick(m,this,p)):P.nextTick(m,this,p)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(p||null,function(c){!k&&c?b._writableState?b._writableState.errorEmitted?P.nextTick(A,b):(b._writableState.errorEmitted=!0,P.nextTick(D,b,c)):P.nextTick(D,b,c):k?(P.nextTick(A,b),k(c)):P.nextTick(A,b)}),this)}function D(p,k){m(p,k),A(p)}function A(p){p._writableState&&!p._writableState.emitClose||p._readableState&&!p._readableState.emitClose||p.emit("close")}function h(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function m(p,k){p.emit("error",k)}function g(p,k){var b=p._readableState,l=p._writableState;b&&b.autoDestroy||l&&l.autoDestroy?p.destroy(k):p.emit("error",k)}s.exports={destroy:L,undestroy:h,errorOrDestroy:g}},14257:(s,G,F)=>{"use strict";var P=F(12463).F.ERR_STREAM_PREMATURE_CLOSE;function L(m){var g=!1;return function(){if(!g){g=!0;for(var p=arguments.length,k=new Array(p),b=0;b<p;b++)k[b]=arguments[b];m.apply(this,k)}}}function D(){}function A(m){return m.setHeader&&typeof m.abort=="function"}function h(m,g,p){if(typeof g=="function")return h(m,null,g);g||(g={}),p=L(p||D);var k=g.readable||g.readable!==!1&&m.readable,b=g.writable||g.writable!==!1&&m.writable,l=function(){m.writable||c()},E=m._writableState&&m._writableState.finished,c=function(){b=!1,E=!0,k||p.call(m)},v=m._readableState&&m._readableState.endEmitted,f=function(){k=!1,v=!0,b||p.call(m)},w=function(U){p.call(m,U)},_=function(){var U;if(k&&!v)return(!m._readableState||!m._readableState.ended)&&(U=new P),p.call(m,U);if(b&&!E)return(!m._writableState||!m._writableState.ended)&&(U=new P),p.call(m,U)},R=function(){m.req.on("finish",c)};return A(m)?(m.on("complete",c),m.on("abort",_),m.req?R():m.on("request",R)):b&&!m._writableState&&(m.on("end",l),m.on("close",l)),m.on("end",f),m.on("finish",c),g.error!==!1&&m.on("error",w),m.on("close",_),function(){m.removeListener("complete",c),m.removeListener("abort",_),m.removeListener("request",R),m.req&&m.req.removeListener("finish",c),m.removeListener("end",l),m.removeListener("close",l),m.removeListener("finish",c),m.removeListener("end",f),m.removeListener("error",w),m.removeListener("close",_)}}s.exports=h},90968:s=>{s.exports=function(){throw new Error("Readable.from is not available in the browser")}},5267:(s,G,F)=>{"use strict";var P;function L(c){var v=!1;return function(){v||(v=!0,c.apply(void 0,arguments))}}var D=F(12463).F,A=D.ERR_MISSING_ARGS,h=D.ERR_STREAM_DESTROYED;function m(c){if(c)throw c}function g(c){return c.setHeader&&typeof c.abort=="function"}function p(c,v,f,w){w=L(w);var _=!1;c.on("close",function(){_=!0}),P===void 0&&(P=F(14257)),P(c,{readable:v,writable:f},function(M){if(M)return w(M);_=!0,w()});var R=!1;return function(M){if(!_&&!R){if(R=!0,g(c))return c.abort();if(typeof c.destroy=="function")return c.destroy();w(M||new h("pipe"))}}}function k(c){c()}function b(c,v){return c.pipe(v)}function l(c){return!c.length||typeof c[c.length-1]!="function"?m:c.pop()}function E(){for(var c=arguments.length,v=new Array(c),f=0;f<c;f++)v[f]=arguments[f];var w=l(v);if(Array.isArray(v[0])&&(v=v[0]),v.length<2)throw new A("streams");var _,R=v.map(function(M,U){var x=U<v.length-1,y=U>0;return p(M,x,y,function(W){_||(_=W),W&&R.forEach(k),!x&&(R.forEach(k),w(_))})});return v.reduce(b)}s.exports=E},66644:(s,G,F)=>{"use strict";var P=F(12463).F.ERR_INVALID_OPT_VALUE;function L(A,h,m){return A.highWaterMark!=null?A.highWaterMark:h?A[m]:null}function D(A,h,m,g){var p=L(h,g,m);if(p!=null){if(!(isFinite(p)&&Math.floor(p)===p)||p<0){var k=g?m:"highWaterMark";throw new P(k,p)}return Math.floor(p)}return A.objectMode?16:16384}s.exports={getHighWaterMark:D}},41396:(s,G,F)=>{s.exports=F(37007).EventEmitter},11568:(s,G,F)=>{var P=F(55537),L=F(6917),D=F(57510),A=F(86866),h=F(59817),m=G;m.request=function(g,p){typeof g=="string"?g=h.parse(g):g=D(g);var k=F.g.location.protocol.search(/^https?:$/)===-1?"http:":"",b=g.protocol||k,l=g.hostname||g.host,E=g.port,c=g.path||"/";l&&l.indexOf(":")!==-1&&(l="["+l+"]"),g.url=(l?b+"//"+l:"")+(E?":"+E:"")+c,g.method=(g.method||"GET").toUpperCase(),g.headers=g.headers||{};var v=new P(g);return p&&v.on("response",p),v},m.get=function(p,k){var b=m.request(p,k);return b.end(),b},m.ClientRequest=P,m.IncomingMessage=L.IncomingMessage,m.Agent=function(){},m.Agent.defaultMaxSockets=4,m.globalAgent=new m.Agent,m.STATUS_CODES=A,m.METHODS=["CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REPORT","SEARCH","SUBSCRIBE","TRACE","UNLOCK","UNSUBSCRIBE"]},6688:(s,G,F)=>{G.fetch=A(F.g.fetch)&&A(F.g.ReadableStream),G.writableStream=A(F.g.WritableStream),G.abortController=A(F.g.AbortController);var P;function L(){if(P!==void 0)return P;if(F.g.XMLHttpRequest){P=new F.g.XMLHttpRequest;try{P.open("GET",F.g.XDomainRequest?"/":"https://example.com")}catch{P=null}}else P=null;return P}function D(h){var m=L();if(!m)return!1;try{return m.responseType=h,m.responseType===h}catch{}return!1}G.arraybuffer=G.fetch||D("arraybuffer"),G.msstream=!G.fetch&&D("ms-stream"),G.mozchunkedarraybuffer=!G.fetch&&D("moz-chunked-arraybuffer"),G.overrideMimeType=G.fetch||(L()?A(L().overrideMimeType):!1);function A(h){return typeof h=="function"}P=null},55537:(s,G,F)=>{var P=F(48287).Buffer,L=F(65606),D=F(6688),A=F(56698),h=F(6917),m=F(63242),g=h.IncomingMessage,p=h.readyStates;function k(c,v){return D.fetch&&v?"fetch":D.mozchunkedarraybuffer?"moz-chunked-arraybuffer":D.msstream?"ms-stream":D.arraybuffer&&c?"arraybuffer":"text"}var b=s.exports=function(c){var v=this;m.Writable.call(v),v._opts=c,v._body=[],v._headers={},c.auth&&v.setHeader("Authorization","Basic "+P.from(c.auth).toString("base64")),Object.keys(c.headers).forEach(function(_){v.setHeader(_,c.headers[_])});var f,w=!0;if(c.mode==="disable-fetch"||"requestTimeout"in c&&!D.abortController)w=!1,f=!0;else if(c.mode==="prefer-streaming")f=!1;else if(c.mode==="allow-wrong-content-type")f=!D.overrideMimeType;else if(!c.mode||c.mode==="default"||c.mode==="prefer-fast")f=!0;else throw new Error("Invalid value for opts.mode");v._mode=k(f,w),v._fetchTimer=null,v._socketTimeout=null,v._socketTimer=null,v.on("finish",function(){v._onFinish()})};A(b,m.Writable),b.prototype.setHeader=function(c,v){var f=this,w=c.toLowerCase();E.indexOf(w)===-1&&(f._headers[w]={name:c,value:v})},b.prototype.getHeader=function(c){var v=this._headers[c.toLowerCase()];return v?v.value:null},b.prototype.removeHeader=function(c){var v=this;delete v._headers[c.toLowerCase()]},b.prototype._onFinish=function(){var c=this;if(!c._destroyed){var v=c._opts;"timeout"in v&&v.timeout!==0&&c.setTimeout(v.timeout);var f=c._headers,w=null;v.method!=="GET"&&v.method!=="HEAD"&&(w=new Blob(c._body,{type:(f["content-type"]||{}).value||""}));var _=[];if(Object.keys(f).forEach(function(x){var y=f[x].name,W=f[x].value;Array.isArray(W)?W.forEach(function(Q){_.push([y,Q])}):_.push([y,W])}),c._mode==="fetch"){var R=null;if(D.abortController){var M=new AbortController;R=M.signal,c._fetchAbortController=M,"requestTimeout"in v&&v.requestTimeout!==0&&(c._fetchTimer=F.g.setTimeout(function(){c.emit("requestTimeout"),c._fetchAbortController&&c._fetchAbortController.abort()},v.requestTimeout))}F.g.fetch(c._opts.url,{method:c._opts.method,headers:_,body:w||void 0,mode:"cors",credentials:v.withCredentials?"include":"same-origin",signal:R}).then(function(x){c._fetchResponse=x,c._resetTimers(!1),c._connect()},function(x){c._resetTimers(!0),c._destroyed||c.emit("error",x)})}else{var U=c._xhr=new F.g.XMLHttpRequest;try{U.open(c._opts.method,c._opts.url,!0)}catch(x){L.nextTick(function(){c.emit("error",x)});return}"responseType"in U&&(U.responseType=c._mode),"withCredentials"in U&&(U.withCredentials=!!v.withCredentials),c._mode==="text"&&"overrideMimeType"in U&&U.overrideMimeType("text/plain; charset=x-user-defined"),"requestTimeout"in v&&(U.timeout=v.requestTimeout,U.ontimeout=function(){c.emit("requestTimeout")}),_.forEach(function(x){U.setRequestHeader(x[0],x[1])}),c._response=null,U.onreadystatechange=function(){switch(U.readyState){case p.LOADING:case p.DONE:c._onXHRProgress();break}},c._mode==="moz-chunked-arraybuffer"&&(U.onprogress=function(){c._onXHRProgress()}),U.onerror=function(){c._destroyed||(c._resetTimers(!0),c.emit("error",new Error("XHR error")))};try{U.send(w)}catch(x){L.nextTick(function(){c.emit("error",x)});return}}}};function l(c){try{var v=c.status;return v!==null&&v!==0}catch{return!1}}b.prototype._onXHRProgress=function(){var c=this;c._resetTimers(!1),!(!l(c._xhr)||c._destroyed)&&(c._response||c._connect(),c._response._onXHRProgress(c._resetTimers.bind(c)))},b.prototype._connect=function(){var c=this;c._destroyed||(c._response=new g(c._xhr,c._fetchResponse,c._mode,c._resetTimers.bind(c)),c._response.on("error",function(v){c.emit("error",v)}),c.emit("response",c._response))},b.prototype._write=function(c,v,f){var w=this;w._body.push(c),f()},b.prototype._resetTimers=function(c){var v=this;F.g.clearTimeout(v._socketTimer),v._socketTimer=null,c?(F.g.clearTimeout(v._fetchTimer),v._fetchTimer=null):v._socketTimeout&&(v._socketTimer=F.g.setTimeout(function(){v.emit("timeout")},v._socketTimeout))},b.prototype.abort=b.prototype.destroy=function(c){var v=this;v._destroyed=!0,v._resetTimers(!0),v._response&&(v._response._destroyed=!0),v._xhr?v._xhr.abort():v._fetchAbortController&&v._fetchAbortController.abort(),c&&v.emit("error",c)},b.prototype.end=function(c,v,f){var w=this;typeof c=="function"&&(f=c,c=void 0),m.Writable.prototype.end.call(w,c,v,f)},b.prototype.setTimeout=function(c,v){var f=this;v&&f.once("timeout",v),f._socketTimeout=c,f._resetTimers(!1)},b.prototype.flushHeaders=function(){},b.prototype.setNoDelay=function(){},b.prototype.setSocketKeepAlive=function(){};var E=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","date","dnt","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","via"]},6917:(s,G,F)=>{var P=F(65606),L=F(48287).Buffer,D=F(6688),A=F(56698),h=F(63242),m=G.readyStates={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4},g=G.IncomingMessage=function(p,k,b,l){var E=this;if(h.Readable.call(E),E._mode=b,E.headers={},E.rawHeaders=[],E.trailers={},E.rawTrailers=[],E.on("end",function(){P.nextTick(function(){E.emit("close")})}),b==="fetch"){let M=function(){v.read().then(function(U){if(!E._destroyed){if(l(U.done),U.done){E.push(null);return}E.push(L.from(U.value)),M()}}).catch(function(U){l(!0),E._destroyed||E.emit("error",U)})};var R=M;if(E._fetchResponse=k,E.url=k.url,E.statusCode=k.status,E.statusMessage=k.statusText,k.headers.forEach(function(U,x){E.headers[x.toLowerCase()]=U,E.rawHeaders.push(x,U)}),D.writableStream){var c=new WritableStream({write:function(U){return l(!1),new Promise(function(x,y){E._destroyed?y():E.push(L.from(U))?x():E._resumeFetch=x})},close:function(){l(!0),E._destroyed||E.push(null)},abort:function(U){l(!0),E._destroyed||E.emit("error",U)}});try{k.body.pipeTo(c).catch(function(U){l(!0),E._destroyed||E.emit("error",U)});return}catch{}}var v=k.body.getReader();M()}else{E._xhr=p,E._pos=0,E.url=p.responseURL,E.statusCode=p.status,E.statusMessage=p.statusText;var f=p.getAllResponseHeaders().split(/\r?\n/);if(f.forEach(function(M){var U=M.match(/^([^:]+):\s*(.*)/);if(U){var x=U[1].toLowerCase();x==="set-cookie"?(E.headers[x]===void 0&&(E.headers[x]=[]),E.headers[x].push(U[2])):E.headers[x]!==void 0?E.headers[x]+=", "+U[2]:E.headers[x]=U[2],E.rawHeaders.push(U[1],U[2])}}),E._charset="x-user-defined",!D.overrideMimeType){var w=E.rawHeaders["mime-type"];if(w){var _=w.match(/;\s*charset=([^;])(;|$)/);_&&(E._charset=_[1].toLowerCase())}E._charset||(E._charset="utf-8")}}};A(g,h.Readable),g.prototype._read=function(){var p=this,k=p._resumeFetch;k&&(p._resumeFetch=null,k())},g.prototype._onXHRProgress=function(p){var k=this,b=k._xhr,l=null;switch(k._mode){case"text":if(l=b.responseText,l.length>k._pos){var E=l.substr(k._pos);if(k._charset==="x-user-defined"){for(var c=L.alloc(E.length),v=0;v<E.length;v++)c[v]=E.charCodeAt(v)&255;k.push(c)}else k.push(E,k._charset);k._pos=l.length}break;case"arraybuffer":if(b.readyState!==m.DONE||!b.response)break;l=b.response,k.push(L.from(new Uint8Array(l)));break;case"moz-chunked-arraybuffer":if(l=b.response,b.readyState!==m.LOADING||!l)break;k.push(L.from(new Uint8Array(l)));break;case"ms-stream":if(l=b.response,b.readyState!==m.LOADING)break;var f=new F.g.MSStreamReader;f.onprogress=function(){f.result.byteLength>k._pos&&(k.push(L.from(new Uint8Array(f.result.slice(k._pos)))),k._pos=f.result.byteLength)},f.onload=function(){p(!0),k.push(null)},f.readAsArrayBuffer(l);break}k._xhr.readyState===m.DONE&&k._mode!=="ms-stream"&&(p(!0),k.push(null))}},73157:s=>{"use strict";function G(m,g){m.prototype=Object.create(g.prototype),m.prototype.constructor=m,m.__proto__=g}var F={};function P(m,g,p){p||(p=Error);function k(l,E,c){return typeof g=="string"?g:g(l,E,c)}var b=function(l){G(E,l);function E(c,v,f){return l.call(this,k(c,v,f))||this}return E}(p);b.prototype.name=p.name,b.prototype.code=m,F[m]=b}function L(m,g){if(Array.isArray(m)){var p=m.length;return m=m.map(function(k){return String(k)}),p>2?"one of ".concat(g," ").concat(m.slice(0,p-1).join(", "),", or ")+m[p-1]:p===2?"one of ".concat(g," ").concat(m[0]," or ").concat(m[1]):"of ".concat(g," ").concat(m[0])}else return"of ".concat(g," ").concat(String(m))}function D(m,g,p){return m.substr(!p||p<0?0:+p,g.length)===g}function A(m,g,p){return(p===void 0||p>m.length)&&(p=m.length),m.substring(p-g.length,p)===g}function h(m,g,p){return typeof p!="number"&&(p=0),p+g.length>m.length?!1:m.indexOf(g,p)!==-1}P("ERR_INVALID_OPT_VALUE",function(m,g){return'The value "'+g+'" is invalid for option "'+m+'"'},TypeError),P("ERR_INVALID_ARG_TYPE",function(m,g,p){var k;typeof g=="string"&&D(g,"not ")?(k="must not be",g=g.replace(/^not /,"")):k="must be";var b;if(A(m," argument"))b="The ".concat(m," ").concat(k," ").concat(L(g,"type"));else{var l=h(m,".")?"property":"argument";b='The "'.concat(m,'" ').concat(l," ").concat(k," ").concat(L(g,"type"))}return b+=". Received type ".concat(typeof p),b},TypeError),P("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),P("ERR_METHOD_NOT_IMPLEMENTED",function(m){return"The "+m+" method is not implemented"}),P("ERR_STREAM_PREMATURE_CLOSE","Premature close"),P("ERR_STREAM_DESTROYED",function(m){return"Cannot call "+m+" after a stream was destroyed"}),P("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),P("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),P("ERR_STREAM_WRITE_AFTER_END","write after end"),P("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),P("ERR_UNKNOWN_ENCODING",function(m){return"Unknown encoding: "+m},TypeError),P("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),s.exports.F=F},63527:(s,G,F)=>{"use strict";var P=F(65606),L=Object.keys||function(l){var E=[];for(var c in l)E.push(c);return E};s.exports=p;var D=F(52341),A=F(9573);F(56698)(p,D);for(var h=L(A.prototype),m=0;m<h.length;m++){var g=h[m];p.prototype[g]||(p.prototype[g]=A.prototype[g])}function p(l){if(!(this instanceof p))return new p(l);D.call(this,l),A.call(this,l),this.allowHalfOpen=!0,l&&(l.readable===!1&&(this.readable=!1),l.writable===!1&&(this.writable=!1),l.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",k)))}Object.defineProperty(p.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(p.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(p.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function k(){this._writableState.ended||P.nextTick(b,this)}function b(l){l.end()}Object.defineProperty(p.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(E){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=E,this._writableState.destroyed=E)}})},82571:(s,G,F)=>{"use strict";s.exports=L;var P=F(95689);F(56698)(L,P);function L(D){if(!(this instanceof L))return new L(D);P.call(this,D)}L.prototype._transform=function(D,A,h){h(null,D)}},52341:(s,G,F)=>{"use strict";var P=F(65606);s.exports=O;var L;O.ReadableState=J;var D=F(37007).EventEmitter,A=function(T,oe){return T.listeners(oe).length},h=F(81914),m=F(48287).Buffer,g=F.g.Uint8Array||function(){};function p(z){return m.from(z)}function k(z){return m.isBuffer(z)||z instanceof g}var b=F(86833),l;b&&b.debuglog?l=b.debuglog("stream"):l=function(){};var E=F(10272),c=F(16057),v=F(11922),f=v.getHighWaterMark,w=F(73157).F,_=w.ERR_INVALID_ARG_TYPE,R=w.ERR_STREAM_PUSH_AFTER_EOF,M=w.ERR_METHOD_NOT_IMPLEMENTED,U=w.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,x,y,W;F(56698)(O,h);var Q=c.errorOrDestroy,Z=["error","close","destroy","pause","resume"];function ee(z,T,oe){if(typeof z.prependListener=="function")return z.prependListener(T,oe);!z._events||!z._events[T]?z.on(T,oe):Array.isArray(z._events[T])?z._events[T].unshift(oe):z._events[T]=[oe,z._events[T]]}function J(z,T,oe){L=L||F(63527),z=z||{},typeof oe!="boolean"&&(oe=T instanceof L),this.objectMode=!!z.objectMode,oe&&(this.objectMode=this.objectMode||!!z.readableObjectMode),this.highWaterMark=f(this,z,"readableHighWaterMark",oe),this.buffer=new E,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=z.emitClose!==!1,this.autoDestroy=!!z.autoDestroy,this.destroyed=!1,this.defaultEncoding=z.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,z.encoding&&(x||(x=F(83141).I),this.decoder=new x(z.encoding),this.encoding=z.encoding)}function O(z){if(L=L||F(63527),!(this instanceof O))return new O(z);var T=this instanceof L;this._readableState=new J(z,this,T),this.readable=!0,z&&(typeof z.read=="function"&&(this._read=z.read),typeof z.destroy=="function"&&(this._destroy=z.destroy)),h.call(this)}Object.defineProperty(O.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(T){this._readableState&&(this._readableState.destroyed=T)}}),O.prototype.destroy=c.destroy,O.prototype._undestroy=c.undestroy,O.prototype._destroy=function(z,T){T(z)},O.prototype.push=function(z,T){var oe=this._readableState,fe;return oe.objectMode?fe=!0:typeof z=="string"&&(T=T||oe.defaultEncoding,T!==oe.encoding&&(z=m.from(z,T),T=""),fe=!0),H(this,z,T,!1,fe)},O.prototype.unshift=function(z){return H(this,z,null,!0,!1)};function H(z,T,oe,fe,de){l("readableAddChunk",T);var ue=z._readableState;if(T===null)ue.reading=!1,K(z,ue);else{var ve;if(de||(ve=u(ue,T)),ve)Q(z,ve);else if(ue.objectMode||T&&T.length>0)if(typeof T!="string"&&!ue.objectMode&&Object.getPrototypeOf(T)!==m.prototype&&(T=p(T)),fe)ue.endEmitted?Q(z,new U):I(z,ue,T,!0);else if(ue.ended)Q(z,new R);else{if(ue.destroyed)return!1;ue.reading=!1,ue.decoder&&!oe?(T=ue.decoder.write(T),ue.objectMode||T.length!==0?I(z,ue,T,!1):X(z,ue)):I(z,ue,T,!1)}else fe||(ue.reading=!1,X(z,ue))}return!ue.ended&&(ue.length<ue.highWaterMark||ue.length===0)}function I(z,T,oe,fe){T.flowing&&T.length===0&&!T.sync?(T.awaitDrain=0,z.emit("data",oe)):(T.length+=T.objectMode?1:oe.length,fe?T.buffer.unshift(oe):T.buffer.push(oe),T.needReadable&&j(z)),X(z,T)}function u(z,T){var oe;return!k(T)&&typeof T!="string"&&T!==void 0&&!z.objectMode&&(oe=new _("chunk",["string","Buffer","Uint8Array"],T)),oe}O.prototype.isPaused=function(){return this._readableState.flowing===!1},O.prototype.setEncoding=function(z){x||(x=F(83141).I);var T=new x(z);this._readableState.decoder=T,this._readableState.encoding=this._readableState.decoder.encoding;for(var oe=this._readableState.buffer.head,fe="";oe!==null;)fe+=T.write(oe.data),oe=oe.next;return this._readableState.buffer.clear(),fe!==""&&this._readableState.buffer.push(fe),this._readableState.length=fe.length,this};var N=1073741824;function q(z){return z>=N?z=N:(z--,z|=z>>>1,z|=z>>>2,z|=z>>>4,z|=z>>>8,z|=z>>>16,z++),z}function V(z,T){return z<=0||T.length===0&&T.ended?0:T.objectMode?1:z!==z?T.flowing&&T.length?T.buffer.head.data.length:T.length:(z>T.highWaterMark&&(T.highWaterMark=q(z)),z<=T.length?z:T.ended?T.length:(T.needReadable=!0,0))}O.prototype.read=function(z){l("read",z),z=parseInt(z,10);var T=this._readableState,oe=z;if(z!==0&&(T.emittedReadable=!1),z===0&&T.needReadable&&((T.highWaterMark!==0?T.length>=T.highWaterMark:T.length>0)||T.ended))return l("read: emitReadable",T.length,T.ended),T.length===0&&T.ended?ge(this):j(this),null;if(z=V(z,T),z===0&&T.ended)return T.length===0&&ge(this),null;var fe=T.needReadable;l("need readable",fe),(T.length===0||T.length-z<T.highWaterMark)&&(fe=!0,l("length less than watermark",fe)),T.ended||T.reading?(fe=!1,l("reading or ended",fe)):fe&&(l("do read"),T.reading=!0,T.sync=!0,T.length===0&&(T.needReadable=!0),this._read(T.highWaterMark),T.sync=!1,T.reading||(z=V(oe,T)));var de;return z>0?de=re(z,T):de=null,de===null?(T.needReadable=T.length<=T.highWaterMark,z=0):(T.length-=z,T.awaitDrain=0),T.length===0&&(T.ended||(T.needReadable=!0),oe!==z&&T.ended&&ge(this)),de!==null&&this.emit("data",de),de};function K(z,T){if(l("onEofChunk"),!T.ended){if(T.decoder){var oe=T.decoder.end();oe&&oe.length&&(T.buffer.push(oe),T.length+=T.objectMode?1:oe.length)}T.ended=!0,T.sync?j(z):(T.needReadable=!1,T.emittedReadable||(T.emittedReadable=!0,ie(z)))}}function j(z){var T=z._readableState;l("emitReadable",T.needReadable,T.emittedReadable),T.needReadable=!1,T.emittedReadable||(l("emitReadable",T.flowing),T.emittedReadable=!0,P.nextTick(ie,z))}function ie(z){var T=z._readableState;l("emitReadable_",T.destroyed,T.length,T.ended),!T.destroyed&&(T.length||T.ended)&&(z.emit("readable"),T.emittedReadable=!1),T.needReadable=!T.flowing&&!T.ended&&T.length<=T.highWaterMark,te(z)}function X(z,T){T.readingMore||(T.readingMore=!0,P.nextTick(B,z,T))}function B(z,T){for(;!T.reading&&!T.ended&&(T.length<T.highWaterMark||T.flowing&&T.length===0);){var oe=T.length;if(l("maybeReadMore read 0"),z.read(0),oe===T.length)break}T.readingMore=!1}O.prototype._read=function(z){Q(this,new M("_read()"))},O.prototype.pipe=function(z,T){var oe=this,fe=this._readableState;switch(fe.pipesCount){case 0:fe.pipes=z;break;case 1:fe.pipes=[fe.pipes,z];break;default:fe.pipes.push(z);break}fe.pipesCount+=1,l("pipe count=%d opts=%j",fe.pipesCount,T);var de=(!T||T.end!==!1)&&z!==P.stdout&&z!==P.stderr,ue=de?Fe:ce;fe.endEmitted?P.nextTick(ue):oe.once("end",ue),z.on("unpipe",ve);function ve(Re,xe){l("onunpipe"),Re===oe&&xe&&xe.hasUnpiped===!1&&(xe.hasUnpiped=!0,qe())}function Fe(){l("onend"),z.end()}var Oe=se(oe);z.on("drain",Oe);var $e=!1;function qe(){l("cleanup"),z.removeListener("close",me),z.removeListener("finish",ae),z.removeListener("drain",Oe),z.removeListener("error",Je),z.removeListener("unpipe",ve),oe.removeListener("end",Fe),oe.removeListener("end",ce),oe.removeListener("data",Ve),$e=!0,fe.awaitDrain&&(!z._writableState||z._writableState.needDrain)&&Oe()}oe.on("data",Ve);function Ve(Re){l("ondata");var xe=z.write(Re);l("dest.write",xe),xe===!1&&((fe.pipesCount===1&&fe.pipes===z||fe.pipesCount>1&&Ee(fe.pipes,z)!==-1)&&!$e&&(l("false write response, pause",fe.awaitDrain),fe.awaitDrain++),oe.pause())}function Je(Re){l("onerror",Re),ce(),z.removeListener("error",Je),A(z,"error")===0&&Q(z,Re)}ee(z,"error",Je);function me(){z.removeListener("finish",ae),ce()}z.once("close",me);function ae(){l("onfinish"),z.removeListener("close",me),ce()}z.once("finish",ae);function ce(){l("unpipe"),oe.unpipe(z)}return z.emit("pipe",oe),fe.flowing||(l("pipe resume"),oe.resume()),z};function se(z){return function(){var oe=z._readableState;l("pipeOnDrain",oe.awaitDrain),oe.awaitDrain&&oe.awaitDrain--,oe.awaitDrain===0&&A(z,"data")&&(oe.flowing=!0,te(z))}}O.prototype.unpipe=function(z){var T=this._readableState,oe={hasUnpiped:!1};if(T.pipesCount===0)return this;if(T.pipesCount===1)return z&&z!==T.pipes?this:(z||(z=T.pipes),T.pipes=null,T.pipesCount=0,T.flowing=!1,z&&z.emit("unpipe",this,oe),this);if(!z){var fe=T.pipes,de=T.pipesCount;T.pipes=null,T.pipesCount=0,T.flowing=!1;for(var ue=0;ue<de;ue++)fe[ue].emit("unpipe",this,{hasUnpiped:!1});return this}var ve=Ee(T.pipes,z);return ve===-1?this:(T.pipes.splice(ve,1),T.pipesCount-=1,T.pipesCount===1&&(T.pipes=T.pipes[0]),z.emit("unpipe",this,oe),this)},O.prototype.on=function(z,T){var oe=h.prototype.on.call(this,z,T),fe=this._readableState;return z==="data"?(fe.readableListening=this.listenerCount("readable")>0,fe.flowing!==!1&&this.resume()):z==="readable"&&!fe.endEmitted&&!fe.readableListening&&(fe.readableListening=fe.needReadable=!0,fe.flowing=!1,fe.emittedReadable=!1,l("on readable",fe.length,fe.reading),fe.length?j(this):fe.reading||P.nextTick(we,this)),oe},O.prototype.addListener=O.prototype.on,O.prototype.removeListener=function(z,T){var oe=h.prototype.removeListener.call(this,z,T);return z==="readable"&&P.nextTick(Pe,this),oe},O.prototype.removeAllListeners=function(z){var T=h.prototype.removeAllListeners.apply(this,arguments);return(z==="readable"||z===void 0)&&P.nextTick(Pe,this),T};function Pe(z){var T=z._readableState;T.readableListening=z.listenerCount("readable")>0,T.resumeScheduled&&!T.paused?T.flowing=!0:z.listenerCount("data")>0&&z.resume()}function we(z){l("readable nexttick read 0"),z.read(0)}O.prototype.resume=function(){var z=this._readableState;return z.flowing||(l("resume"),z.flowing=!z.readableListening,_e(this,z)),z.paused=!1,this};function _e(z,T){T.resumeScheduled||(T.resumeScheduled=!0,P.nextTick(Me,z,T))}function Me(z,T){l("resume",T.reading),T.reading||z.read(0),T.resumeScheduled=!1,z.emit("resume"),te(z),T.flowing&&!T.reading&&z.read(0)}O.prototype.pause=function(){return l("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(l("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function te(z){var T=z._readableState;for(l("flow",T.flowing);T.flowing&&z.read()!==null;);}O.prototype.wrap=function(z){var T=this,oe=this._readableState,fe=!1;z.on("end",function(){if(l("wrapped end"),oe.decoder&&!oe.ended){var ve=oe.decoder.end();ve&&ve.length&&T.push(ve)}T.push(null)}),z.on("data",function(ve){if(l("wrapped data"),oe.decoder&&(ve=oe.decoder.write(ve)),!(oe.objectMode&&ve==null)&&!(!oe.objectMode&&(!ve||!ve.length))){var Fe=T.push(ve);Fe||(fe=!0,z.pause())}});for(var de in z)this[de]===void 0&&typeof z[de]=="function"&&(this[de]=function(Fe){return function(){return z[Fe].apply(z,arguments)}}(de));for(var ue=0;ue<Z.length;ue++)z.on(Z[ue],this.emit.bind(this,Z[ue]));return this._read=function(ve){l("wrapped _read",ve),fe&&(fe=!1,z.resume())},this},typeof Symbol=="function"&&(O.prototype[Symbol.asyncIterator]=function(){return y===void 0&&(y=F(17356)),y(this)}),Object.defineProperty(O.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(O.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(O.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(T){this._readableState&&(this._readableState.flowing=T)}}),O._fromList=re,Object.defineProperty(O.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function re(z,T){if(T.length===0)return null;var oe;return T.objectMode?oe=T.buffer.shift():!z||z>=T.length?(T.decoder?oe=T.buffer.join(""):T.buffer.length===1?oe=T.buffer.first():oe=T.buffer.concat(T.length),T.buffer.clear()):oe=T.buffer.consume(z,T.decoder),oe}function ge(z){var T=z._readableState;l("endReadable",T.endEmitted),T.endEmitted||(T.ended=!0,P.nextTick(ye,T,z))}function ye(z,T){if(l("endReadableNT",z.endEmitted,z.length),!z.endEmitted&&z.length===0&&(z.endEmitted=!0,T.readable=!1,T.emit("end"),z.autoDestroy)){var oe=T._writableState;(!oe||oe.autoDestroy&&oe.finished)&&T.destroy()}}typeof Symbol=="function"&&(O.from=function(z,T){return W===void 0&&(W=F(6314)),W(O,z,T)});function Ee(z,T){for(var oe=0,fe=z.length;oe<fe;oe++)if(z[oe]===T)return oe;return-1}},95689:(s,G,F)=>{"use strict";s.exports=p;var P=F(73157).F,L=P.ERR_METHOD_NOT_IMPLEMENTED,D=P.ERR_MULTIPLE_CALLBACK,A=P.ERR_TRANSFORM_ALREADY_TRANSFORMING,h=P.ERR_TRANSFORM_WITH_LENGTH_0,m=F(63527);F(56698)(p,m);function g(l,E){var c=this._transformState;c.transforming=!1;var v=c.writecb;if(v===null)return this.emit("error",new D);c.writechunk=null,c.writecb=null,E!=null&&this.push(E),v(l);var f=this._readableState;f.reading=!1,(f.needReadable||f.length<f.highWaterMark)&&this._read(f.highWaterMark)}function p(l){if(!(this instanceof p))return new p(l);m.call(this,l),this._transformState={afterTransform:g.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,l&&(typeof l.transform=="function"&&(this._transform=l.transform),typeof l.flush=="function"&&(this._flush=l.flush)),this.on("prefinish",k)}function k(){var l=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(E,c){b(l,E,c)}):b(this,null,null)}p.prototype.push=function(l,E){return this._transformState.needTransform=!1,m.prototype.push.call(this,l,E)},p.prototype._transform=function(l,E,c){c(new L("_transform()"))},p.prototype._write=function(l,E,c){var v=this._transformState;if(v.writecb=c,v.writechunk=l,v.writeencoding=E,!v.transforming){var f=this._readableState;(v.needTransform||f.needReadable||f.length<f.highWaterMark)&&this._read(f.highWaterMark)}},p.prototype._read=function(l){var E=this._transformState;E.writechunk!==null&&!E.transforming?(E.transforming=!0,this._transform(E.writechunk,E.writeencoding,E.afterTransform)):E.needTransform=!0},p.prototype._destroy=function(l,E){m.prototype._destroy.call(this,l,function(c){E(c)})};function b(l,E,c){if(E)return l.emit("error",E);if(c!=null&&l.push(c),l._writableState.length)throw new h;if(l._transformState.transforming)throw new A;return l.push(null)}},9573:(s,G,F)=>{"use strict";var P=F(65606);s.exports=J;function L(te,re,ge){this.chunk=te,this.encoding=re,this.callback=ge,this.next=null}function D(te){var re=this;this.next=null,this.entry=null,this.finish=function(){Me(re,te)}}var A;J.WritableState=Z;var h={deprecate:F(94643)},m=F(81914),g=F(48287).Buffer,p=F.g.Uint8Array||function(){};function k(te){return g.from(te)}function b(te){return g.isBuffer(te)||te instanceof p}var l=F(16057),E=F(11922),c=E.getHighWaterMark,v=F(73157).F,f=v.ERR_INVALID_ARG_TYPE,w=v.ERR_METHOD_NOT_IMPLEMENTED,_=v.ERR_MULTIPLE_CALLBACK,R=v.ERR_STREAM_CANNOT_PIPE,M=v.ERR_STREAM_DESTROYED,U=v.ERR_STREAM_NULL_VALUES,x=v.ERR_STREAM_WRITE_AFTER_END,y=v.ERR_UNKNOWN_ENCODING,W=l.errorOrDestroy;F(56698)(J,m);function Q(){}function Z(te,re,ge){A=A||F(63527),te=te||{},typeof ge!="boolean"&&(ge=re instanceof A),this.objectMode=!!te.objectMode,ge&&(this.objectMode=this.objectMode||!!te.writableObjectMode),this.highWaterMark=c(this,te,"writableHighWaterMark",ge),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var ye=te.decodeStrings===!1;this.decodeStrings=!ye,this.defaultEncoding=te.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(Ee){K(re,Ee)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=te.emitClose!==!1,this.autoDestroy=!!te.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new D(this)}Z.prototype.getBuffer=function(){for(var re=this.bufferedRequest,ge=[];re;)ge.push(re),re=re.next;return ge},function(){try{Object.defineProperty(Z.prototype,"buffer",{get:h.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var ee;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(ee=Function.prototype[Symbol.hasInstance],Object.defineProperty(J,Symbol.hasInstance,{value:function(re){return ee.call(this,re)?!0:this!==J?!1:re&&re._writableState instanceof Z}})):ee=function(re){return re instanceof this};function J(te){A=A||F(63527);var re=this instanceof A;if(!re&&!ee.call(J,this))return new J(te);this._writableState=new Z(te,this,re),this.writable=!0,te&&(typeof te.write=="function"&&(this._write=te.write),typeof te.writev=="function"&&(this._writev=te.writev),typeof te.destroy=="function"&&(this._destroy=te.destroy),typeof te.final=="function"&&(this._final=te.final)),m.call(this)}J.prototype.pipe=function(){W(this,new R)};function O(te,re){var ge=new x;W(te,ge),P.nextTick(re,ge)}function H(te,re,ge,ye){var Ee;return ge===null?Ee=new U:typeof ge!="string"&&!re.objectMode&&(Ee=new f("chunk",["string","Buffer"],ge)),Ee?(W(te,Ee),P.nextTick(ye,Ee),!1):!0}J.prototype.write=function(te,re,ge){var ye=this._writableState,Ee=!1,z=!ye.objectMode&&b(te);return z&&!g.isBuffer(te)&&(te=k(te)),typeof re=="function"&&(ge=re,re=null),z?re="buffer":re||(re=ye.defaultEncoding),typeof ge!="function"&&(ge=Q),ye.ending?O(this,ge):(z||H(this,ye,te,ge))&&(ye.pendingcb++,Ee=u(this,ye,z,te,re,ge)),Ee},J.prototype.cork=function(){this._writableState.corked++},J.prototype.uncork=function(){var te=this._writableState;te.corked&&(te.corked--,!te.writing&&!te.corked&&!te.bufferProcessing&&te.bufferedRequest&&X(this,te))},J.prototype.setDefaultEncoding=function(re){if(typeof re=="string"&&(re=re.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((re+"").toLowerCase())>-1))throw new y(re);return this._writableState.defaultEncoding=re,this},Object.defineProperty(J.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function I(te,re,ge){return!te.objectMode&&te.decodeStrings!==!1&&typeof re=="string"&&(re=g.from(re,ge)),re}Object.defineProperty(J.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function u(te,re,ge,ye,Ee,z){if(!ge){var T=I(re,ye,Ee);ye!==T&&(ge=!0,Ee="buffer",ye=T)}var oe=re.objectMode?1:ye.length;re.length+=oe;var fe=re.length<re.highWaterMark;if(fe||(re.needDrain=!0),re.writing||re.corked){var de=re.lastBufferedRequest;re.lastBufferedRequest={chunk:ye,encoding:Ee,isBuf:ge,callback:z,next:null},de?de.next=re.lastBufferedRequest:re.bufferedRequest=re.lastBufferedRequest,re.bufferedRequestCount+=1}else N(te,re,!1,oe,ye,Ee,z);return fe}function N(te,re,ge,ye,Ee,z,T){re.writelen=ye,re.writecb=T,re.writing=!0,re.sync=!0,re.destroyed?re.onwrite(new M("write")):ge?te._writev(Ee,re.onwrite):te._write(Ee,z,re.onwrite),re.sync=!1}function q(te,re,ge,ye,Ee){--re.pendingcb,ge?(P.nextTick(Ee,ye),P.nextTick(we,te,re),te._writableState.errorEmitted=!0,W(te,ye)):(Ee(ye),te._writableState.errorEmitted=!0,W(te,ye),we(te,re))}function V(te){te.writing=!1,te.writecb=null,te.length-=te.writelen,te.writelen=0}function K(te,re){var ge=te._writableState,ye=ge.sync,Ee=ge.writecb;if(typeof Ee!="function")throw new _;if(V(ge),re)q(te,ge,ye,re,Ee);else{var z=B(ge)||te.destroyed;!z&&!ge.corked&&!ge.bufferProcessing&&ge.bufferedRequest&&X(te,ge),ye?P.nextTick(j,te,ge,z,Ee):j(te,ge,z,Ee)}}function j(te,re,ge,ye){ge||ie(te,re),re.pendingcb--,ye(),we(te,re)}function ie(te,re){re.length===0&&re.needDrain&&(re.needDrain=!1,te.emit("drain"))}function X(te,re){re.bufferProcessing=!0;var ge=re.bufferedRequest;if(te._writev&&ge&&ge.next){var ye=re.bufferedRequestCount,Ee=new Array(ye),z=re.corkedRequestsFree;z.entry=ge;for(var T=0,oe=!0;ge;)Ee[T]=ge,ge.isBuf||(oe=!1),ge=ge.next,T+=1;Ee.allBuffers=oe,N(te,re,!0,re.length,Ee,"",z.finish),re.pendingcb++,re.lastBufferedRequest=null,z.next?(re.corkedRequestsFree=z.next,z.next=null):re.corkedRequestsFree=new D(re),re.bufferedRequestCount=0}else{for(;ge;){var fe=ge.chunk,de=ge.encoding,ue=ge.callback,ve=re.objectMode?1:fe.length;if(N(te,re,!1,ve,fe,de,ue),ge=ge.next,re.bufferedRequestCount--,re.writing)break}ge===null&&(re.lastBufferedRequest=null)}re.bufferedRequest=ge,re.bufferProcessing=!1}J.prototype._write=function(te,re,ge){ge(new w("_write()"))},J.prototype._writev=null,J.prototype.end=function(te,re,ge){var ye=this._writableState;return typeof te=="function"?(ge=te,te=null,re=null):typeof re=="function"&&(ge=re,re=null),te!=null&&this.write(te,re),ye.corked&&(ye.corked=1,this.uncork()),ye.ending||_e(this,ye,ge),this},Object.defineProperty(J.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function B(te){return te.ending&&te.length===0&&te.bufferedRequest===null&&!te.finished&&!te.writing}function se(te,re){te._final(function(ge){re.pendingcb--,ge&&W(te,ge),re.prefinished=!0,te.emit("prefinish"),we(te,re)})}function Pe(te,re){!re.prefinished&&!re.finalCalled&&(typeof te._final=="function"&&!re.destroyed?(re.pendingcb++,re.finalCalled=!0,P.nextTick(se,te,re)):(re.prefinished=!0,te.emit("prefinish")))}function we(te,re){var ge=B(re);if(ge&&(Pe(te,re),re.pendingcb===0&&(re.finished=!0,te.emit("finish"),re.autoDestroy))){var ye=te._readableState;(!ye||ye.autoDestroy&&ye.endEmitted)&&te.destroy()}return ge}function _e(te,re,ge){re.ending=!0,we(te,re),ge&&(re.finished?P.nextTick(ge):te.once("finish",ge)),re.ended=!0,te.writable=!1}function Me(te,re,ge){var ye=te.entry;for(te.entry=null;ye;){var Ee=ye.callback;re.pendingcb--,Ee(ge),ye=ye.next}re.corkedRequestsFree.next=te}Object.defineProperty(J.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(re){this._writableState&&(this._writableState.destroyed=re)}}),J.prototype.destroy=l.destroy,J.prototype._undestroy=l.undestroy,J.prototype._destroy=function(te,re){re(te)}},17356:(s,G,F)=>{"use strict";var P=F(65606),L;function D(M,U,x){return U in M?Object.defineProperty(M,U,{value:x,enumerable:!0,configurable:!0,writable:!0}):M[U]=x,M}var A=F(19959),h=Symbol("lastResolve"),m=Symbol("lastReject"),g=Symbol("error"),p=Symbol("ended"),k=Symbol("lastPromise"),b=Symbol("handlePromise"),l=Symbol("stream");function E(M,U){return{value:M,done:U}}function c(M){var U=M[h];if(U!==null){var x=M[l].read();x!==null&&(M[k]=null,M[h]=null,M[m]=null,U(E(x,!1)))}}function v(M){P.nextTick(c,M)}function f(M,U){return function(x,y){M.then(function(){if(U[p]){x(E(void 0,!0));return}U[b](x,y)},y)}}var w=Object.getPrototypeOf(function(){}),_=Object.setPrototypeOf((L={get stream(){return this[l]},next:function(){var U=this,x=this[g];if(x!==null)return Promise.reject(x);if(this[p])return Promise.resolve(E(void 0,!0));if(this[l].destroyed)return new Promise(function(Z,ee){P.nextTick(function(){U[g]?ee(U[g]):Z(E(void 0,!0))})});var y=this[k],W;if(y)W=new Promise(f(y,this));else{var Q=this[l].read();if(Q!==null)return Promise.resolve(E(Q,!1));W=new Promise(this[b])}return this[k]=W,W}},D(L,Symbol.asyncIterator,function(){return this}),D(L,"return",function(){var U=this;return new Promise(function(x,y){U[l].destroy(null,function(W){if(W){y(W);return}x(E(void 0,!0))})})}),L),w),R=function(U){var x,y=Object.create(_,(x={},D(x,l,{value:U,writable:!0}),D(x,h,{value:null,writable:!0}),D(x,m,{value:null,writable:!0}),D(x,g,{value:null,writable:!0}),D(x,p,{value:U._readableState.endEmitted,writable:!0}),D(x,b,{value:function(Q,Z){var ee=y[l].read();ee?(y[k]=null,y[h]=null,y[m]=null,Q(E(ee,!1))):(y[h]=Q,y[m]=Z)},writable:!0}),x));return y[k]=null,A(U,function(W){if(W&&W.code!=="ERR_STREAM_PREMATURE_CLOSE"){var Q=y[m];Q!==null&&(y[k]=null,y[h]=null,y[m]=null,Q(W)),y[g]=W;return}var Z=y[h];Z!==null&&(y[k]=null,y[h]=null,y[m]=null,Z(E(void 0,!0))),y[p]=!0}),U.on("readable",v.bind(null,y)),y};s.exports=R},10272:(s,G,F)=>{"use strict";function P(c,v){var f=Object.keys(c);if(Object.getOwnPropertySymbols){var w=Object.getOwnPropertySymbols(c);v&&(w=w.filter(function(_){return Object.getOwnPropertyDescriptor(c,_).enumerable})),f.push.apply(f,w)}return f}function L(c){for(var v=1;v<arguments.length;v++){var f=arguments[v]!=null?arguments[v]:{};v%2?P(Object(f),!0).forEach(function(w){D(c,w,f[w])}):Object.getOwnPropertyDescriptors?Object.defineProperties(c,Object.getOwnPropertyDescriptors(f)):P(Object(f)).forEach(function(w){Object.defineProperty(c,w,Object.getOwnPropertyDescriptor(f,w))})}return c}function D(c,v,f){return v in c?Object.defineProperty(c,v,{value:f,enumerable:!0,configurable:!0,writable:!0}):c[v]=f,c}function A(c,v){if(!(c instanceof v))throw new TypeError("Cannot call a class as a function")}function h(c,v){for(var f=0;f<v.length;f++){var w=v[f];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(c,w.key,w)}}function m(c,v,f){return v&&h(c.prototype,v),f&&h(c,f),c}var g=F(48287),p=g.Buffer,k=F(59169),b=k.inspect,l=b&&b.custom||"inspect";function E(c,v,f){p.prototype.copy.call(c,v,f)}s.exports=function(){function c(){A(this,c),this.head=null,this.tail=null,this.length=0}return m(c,[{key:"push",value:function(f){var w={data:f,next:null};this.length>0?this.tail.next=w:this.head=w,this.tail=w,++this.length}},{key:"unshift",value:function(f){var w={data:f,next:this.head};this.length===0&&(this.tail=w),this.head=w,++this.length}},{key:"shift",value:function(){if(this.length!==0){var f=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,f}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(f){if(this.length===0)return"";for(var w=this.head,_=""+w.data;w=w.next;)_+=f+w.data;return _}},{key:"concat",value:function(f){if(this.length===0)return p.alloc(0);for(var w=p.allocUnsafe(f>>>0),_=this.head,R=0;_;)E(_.data,w,R),R+=_.data.length,_=_.next;return w}},{key:"consume",value:function(f,w){var _;return f<this.head.data.length?(_=this.head.data.slice(0,f),this.head.data=this.head.data.slice(f)):f===this.head.data.length?_=this.shift():_=w?this._getString(f):this._getBuffer(f),_}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(f){var w=this.head,_=1,R=w.data;for(f-=R.length;w=w.next;){var M=w.data,U=f>M.length?M.length:f;if(U===M.length?R+=M:R+=M.slice(0,f),f-=U,f===0){U===M.length?(++_,w.next?this.head=w.next:this.head=this.tail=null):(this.head=w,w.data=M.slice(U));break}++_}return this.length-=_,R}},{key:"_getBuffer",value:function(f){var w=p.allocUnsafe(f),_=this.head,R=1;for(_.data.copy(w),f-=_.data.length;_=_.next;){var M=_.data,U=f>M.length?M.length:f;if(M.copy(w,w.length-f,0,U),f-=U,f===0){U===M.length?(++R,_.next?this.head=_.next:this.head=this.tail=null):(this.head=_,_.data=M.slice(U));break}++R}return this.length-=R,w}},{key:l,value:function(f,w){return b(this,L({},w,{depth:0,customInspect:!1}))}}]),c}()},16057:(s,G,F)=>{"use strict";var P=F(65606);function L(p,k){var b=this,l=this._readableState&&this._readableState.destroyed,E=this._writableState&&this._writableState.destroyed;return l||E?(k?k(p):p&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,P.nextTick(m,this,p)):P.nextTick(m,this,p)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(p||null,function(c){!k&&c?b._writableState?b._writableState.errorEmitted?P.nextTick(A,b):(b._writableState.errorEmitted=!0,P.nextTick(D,b,c)):P.nextTick(D,b,c):k?(P.nextTick(A,b),k(c)):P.nextTick(A,b)}),this)}function D(p,k){m(p,k),A(p)}function A(p){p._writableState&&!p._writableState.emitClose||p._readableState&&!p._readableState.emitClose||p.emit("close")}function h(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function m(p,k){p.emit("error",k)}function g(p,k){var b=p._readableState,l=p._writableState;b&&b.autoDestroy||l&&l.autoDestroy?p.destroy(k):p.emit("error",k)}s.exports={destroy:L,undestroy:h,errorOrDestroy:g}},19959:(s,G,F)=>{"use strict";var P=F(73157).F.ERR_STREAM_PREMATURE_CLOSE;function L(m){var g=!1;return function(){if(!g){g=!0;for(var p=arguments.length,k=new Array(p),b=0;b<p;b++)k[b]=arguments[b];m.apply(this,k)}}}function D(){}function A(m){return m.setHeader&&typeof m.abort=="function"}function h(m,g,p){if(typeof g=="function")return h(m,null,g);g||(g={}),p=L(p||D);var k=g.readable||g.readable!==!1&&m.readable,b=g.writable||g.writable!==!1&&m.writable,l=function(){m.writable||c()},E=m._writableState&&m._writableState.finished,c=function(){b=!1,E=!0,k||p.call(m)},v=m._readableState&&m._readableState.endEmitted,f=function(){k=!1,v=!0,b||p.call(m)},w=function(U){p.call(m,U)},_=function(){var U;if(k&&!v)return(!m._readableState||!m._readableState.ended)&&(U=new P),p.call(m,U);if(b&&!E)return(!m._writableState||!m._writableState.ended)&&(U=new P),p.call(m,U)},R=function(){m.req.on("finish",c)};return A(m)?(m.on("complete",c),m.on("abort",_),m.req?R():m.on("request",R)):b&&!m._writableState&&(m.on("end",l),m.on("close",l)),m.on("end",f),m.on("finish",c),g.error!==!1&&m.on("error",w),m.on("close",_),function(){m.removeListener("complete",c),m.removeListener("abort",_),m.removeListener("request",R),m.req&&m.req.removeListener("finish",c),m.removeListener("end",l),m.removeListener("close",l),m.removeListener("finish",c),m.removeListener("end",f),m.removeListener("error",w),m.removeListener("close",_)}}s.exports=h},6314:s=>{s.exports=function(){throw new Error("Readable.from is not available in the browser")}},37413:(s,G,F)=>{"use strict";var P;function L(c){var v=!1;return function(){v||(v=!0,c.apply(void 0,arguments))}}var D=F(73157).F,A=D.ERR_MISSING_ARGS,h=D.ERR_STREAM_DESTROYED;function m(c){if(c)throw c}function g(c){return c.setHeader&&typeof c.abort=="function"}function p(c,v,f,w){w=L(w);var _=!1;c.on("close",function(){_=!0}),P===void 0&&(P=F(19959)),P(c,{readable:v,writable:f},function(M){if(M)return w(M);_=!0,w()});var R=!1;return function(M){if(!_&&!R){if(R=!0,g(c))return c.abort();if(typeof c.destroy=="function")return c.destroy();w(M||new h("pipe"))}}}function k(c){c()}function b(c,v){return c.pipe(v)}function l(c){return!c.length||typeof c[c.length-1]!="function"?m:c.pop()}function E(){for(var c=arguments.length,v=new Array(c),f=0;f<c;f++)v[f]=arguments[f];var w=l(v);if(Array.isArray(v[0])&&(v=v[0]),v.length<2)throw new A("streams");var _,R=v.map(function(M,U){var x=U<v.length-1,y=U>0;return p(M,x,y,function(W){_||(_=W),W&&R.forEach(k),!x&&(R.forEach(k),w(_))})});return v.reduce(b)}s.exports=E},11922:(s,G,F)=>{"use strict";var P=F(73157).F.ERR_INVALID_OPT_VALUE;function L(A,h,m){return A.highWaterMark!=null?A.highWaterMark:h?A[m]:null}function D(A,h,m,g){var p=L(h,g,m);if(p!=null){if(!(isFinite(p)&&Math.floor(p)===p)||p<0){var k=g?m:"highWaterMark";throw new P(k,p)}return Math.floor(p)}return A.objectMode?16:16384}s.exports={getHighWaterMark:D}},81914:(s,G,F)=>{s.exports=F(37007).EventEmitter},63242:(s,G,F)=>{G=s.exports=F(52341),G.Stream=G,G.Readable=G,G.Writable=F(9573),G.Duplex=F(63527),G.Transform=F(95689),G.PassThrough=F(82571),G.finished=F(19959),G.pipeline=F(37413)},83141:(s,G,F)=>{"use strict";var P=F(92861).Buffer,L=P.isEncoding||function(R){switch(R=""+R,R&&R.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function D(R){if(!R)return"utf8";for(var M;;)switch(R){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return R;default:if(M)return;R=(""+R).toLowerCase(),M=!0}}function A(R){var M=D(R);if(typeof M!="string"&&(P.isEncoding===L||!L(R)))throw new Error("Unknown encoding: "+R);return M||R}G.I=h;function h(R){this.encoding=A(R);var M;switch(this.encoding){case"utf16le":this.text=E,this.end=c,M=4;break;case"utf8":this.fillLast=k,M=4;break;case"base64":this.text=v,this.end=f,M=3;break;default:this.write=w,this.end=_;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=P.allocUnsafe(M)}h.prototype.write=function(R){if(R.length===0)return"";var M,U;if(this.lastNeed){if(M=this.fillLast(R),M===void 0)return"";U=this.lastNeed,this.lastNeed=0}else U=0;return U<R.length?M?M+this.text(R,U):this.text(R,U):M||""},h.prototype.end=l,h.prototype.text=b,h.prototype.fillLast=function(R){if(this.lastNeed<=R.length)return R.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);R.copy(this.lastChar,this.lastTotal-this.lastNeed,0,R.length),this.lastNeed-=R.length};function m(R){return R<=127?0:R>>5===6?2:R>>4===14?3:R>>3===30?4:R>>6===2?-1:-2}function g(R,M,U){var x=M.length-1;if(x<U)return 0;var y=m(M[x]);return y>=0?(y>0&&(R.lastNeed=y-1),y):--x<U||y===-2?0:(y=m(M[x]),y>=0?(y>0&&(R.lastNeed=y-2),y):--x<U||y===-2?0:(y=m(M[x]),y>=0?(y>0&&(y===2?y=0:R.lastNeed=y-3),y):0))}function p(R,M,U){if((M[0]&192)!==128)return R.lastNeed=0,"\uFFFD";if(R.lastNeed>1&&M.length>1){if((M[1]&192)!==128)return R.lastNeed=1,"\uFFFD";if(R.lastNeed>2&&M.length>2&&(M[2]&192)!==128)return R.lastNeed=2,"\uFFFD"}}function k(R){var M=this.lastTotal-this.lastNeed,U=p(this,R,M);if(U!==void 0)return U;if(this.lastNeed<=R.length)return R.copy(this.lastChar,M,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);R.copy(this.lastChar,M,0,R.length),this.lastNeed-=R.length}function b(R,M){var U=g(this,R,M);if(!this.lastNeed)return R.toString("utf8",M);this.lastTotal=U;var x=R.length-(U-this.lastNeed);return R.copy(this.lastChar,0,x),R.toString("utf8",M,x)}function l(R){var M=R&&R.length?this.write(R):"";return this.lastNeed?M+"\uFFFD":M}function E(R,M){if((R.length-M)%2===0){var U=R.toString("utf16le",M);if(U){var x=U.charCodeAt(U.length-1);if(x>=55296&&x<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=R[R.length-2],this.lastChar[1]=R[R.length-1],U.slice(0,-1)}return U}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=R[R.length-1],R.toString("utf16le",M,R.length-1)}function c(R){var M=R&&R.length?this.write(R):"";if(this.lastNeed){var U=this.lastTotal-this.lastNeed;return M+this.lastChar.toString("utf16le",0,U)}return M}function v(R,M){var U=(R.length-M)%3;return U===0?R.toString("base64",M):(this.lastNeed=3-U,this.lastTotal=3,U===1?this.lastChar[0]=R[R.length-1]:(this.lastChar[0]=R[R.length-2],this.lastChar[1]=R[R.length-1]),R.toString("base64",M,R.length-U))}function f(R){var M=R&&R.length?this.write(R):"";return this.lastNeed?M+this.lastChar.toString("base64",0,3-this.lastNeed):M}function w(R){return R.toString(this.encoding)}function _(R){return R&&R.length?this.write(R):""}},9423:(s,G,F)=>{"use strict";F.d(G,{A:()=>A});function P(h){var m,g=h.Symbol;return typeof g=="function"?g.observable?m=g.observable:(m=g("observable"),g.observable=m):m="@@observable",m}s=F.hmd(s);var L;typeof self!="undefined"?L=self:typeof window!="undefined"?L=window:typeof F.g!="undefined"?L=F.g:L=s;var D=P(L);const A=D},32909:(s,G,F)=>{"use strict";Object.defineProperty(G,"__esModule",{value:!0}),G.ExperimentationService=void 0;var P=F(67291);Object.defineProperty(G,"ExperimentationService",{enumerable:!0,get:function(){return P.ExperimentationService}})},67291:(s,G,F)=>{"use strict";Object.defineProperty(G,"__esModule",{value:!0}),G.ExperimentationService=void 0;const P=F(32845),L=F(51924),D=F(45761);class A extends D.ExperimentationServiceAutoPolling{constructor(m){super(m.telemetry,m.filterProviders||[],m.refetchInterval!=null?m.refetchInterval:0,m.assignmentContextTelemetryPropertyName,m.telemetryEventName,m.storageKey,m.keyValueStorage),this.options=m,this.invokeInit()}init(){this.featureProviders=[],this.addFeatureProvider(new P.TasApiFeatureProvider(new L.HttpClient(this.options.endpoint),this.telemetry,this.filterProviders)),super.init()}}G.ExperimentationService=A,A.REFRESH_RATE_IN_MINUTES=30},45761:(s,G,F)=>{"use strict";Object.defineProperty(G,"__esModule",{value:!0}),G.ExperimentationServiceAutoPolling=void 0;const P=F(1714),L=F(23257);class D extends P.ExperimentationServiceBase{constructor(h,m,g,p,k,b,l){if(super(h,p,k,b,l),this.telemetry=h,this.filterProviders=m,this.refreshRateMs=g,this.assignmentContextTelemetryPropertyName=p,this.telemetryEventName=k,this.storageKey=b,this.storage=l,g<1e3&&g!==0)throw new Error("The minimum refresh rate for polling is 1000 ms (1 second). If you wish to deactivate this auto-polling use value of 0.");g>0&&(this.pollingService=new L.PollingService(g),this.pollingService.OnPollTick(async()=>{await super.getFeaturesAsync()}))}init(){this.pollingService?this.pollingService.StartPolling(!0):super.getFeaturesAsync()}async getFeaturesAsync(h=!1){if(this.pollingService){this.pollingService.StopPolling();let m=await super.getFeaturesAsync(h);return this.pollingService.StartPolling(),m}else return await super.getFeaturesAsync(h)}}G.ExperimentationServiceAutoPolling=D},1714:(s,G,F)=>{"use strict";Object.defineProperty(G,"__esModule",{value:!0}),G.ExperimentationServiceBase=void 0;const P=F(48823);class L{get features(){return this._features}set features(A){this._features=A,this.telemetry&&this.telemetry.setSharedProperty(this.assignmentContextTelemetryPropertyName,this.features.assignmentContext)}constructor(A,h,m,g,p){this.telemetry=A,this.assignmentContextTelemetryPropertyName=h,this.telemetryEventName=m,this.storageKey=g,this.storage=p,this.featuresConsumed=!1,this.cachedTelemetryEvents=[],this._features={features:[],assignmentContext:"",configs:[]},this.storageKey||(this.storageKey="ABExp.Features"),this.storage||(p=new P.MemoryKeyValueStorage),this.loadCachePromise=this.loadCachedFeatureData(),this.initializePromise=this.loadCachePromise,this.initialFetch=new Promise((k,b)=>{this.resolveInitialFetchPromise=k})}async getFeaturesAsync(A=!1){if(this.fetchPromise!=null){try{await this.fetchPromise}catch{}return this.features}if(!this.featureProviders||this.featureProviders.length===0)return Promise.resolve({features:[],assignmentContext:"",configs:[]});try{this.fetchPromise=Promise.all(this.featureProviders.map(async m=>await m.getFeatures()));const h=await this.fetchPromise;this.updateFeatures(h,A)}catch{}return this.fetchPromise=void 0,this.resolveInitialFetchPromise&&(this.resolveInitialFetchPromise(),this.resolveInitialFetchPromise=void 0),this.features}updateFeatures(A,h=!1){let m={features:[],assignmentContext:"",configs:[]};for(let g of A){for(let p of g.features)m.features.includes(p)||m.features.push(p);for(let p of g.configs){const k=m.configs.find(b=>b.Id===p.Id);k?k.Parameters=Object.assign(Object.assign({},k.Parameters),p.Parameters):m.configs.push(p)}m.assignmentContext+=g.assignmentContext}(h||!this.featuresConsumed)&&(this.features=m),this.storage&&this.storage.setValue(this.storageKey,m)}async loadCachedFeatureData(){let A;this.storage&&(A=await this.storage.getValue(this.storageKey),A!==void 0&&A.configs===void 0&&(A.configs=[])),this.features.features.length===0&&(this.features=A||{features:[],assignmentContext:"",configs:[]})}isFlightEnabled(A){return this.featuresConsumed=!0,this.PostEventToTelemetry(A),this.features.features.includes(A)}async isCachedFlightEnabled(A){return await this.loadCachePromise,this.featuresConsumed=!0,this.PostEventToTelemetry(A),this.features.features.includes(A)}async isFlightEnabledAsync(A){const h=await this.getFeaturesAsync(!0);return this.featuresConsumed=!0,this.PostEventToTelemetry(A),h.features.includes(A)}getTreatmentVariable(A,h){this.featuresConsumed=!0,this.PostEventToTelemetry(`${A}.${h}`);const m=this.features.configs.find(g=>g.Id===A);return m==null?void 0:m.Parameters[h]}async getTreatmentVariableAsync(A,h,m){if(m){const g=this.featuresConsumed,p=this.getTreatmentVariable(A,h);if(p===void 0)this.featuresConsumed=g;else return p}return await this.getFeaturesAsync(!0),this.getTreatmentVariable(A,h)}PostEventToTelemetry(A){this.cachedTelemetryEvents.includes(A)||(this.telemetry.postEvent(this.telemetryEventName,new Map([["ABExp.queriedFeature",A]])),this.cachedTelemetryEvents.push(A))}invokeInit(){this.init()}addFeatureProvider(...A){if(!(A==null||this.featureProviders==null))for(let h of A)this.featureProviders.push(h)}}G.ExperimentationServiceBase=L},96790:(s,G)=>{"use strict";Object.defineProperty(G,"__esModule",{value:!0}),G.BaseFeatureProvider=void 0;class F{constructor(L){this.telemetry=L,this.isFetching=!1}async getFeatures(){if(this.isFetching&&this.fetchPromise)return this.fetchPromise;this.fetchPromise=this.fetch();let L=await this.fetchPromise;return this.isFetching=!1,this.fetchPromise=void 0,L}}G.BaseFeatureProvider=F},76492:(s,G,F)=>{"use strict";Object.defineProperty(G,"__esModule",{value:!0}),G.FilteredFeatureProvider=void 0;const P=F(96790);class L extends P.BaseFeatureProvider{constructor(A,h){super(A),this.telemetry=A,this.filterProviders=h,this.cachedTelemetryEvents=[]}getFilters(){let A=new Map;for(let h of this.filterProviders){let m=h.getFilters();for(let g of m.keys()){let p=m.get(g);A.set(g,p)}}return A}PostEventToTelemetry(A){if(this.cachedTelemetryEvents.includes(A))return;const h=JSON.stringify(A);this.telemetry.postEvent("report-headers",new Map([["ABExp.headers",h]])),this.cachedTelemetryEvents.push(A)}}G.FilteredFeatureProvider=L},32845:(s,G,F)=>{"use strict";Object.defineProperty(G,"__esModule",{value:!0}),G.TasApiFeatureProvider=G.TASAPI_FETCHERROR_EVENTNAME=void 0;const P=F(76492);G.TASAPI_FETCHERROR_EVENTNAME="call-tas-error";const L="ErrorType";class D extends P.FilteredFeatureProvider{constructor(h,m,g){super(m,g),this.httpClient=h,this.telemetry=m,this.filterProviders=g}async fetch(){let h=this.getFilters(),m={};for(let l of h.keys()){const E=h.get(l);m[l]=E}let g;try{g=await this.httpClient.get({headers:m})}catch(l){const E=l,c=new Map;E.responseReceived&&!E.responseOk?c.set(L,"ServerError"):E.responseReceived===!1?c.set(L,"NoResponse"):c.set(L,"GenericError"),this.telemetry.postEvent(G.TASAPI_FETCHERROR_EVENTNAME,c)}if(!g)throw Error(G.TASAPI_FETCHERROR_EVENTNAME);h.keys.length>0&&this.PostEventToTelemetry(m);const p=g.data;let k=p.Configs,b=[];for(let l of k)if(l.Parameters)for(let E of Object.keys(l.Parameters)){const c=E+(l.Parameters[E]?"":"cf");b.includes(c)||b.push(c)}return{features:b,assignmentContext:p.AssignmentContext,configs:k}}}G.TasApiFeatureProvider=D},51924:(s,G)=>{"use strict";Object.defineProperty(G,"__esModule",{value:!0}),G.HttpClient=G.FetchError=void 0;class F extends Error{constructor(D,A,h){super(D),this.responseReceived=A,this.responseOk=h}}G.FetchError=F;class P{constructor(D){this.endpoint=D}async get(D){const A=await fetch(this.endpoint,{method:"GET",headers:D==null?void 0:D.headers});if(!A)throw new F("No response received",!1);if(!A.ok)throw new F("Response not ok",!0,!1);const h=await A.json();if(!h)throw new F("No data received",!1);return{data:h}}}G.HttpClient=P},48823:(s,G)=>{"use strict";Object.defineProperty(G,"__esModule",{value:!0}),G.MemoryKeyValueStorage=void 0;class F{constructor(){this.storage=new Map}async getValue(L,D){return this.storage.has(L)?await Promise.resolve(this.storage.get(L)):await Promise.resolve(D||void 0)}setValue(L,D){this.storage.set(L,D)}}G.MemoryKeyValueStorage=F},23257:(s,G)=>{"use strict";Object.defineProperty(G,"__esModule",{value:!0}),G.PollingService=void 0;class F{constructor(L){this.fetchInterval=L}StopPolling(){clearInterval(this.intervalHandle),this.intervalHandle=void 0}OnPollTick(L){this.onTick=L}StartPolling(L=!1){this.intervalHandle&&this.StopPolling(),this.onTick!=null&&(L&&this.onTick().then(()=>{}).catch(()=>{}),this.intervalHandle=setInterval(async()=>{await this.onTick()},this.fetchInterval),this.intervalHandle.unref&&this.intervalHandle.unref())}}G.PollingService=F},15377:(s,G,F)=>{"use strict";var P=F(92861).Buffer,L=F(64634),D=F(74372),A=ArrayBuffer.isView||function(k){try{return D(k),!0}catch{return!1}},h=typeof Uint8Array!="undefined",m=typeof ArrayBuffer!="undefined"&&typeof Uint8Array!="undefined",g=m&&(P.prototype instanceof Uint8Array||P.TYPED_ARRAY_SUPPORT);s.exports=function(k,b){if(k instanceof P)return k;if(typeof k=="string")return P.from(k,b);if(m&&A(k)){if(k.byteLength===0)return P.alloc(0);if(g){var l=P.from(k.buffer,k.byteOffset,k.byteLength);if(l.byteLength===k.byteLength)return l}var E=k instanceof Uint8Array?k:new Uint8Array(k.buffer,k.byteOffset,k.byteLength),c=P.from(E);if(c.length===k.byteLength)return c}if(h&&k instanceof Uint8Array)return P.from(k);var v=L(k);if(v)for(var f=0;f<k.length;f+=1){var w=k[f];if(typeof w!="number"||w<0||w>255||~~w!==w)throw new RangeError("Array items must be numbers in the range 0-255.")}if(v||P.isBuffer(k)&&k.constructor&&typeof k.constructor.isBuffer=="function"&&k.constructor.isBuffer(k))return P.from(k);throw new TypeError('The "data" argument must be a string, an Array, a Buffer, a Uint8Array, or a DataView.')}},74372:(s,G,F)=>{"use strict";var P=F(69675),L=F(36556),D=L("TypedArray.prototype.buffer",!0),A=F(35680);s.exports=D||function(m){if(!A(m))throw new P("Not a Typed Array");return m.buffer}},48318:function(s,G,F){(function(P){"use strict";var L=function(){try{if(P.URLSearchParams&&new P.URLSearchParams("foo=bar").get("foo")==="bar")return P.URLSearchParams}catch{}return null}(),D=L&&new L({a:1}).toString()==="a=1",A=L&&new L("s=%2B").get("s")==="+",h="__URLSearchParams__",m=L?function(){var x=new L;return x.append("s"," &"),x.toString()==="s=+%26"}():!0,g=k.prototype,p=!!(P.Symbol&&P.Symbol.iterator);if(L&&D&&A&&m)return;function k(x){x=x||"",(x instanceof URLSearchParams||x instanceof k)&&(x=x.toString()),this[h]=_(x)}g.append=function(x,y){R(this[h],x,y)},g.delete=function(x){delete this[h][x]},g.get=function(x){var y=this[h];return this.has(x)?y[x][0]:null},g.getAll=function(x){var y=this[h];return this.has(x)?y[x].slice(0):[]},g.has=function(x){return U(this[h],x)},g.set=function(y,W){this[h][y]=[""+W]},g.toString=function(){var x=this[h],y=[],W,Q,Z,ee;for(Q in x)for(Z=v(Q),W=0,ee=x[Q];W<ee.length;W++)y.push(Z+"="+v(ee[W]));return y.join("&")};var b=!A,l=!b&&L&&!D&&P.Proxy,E;l?(E=new Proxy(L,{construct:function(x,y){return new x(new k(y[0]).toString())}}),E.toString=Function.prototype.toString.bind(k)):E=k,Object.defineProperty(P,"URLSearchParams",{value:E});var c=P.URLSearchParams.prototype;c.polyfill=!0,c.forEach=c.forEach||function(x,y){var W=_(this.toString());Object.getOwnPropertyNames(W).forEach(function(Q){W[Q].forEach(function(Z){x.call(y,Z,Q,this)},this)},this)},c.sort=c.sort||function(){var x=_(this.toString()),y=[],W,Q,Z;for(W in x)y.push(W);for(y.sort(),Q=0;Q<y.length;Q++)this.delete(y[Q]);for(Q=0;Q<y.length;Q++){var ee=y[Q],J=x[ee];for(Z=0;Z<J.length;Z++)this.append(ee,J[Z])}},c.keys=c.keys||function(){var x=[];return this.forEach(function(y,W){x.push(W)}),w(x)},c.values=c.values||function(){var x=[];return this.forEach(function(y){x.push(y)}),w(x)},c.entries=c.entries||function(){var x=[];return this.forEach(function(y,W){x.push([W,y])}),w(x)},p&&(c[P.Symbol.iterator]=c[P.Symbol.iterator]||c.entries);function v(x){var y={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(x).replace(/[!'\(\)~]|%20|%00/g,function(W){return y[W]})}function f(x){return x.replace(/[ +]/g,"%20").replace(/(%[a-f0-9]{2})+/ig,function(y){return decodeURIComponent(y)})}function w(x){var y={next:function(){var W=x.shift();return{done:W===void 0,value:W}}};return p&&(y[P.Symbol.iterator]=function(){return y}),y}function _(x){var y={};if(typeof x=="object")if(M(x))for(var W=0;W<x.length;W++){var Q=x[W];if(M(Q)&&Q.length===2)R(y,Q[0],Q[1]);else throw new TypeError("Failed to construct 'URLSearchParams': Sequence initializer must only contain pair elements")}else for(var Z in x)x.hasOwnProperty(Z)&&R(y,Z,x[Z]);else{x.indexOf("?")===0&&(x=x.slice(1));for(var ee=x.split("&"),J=0;J<ee.length;J++){var O=ee[J],H=O.indexOf("=");-1<H?R(y,f(O.slice(0,H)),f(O.slice(H+1))):O&&R(y,f(O),"")}}return y}function R(x,y,W){var Q=typeof W=="string"?W:W!=null&&typeof W.toString=="function"?W.toString():JSON.stringify(W);U(x,y)?x[y].push(Q):x[y]=[Q]}function M(x){return!!x&&Object.prototype.toString.call(x)==="[object Array]"}function U(x,y){return Object.prototype.hasOwnProperty.call(x,y)}})(typeof F.g!="undefined"?F.g:typeof window!="undefined"?window:this)},94643:(s,G,F)=>{s.exports=P;function P(D,A){if(L("noDeprecation"))return D;var h=!1;function m(){if(!h){if(L("throwDeprecation"))throw new Error(A);L("traceDeprecation")?console.trace(A):console.warn(A),h=!0}return D.apply(this,arguments)}return m}function L(D){try{if(!F.g.localStorage)return!1}catch{return!1}var A=F.g.localStorage[D];return A==null?!1:String(A).toLowerCase()==="true"}},41566:(s,G,F)=>{"use strict";var P;P={value:!0},G.Z7=P=G.M$=void 0;var L=F(12493);Object.defineProperty(G,"M$",{enumerable:!0,get:function(){return L.getExperimentationService}}),P={enumerable:!0,get:function(){return L.getExperimentationServiceAsync}};var D=F(8967);Object.defineProperty(G,"Z7",{enumerable:!0,get:function(){return D.TargetPopulation}})},98142:(s,G)=>{"use strict";Object.defineProperty(G,"__esModule",{value:!0}),G.MementoKeyValueStorage=void 0;class F{constructor(L){this.mementoGlobalStorage=L}async getValue(L,D){return await this.mementoGlobalStorage.get(L)||D}setValue(L,D){this.mementoGlobalStorage.update(L,D)}}G.MementoKeyValueStorage=F},59052:(s,G)=>{"use strict";Object.defineProperty(G,"__esModule",{value:!0});class F{constructor(){this.initializePromise=Promise.resolve(),this.initialFetch=Promise.resolve()}isFlightEnabled(L){return!1}isCachedFlightEnabled(L){return Promise.resolve(!1)}isFlightEnabledAsync(L){return Promise.resolve(!1)}getTreatmentVariable(L,D){}getTreatmentVariableAsync(L,D){return Promise.resolve(void 0)}}G.default=F},8967:(s,G,F)=>{"use strict";Object.defineProperty(G,"__esModule",{value:!0}),G.TargetPopulation=G.Filters=G.VSCodeFilterProvider=void 0;const P=F(91398);class L{constructor(m,g,p){this.extensionName=m,this.extensionVersion=g,this.targetPopulation=p}static trimVersionSuffix(m){const g=/\-[a-zA-Z0-9]+$/;return m.split(g)[0]}getFilterValue(m){switch(m){case D.ApplicationVersion:return L.trimVersionSuffix(P.version);case D.Build:return P.env.appName;case D.ClientId:return P.env.machineId;case D.ExtensionName:return this.extensionName;case D.ExtensionVersion:return L.trimVersionSuffix(this.extensionVersion);case D.Language:return P.env.language;case D.TargetPopulation:return this.targetPopulation;default:return""}}getFilters(){let m=new Map,g=Object.values(D);for(let p of g)m.set(p,this.getFilterValue(p));return m}}G.VSCodeFilterProvider=L;var D;(function(h){h.Market="X-MSEdge-Market",h.CorpNet="X-FD-Corpnet",h.ApplicationVersion="X-VSCode-AppVersion",h.Build="X-VSCode-Build",h.ClientId="X-MSEdge-ClientId",h.ExtensionName="X-VSCode-ExtensionName",h.ExtensionVersion="X-VSCode-ExtensionVersion",h.Language="X-VSCode-Language",h.TargetPopulation="X-VSCode-TargetPopulation"})(D||(G.Filters=D={}));var A;(function(h){h.Team="team",h.Internal="internal",h.Insiders="insider",h.Public="public"})(A||(G.TargetPopulation=A={}))},12493:(s,G,F)=>{"use strict";Object.defineProperty(G,"__esModule",{value:!0}),G.getExperimentationServiceAsync=G.getExperimentationService=void 0;const P=F(8967),L=F(32909),D=F(91398),A=F(98142),h=F(59052),m="https://default.exp-tas.com/vscode/ab",g="query-expfeature",p="abexp.assignmentcontext",k="VSCode.ABExp.FeatureData",b=1e3*60*30;function l(c,v,f,w,_,...R){if(!_)throw new Error("Memento storage was not provided.");const M=D.workspace.getConfiguration("telemetry");if(!(D.env.isTelemetryEnabled===void 0?M.get("enableTelemetry",!0):D.env.isTelemetryEnabled))return new h.default;const y=[new P.VSCodeFilterProvider(c,v,f),...R],W=new A.MementoKeyValueStorage(_);return new L.ExperimentationService({filterProviders:y,telemetry:w,storageKey:k,keyValueStorage:W,featuresTelemetryPropertyName:"",assignmentContextTelemetryPropertyName:p,telemetryEventName:g,endpoint:m,refetchInterval:b})}G.getExperimentationService=l;async function E(c,v,f,w,_,...R){const M=l(c,v,f,w,_,...R);return await M.initializePromise,M}G.getExperimentationServiceAsync=E},25767:(s,G,F)=>{"use strict";var P=F(82682),L=F(39209),D=F(10487),A=F(36556),h=F(75795),m=F(93628),g=A("Object.prototype.toString"),p=F(49092)(),k=typeof globalThis=="undefined"?F.g:globalThis,b=L(),l=A("String.prototype.slice"),E=A("Array.prototype.indexOf",!0)||function(_,R){for(var M=0;M<_.length;M+=1)if(_[M]===R)return M;return-1},c={__proto__:null};p&&h&&m?P(b,function(w){var _=new k[w];if(Symbol.toStringTag in _&&m){var R=m(_),M=h(R,Symbol.toStringTag);if(!M&&R){var U=m(R);M=h(U,Symbol.toStringTag)}c["$"+w]=D(M.get)}}):P(b,function(w){var _=new k[w],R=_.slice||_.set;R&&(c["$"+w]=D(R))});var v=function(_){var R=!1;return P(c,function(M,U){if(!R)try{"$"+M(_)===U&&(R=l(U,1))}catch{}}),R},f=function(_){var R=!1;return P(c,function(M,U){if(!R)try{M(_),R=l(U,1)}catch{}}),R};s.exports=function(_){if(!_||typeof _!="object")return!1;if(!p){var R=l(g(_),8,-1);return E(b,R)>-1?R:R!=="Object"?!1:f(_)}return h?v(_):null}},57510:s=>{s.exports=F;var G=Object.prototype.hasOwnProperty;function F(){for(var P={},L=0;L<arguments.length;L++){var D=arguments[L];for(var A in D)G.call(D,A)&&(P[A]=D[A])}return P}},40259:s=>{"use strict";s.exports=function(G){G.prototype[Symbol.iterator]=function*(){for(let F=this.head;F;F=F.next)yield F.value}}},28799:(s,G,F)=>{"use strict";s.exports=P,P.Node=h,P.create=P;function P(m){var g=this;if(g instanceof P||(g=new P),g.tail=null,g.head=null,g.length=0,m&&typeof m.forEach=="function")m.forEach(function(b){g.push(b)});else if(arguments.length>0)for(var p=0,k=arguments.length;p<k;p++)g.push(arguments[p]);return g}P.prototype.removeNode=function(m){if(m.list!==this)throw new Error("removing node which does not belong to this list");var g=m.next,p=m.prev;return g&&(g.prev=p),p&&(p.next=g),m===this.head&&(this.head=g),m===this.tail&&(this.tail=p),m.list.length--,m.next=null,m.prev=null,m.list=null,g},P.prototype.unshiftNode=function(m){if(m!==this.head){m.list&&m.list.removeNode(m);var g=this.head;m.list=this,m.next=g,g&&(g.prev=m),this.head=m,this.tail||(this.tail=m),this.length++}},P.prototype.pushNode=function(m){if(m!==this.tail){m.list&&m.list.removeNode(m);var g=this.tail;m.list=this,m.prev=g,g&&(g.next=m),this.tail=m,this.head||(this.head=m),this.length++}},P.prototype.push=function(){for(var m=0,g=arguments.length;m<g;m++)D(this,arguments[m]);return this.length},P.prototype.unshift=function(){for(var m=0,g=arguments.length;m<g;m++)A(this,arguments[m]);return this.length},P.prototype.pop=function(){if(this.tail){var m=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,m}},P.prototype.shift=function(){if(this.head){var m=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,m}},P.prototype.forEach=function(m,g){g=g||this;for(var p=this.head,k=0;p!==null;k++)m.call(g,p.value,k,this),p=p.next},P.prototype.forEachReverse=function(m,g){g=g||this;for(var p=this.tail,k=this.length-1;p!==null;k--)m.call(g,p.value,k,this),p=p.prev},P.prototype.get=function(m){for(var g=0,p=this.head;p!==null&&g<m;g++)p=p.next;if(g===m&&p!==null)return p.value},P.prototype.getReverse=function(m){for(var g=0,p=this.tail;p!==null&&g<m;g++)p=p.prev;if(g===m&&p!==null)return p.value},P.prototype.map=function(m,g){g=g||this;for(var p=new P,k=this.head;k!==null;)p.push(m.call(g,k.value,this)),k=k.next;return p},P.prototype.mapReverse=function(m,g){g=g||this;for(var p=new P,k=this.tail;k!==null;)p.push(m.call(g,k.value,this)),k=k.prev;return p},P.prototype.reduce=function(m,g){var p,k=this.head;if(arguments.length>1)p=g;else if(this.head)k=this.head.next,p=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var b=0;k!==null;b++)p=m(p,k.value,b),k=k.next;return p},P.prototype.reduceReverse=function(m,g){var p,k=this.tail;if(arguments.length>1)p=g;else if(this.tail)k=this.tail.prev,p=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var b=this.length-1;k!==null;b--)p=m(p,k.value,b),k=k.prev;return p},P.prototype.toArray=function(){for(var m=new Array(this.length),g=0,p=this.head;p!==null;g++)m[g]=p.value,p=p.next;return m},P.prototype.toArrayReverse=function(){for(var m=new Array(this.length),g=0,p=this.tail;p!==null;g++)m[g]=p.value,p=p.prev;return m},P.prototype.slice=function(m,g){g=g||this.length,g<0&&(g+=this.length),m=m||0,m<0&&(m+=this.length);var p=new P;if(g<m||g<0)return p;m<0&&(m=0),g>this.length&&(g=this.length);for(var k=0,b=this.head;b!==null&&k<m;k++)b=b.next;for(;b!==null&&k<g;k++,b=b.next)p.push(b.value);return p},P.prototype.sliceReverse=function(m,g){g=g||this.length,g<0&&(g+=this.length),m=m||0,m<0&&(m+=this.length);var p=new P;if(g<m||g<0)return p;m<0&&(m=0),g>this.length&&(g=this.length);for(var k=this.length,b=this.tail;b!==null&&k>g;k--)b=b.prev;for(;b!==null&&k>m;k--,b=b.prev)p.push(b.value);return p},P.prototype.splice=function(m,g,...p){m>this.length&&(m=this.length-1),m<0&&(m=this.length+m);for(var k=0,b=this.head;b!==null&&k<m;k++)b=b.next;for(var l=[],k=0;b&&k<g;k++)l.push(b.value),b=this.removeNode(b);b===null&&(b=this.tail),b!==this.head&&b!==this.tail&&(b=b.prev);for(var k=0;k<p.length;k++)b=L(this,b,p[k]);return l},P.prototype.reverse=function(){for(var m=this.head,g=this.tail,p=m;p!==null;p=p.prev){var k=p.prev;p.prev=p.next,p.next=k}return this.head=g,this.tail=m,this};function L(m,g,p){var k=g===m.head?new h(p,null,g,m):new h(p,g,g.next,m);return k.next===null&&(m.tail=k),k.prev===null&&(m.head=k),m.length++,k}function D(m,g){m.tail=new h(g,m.tail,null,m),m.head||(m.head=m.tail),m.length++}function A(m,g){m.head=new h(g,null,m.head,m),m.tail||(m.tail=m.head),m.length++}function h(m,g,p,k){if(!(this instanceof h))return new h(m,g,p,k);this.list=k,this.value=m,g?(g.next=this,this.prev=g):this.prev=null,p?(p.prev=this,this.next=p):this.next=null}try{F(40259)(P)}catch{}},16064:(s,G,F)=>{s.exports=F(43619).Observable},43619:(s,G)=>{"use strict";var F;F={value:!0},G.Observable=void 0;function P(W,Q){if(!(W instanceof Q))throw new TypeError("Cannot call a class as a function")}function L(W,Q){for(var Z=0;Z<Q.length;Z++){var ee=Q[Z];ee.enumerable=ee.enumerable||!1,ee.configurable=!0,"value"in ee&&(ee.writable=!0),Object.defineProperty(W,ee.key,ee)}}function D(W,Q,Z){return Q&&L(W.prototype,Q),Z&&L(W,Z),W}var A=function(){return typeof Symbol=="function"},h=function(W){return A()&&!!Symbol[W]},m=function(W){return h(W)?Symbol[W]:"@@"+W};A()&&!h("observable")&&(Symbol.observable=Symbol("observable"));var g=m("iterator"),p=m("observable"),k=m("species");function b(W,Q){var Z=W[Q];if(Z!=null){if(typeof Z!="function")throw new TypeError(Z+" is not a function");return Z}}function l(W){var Q=W.constructor;return Q!==void 0&&(Q=Q[k],Q===null&&(Q=void 0)),Q!==void 0?Q:y}function E(W){return W instanceof y}function c(W){c.log?c.log(W):setTimeout(function(){throw W})}function v(W){Promise.resolve().then(function(){try{W()}catch(Q){c(Q)}})}function f(W){var Q=W._cleanup;if(Q!==void 0&&(W._cleanup=void 0,!!Q))try{if(typeof Q=="function")Q();else{var Z=b(Q,"unsubscribe");Z&&Z.call(Q)}}catch(ee){c(ee)}}function w(W){W._observer=void 0,W._queue=void 0,W._state="closed"}function _(W){var Q=W._queue;if(Q){W._queue=void 0,W._state="ready";for(var Z=0;Z<Q.length&&(R(W,Q[Z].type,Q[Z].value),W._state!=="closed");++Z);}}function R(W,Q,Z){W._state="running";var ee=W._observer;try{var J=b(ee,Q);switch(Q){case"next":J&&J.call(ee,Z);break;case"error":if(w(W),J)J.call(ee,Z);else throw Z;break;case"complete":w(W),J&&J.call(ee);break}}catch(O){c(O)}W._state==="closed"?f(W):W._state==="running"&&(W._state="ready")}function M(W,Q,Z){if(W._state!=="closed"){if(W._state==="buffering"){W._queue.push({type:Q,value:Z});return}if(W._state!=="ready"){W._state="buffering",W._queue=[{type:Q,value:Z}],v(function(){return _(W)});return}R(W,Q,Z)}}var U=function(){function W(Q,Z){P(this,W),this._cleanup=void 0,this._observer=Q,this._queue=void 0,this._state="initializing";var ee=new x(this);try{this._cleanup=Z.call(void 0,ee)}catch(J){ee.error(J)}this._state==="initializing"&&(this._state="ready")}return D(W,[{key:"unsubscribe",value:function(){this._state!=="closed"&&(w(this),f(this))}},{key:"closed",get:function(){return this._state==="closed"}}]),W}(),x=function(){function W(Q){P(this,W),this._subscription=Q}return D(W,[{key:"next",value:function(Z){M(this._subscription,"next",Z)}},{key:"error",value:function(Z){M(this._subscription,"error",Z)}},{key:"complete",value:function(){M(this._subscription,"complete")}},{key:"closed",get:function(){return this._subscription._state==="closed"}}]),W}(),y=function(){function W(Q){if(P(this,W),!(this instanceof W))throw new TypeError("Observable cannot be called as a function");if(typeof Q!="function")throw new TypeError("Observable initializer must be a function");this._subscriber=Q}return D(W,[{key:"subscribe",value:function(Z){return(typeof Z!="object"||Z===null)&&(Z={next:Z,error:arguments[1],complete:arguments[2]}),new U(Z,this._subscriber)}},{key:"forEach",value:function(Z){var ee=this;return new Promise(function(J,O){if(typeof Z!="function"){O(new TypeError(Z+" is not a function"));return}function H(){I.unsubscribe(),J()}var I=ee.subscribe({next:function(u){try{Z(u,H)}catch(N){O(N),I.unsubscribe()}},error:O,complete:J})})}},{key:"map",value:function(Z){var ee=this;if(typeof Z!="function")throw new TypeError(Z+" is not a function");var J=l(this);return new J(function(O){return ee.subscribe({next:function(H){try{H=Z(H)}catch(I){return O.error(I)}O.next(H)},error:function(H){O.error(H)},complete:function(){O.complete()}})})}},{key:"filter",value:function(Z){var ee=this;if(typeof Z!="function")throw new TypeError(Z+" is not a function");var J=l(this);return new J(function(O){return ee.subscribe({next:function(H){try{if(!Z(H))return}catch(I){return O.error(I)}O.next(H)},error:function(H){O.error(H)},complete:function(){O.complete()}})})}},{key:"reduce",value:function(Z){var ee=this;if(typeof Z!="function")throw new TypeError(Z+" is not a function");var J=l(this),O=arguments.length>1,H=!1,I=arguments[1],u=I;return new J(function(N){return ee.subscribe({next:function(q){var V=!H;if(H=!0,!V||O)try{u=Z(u,q)}catch(K){return N.error(K)}else u=q},error:function(q){N.error(q)},complete:function(){if(!H&&!O)return N.error(new TypeError("Cannot reduce an empty sequence"));N.next(u),N.complete()}})})}},{key:"concat",value:function(){for(var Z=this,ee=arguments.length,J=new Array(ee),O=0;O<ee;O++)J[O]=arguments[O];var H=l(this);return new H(function(I){var u,N=0;function q(V){u=V.subscribe({next:function(K){I.next(K)},error:function(K){I.error(K)},complete:function(){N===J.length?(u=void 0,I.complete()):q(H.from(J[N++]))}})}return q(Z),function(){u&&(u.unsubscribe(),u=void 0)}})}},{key:"flatMap",value:function(Z){var ee=this;if(typeof Z!="function")throw new TypeError(Z+" is not a function");var J=l(this);return new J(function(O){var H=[],I=ee.subscribe({next:function(N){if(Z)try{N=Z(N)}catch(V){return O.error(V)}var q=J.from(N).subscribe({next:function(V){O.next(V)},error:function(V){O.error(V)},complete:function(){var V=H.indexOf(q);V>=0&&H.splice(V,1),u()}});H.push(q)},error:function(N){O.error(N)},complete:function(){u()}});function u(){I.closed&&H.length===0&&O.complete()}return function(){H.forEach(function(N){return N.unsubscribe()}),I.unsubscribe()}})}},{key:p,value:function(){return this}}],[{key:"from",value:function(Z){var ee=typeof this=="function"?this:W;if(Z==null)throw new TypeError(Z+" is not an object");var J=b(Z,p);if(J){var O=J.call(Z);if(Object(O)!==O)throw new TypeError(O+" is not an object");return E(O)&&O.constructor===ee?O:new ee(function(H){return O.subscribe(H)})}if(h("iterator")&&(J=b(Z,g),J))return new ee(function(H){v(function(){if(!H.closed){var I=!0,u=!1,N=void 0;try{for(var q=J.call(Z)[Symbol.iterator](),V;!(I=(V=q.next()).done);I=!0){var K=V.value;if(H.next(K),H.closed)return}}catch(j){u=!0,N=j}finally{try{!I&&q.return!=null&&q.return()}finally{if(u)throw N}}H.complete()}})});if(Array.isArray(Z))return new ee(function(H){v(function(){if(!H.closed){for(var I=0;I<Z.length;++I)if(H.next(Z[I]),H.closed)return;H.complete()}})});throw new TypeError(Z+" is not observable")}},{key:"of",value:function(){for(var Z=arguments.length,ee=new Array(Z),J=0;J<Z;J++)ee[J]=arguments[J];var O=typeof this=="function"?this:W;return new O(function(H){v(function(){if(!H.closed){for(var I=0;I<ee.length;++I)if(H.next(ee[I]),H.closed)return;H.complete()}})})}},{key:k,get:function(){return this}}]),W}();G.Observable=y,A()&&Object.defineProperty(y,Symbol("extensions"),{value:{symbol:p,hostReportError:c},configurable:!0})},91398:s=>{"use strict";s.exports=require("vscode")},47790:()=>{},73776:()=>{},98285:()=>{},38664:()=>{},21638:()=>{},92668:()=>{},8460:()=>{},92382:()=>{},63779:()=>{},77199:()=>{},59169:()=>{},86833:()=>{},59817:()=>{},39209:(s,G,F)=>{"use strict";var P=F(76578),L=typeof globalThis=="undefined"?F.g:globalThis;s.exports=function(){for(var A=[],h=0;h<P.length;h++)typeof L[P[h]]=="function"&&(A[A.length]=P[h]);return A}},6773:s=>{"use strict";var G;const F=function(){};F.prototype=Object.create(null);const P=/; *([!#$%&'*+.^\w`|~-]+)=("(?:[\v\u0020\u0021\u0023-\u005b\u005d-\u007e\u0080-\u00ff]|\\[\v\u0020-\u00ff])*"|[!#$%&'*+.^\w`|~-]+) */gu,L=/\\([\v\u0020-\u00ff])/gu,D=/^[!#$%&'*+.^\w|~-]+\/[!#$%&'*+.^\w|~-]+$/u,A={type:"",parameters:new F};Object.freeze(A.parameters),Object.freeze(A);function h(g){if(typeof g!="string")throw new TypeError("argument header is required and must be a string");let p=g.indexOf(";");const k=p!==-1?g.slice(0,p).trim():g.trim();if(D.test(k)===!1)throw new TypeError("invalid media type");const b={type:k.toLowerCase(),parameters:new F};if(p===-1)return b;let l,E,c;for(P.lastIndex=p;E=P.exec(g);){if(E.index!==p)throw new TypeError("invalid parameter format");p+=E[0].length,l=E[1].toLowerCase(),c=E[2],c[0]==='"'&&(c=c.slice(1,c.length-1),L.test(c)&&(c=c.replace(L,"$1"))),b.parameters[l]=c}if(p!==g.length)throw new TypeError("invalid parameter format");return b}function m(g){if(typeof g!="string")return A;let p=g.indexOf(";");const k=p!==-1?g.slice(0,p).trim():g.trim();if(D.test(k)===!1)return A;const b={type:k.toLowerCase(),parameters:new F};if(p===-1)return b;let l,E,c;for(P.lastIndex=p;E=P.exec(g);){if(E.index!==p)return A;p+=E[0].length,l=E[1].toLowerCase(),c=E[2],c[0]==='"'&&(c=c.slice(1,c.length-1),L.test(c)&&(c=c.replace(L,"$1"))),b.parameters[l]=c}return p!==g.length?A:b}G={parse:h,safeParse:m},G=h,s.exports.xL=m,G=A},3219:s=>{"use strict";s.exports=JSON.parse('{"aes-128-ecb":{"cipher":"AES","key":128,"iv":0,"mode":"ECB","type":"block"},"aes-192-ecb":{"cipher":"AES","key":192,"iv":0,"mode":"ECB","type":"block"},"aes-256-ecb":{"cipher":"AES","key":256,"iv":0,"mode":"ECB","type":"block"},"aes-128-cbc":{"cipher":"AES","key":128,"iv":16,"mode":"CBC","type":"block"},"aes-192-cbc":{"cipher":"AES","key":192,"iv":16,"mode":"CBC","type":"block"},"aes-256-cbc":{"cipher":"AES","key":256,"iv":16,"mode":"CBC","type":"block"},"aes128":{"cipher":"AES","key":128,"iv":16,"mode":"CBC","type":"block"},"aes192":{"cipher":"AES","key":192,"iv":16,"mode":"CBC","type":"block"},"aes256":{"cipher":"AES","key":256,"iv":16,"mode":"CBC","type":"block"},"aes-128-cfb":{"cipher":"AES","key":128,"iv":16,"mode":"CFB","type":"stream"},"aes-192-cfb":{"cipher":"AES","key":192,"iv":16,"mode":"CFB","type":"stream"},"aes-256-cfb":{"cipher":"AES","key":256,"iv":16,"mode":"CFB","type":"stream"},"aes-128-cfb8":{"cipher":"AES","key":128,"iv":16,"mode":"CFB8","type":"stream"},"aes-192-cfb8":{"cipher":"AES","key":192,"iv":16,"mode":"CFB8","type":"stream"},"aes-256-cfb8":{"cipher":"AES","key":256,"iv":16,"mode":"CFB8","type":"stream"},"aes-128-cfb1":{"cipher":"AES","key":128,"iv":16,"mode":"CFB1","type":"stream"},"aes-192-cfb1":{"cipher":"AES","key":192,"iv":16,"mode":"CFB1","type":"stream"},"aes-256-cfb1":{"cipher":"AES","key":256,"iv":16,"mode":"CFB1","type":"stream"},"aes-128-ofb":{"cipher":"AES","key":128,"iv":16,"mode":"OFB","type":"stream"},"aes-192-ofb":{"cipher":"AES","key":192,"iv":16,"mode":"OFB","type":"stream"},"aes-256-ofb":{"cipher":"AES","key":256,"iv":16,"mode":"OFB","type":"stream"},"aes-128-ctr":{"cipher":"AES","key":128,"iv":16,"mode":"CTR","type":"stream"},"aes-192-ctr":{"cipher":"AES","key":192,"iv":16,"mode":"CTR","type":"stream"},"aes-256-ctr":{"cipher":"AES","key":256,"iv":16,"mode":"CTR","type":"stream"},"aes-128-gcm":{"cipher":"AES","key":128,"iv":12,"mode":"GCM","type":"auth"},"aes-192-gcm":{"cipher":"AES","key":192,"iv":12,"mode":"GCM","type":"auth"},"aes-256-gcm":{"cipher":"AES","key":256,"iv":12,"mode":"GCM","type":"auth"}}')},62951:s=>{"use strict";s.exports=JSON.parse('{"sha224WithRSAEncryption":{"sign":"rsa","hash":"sha224","id":"302d300d06096086480165030402040500041c"},"RSA-SHA224":{"sign":"ecdsa/rsa","hash":"sha224","id":"302d300d06096086480165030402040500041c"},"sha256WithRSAEncryption":{"sign":"rsa","hash":"sha256","id":"3031300d060960864801650304020105000420"},"RSA-SHA256":{"sign":"ecdsa/rsa","hash":"sha256","id":"3031300d060960864801650304020105000420"},"sha384WithRSAEncryption":{"sign":"rsa","hash":"sha384","id":"3041300d060960864801650304020205000430"},"RSA-SHA384":{"sign":"ecdsa/rsa","hash":"sha384","id":"3041300d060960864801650304020205000430"},"sha512WithRSAEncryption":{"sign":"rsa","hash":"sha512","id":"3051300d060960864801650304020305000440"},"RSA-SHA512":{"sign":"ecdsa/rsa","hash":"sha512","id":"3051300d060960864801650304020305000440"},"RSA-SHA1":{"sign":"rsa","hash":"sha1","id":"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{"sign":"ecdsa","hash":"sha1","id":""},"sha256":{"sign":"ecdsa","hash":"sha256","id":""},"sha224":{"sign":"ecdsa","hash":"sha224","id":""},"sha384":{"sign":"ecdsa","hash":"sha384","id":""},"sha512":{"sign":"ecdsa","hash":"sha512","id":""},"DSA-SHA":{"sign":"dsa","hash":"sha1","id":""},"DSA-SHA1":{"sign":"dsa","hash":"sha1","id":""},"DSA":{"sign":"dsa","hash":"sha1","id":""},"DSA-WITH-SHA224":{"sign":"dsa","hash":"sha224","id":""},"DSA-SHA224":{"sign":"dsa","hash":"sha224","id":""},"DSA-WITH-SHA256":{"sign":"dsa","hash":"sha256","id":""},"DSA-SHA256":{"sign":"dsa","hash":"sha256","id":""},"DSA-WITH-SHA384":{"sign":"dsa","hash":"sha384","id":""},"DSA-SHA384":{"sign":"dsa","hash":"sha384","id":""},"DSA-WITH-SHA512":{"sign":"dsa","hash":"sha512","id":""},"DSA-SHA512":{"sign":"dsa","hash":"sha512","id":""},"DSA-RIPEMD160":{"sign":"dsa","hash":"rmd160","id":""},"ripemd160WithRSA":{"sign":"rsa","hash":"rmd160","id":"3021300906052b2403020105000414"},"RSA-RIPEMD160":{"sign":"rsa","hash":"rmd160","id":"3021300906052b2403020105000414"},"md5WithRSAEncryption":{"sign":"rsa","hash":"md5","id":"3020300c06082a864886f70d020505000410"},"RSA-MD5":{"sign":"rsa","hash":"md5","id":"3020300c06082a864886f70d020505000410"}}')},64589:s=>{"use strict";s.exports=JSON.parse('{"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}')},23241:s=>{"use strict";s.exports=JSON.parse('{"modp1":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},"modp2":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},"modp5":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},"modp14":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},"modp15":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},"modp16":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},"modp17":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},"modp18":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}')},1636:s=>{"use strict";s.exports={rE:"6.6.1"}},15579:s=>{"use strict";s.exports=JSON.parse('{"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}')}},Ia={};function ti(s){var G=Ia[s];if(G!==void 0)return G.exports;var F=Ia[s]={id:s,loaded:!1,exports:{}};return Gs[s].call(F.exports,F,F.exports,ti),F.loaded=!0,F.exports}ti.n=s=>{var G=s&&s.__esModule?()=>s.default:()=>s;return ti.d(G,{a:G}),G},ti.d=(s,G)=>{for(var F in G)ti.o(G,F)&&!ti.o(s,F)&&Object.defineProperty(s,F,{enumerable:!0,get:G[F]})},ti.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),ti.hmd=s=>(s=Object.create(s),s.children||(s.children=[]),Object.defineProperty(s,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+s.id)}}),s),ti.o=(s,G)=>Object.prototype.hasOwnProperty.call(s,G),ti.r=s=>{typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(s,"__esModule",{value:!0})},ti.nmd=s=>(s.paths=[],s.children||(s.children=[]),s);var Ac={};(()=>{"use strict";ti.r(Ac),ti.d(Ac,{activate:()=>iF,deactivate:()=>oF});var s=ti(91398),G=ti.n(s);const F=async(i,e,t)=>{const n=await Promise.resolve().then(ti.bind(ti,14523)),r=await Promise.resolve().then(ti.bind(ti,28643)),a=new n.AppInsightsCore,o=new r.PostChannel,d={instrumentationKey:i,endpointUrl:"https://mobile.events.data.microsoft.com/OneCollector/1.0",loggingLevelTelemetry:0,loggingLevelConsole:0,disableCookiesUsage:!0,disableDbgExt:!0,disableInstrumentationKeyValidation:!0,channels:[[o]]};if(t){d.extensionConfig={};const $={alwaysUseXhrOverride:!0,httpXHROverride:t};d.extensionConfig[o.identifier]=$}const C=e.workspace.getConfiguration("telemetry").get("internalTesting");return a.initialize(d,[]),a.addTelemetryInitializer($=>{var Y,ne;C&&($.ext=(Y=$.ext)!=null?Y:{},$.ext.utc=(ne=$.ext.utc)!=null?ne:{},$.ext.utc.flags=8462029)}),a},P=async(i,e,t)=>{const n=await F(i,e,t);return{logEvent:(a,o)=>{try{n==null||n.track({name:a,baseData:{name:a,properties:o==null?void 0:o.properties,measurements:o==null?void 0:o.measurements}})}catch(d){throw new Error(`Failed to log event to app insights!
`+d.message)}},flush:async()=>{try{n==null||n.unload()}catch(a){throw new Error(`Failed to flush app insights!
`+a.message)}}}};var L;(function(i){i[i.NOT_INSTANTIATED=0]="NOT_INSTANTIATED",i[i.INSTANTIATING=1]="INSTANTIATING",i[i.INSTANTIATED=2]="INSTANTIATED"})(L||(L={}));class D{constructor(e,t){this._instantiationStatus=L.NOT_INSTANTIATED,this._eventQueue=[],this._exceptionQueue=[],this._clientFactory=t,this._key=e}sendEventData(e,t){if(!this._telemetryClient){this._instantiationStatus!==L.INSTANTIATED&&this._eventQueue.push({eventName:e,data:t});return}this._telemetryClient.logEvent(e,t)}sendErrorData(e,t){if(!this._telemetryClient){this._instantiationStatus!==L.INSTANTIATED&&this._exceptionQueue.push({exception:e,data:t});return}}async flush(){this._telemetryClient&&(await this._telemetryClient.flush(),this._telemetryClient=void 0)}_flushQueues(){this._eventQueue.forEach(({eventName:e,data:t})=>this.sendEventData(e,t)),this._eventQueue=[],this._exceptionQueue.forEach(({exception:e,data:t})=>this.sendErrorData(e,t)),this._exceptionQueue=[]}instantiateSender(){this._instantiationStatus===L.NOT_INSTANTIATED&&(this._instantiationStatus=L.INSTANTIATING,this._clientFactory(this._key).then(e=>{this._telemetryClient=e,this._instantiationStatus=L.INSTANTIATED,this._flushQueues()}).catch(e=>{console.error(e),this._instantiationStatus=L.INSTANTIATED}))}}class A{constructor(e,t,n){this.telemetrySender=e,this.vscodeAPI=t,this.userOptIn=!1,this.errorOptIn=!1,this.disposables=[],this.telemetryLogger=this.vscodeAPI.env.createTelemetryLogger(this.telemetrySender,n),this.updateUserOptIn(),this.telemetryLogger.onDidChangeEnableStates(()=>{this.updateUserOptIn()})}updateUserOptIn(){this.errorOptIn=this.telemetryLogger.isErrorsEnabled,this.userOptIn=this.telemetryLogger.isUsageEnabled,(this.telemetryLogger.isErrorsEnabled||this.telemetryLogger.isUsageEnabled)&&this.telemetrySender.instantiateSender()}get telemetryLevel(){return this.errorOptIn&&this.userOptIn?"all":this.errorOptIn?"error":"off"}internalSendTelemetryEvent(e,t,n,r){r?this.telemetrySender.sendEventData(e,{properties:t,measurements:n}):this.telemetryLogger.logUsage(e,{properties:t,measurements:n})}sendTelemetryEvent(e,t,n){this.internalSendTelemetryEvent(e,t,n,!1)}sendDangerousTelemetryEvent(e,t,n){this.telemetrySender.instantiateSender(),this.internalSendTelemetryEvent(e,t,n,!0)}internalSendTelemetryErrorEvent(e,t,n,r){r?this.telemetrySender.sendEventData(e,{properties:t,measurements:n}):this.telemetryLogger.logError(e,{properties:t,measurements:n})}sendTelemetryErrorEvent(e,t,n){this.internalSendTelemetryErrorEvent(e,t,n,!1)}sendDangerousTelemetryErrorEvent(e,t,n){this.telemetrySender.instantiateSender(),this.internalSendTelemetryErrorEvent(e,t,n,!0)}internalSendTelemetryException(e,t,n,r){r?this.telemetrySender.sendErrorData(e,{properties:t,measurements:n}):this.telemetryLogger.logError(e,{properties:t,measurements:n})}sendTelemetryException(e,t,n){this.internalSendTelemetryException(e,t,n,!1)}sendDangerousTelemetryException(e,t,n){this.telemetrySender.instantiateSender(),this.internalSendTelemetryException(e,t,n,!0)}dispose(){return this.telemetryLogger.dispose(),Promise.all(this.disposables.map(e=>e.dispose()))}}class h{static applyReplacements(e,t){for(const n of Object.keys(e))for(const r of t)r.lookup.test(n)&&(r.replacementString!==void 0?e[n]=r.replacementString:delete e[n])}static shouldUseOneDataSystemSDK(e){return e.length===74&&e[32]==="-"&&e[41]==="-"&&e[46]==="-"&&e[51]==="-"&&e[56]==="-"&&e[69]==="-"}static getAdditionalCommonProperties(e){return{"common.os":e.platform,"common.nodeArch":e.architecture,"common.platformversion":(e.release||"").replace(/^(\d+)(\.\d+)?(\.\d+)?(.*)/,"$1$2$3"),"common.telemetryclientversion":"0.7.5"}}static getInstance(){return h._instance||(h._instance=new h),h._instance}}const m=async(i,e)=>{let t;try{const r=await Promise.resolve().then(ti.bind(ti,94731));t=new r.ApplicationInsights({instrumentationKey:i,disableAjaxTracking:!0,disableExceptionTracking:!0,disableFetchTracking:!0,disableCorrelationHeaders:!0,disableCookiesUsage:!0,autoTrackPageVisitTime:!1,emitLineDelimitedJson:!1,disableInstrumentationKeyValidation:!0}),t.initialize()}catch(r){return Promise.reject(r)}return{logEvent:(r,a)=>{const o={...a==null?void 0:a.properties,...a==null?void 0:a.measurements};e!=null&&e.length&&h.applyReplacements(o,e),t==null||t.track({name:r,data:o})},flush:async()=>{t==null||t.flush()}}};class g extends A{constructor(e,t){let n=o=>m(o,t);h.shouldUseOneDataSystemSDK(e)&&(n=o=>P(o,s));const r={release:navigator.appVersion,platform:"web",architecture:"web"},a=new D(e,n);if(e&&e.indexOf("AIF")===0)throw new Error("AIF keys are no longer supported. Please switch to 1DS keys for 1st party extensions");super(a,s,{additionalCommonProperties:h.getAdditionalCommonProperties(r)})}}var p=Object.defineProperty,k=(i,e,t)=>e in i?p(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t,b=(i,e,t)=>k(i,typeof e!="symbol"?e+"":e,t);function l(i){return{dispose:i}}function E(i){return l(()=>c(i))}function c(i){for(;i.length;){const e=i.pop();e==null||e.dispose()}}function v(i,e){return e.push(i),i}class f{constructor(){b(this,"_isDisposed",!1),b(this,"_disposables",[])}dispose(){this._isDisposed||(this._isDisposed=!0,c(this._disposables),this._disposables=[])}_register(e){return this._isDisposed?e.dispose():this._disposables.push(e),e}get isDisposed(){return this._isDisposed}}var w=Object.defineProperty,_=(i,e,t)=>e in i?w(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t,R=(i,e,t)=>_(i,typeof e!="symbol"?e+"":e,t);const M="PullRequestTree";class U extends f{constructor(){super(),R(this,"_outputChannel"),R(this,"_activePerfMarkers",new Map),this._outputChannel=this._register(s.window.createOutputChannel("GitHub Pull Request",{log:!0}))}startPerfMarker(e){const t=performance.now();this._outputChannel.appendLine(`[PERF_MARKER] Start ${e}`),this._activePerfMarkers.set(e,t)}endPerfMarker(e){const t=performance.now();this._outputChannel.appendLine(`[PERF_MARKER] End ${e}: ${t-this._activePerfMarkers.get(e)} ms`),this._activePerfMarkers.delete(e)}logString(e,t){let n;if(typeof e!="string"){const r=e;e instanceof Error?n=e.message:r.toString?n=r.toString():n=JSON.stringify(e)}else n=e;return t?`[${t}] ${n}`:n}trace(e,t){this._outputChannel.trace(this.logString(e,t))}debug(e,t){this._outputChannel.debug(this.logString(e,t))}appendLine(e,t){this._outputChannel.info(this.logString(e,t))}warn(e,t){this._outputChannel.warn(this.logString(e,t))}error(e,t){this._outputChannel.error(this.logString(e,t))}}const y=new U;var W=ti(57975),Q=ti(74353),Z=ti.n(Q),ee=ti(6279),J=ti.n(ee),O=ti(53581),H=ti.n(O),I=Object.defineProperty,u=(i,e,t)=>e in i?I(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t,N=(i,e,t)=>u(i,typeof e!="symbol"?e+"":e,t);Z().extend(J(),{thresholds:[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:6,d:"day"},{l:"w",r:7},{l:"ww",r:3,d:"week"},{l:"M",r:4},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}]}),Z().extend(H()),Z().updateLocale("en",{relativeTime:{future:"in %s",past:"%s ago",s:"seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"}});function q(i,e){const t=Object.create(null);return i.filter(n=>{const r=e(n);return t[r]?!1:(t[r]=!0,!0)})}function V(...i){return(e,t=null,n)=>{const r=combinedDisposable(i.map(a=>a(o=>e.call(t,o))));return n&&n.push(r),r}}function K(i,e){return(t,n=null,r)=>i(a=>e(a)&&t.call(n,a),null,r)}function j(i){return(e,t=null,n)=>{const r=i(a=>(r.dispose(),e.call(t,a)),null,n);return r}}function ie(i){return/^[a-zA-Z]:\\/.test(i)}function X(i,e,t=!1,n=W.sep){return(ie(i)||t)&&(i=i.toLowerCase(),e=e.toLowerCase()),i===e?!0:(i.charAt(i.length-1)!==n&&(i+=n),e.startsWith(i))}function B(i,e){return i.reduce((t,n)=>{const r=e(n);return t[r]=[...t[r]||[],n],t},Object.create(null))}class se extends Error{constructor(e){super(`Unreachable case: ${e}`)}}function Pe(i){return!!i.errors}function we(i){let e=!0;if(i.errors&&Array.isArray(i.errors)){for(const t of i.errors)if(!t.field||!t.value||!t.status){e=!1;break}}else e=!1;return e}function _e(i){if(!(i instanceof Error))return typeof i=="string"?i:i.gitErrorCode?`${i.message}. Please check git output for more details`:i.stderr?`${i.stderr}. Please check git output for more details`:"Error";let e=i.message,t;if(i.message==="Validation Failed"&&we(i))t=i.errors.map(n=>`Value "${n.value}" cannot be set for field ${n.field} (code: ${n.status})`).join(", ");else{if(i.message.startsWith("Validation Failed:"))return i.message;if(Pe(i)&&i.errors)return i.errors.map(n=>typeof n=="string"?n:n.message).join(", ")}return t&&(e=`${e}: ${t}`),e}async function Me(i){return new Promise(e=>{const t=i(n=>{t.dispose(),e(n)})})}async function te(i,e){return Promise.race([i,new Promise(t=>{setTimeout(()=>t(void 0),e)})])}function re(i){const e=Z()(i),t=Date.now();return e.diff(t,"month"),e.diff(t,"month")<1?e.fromNow():e.diff(t,"year")<1?`on ${e.format("MMM D")}`:`on ${e.format("MMM D, YYYY")}`}function ge(i,e,t=!1){i.startsWith("#")&&(i=i.substring(1));const n=Ee(i);if(e){const r=z(n.r,n.g,n.b),a=.6,o=.18,d=.3,S=(n.r*.2126+n.g*.7152+n.b*.0722)/255,C=Math.max(0,Math.min((S-a)*-1e3,1)),$=(a-S)*100*C,Y=Ee(T(r.h,r.s,r.l+$)),ne=`#${T(r.h,r.s,r.l+$)}`,le=t?`#${ye({...n,a:o})}`:`rgba(${n.r},${n.g},${n.b},${o})`,he=t?`#${ye({...Y,a:d})}`:`rgba(${Y.r},${Y.g},${Y.b},${d})`;return{textColor:ne,backgroundColor:le,borderColor:he}}else return{textColor:`#${oe(n)}`,backgroundColor:`#${i}`,borderColor:`#${i}`}}const ye=i=>{const e=[i.r,i.g,i.b];return i.a&&e.push(Math.floor(i.a*255)),e.map(t=>t.toString(16).padStart(2,"0")).join("")};function Ee(i){const e=/^([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(i);return e?{r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16)}:{r:0,g:0,b:0}}function z(i,e,t){i/=255,e/=255,t/=255;let n=Math.min(i,e,t),r=Math.max(i,e,t),a=r-n,o=0,d=0,S=0;return a==0?o=0:r==i?o=(e-t)/a%6:r==e?o=(t-i)/a+2:o=(i-e)/a+4,o=Math.round(o*60),o<0&&(o+=360),S=(r+n)/2,d=a==0?0:a/(1-Math.abs(2*S-1)),d=+(d*100).toFixed(1),S=+(S*100).toFixed(1),{h:o,s:d,l:S}}function T(i,e,t){const n=t/100,r=e*Math.min(n,1-n)/100,a=o=>{const d=(o+i/30)%12,S=n-r*Math.max(Math.min(d-3,9-d,1),-1);return Math.round(255*S).toString(16).padStart(2,"0")};return`${a(0)}${a(8)}${a(4)}`}function oe(i){return(.299*i.r+.587*i.g+.114*i.b)/255>.5?"000000":"ffffff"}var fe=(i=>(i[i.Period=46]="Period",i[i.Slash=47]="Slash",i[i.A=65]="A",i[i.Z=90]="Z",i[i.Backslash=92]="Backslash",i[i.a=97]="a",i[i.z=122]="z",i))(fe||{});function de(i,e){return i<e?-1:i>e?1:0}function ue(i,e,t=0,n=i.length,r=0,a=e.length){for(;t<n&&r<a;t++,r++){const S=i.charCodeAt(t),C=e.charCodeAt(r);if(S<C)return-1;if(S>C)return 1}const o=n-t,d=a-r;return o<d?-1:o>d?1:0}function ve(i,e){return Fe(i,e,0,i.length,0,e.length)}function Fe(i,e,t=0,n=i.length,r=0,a=e.length){for(;t<n&&r<a;t++,r++){let S=i.charCodeAt(t),C=e.charCodeAt(r);if(S===C)continue;const $=S-C;if(!($===32&&$e(C))&&!($===-32&&$e(S)))return Oe(S)&&Oe(C)?$:ue(i.toLowerCase(),e.toLowerCase(),t,n,r,a)}const o=n-t,d=a-r;return o<d?-1:o>d?1:0}function Oe(i){return i>=97&&i<=122}function $e(i){return i>=65&&i<=90}class qe{constructor(){N(this,"_value",""),N(this,"_pos",0)}reset(e){return this._value=e,this._pos=0,this}next(){return this._pos+=1,this}hasNext(){return this._pos<this._value.length-1}cmp(e){const t=e.charCodeAt(0),n=this._value.charCodeAt(this._pos);return t-n}value(){return this._value[this._pos]}}class Ve{constructor(e=!0){this._caseSensitive=e,N(this,"_value"),N(this,"_from"),N(this,"_to")}reset(e){return this._value=e,this._from=0,this._to=0,this.next()}hasNext(){return this._to<this._value.length}next(){this._from=this._to;let e=!0;for(;this._to<this._value.length;this._to++)if(this._value.charCodeAt(this._to)===46)if(e)this._from++;else break;else e=!1;return this}cmp(e){return this._caseSensitive?ue(e,this._value,0,e.length,this._from,this._to):Fe(e,this._value,0,e.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}}class Je{constructor(e=!0,t=!0){this._splitOnBackslash=e,this._caseSensitive=t,N(this,"_value"),N(this,"_from"),N(this,"_to")}reset(e){return this._value=e.replace(/\\$|\/$/,""),this._from=0,this._to=0,this.next()}hasNext(){return this._to<this._value.length}next(){this._from=this._to;let e=!0;for(;this._to<this._value.length;this._to++){const t=this._value.charCodeAt(this._to);if(t===47||this._splitOnBackslash&&t===92)if(e)this._from++;else break;else e=!1}return this}cmp(e){return this._caseSensitive?ue(e,this._value,0,e.length,this._from,this._to):Fe(e,this._value,0,e.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}}var me=(i=>(i[i.Scheme=1]="Scheme",i[i.Authority=2]="Authority",i[i.Path=3]="Path",i[i.Query=4]="Query",i[i.Fragment=5]="Fragment",i))(me||{});class ae{constructor(e){this._ignorePathCasing=e,N(this,"_pathIterator"),N(this,"_value"),N(this,"_states",[]),N(this,"_stateIdx",0)}reset(e){return this._value=e,this._states=[],this._value.scheme&&this._states.push(1),this._value.authority&&this._states.push(2),this._value.path&&(this._pathIterator=new Je(!1,!this._ignorePathCasing(e)),this._pathIterator.reset(e.path),this._pathIterator.value()&&this._states.push(3)),this._value.query&&this._states.push(4),this._value.fragment&&this._states.push(5),this._stateIdx=0,this}next(){return this._states[this._stateIdx]===3&&this._pathIterator.hasNext()?this._pathIterator.next():this._stateIdx+=1,this}hasNext(){return this._states[this._stateIdx]===3&&this._pathIterator.hasNext()||this._stateIdx<this._states.length-1}cmp(e){if(this._states[this._stateIdx]===1)return ve(e,this._value.scheme);if(this._states[this._stateIdx]===2)return ve(e,this._value.authority);if(this._states[this._stateIdx]===3)return this._pathIterator.cmp(e);if(this._states[this._stateIdx]===4)return de(e,this._value.query);if(this._states[this._stateIdx]===5)return de(e,this._value.fragment);throw new Error}value(){if(this._states[this._stateIdx]===1)return this._value.scheme;if(this._states[this._stateIdx]===2)return this._value.authority;if(this._states[this._stateIdx]===3)return this._pathIterator.value();if(this._states[this._stateIdx]===4)return this._value.query;if(this._states[this._stateIdx]===5)return this._value.fragment;throw new Error}}function ce(i){const t=i.extensionUri.path,n=t.lastIndexOf(".");return n===-1?!1:t.substr(n+1).length>1}class Re{constructor(){N(this,"segment"),N(this,"value"),N(this,"key"),N(this,"left"),N(this,"mid"),N(this,"right")}isEmpty(){return!this.left&&!this.mid&&!this.right&&!this.value}}class xe{constructor(e){N(this,"_iter"),N(this,"_root"),this._iter=e}static forUris(e=()=>!1){return new xe(new ae(e))}static forPaths(){return new xe(new Je)}static forStrings(){return new xe(new qe)}static forConfigKeys(){return new xe(new Ve)}clear(){this._root=void 0}set(e,t){const n=this._iter.reset(e);let r;for(this._root||(this._root=new Re,this._root.segment=n.value()),r=this._root;;){const o=n.cmp(r.segment);if(o>0)r.left||(r.left=new Re,r.left.segment=n.value()),r=r.left;else if(o<0)r.right||(r.right=new Re,r.right.segment=n.value()),r=r.right;else if(n.hasNext())n.next(),r.mid||(r.mid=new Re,r.mid.segment=n.value()),r=r.mid;else break}const a=r.value;return r.value=t,r.key=e,a}get(e){var t;return(t=this._getNode(e))==null?void 0:t.value}_getNode(e){const t=this._iter.reset(e);let n=this._root;for(;n;){const r=t.cmp(n.segment);if(r>0)n=n.left;else if(r<0)n=n.right;else if(t.hasNext())t.next(),n=n.mid;else break}return n}has(e){const t=this._getNode(e);return!((t==null?void 0:t.value)===void 0&&(t==null?void 0:t.mid)===void 0)}delete(e){return this._delete(e,!1)}deleteSuperstr(e){return this._delete(e,!0)}_delete(e,t){const n=this._iter.reset(e),r=[];let a=this._root;for(;a;){const o=n.cmp(a.segment);if(o>0)r.push([1,a]),a=a.left;else if(o<0)r.push([-1,a]),a=a.right;else if(n.hasNext())n.next(),r.push([0,a]),a=a.mid;else{for(t?(a.left=void 0,a.mid=void 0,a.right=void 0):a.value=void 0;r.length>0&&a.isEmpty();){let[d,S]=r.pop();switch(d){case 1:S.left=void 0;break;case 0:S.mid=void 0;break;case-1:S.right=void 0;break}a=S}break}}}findSubstr(e){const t=this._iter.reset(e);let n=this._root,r;for(;n;){const a=t.cmp(n.segment);if(a>0)n=n.left;else if(a<0)n=n.right;else if(t.hasNext())t.next(),r=n.value||r,n=n.mid;else break}return n&&n.value||r}findSuperstr(e){const t=this._iter.reset(e);let n=this._root;for(;n;){const r=t.cmp(n.segment);if(r>0)n=n.left;else if(r<0)n=n.right;else if(t.hasNext())t.next(),n=n.mid;else return n.mid?this._entries(n.mid):void 0}}forEach(e){for(const[t,n]of this)e(n,t)}*[Symbol.iterator](){yield*this._entries(this._root)}*_entries(e){e&&(yield*this._entries(e.left),e.value&&(yield[e.key,e.value]),yield*this._entries(e.mid),yield*this._entries(e.right))}}async function Ye(i,e,t){const n=[];i.replace(e,(o,...d)=>{const S=t(o,...d);return n.push(S),""});const r=await Promise.all(n);let a=0;return i.replace(e,()=>r[a++])}async function Ue(i,e){for(let t=0;t<i.length;t++)if(await e(i[t],t,i))return t;return-1}async function Ze(i,e,t){const n=Math.ceil(i.length/e);for(let r=0;r<n;r++){const a=i.slice(r*e,(r+1)*e);await Promise.all(a.map(t))}}function It(i){return i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function st(i,e,t="..."){return i.length<=e?i:`${i.substr(0,e)}${t}`}var ut=Object.defineProperty,wt=(i,e,t)=>e in i?ut(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t,vt=(i,e,t)=>wt(i,typeof e!="symbol"?e+"":e,t),_t=(i=>(i[i.Head=0]="Head",i[i.RemoteHead=1]="RemoteHead",i[i.Tag=2]="Tag",i))(_t||{}),oi=(i=>(i.BadConfigFile="BadConfigFile",i.AuthenticationFailed="AuthenticationFailed",i.NoUserNameConfigured="NoUserNameConfigured",i.NoUserEmailConfigured="NoUserEmailConfigured",i.NoRemoteRepositorySpecified="NoRemoteRepositorySpecified",i.NotAGitRepository="NotAGitRepository",i.NotAtRepositoryRoot="NotAtRepositoryRoot",i.Conflict="Conflict",i.StashConflict="StashConflict",i.UnmergedChanges="UnmergedChanges",i.PushRejected="PushRejected",i.RemoteConnectionError="RemoteConnectionError",i.DirtyWorkTree="DirtyWorkTree",i.CantOpenResource="CantOpenResource",i.GitNotFound="GitNotFound",i.CantCreatePipe="CantCreatePipe",i.CantAccessRemote="CantAccessRemote",i.RepositoryNotFound="RepositoryNotFound",i.RepositoryIsLocked="RepositoryIsLocked",i.BranchNotFullyMerged="BranchNotFullyMerged",i.NoRemoteReference="NoRemoteReference",i.InvalidBranchName="InvalidBranchName",i.BranchAlreadyExists="BranchAlreadyExists",i.NoLocalChanges="NoLocalChanges",i.NoStashFound="NoStashFound",i.LocalChangesOverwritten="LocalChangesOverwritten",i.NoUpstreamBranch="NoUpstreamBranch",i.IsInSubmodule="IsInSubmodule",i.WrongCase="WrongCase",i.CantLockRef="CantLockRef",i.CantRebaseMultipleBranches="CantRebaseMultipleBranches",i.PatchDoesNotApply="PatchDoesNotApply",i))(oi||{}),yt=(i=>(i[i.INDEX_MODIFIED=0]="INDEX_MODIFIED",i[i.INDEX_ADDED=1]="INDEX_ADDED",i[i.INDEX_DELETED=2]="INDEX_DELETED",i[i.INDEX_RENAMED=3]="INDEX_RENAMED",i[i.INDEX_COPIED=4]="INDEX_COPIED",i[i.MODIFIED=5]="MODIFIED",i[i.DELETED=6]="DELETED",i[i.UNTRACKED=7]="UNTRACKED",i[i.IGNORED=8]="IGNORED",i[i.INTENT_TO_ADD=9]="INTENT_TO_ADD",i[i.ADDED_BY_US=10]="ADDED_BY_US",i[i.ADDED_BY_THEM=11]="ADDED_BY_THEM",i[i.DELETED_BY_US=12]="DELETED_BY_US",i[i.DELETED_BY_THEM=13]="DELETED_BY_THEM",i[i.BOTH_ADDED=14]="BOTH_ADDED",i[i.BOTH_DELETED=15]="BOTH_DELETED",i[i.BOTH_MODIFIED=16]="BOTH_MODIFIED",i))(yt||{});const Pt=class Ec extends f{constructor(e){super(),this.repositoriesManager=e,vt(this,"_providers",new Map),vt(this,"_onDidOpenRepository",new s.EventEmitter),vt(this,"onDidOpenRepository",this._onDidOpenRepository.event),vt(this,"_onDidCloseRepository",new s.EventEmitter),vt(this,"onDidCloseRepository",this._onDidCloseRepository.event),vt(this,"_onDidChangeState",new s.EventEmitter),vt(this,"onDidChangeState",this._onDidChangeState.event),vt(this,"_onDidPublish",new s.EventEmitter),vt(this,"onDidPublish",this._onDidPublish.event),vt(this,"_titleAndDescriptionProviders",new Set),vt(this,"_reviewerCommentsProviders",new Set)}async getRepositoryWorkspace(e){for(const[,t]of this._providers)if(t.getRepositoryWorkspace)return t.getRepositoryWorkspace(e);return null}async clone(e,t){for(const[,n]of this._providers)if(n.clone)return n.clone(e,t);return null}get repositories(){const e=[];return this._providers.forEach(({repositories:t})=>{t&&e.push(...t)}),e}get state(){if(this._providers.size!==0){for(const[,{state:e}]of this._providers)if(e!=="initialized")return"uninitialized";return"initialized"}}_updateReposContext(){const e=Array.from(this._providers.values()).reduce((t,n)=>t+n.repositories.length,0);s.commands.executeCommand("setContext","gitHubOpenRepositoryCount",e)}registerGitProvider(e){y.appendLine("Registering git provider",Ec.ID);const t=this._nextHandle();return this._providers.set(t,e),this._register(e.onDidCloseRepository(n=>this._onDidCloseRepository.fire(n))),this._register(e.onDidOpenRepository(n=>{y.appendLine(`Repository ${n.rootUri} has been opened`,Ec.ID),this._updateReposContext(),this._onDidOpenRepository.fire(n)})),e.onDidChangeState&&this._register(e.onDidChangeState(n=>this._onDidChangeState.fire(n))),e.onDidPublish&&this._register(e.onDidPublish(n=>this._onDidPublish.fire(n))),this._updateReposContext(),e.repositories.forEach(n=>{this._onDidOpenRepository.fire(n)}),{dispose:()=>{const n=e==null?void 0:e.repositories;n&&n.length>0&&n.forEach(r=>this._onDidCloseRepository.fire(r)),this._providers.delete(t)}}}getGitProvider(e){const t=xe.forUris();return this._providers.forEach(n=>{const r=n.repositories;if(r&&r.length>0)for(const a of r)t.set(a.rootUri,n)}),t.findSubstr(e)}registerPostCommitCommandsProvider(e){const t=Array.from(this._providers.values()).map(n=>n.registerPostCommitCommandsProvider?n.registerPostCommitCommandsProvider(e):{dispose:()=>{}});return{dispose:()=>t.forEach(n=>n.dispose())}}_nextHandle(){return Ec._handlePool++}registerTitleAndDescriptionProvider(e,t){const n={title:e,provider:t};return this._titleAndDescriptionProviders.add(n),this._register({dispose:()=>this._titleAndDescriptionProviders.delete(n)})}getTitleAndDescriptionProvider(e){if(e){for(const t of this._titleAndDescriptionProviders)if(t.title.toLowerCase().includes(e.toLowerCase()))return t}else return this._titleAndDescriptionProviders.size>0?this._titleAndDescriptionProviders.values().next().value:void 0}registerReviewerCommentsProvider(e,t){const n={title:e,provider:t};return this._reviewerCommentsProviders.add(n),this._register({dispose:()=>this._reviewerCommentsProviders.delete(n)})}getReviewerCommentsProvider(){return this._reviewerCommentsProviders.size>0?this._reviewerCommentsProviders.values().next().value:void 0}async getRepositoryDescription(e){const t=this.repositoriesManager.getManagerForFile(e);if(t&&t.gitHubRepositories.length>0){const n=await t.gitHubRepositories[0].getMetadata(),r=t.activePullRequest;if(n)return{owner:n.owner.login,repositoryName:n.name,defaultBranch:n.default_branch,pullRequest:r?{title:r.title,url:r.html_url,number:r.number,id:r.id}:void 0}}}};vt(Pt,"ID","GitAPI"),vt(Pt,"_handlePool",0);let Hi=Pt;var Lt;(i=>{function e(t){return t&&t.thread&&t.text!==void 0}i.is=e})(Lt||(Lt={}));const Kt=new Map;function Zn(i,e,t){Kt.set(i,{handler:e,repoRootUri:t.rootUri.toString()})}function Xt(i){Kt.delete(i)}function Wt(i){const e=[];for(const t of Kt.values())t.handler.hasCommentThread(i)&&e.push(t);if(e.length>0)return e.sort((t,n)=>n.repoRootUri.length-t.repoRootUri.length),e[0].handler;y.warn(`Unable to find handler for comment thread ${i.gitHubThreadId}`)}function Gn(){for(const i of Kt.values())if(i.handler.commentController.activeCommentThread)return i.handler}var Ft;(i=>{i.VIEWED_FILES="github:viewedFiles",i.UNVIEWED_FILES="github:unviewedFiles",i.IN_REVIEW_MODE="github:inReviewMode",i.REPOS_NOT_IN_REVIEW_MODE="github:reposNotInReviewMode",i.REPOS_IN_REVIEW_MODE="github:reposInReviewMode",i.ACTIVE_PR_COUNT="github:activePRCount",i.LOADING_PRS_TREE="github:loadingPrsTree",i.LOADING_ISSUES_TREE="github:loadingIssuesTree",i.CREATE_PR_PERMISSIONS="github:createPrPermissions",i.RESOLVING_CONFLICTS="github:resolvingConflicts",i.PULL_REQUEST_DESCRIPTION_VISIBLE="github:pullRequestDescriptionVisible",i.ACTIVE_COMMENT_HAS_SUGGESTION="github:activeCommentHasSuggestion",i.CREATING="pr:creating",i.NOTIFICATION_COUNT="github:notificationCount"})(Ft||(Ft={}));var ht;(i=>{i.OPEN_CHAT="workbench.action.chat.open",i.NEW_CHAT="workbench.action.chat.newChat",i.CHAT_SETUP_ACTION_ID="workbench.action.chat.triggerSetup",i.QUICK_CHAT_OPEN="workbench.action.quickchat.toggle";function e(a,o,d){return s.commands.executeCommand(a,o,d)}i.executeCommand=e;function t(a){return e(`${a}.focus`)}i.focusView=t;function n(a,o){return e("setContext",a,o)}i.setContext=n;function r(a,o){return e("vscode.openFolder",a,o)}i.openFolder=r})(ht||(ht={}));const bt="githubPullRequests",Le="terminalLinksHandler",et="createOnPublishBranch",Tt="branchListTimeout",dt="useReviewMode",mt="fileListLayout",ni="hideViewedFiles",Ot="fileAutoReveal",jt="assignCreated",qt="pushBranch",gt="ignoredPullRequestBranches",Rt="ignoreSubmodules",Dt="neverIgnoreDefaultBranch",di="overrideDefaultBranch",ri="pullBranch",Gt="pullRequestDescription",_i="notifications",ci="postCreate",Di="postDone",Ii="checkoutPullRequestBaseBranch",Zi="checkoutDefaultBranch",fi="queries",Yi="labelCreated",ji="focusedMode",ei="createDraft",li="quickDiff",Ti="setAutoMerge",zi="showPullRequestNumberInTree",hi="defaultMergeMethod",Ai="defaultDeletionMethod",Xi="selectLocalBranch",un="selectRemote",Wi="deleteBranchAfterMerge",dn="remotes",Nn="pullPullRequestBranchBeforeCheckout",sn="upstreamRemote",Cn="defaultCreateOption",_n="createDefaultBaseBranch",Ci="githubIssues",Fi="assignWhenWorking",gi="issueCompletions",xn="userCompletions",oa="enabled",Vn="ignoreUserCompletionTrigger",Kr="createInsertFormat",lr="issueBranchTitle",Qr="useBranchForIssues",la="workingBaseBranch",Tn="workingIssueFormatScm",ns="ignoreCompletionTrigger",xr="issueCompletionFormatScm",Gr="createIssueTriggers",xa="default",ba="ignoreMilestones",ks="allowFetch",wa="alwaysPromptForNewIssueRepo",ka="issueAvatarDisplay",Vs="experimental.chat",js="experimental.useQuickChat",ua="experimental.notificationsViewPageSize",_s="experimental.notificationsScore",Oa="webviewRefreshInterval",rs="devMode",Cr="git",as="pullBeforeCheckout",wn="openDiffOnClick",Yr="showInlineOpenFileAction",Qe="autoStash",kt="branchWhitespaceChar",St="branchRandomName.dictionary",xt="github-enterprise",zt="uri",Ri="editor",bi="wordWrap",tt="comments",ct="openView",ot="workbench",Ut="colorTheme",Jt=`${bt}.codingAgent`,ui="enabled",vi="autoCommitAndPush",Ji="promptForConfirmation",Gi="codeLens";function ur(){const i={merged:!1,closed:!1},e=s.workspace.getConfiguration(bt).get(dt,i);return e!=="auto"?e:s.env.appHost==="vscode.dev"||s.env.appHost==="github.dev"?{merged:!0,closed:!0}:i}function Jr(i,e,t,n,r){const a=s.workspace.onDidChangeConfiguration(o=>{o.affectsConfiguration(`${i}.${e}`)&&t()&&(n(),a.dispose())});r.push(a)}function xi(i,e){var t,n;const r=s.workspace.getConfiguration(i),a=r.inspect(fi),o=(n=(t=r.get(fi))==null?void 0:t.find(S=>S.label===e))==null?void 0:n.query,d=s.window.createQuickPick();d.title=s.l10n.t('Edit Query "{0}"',e!=null?e:""),d.value=o!=null?o:"",d.items=[{iconPath:new s.ThemeIcon("pencil"),label:s.l10n.t("Save edits"),alwaysShow:!0},{iconPath:new s.ThemeIcon("add"),label:s.l10n.t("Add new query"),alwaysShow:!0},{iconPath:new s.ThemeIcon("settings"),label:s.l10n.t("Edit in settings.json"),alwaysShow:!0},{iconPath:new s.ThemeIcon("sparkle"),label:s.l10n.t("Edit with AI"),alwaysShow:!0}],d.activeItems=[],d.selectedItems=[],d.onDidAccept(async()=>{var S;if(d.busy=!0,d.selectedItems[0]===d.items[0]){const C=d.value;if(C!==o){let $,Y;a!=null&&a.workspaceFolderValue?(Y=s.ConfigurationTarget.WorkspaceFolder,$=a.workspaceFolderValue):a!=null&&a.workspaceValue?(Y=s.ConfigurationTarget.Workspace,$=a.workspaceValue):(Y=s.ConfigurationTarget.Global,$=(S=r.get(fi))!=null?S:[]),$.find(ne=>ne.label===e).query=C,await r.update(fi,$,Y)}d.dispose()}else d.selectedItems[0]===d.items[1]?(dr(r,a,d.value),d.dispose()):d.selectedItems[0]===d.items[2]?(Zr(r,a,e),d.dispose()):d.selectedItems[0]===d.items[3]&&(d.ignoreFocusOut=!0,await Vr(d.value),d.busy=!1)}),d.onDidHide(()=>d.dispose()),d.show()}function dr(i,e,t){const n=s.window.createInputBox();n.title=s.l10n.t("Enter the title of the new query"),n.placeholder=s.l10n.t("Title"),n.step=1,n.totalSteps=2,n.show();let r;n.onDidAccept(async()=>{if(n.validationMessage="",n.step===1){if(!n.value){n.validationMessage=s.l10n.t("Title is required");return}r=n.value,n.value=t,n.title=s.l10n.t("Enter the GitHub search query"),n.step++}else{if(!n.value){n.validationMessage=s.l10n.t("Query is required");return}if(n.busy=!0,n.value&&r)if(e!=null&&e.workspaceValue)e.workspaceValue.push({label:r,query:n.value}),await i.update(fi,e.workspaceValue,s.ConfigurationTarget.Workspace);else{const a=i.get(fi);a==null||a.push({label:r,query:n.value}),await i.update(fi,a,s.ConfigurationTarget.Global)}n.dispose()}}),n.onDidHide(()=>n.dispose())}async function Zr(i,e,t){let n;if(e!=null&&e.workspaceValue)n="workbench.action.openWorkspaceSettingsFile";else{const a=i.get(fi);e!=null&&e.defaultValue&&JSON.stringify(e==null?void 0:e.defaultValue)===JSON.stringify(a)&&await i.update(fi,e.defaultValue,s.ConfigurationTarget.Global),n="workbench.action.openSettingsJson"}await s.commands.executeCommand(n);const r=s.window.activeTextEditor;if(r){const o=r.document.getText().search(t);if(o>=0){const d=r.document.positionAt(o);r.revealRange(new s.Range(d,d)),r.selection=new s.Selection(d,d)}}}async function Vr(i){const e=s.l10n.t("I want to edit this GitHub search query: \n```\n{0}\n```\nOutput only one, minimally modified query in a codeblock.\nModify it so that it ",i);await s.commands.executeCommand(ht.NEW_CHAT,{inputValue:e,isPartialQuery:!0,agentMode:!1})}var On=ti(48287),ss=ti(74945),_a=ti.n(ss);const jn="GitHub.vscode-pull-request-github",La="git",os="ghpr",Ao="initialize",ls="statechange",da="github:focusedReview";var Ss=Object.defineProperty,zs=(i,e,t)=>e in i?Ss(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t,Ua=(i,e,t)=>zs(i,typeof e!="symbol"?e+"":e,t);let cr;const Es=class Rc extends s.Disposable{constructor(e){super(()=>c(this.disposables)),this._storageUri=e,Ua(this,"SUBPATH","temp"),Ua(this,"disposables",[]),Ua(this,"persistInSessionDisposables",[])}get path(){return s.Uri.joinPath(this._storageUri,this.SUBPATH)}dispose(){c(this.disposables),c(this.persistInSessionDisposables)}addDisposable(e,t){if(t)this.persistInSessionDisposables.push(e);else{if(this.disposables.length>30){const n=this.disposables.shift();n==null||n.dispose()}this.disposables.push(e)}}async writeState(e,t,n,r,a){let o=this.path,d;if(s.workspace.workspaceFolders&&s.workspace.workspaceFolders.length>0){const $=s.workspace.workspaceFolders.find(Y=>X(Y.uri.fsPath,a.fsPath)||X(a.fsPath,Y.uri.fsPath));d=$==null?void 0:$.name}!d&&s.workspace.workspaceFolders&&s.workspace.workspaceFolders.length>0&&(d=s.workspace.workspaceFolders[0].name),d&&(o=s.Uri.joinPath(o,d)),e&&(o=s.Uri.joinPath(o,e)),await s.workspace.fs.createDirectory(o);const S=s.Uri.joinPath(o,t);await s.workspace.fs.writeFile(S,n);const C={dispose:()=>{try{return s.workspace.fs.delete(S,{recursive:!0})}catch{}}};return this.addDisposable(C,r),S}async readState(e,t,n){let r=this.path,a;if(s.workspace.workspaceFolders&&s.workspace.workspaceFolders.length>0){const d=s.workspace.workspaceFolders.find(S=>X(S.uri.fsPath,n.fsPath)||X(n.fsPath,S.uri.fsPath));a=d==null?void 0:d.name}!a&&s.workspace.workspaceFolders&&s.workspace.workspaceFolders.length>0&&(a=s.workspace.workspaceFolders[0].name),a&&(r=s.Uri.joinPath(r,a)),r=s.Uri.joinPath(r,e);const o=s.Uri.joinPath(r,t);return s.workspace.fs.readFile(o)}static async init(e){if(e.globalStorageUri&&!cr){cr=new Rc(e.globalStorageUri);try{await s.workspace.fs.delete(cr.path,{recursive:!0})}catch(t){y.appendLine(`Error in initialization: ${t.message}`,Rc.ID)}try{await s.workspace.fs.createDirectory(cr.path)}catch(t){y.appendLine(`Error in initialization: ${t.message}`,Rc.ID)}return e.subscriptions.push(cr),cr}}static async write(e,t,n,r=!1,a){if(cr)return cr.writeState(e,t,n,r,a)}static async read(e,t,n){if(cr)return cr.readState(e,t,n)}};Ua(Es,"ID","TemporaryState");let Ba=Es;var on=(i=>(i[i.Query=0]="Query",i[i.All=1]="All",i[i.LocalPullRequest=2]="LocalPullRequest",i))(on||{}),Tr=(i=>(i.Approve="APPROVE",i.RequestChanges="REQUEST_CHANGES",i.Comment="COMMENT",i))(Tr||{}),Li=(i=>(i.Open="OPEN",i.Merged="MERGED",i.Closed="CLOSED",i))(Li||{}),Ln=(i=>(i[i.Mergeable=0]="Mergeable",i[i.NotMergeable=1]="NotMergeable",i[i.Conflict=2]="Conflict",i[i.Unknown=3]="Unknown",i[i.Behind=4]="Behind",i))(Ln||{}),qa=(i=>(i[i.AwaitingChecks=0]="AwaitingChecks",i[i.Locked=1]="Locked",i[i.Mergeable=2]="Mergeable",i[i.Queued=3]="Queued",i[i.Unmergeable=4]="Unmergeable",i))(qa||{}),ca=(i=>(i.User="User",i.Organization="Organization",i.Mannequin="Mannequin",i.Bot="Bot",i))(ca||{});function mn(i){switch(i){case"Organization":return"Organization";case"Mannequin":return"Mannequin";case"Bot":return"Bot";default:return"User"}}function jr(i){var e;return Ar(i)?i.id:(e=i.specialDisplayName)!=null?e:i.login}function Mo(i){var e,t,n;return Ar(i)?(t=(e=i.name)!=null?e:i.slug)!=null?t:i.id:(n=i.specialDisplayName)!=null?n:i.login}function Ar(i){return!!i.org}function Po(i){const e=i;return!!e.isAuthor&&!!e.isCommenter}var Mr=(i=>(i.Issue="Issue",i.PullRequest="PullRequest",i))(Mr||{}),Un=(i=>(i.Success="success",i.Failure="failure",i.Neutral="neutral",i.Pending="pending",i.Unknown="unknown",i))(Un||{}),Ws=ti(32017),Bu=ti.n(Ws),Cl=ti(77358),Tl=ti.n(Cl);function Fo(i,e){const t=s.window.createWebviewPanel("emptyCommit",s.l10n.t("Commit {0}",e.substring(0,7)),s.ViewColumn.Active,{enableScripts:!1,localResourceRoots:[]});t.iconPath={light:s.Uri.joinPath(i,"resources","icons","codicons","git-commit.svg"),dark:s.Uri.joinPath(i,"resources","icons","codicons","git-commit.svg")},t.webview.html=qu()}function qu(){return`<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Empty Commit</title>
	<style>
		body {
			margin: 0;
			padding: 0;
			height: 100vh;
			display: flex;
			align-items: center;
			justify-content: center;
		}
		.container {
			text-align: center;
			padding: 2rem;
			max-width: 600px;
		}
		.icon {
			margin-bottom: 1.5rem;
			opacity: 0.6;
		}
		.icon svg {
			width: 64px;
			height: 64px;
			fill: currentColor;
		}
		.title {
			font-size: 1.25rem;
			font-weight: 400;
			margin-bottom: 0.5rem;
			color: var(--vscode-foreground);
		}
		.subtitle {
			font-size: 0.95rem;
			color: var(--vscode-descriptionForeground);
		}
	</style>
</head>
<body>
	<div class="container">
		<div class="icon">
			<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" fill="currentColor"><path d="M9.99994 11.999H4.99994V10.999H9.99994V11.999Z"/><path d="M7.99994 5.99902H9.99994V6.99902H7.99994V9H6.99994V6.99902H4.99994V5.99902H6.99994V4H7.99994V5.99902Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M10.7099 1.28906L13.7099 4.28906L13.9999 4.99902V13.999L12.9999 14.999H2.99994L1.99994 13.999V1.99902L2.99994 0.999023H9.99994L10.7099 1.28906ZM2.99994 13.999H12.9999V4.99902L9.99994 1.99902H2.99994V13.999Z"/></svg>
		</div>
		<div class="title">No changes to show.</div>
		<div class="subtitle">This commit has no content.</div>
	</div>
</body>
</html>`}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Al=function(i,e){return Al=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)n.hasOwnProperty(r)&&(t[r]=n[r])},Al(i,e)};function Bn(i,e){Al(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var Mt=function(){return Mt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},Mt.apply(this,arguments)};function Ks(i,e){var t={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&e.indexOf(n)<0&&(t[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(i);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(t[n[r]]=i[n[r]]);return t}function Ml(i,e,t,n){var r=arguments.length,a=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(i,e,t,n);else for(var d=i.length-1;d>=0;d--)(o=i[d])&&(a=(r<3?o(a):r>3?o(e,t,a):o(e,t))||a);return r>3&&a&&Object.defineProperty(e,t,a),a}function gm(i,e){return function(t,n){e(t,n,i)}}function Do(i,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(i,e)}function fa(i,e,t,n){function r(a){return a instanceof t?a:new t(function(o){o(a)})}return new(t||(t=Promise))(function(a,o){function d($){try{C(n.next($))}catch(Y){o(Y)}}function S($){try{C(n.throw($))}catch(Y){o(Y)}}function C($){$.done?a($.value):r($.value).then(d,S)}C((n=n.apply(i,e||[])).next())})}function Sa(i,e){var t={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,r,a,o;return o={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function d(C){return function($){return S([C,$])}}function S(C){if(n)throw new TypeError("Generator is already executing.");for(;t;)try{if(n=1,r&&(a=C[0]&2?r.return:C[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,C[1])).done)return a;switch(r=0,a&&(C=[C[0]&2,a.value]),C[0]){case 0:case 1:a=C;break;case 4:return t.label++,{value:C[1],done:!1};case 5:t.label++,r=C[1],C=[0];continue;case 7:C=t.ops.pop(),t.trys.pop();continue;default:if(a=t.trys,!(a=a.length>0&&a[a.length-1])&&(C[0]===6||C[0]===2)){t=0;continue}if(C[0]===3&&(!a||C[1]>a[0]&&C[1]<a[3])){t.label=C[1];break}if(C[0]===6&&t.label<a[1]){t.label=a[1],a=C;break}if(a&&t.label<a[2]){t.label=a[2],t.ops.push(C);break}a[2]&&t.ops.pop(),t.trys.pop();continue}C=e.call(i,t)}catch($){C=[6,$],r=0}finally{n=a=0}if(C[0]&5)throw C[1];return{value:C[0]?C[1]:void 0,done:!0}}}function Mc(i,e,t,n){n===void 0&&(n=t),i[n]=e[t]}function Pc(i,e){for(var t in i)t!=="default"&&!e.hasOwnProperty(t)&&(e[t]=i[t])}function Pl(i){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&i[e],n=0;if(t)return t.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&n>=i.length&&(i=void 0),{value:i&&i[n++],done:!i}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Fc(i,e){var t=typeof Symbol=="function"&&i[Symbol.iterator];if(!t)return i;var n=t.call(i),r,a=[],o;try{for(;(e===void 0||e-- >0)&&!(r=n.next()).done;)a.push(r.value)}catch(d){o={error:d}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(o)throw o.error}}return a}function $u(){for(var i=[],e=0;e<arguments.length;e++)i=i.concat(Fc(arguments[e]));return i}function pn(){for(var i=0,e=0,t=arguments.length;e<t;e++)i+=arguments[e].length;for(var n=Array(i),r=0,e=0;e<t;e++)for(var a=arguments[e],o=0,d=a.length;o<d;o++,r++)n[r]=a[o];return n}function An(i){return this instanceof An?(this.v=i,this):new An(i)}function Dc(i,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=t.apply(i,e||[]),r,a=[];return r={},o("next"),o("throw"),o("return"),r[Symbol.asyncIterator]=function(){return this},r;function o(ne){n[ne]&&(r[ne]=function(le){return new Promise(function(he,ke){a.push([ne,le,he,ke])>1||d(ne,le)})})}function d(ne,le){try{S(n[ne](le))}catch(he){Y(a[0][3],he)}}function S(ne){ne.value instanceof An?Promise.resolve(ne.value.v).then(C,$):Y(a[0][2],ne)}function C(ne){d("next",ne)}function $(ne){d("throw",ne)}function Y(ne,le){ne(le),a.shift(),a.length&&d(a[0][0],a[0][1])}}function qn(i){var e,t;return e={},n("next"),n("throw",function(r){throw r}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(r,a){e[r]=i[r]?function(o){return(t=!t)?{value:An(i[r](o)),done:r==="return"}:a?a(o):o}:a}}function vm(i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=i[Symbol.asyncIterator],t;return e?e.call(i):(i=typeof Pl=="function"?Pl(i):i[Symbol.iterator](),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(a){t[a]=i[a]&&function(o){return new Promise(function(d,S){o=i[a](o),r(d,S,o.done,o.value)})}}function r(a,o,d,S){Promise.resolve(S).then(function(C){a({value:C,done:d})},o)}}function us(i,e){return Object.defineProperty?Object.defineProperty(i,"raw",{value:e}):i.raw=e,i}function Rs(i){if(i&&i.__esModule)return i;var e={};if(i!=null)for(var t in i)Object.hasOwnProperty.call(i,t)&&(e[t]=i[t]);return e.default=i,e}function Ns(i){return i&&i.__esModule?i:{default:i}}function Cs(i,e){if(!e.has(i))throw new TypeError("attempted to get private field on non-instance");return e.get(i)}function ym(i,e,t){if(!e.has(i))throw new TypeError("attempted to set private field on non-instance");return e.set(i,t),t}var Ea=ti(9111),Fl=ti(65606),Dl="Invariant Violation",Hu=Object.setPrototypeOf,Ic=Hu===void 0?function(i,e){return i.__proto__=e,i}:Hu,Xn=function(i){Bn(e,i);function e(t){t===void 0&&(t=Dl);var n=i.call(this,typeof t=="number"?Dl+": "+t+" (see https://github.com/apollographql/invariant-packages)":t)||this;return n.framesToPop=1,n.name=Dl,Ic(n,e.prototype),n}return e}(Error);function en(i,e){if(!i)throw new Xn(e)}function Il(i){return function(){return console[i].apply(console,arguments)}}(function(i){i.warn=Il("warn"),i.error=Il("error")})(en||(en={}));var Gu={env:{}};if(typeof Fl=="object")Gu=Fl;else try{Function("stub","process = stub")(Gu)}catch{}var xc=null;const bm=null;var Oc=ti(72492),Lc=ti.n(Oc),Vu=Object.prototype,ju=Vu.toString,Uc=Vu.hasOwnProperty,xl=new Map;function $n(i,e){try{return Ol(i,e)}finally{xl.clear()}}function Ol(i,e){if(i===e)return!0;var t=ju.call(i),n=ju.call(e);if(t!==n)return!1;switch(t){case"[object Array]":if(i.length!==e.length)return!1;case"[object Object]":{if(Qs(i,e))return!0;var r=Object.keys(i),a=Object.keys(e),o=r.length;if(o!==a.length)return!1;for(var d=0;d<o;++d)if(!Uc.call(e,r[d]))return!1;for(var d=0;d<o;++d){var S=r[d];if(!Ol(i[S],e[S]))return!1}return!0}case"[object Error]":return i.name===e.name&&i.message===e.message;case"[object Number]":if(i!==i)return e!==e;case"[object Boolean]":case"[object Date]":return+i==+e;case"[object RegExp]":case"[object String]":return i==""+e;case"[object Map]":case"[object Set]":{if(i.size!==e.size)return!1;if(Qs(i,e))return!0;for(var C=i.entries(),$=t==="[object Map]";;){var Y=C.next();if(Y.done)break;var ne=Y.value,le=ne[0],he=ne[1];if(!e.has(le)||$&&!Ol(he,e.get(le)))return!1}return!0}}return!1}function Qs(i,e){var t=xl.get(i);if(t){if(t.has(e))return!0}else xl.set(i,t=new Set);return t.add(e),!1}const Bc=null;var qc=ti(65606);function $c(i){return["StringValue","BooleanValue","EnumValue"].indexOf(i.kind)>-1}function wm(i){return["IntValue","FloatValue"].indexOf(i.kind)>-1}function Hc(i){return i.kind==="StringValue"}function zu(i){return i.kind==="BooleanValue"}function km(i){return i.kind==="IntValue"}function Wu(i){return i.kind==="FloatValue"}function Ll(i){return i.kind==="Variable"}function Ul(i){return i.kind==="ObjectValue"}function Io(i){return i.kind==="ListValue"}function Gc(i){return i.kind==="EnumValue"}function Vc(i){return i.kind==="NullValue"}function Ts(i,e,t,n){if(km(t)||Wu(t))i[e.value]=Number(t.value);else if(zu(t)||Hc(t))i[e.value]=t.value;else if(Ul(t)){var r={};t.fields.map(function(o){return Ts(r,o.name,o.value,n)}),i[e.value]=r}else if(Ll(t)){var a=(n||{})[t.name.value];i[e.value]=a}else if(Io(t))i[e.value]=t.values.map(function(o){var d={};return Ts(d,e,o,n),d[e.value]});else if(Gc(t))i[e.value]=t.value;else if(Vc(t))i[e.value]=null;else throw new Xn(17)}function Te(i,e){var t=null;i.directives&&(t={},i.directives.forEach(function(r){t[r.name.value]={},r.arguments&&r.arguments.forEach(function(a){var o=a.name,d=a.value;return Ts(t[r.name.value],o,d,e)})}));var n=null;return i.arguments&&i.arguments.length&&(n={},i.arguments.forEach(function(r){var a=r.name,o=r.value;return Ts(n,a,o,e)})),Ae(i.name.value,n,t)}var be=["connection","include","skip","client","rest","export"];function Ae(i,e,t){if(t&&t.connection&&t.connection.key)if(t.connection.filter&&t.connection.filter.length>0){var n=t.connection.filter?t.connection.filter:[];n.sort();var r=e,a={};return n.forEach(function(S){a[S]=r[S]}),t.connection.key+"("+JSON.stringify(a)+")"}else return t.connection.key;var o=i;if(e){var d=Lc()(e);o+="("+d+")"}return t&&Object.keys(t).forEach(function(S){be.indexOf(S)===-1&&(t[S]&&Object.keys(t[S]).length?o+="@"+S+"("+JSON.stringify(t[S])+")":o+="@"+S)}),o}function Ie(i,e){if(i.arguments&&i.arguments.length){var t={};return i.arguments.forEach(function(n){var r=n.name,a=n.value;return Ts(t,r,a,e)}),t}return null}function We(i){return i.alias?i.alias.value:i.name.value}function Xe(i){return i.kind==="Field"}function at(i){return i.kind==="InlineFragment"}function ft(i){return i&&i.type==="id"&&typeof i.generated=="boolean"}function Vt(i,e){return e===void 0&&(e=!1),Mt({type:"id",generated:e},typeof i=="string"?{id:i,typename:void 0}:i)}function Qt(i){return i!=null&&typeof i=="object"&&i.type==="json"}function ii(i){throw new InvariantError(18)}function Si(i,e){switch(e===void 0&&(e=ii),i.kind){case"Variable":return e(i);case"NullValue":return null;case"IntValue":return parseInt(i.value,10);case"FloatValue":return parseFloat(i.value);case"ListValue":return i.values.map(function(o){return Si(o,e)});case"ObjectValue":{for(var t={},n=0,r=i.fields;n<r.length;n++){var a=r[n];t[a.name.value]=Si(a.value,e)}return t}default:return i.value}}function Ui(i,e){if(i.directives&&i.directives.length){var t={};return i.directives.forEach(function(n){t[n.name.value]=Ie(n,e)}),t}return null}function Ei(i,e){return e===void 0&&(e={}),Xr(i.directives).every(function(t){var n=t.directive,r=t.ifArgument,a=!1;return r.value.kind==="Variable"?(a=e[r.value.name.value],en(a!==void 0,13)):a=r.value.value,n.name.value==="skip"?!a:a})}function Ki(i){var e=[];return(0,Ea.visit)(i,{Directive:function(t){e.push(t.name.value)}}),e}function qi(i,e){return Ki(e).some(function(t){return i.indexOf(t)>-1})}function lt(i){return i&&qi(["client"],i)&&qi(["export"],i)}function Sn(i){var e=i.name.value;return e==="skip"||e==="include"}function Xr(i){return i?i.filter(Sn).map(function(e){var t=e.arguments,n=e.name.value;en(t&&t.length===1,14);var r=t[0];en(r.name&&r.name.value==="if",15);var a=r.value;return en(a&&(a.kind==="Variable"||a.kind==="BooleanValue"),16),{directive:e,ifArgument:r}}):[]}function ds(i,e){var t=e,n=[];i.definitions.forEach(function(a){if(a.kind==="OperationDefinition")throw new Xn(11);a.kind==="FragmentDefinition"&&n.push(a)}),typeof t=="undefined"&&(en(n.length===1,12),t=n[0].name.value);var r=Mt(Mt({},i),{definitions:pn([{kind:"OperationDefinition",operation:"query",selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:t}}]}}],i.definitions)});return r}function $a(i){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];return e.forEach(function(n){typeof n=="undefined"||n===null||Object.keys(n).forEach(function(r){i[r]=n[r]})}),i}function _m(i){Ha(i);var e=i.definitions.filter(function(t){return t.kind==="OperationDefinition"&&t.operation==="mutation"})[0];return invariant(e,1),e}function Ha(i){en(i&&i.kind==="Document",2);var e=i.definitions.filter(function(t){return t.kind!=="FragmentDefinition"}).map(function(t){if(t.kind!=="OperationDefinition")throw new Xn(3);return t});return en(e.length<=1,4),i}function Ra(i){return Ha(i),i.definitions.filter(function(e){return e.kind==="OperationDefinition"})[0]}function Bl(i){var e=Ra(i);return invariant(e,5),e}function ql(i){return i.definitions.filter(function(e){return e.kind==="OperationDefinition"&&e.name}).map(function(e){return e.name.value})[0]||null}function xo(i){return i.definitions.filter(function(e){return e.kind==="FragmentDefinition"})}function Ku(i){var e=Ra(i);return en(e&&e.operation==="query",6),e}function $l(i){en(i.kind==="Document",7),en(i.definitions.length<=1,8);var e=i.definitions[0];return en(e.kind==="FragmentDefinition",9),e}function Ys(i){Ha(i);for(var e,t=0,n=i.definitions;t<n.length;t++){var r=n[t];if(r.kind==="OperationDefinition"){var a=r.operation;if(a==="query"||a==="mutation"||a==="subscription")return r}r.kind==="FragmentDefinition"&&!e&&(e=r)}if(e)return e;throw new Xn(10)}function Oo(i){i===void 0&&(i=[]);var e={};return i.forEach(function(t){e[t.name.value]=t}),e}function Js(i){if(i&&i.variableDefinitions&&i.variableDefinitions.length){var e=i.variableDefinitions.filter(function(t){var n=t.defaultValue;return n}).map(function(t){var n=t.variable,r=t.defaultValue,a={};return Ts(a,n.name,r),a});return $a.apply(void 0,pn([{}],e))}return{}}function Qu(i){var e=new Set;if(i.variableDefinitions)for(var t=0,n=i.variableDefinitions;t<n.length;t++){var r=n[t];e.add(r.variable.name.value)}return e}function Hl(i,e,t){var n=0;return i.forEach(function(r,a){e.call(this,r,a,i)&&(i[n++]=r)},t),i.length=n,i}var Gl={kind:"Field",name:{kind:"Name",value:"__typename"}};function Vl(i,e){return i.selectionSet.selections.every(function(t){return t.kind==="FragmentSpread"&&Vl(e[t.name.value],e)})}function Zs(i){return Vl(Ra(i)||$l(i),Oo(xo(i)))?null:i}function jl(i){return function(t){return i.some(function(n){return n.name&&n.name===t.name.value||n.test&&n.test(t)})}}function Yu(i,e){var t=Object.create(null),n=[],r=Object.create(null),a=[],o=Zs((0,Ea.visit)(e,{Variable:{enter:function(d,S,C){C.kind!=="VariableDefinition"&&(t[d.name.value]=!0)}},Field:{enter:function(d){if(i&&d.directives){var S=i.some(function(C){return C.remove});if(S&&d.directives&&d.directives.some(jl(i)))return d.arguments&&d.arguments.forEach(function(C){C.value.kind==="Variable"&&n.push({name:C.value.name.value})}),d.selectionSet&&zn(d.selectionSet).forEach(function(C){a.push({name:C.name.value})}),null}}},FragmentSpread:{enter:function(d){r[d.name.value]=!0}},Directive:{enter:function(d){if(jl(i)(d))return null}}}));return o&&Hl(n,function(d){return!t[d.name]}).length&&(o=nn(n,o)),o&&Hl(a,function(d){return!r[d.name]}).length&&(o=rn(a,o)),o}function jc(i){return(0,Ea.visit)(Ha(i),{SelectionSet:{enter:function(e,t,n){if(!(n&&n.kind==="OperationDefinition")){var r=e.selections;if(r){var a=r.some(function(d){return Xe(d)&&(d.name.value==="__typename"||d.name.value.lastIndexOf("__",0)===0)});if(!a){var o=n;if(!(Xe(o)&&o.directives&&o.directives.some(function(d){return d.name.value==="export"})))return Mt(Mt({},e),{selections:pn(r,[Gl])})}}}}}})}var Ju={test:function(i){var e=i.name.value==="connection";return e&&(!i.arguments||i.arguments.some(function(t){return t.name.value==="key"})),e}};function it(i){return Yu([Ju],Ha(i))}function $t(i,e,t){return t===void 0&&(t=!0),e&&e.selections&&e.selections.some(function(n){return Zt(i,n,t)})}function Zt(i,e,t){return t===void 0&&(t=!0),Xe(e)?e.directives?e.directives.some(jl(i))||t&&$t(i,e.selectionSet,t):!1:!0}function pi(i,e){Ha(e);var t;return Zs(visit(e,{SelectionSet:{enter:function(n,r,a,o){var d=o.join("-");if(!t||d===t||!d.startsWith(t))if(n.selections){var S=n.selections.filter(function(C){return Zt(i,C)});return $t(i,n,!1)&&(t=d),__assign(__assign({},n),{selections:S})}else return null}}}))}function Qi(i){return function(t){return i.some(function(n){return t.value&&t.value.kind==="Variable"&&t.value.name&&(n.name===t.value.name.value||n.test&&n.test(t))})}}function nn(i,e){var t=Qi(i);return Zs((0,Ea.visit)(e,{OperationDefinition:{enter:function(n){return Mt(Mt({},n),{variableDefinitions:n.variableDefinitions.filter(function(r){return!i.some(function(a){return a.name===r.variable.name.value})})})}},Field:{enter:function(n){var r=i.some(function(o){return o.remove});if(r){var a=0;if(n.arguments.forEach(function(o){t(o)&&(a+=1)}),a===1)return null}}},Argument:{enter:function(n){if(t(n))return null}}}))}function rn(i,e){function t(n){if(i.some(function(r){return r.name===n.name.value}))return null}return Zs((0,Ea.visit)(e,{FragmentSpread:{enter:t},FragmentDefinition:{enter:t}}))}function zn(i){var e=[];return i.selections.forEach(function(t){(Xe(t)||at(t))&&t.selectionSet?zn(t.selectionSet).forEach(function(n){return e.push(n)}):t.kind==="FragmentSpread"&&e.push(t)}),e}function er(i){var e=Ys(i),t=e.operation;if(t==="query")return i;var n=(0,Ea.visit)(i,{OperationDefinition:{enter:function(r){return Mt(Mt({},r),{operation:"query"})}}});return n}function tr(i){Ha(i);var e=Yu([{test:function(t){return t.name.value==="client"},remove:!0}],i);return e&&(e=(0,Ea.visit)(e,{FragmentDefinition:{enter:function(t){if(t.selectionSet){var n=t.selectionSet.selections.every(function(r){return Xe(r)&&r.name.value==="__typename"});if(n)return null}}}})),e}var ir=typeof WeakMap=="function"&&!(typeof navigator=="object"&&navigator.product==="ReactNative"),Ga=Object.prototype.toString;function Wn(i){return zl(i,new Map)}function zl(i,e){switch(Ga.call(i)){case"[object Array]":{if(e.has(i))return e.get(i);var t=i.slice(0);return e.set(i,t),t.forEach(function(r,a){t[a]=zl(r,e)}),t}case"[object Object]":{if(e.has(i))return e.get(i);var n=Object.create(Object.getPrototypeOf(i));return e.set(i,n),Object.keys(i).forEach(function(r){n[r]=zl(i[r],e)}),n}default:return i}}function jb(){return typeof qc!="undefined"?"production":"development"}function zc(i){return jb()===i}function Sm(){return zc("production")===!0}function zb(){return zc("development")===!0}function Wc(){return zc("test")===!0}function Kc(i){try{return i()}catch(e){console.error&&console.error(e)}}function Xs(i){return i.errors&&i.errors.length}function Em(i){return Object.freeze(i),Object.getOwnPropertyNames(i).forEach(function(e){i[e]!==null&&(typeof i[e]=="object"||typeof i[e]=="function")&&!Object.isFrozen(i[e])&&Em(i[e])}),i}function cF(i){if(zb()||Wc()){var e=typeof Symbol=="function"&&typeof Symbol("")=="string";if(!e)return Em(i)}return i}var Wb=Object.prototype.hasOwnProperty;function Rm(){for(var i=[],e=0;e<arguments.length;e++)i[e]=arguments[e];return Qc(i)}function Qc(i){var e=i[0]||{},t=i.length;if(t>1){var n=[];e=Yc(e,n);for(var r=1;r<t;++r)e=Cm(e,i[r],n)}return e}function Nm(i){return i!==null&&typeof i=="object"}function Cm(i,e,t){return Nm(e)&&Nm(i)?(Object.isExtensible&&!Object.isExtensible(i)&&(i=Yc(i,t)),Object.keys(e).forEach(function(n){var r=e[n];if(Wb.call(i,n)){var a=i[n];r!==a&&(i[n]=Cm(Yc(a,t),r,t))}else i[n]=r}),i):e}function Yc(i,e){return i!==null&&typeof i=="object"&&e.indexOf(i)<0&&(Array.isArray(i)?i=i.slice(0):i=Mt({__proto__:Object.getPrototypeOf(i)},i),e.push(i)),i}var Tm=Object.create({});function fF(i,e){e===void 0&&(e="warn"),!Sm()&&!Tm[i]&&(Wc()||(Tm[i]=!0),e==="error"?console.error(i):console.warn(i))}function hF(i){return JSON.parse(JSON.stringify(i))}var Kb=ti(16064),Qb=ti.n(Kb),Yb=Qb();const Or=Yb;function Jb(i){for(var e=["query","operationName","variables","extensions","context"],t=0,n=Object.keys(i);t<n.length;t++){var r=n[t];if(e.indexOf(r)<0)throw new Xn(2)}return i}var mF=function(i){Bn(e,i);function e(t,n){var r=i.call(this,t)||this;return r.link=n,r}return e}(Error);function Zu(i){return i.request.length<=1}function pF(i){var e=!1;return new Promise(function(t,n){i.subscribe({next:function(r){e||(e=!0,t(r))},error:n})})}var gF=null;function vF(i){return new Observable(function(e){i.then(function(t){e.next(t),e.complete()}).catch(e.error.bind(e))})}function Am(i){return new Or(function(e){e.error(i)})}function Zb(i){var e={variables:i.variables||{},extensions:i.extensions||{},operationName:i.operationName,query:i.query};return e.operationName||(e.operationName=typeof e.query!="string"?ql(e.query):""),e}function Xb(i,e){var t=Mt({},i),n=function(a){typeof a=="function"?t=Mt({},t,a(t)):t=Mt({},t,a)},r=function(){return Mt({},t)};return Object.defineProperty(e,"setContext",{enumerable:!1,value:n}),Object.defineProperty(e,"getContext",{enumerable:!1,value:r}),Object.defineProperty(e,"toKey",{enumerable:!1,value:function(){return ew(e)}}),e}function ew(i){var e=i.query,t=i.variables,n=i.operationName;return JSON.stringify([n,e,t])}function Mm(i,e){return e?e(i):Or.of()}function Wl(i){return typeof i=="function"?new Na(i):i}function Pm(){return new Na(function(){return Or.of()})}function tw(i){return i.length===0?Pm():i.map(Wl).reduce(function(e,t){return e.concat(t)})}function Fm(i,e,t){var n=Wl(e),r=Wl(t||new Na(Mm));return Zu(n)&&Zu(r)?new Na(function(a){return i(a)?n.request(a)||Or.of():r.request(a)||Or.of()}):new Na(function(a,o){return i(a)?n.request(a,o)||Or.of():r.request(a,o)||Or.of()})}var iw=function(i,e){var t=Wl(i);if(Zu(t))return t;var n=Wl(e);return Zu(n)?new Na(function(r){return t.request(r,function(a){return n.request(a)||Or.of()})||Or.of()}):new Na(function(r,a){return t.request(r,function(o){return n.request(o,a)||Or.of()})||Or.of()})},Na=function(){function i(e){e&&(this.request=e)}return i.prototype.split=function(e,t,n){return this.concat(Fm(e,t,n||new i(Mm)))},i.prototype.concat=function(e){return iw(this,e)},i.prototype.request=function(e,t){throw new Xn(1)},i.empty=Pm,i.from=tw,i.split=Fm,i.execute=Xu,i}();function Xu(i,e){return i.request(Xb(e.context,Zb(Jb(e))))||Or.of()}var nw=ti(9423),Hn;(function(i){i[i.loading=1]="loading",i[i.setVariables=2]="setVariables",i[i.fetchMore=3]="fetchMore",i[i.refetch=4]="refetch",i[i.poll=6]="poll",i[i.ready=7]="ready",i[i.error=8]="error"})(Hn||(Hn={}));function Dm(i){return i<7}var Kl=function(i){Bn(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype[nw.A]=function(){return this},e.prototype["@@observable"]=function(){return this},e}(Or);function Lo(i){return Array.isArray(i)&&i.length>0}function rw(i){return i.hasOwnProperty("graphQLErrors")}var aw=function(i){var e="";return Lo(i.graphQLErrors)&&i.graphQLErrors.forEach(function(t){var n=t?t.message:"Error message not found.";e+="GraphQL error: "+n+`
`}),i.networkError&&(e+="Network error: "+i.networkError.message+`
`),e=e.replace(/\n$/,""),e},As=function(i){Bn(e,i);function e(t){var n=t.graphQLErrors,r=t.networkError,a=t.errorMessage,o=t.extraInfo,d=i.call(this,a)||this;return d.graphQLErrors=n||[],d.networkError=r||null,a?d.message=a:d.message=aw(d),d.extraInfo=o,d.__proto__=e.prototype,d}return e}(Error),eo;(function(i){i[i.normal=1]="normal",i[i.refetch=2]="refetch",i[i.poll=3]="poll"})(eo||(eo={}));var sw=function(i,e){return e===void 0&&(e="none"),i&&(i.networkError||e==="none"&&Lo(i.graphQLErrors))},ow=function(i){Bn(e,i);function e(t){var n=t.queryManager,r=t.options,a=t.shouldSubscribe,o=a===void 0?!0:a,d=i.call(this,function(C){return d.onSubscribe(C)})||this;d.observers=new Set,d.subscriptions=new Set,d.isTornDown=!1,d.options=r,d.variables=r.variables||{},d.queryId=n.generateQueryId(),d.shouldSubscribe=o;var S=Ra(r.query);return d.queryName=S&&S.name&&S.name.value,d.queryManager=n,d}return e.prototype.result=function(){var t=this;return new Promise(function(n,r){var a={next:function(d){n(d),t.observers.delete(a),t.observers.size||t.queryManager.removeQuery(t.queryId),setTimeout(function(){o.unsubscribe()},0)},error:r},o=t.subscribe(a)})},e.prototype.currentResult=function(){var t=this.getCurrentResult();return t.data===void 0&&(t.data={}),t},e.prototype.getCurrentResult=function(){if(this.isTornDown){var t=this.lastResult;return{data:!this.lastError&&t&&t.data||void 0,error:this.lastError,loading:!1,networkStatus:Hn.error}}var n=this.queryManager.getCurrentQueryResult(this),r=n.data,a=n.partial,o=this.queryManager.queryStore.get(this.queryId),d,S=this.options.fetchPolicy,C=S==="network-only"||S==="no-cache";if(o){var $=o.networkStatus;if(sw(o,this.options.errorPolicy))return{data:void 0,loading:!1,networkStatus:$,error:new As({graphQLErrors:o.graphQLErrors,networkError:o.networkError})};o.variables&&(this.options.variables=Mt(Mt({},this.options.variables),o.variables),this.variables=this.options.variables),d={data:r,loading:Dm($),networkStatus:$},o.graphQLErrors&&this.options.errorPolicy==="all"&&(d.errors=o.graphQLErrors)}else{var Y=C||a&&S!=="cache-only";d={data:r,loading:Y,networkStatus:Y?Hn.loading:Hn.ready}}return a||this.updateLastResult(Mt(Mt({},d),{stale:!1})),Mt(Mt({},d),{partial:a})},e.prototype.isDifferentFromLastResult=function(t){var n=this.lastResultSnapshot;return!(n&&t&&n.networkStatus===t.networkStatus&&n.stale===t.stale&&$n(n.data,t.data))},e.prototype.getLastResult=function(){return this.lastResult},e.prototype.getLastError=function(){return this.lastError},e.prototype.resetLastResults=function(){delete this.lastResult,delete this.lastResultSnapshot,delete this.lastError,this.isTornDown=!1},e.prototype.resetQueryStoreErrors=function(){var t=this.queryManager.queryStore.get(this.queryId);t&&(t.networkError=null,t.graphQLErrors=[])},e.prototype.refetch=function(t){var n=this.options.fetchPolicy;return n==="cache-only"?Promise.reject(new Xn(1)):(n!=="no-cache"&&n!=="cache-and-network"&&(n="network-only"),$n(this.variables,t)||(this.variables=Mt(Mt({},this.variables),t)),$n(this.options.variables,this.variables)||(this.options.variables=Mt(Mt({},this.options.variables),this.variables)),this.queryManager.fetchQuery(this.queryId,Mt(Mt({},this.options),{fetchPolicy:n}),eo.refetch))},e.prototype.fetchMore=function(t){var n=this;en(t.updateQuery,2);var r=Mt(Mt({},t.query?t:Mt(Mt(Mt({},this.options),t),{variables:Mt(Mt({},this.variables),t.variables)})),{fetchPolicy:"network-only"}),a=this.queryManager.generateQueryId();return this.queryManager.fetchQuery(a,r,eo.normal,this.queryId).then(function(o){return n.updateQuery(function(d){return t.updateQuery(d,{fetchMoreResult:o.data,variables:r.variables})}),n.queryManager.stopQuery(a),o},function(o){throw n.queryManager.stopQuery(a),o})},e.prototype.subscribeToMore=function(t){var n=this,r=this.queryManager.startGraphQLSubscription({query:t.document,variables:t.variables}).subscribe({next:function(a){var o=t.updateQuery;o&&n.updateQuery(function(d,S){var C=S.variables;return o(d,{subscriptionData:a,variables:C})})},error:function(a){if(t.onError){t.onError(a);return}}});return this.subscriptions.add(r),function(){n.subscriptions.delete(r)&&r.unsubscribe()}},e.prototype.setOptions=function(t){var n=this.options.fetchPolicy;this.options=Mt(Mt({},this.options),t),t.pollInterval?this.startPolling(t.pollInterval):t.pollInterval===0&&this.stopPolling();var r=t.fetchPolicy;return this.setVariables(this.options.variables,n!==r&&(n==="cache-only"||n==="standby"||r==="network-only"),t.fetchResults)},e.prototype.setVariables=function(t,n,r){return n===void 0&&(n=!1),r===void 0&&(r=!0),this.isTornDown=!1,t=t||this.variables,!n&&$n(t,this.variables)?this.observers.size&&r?this.result():Promise.resolve():(this.variables=this.options.variables=t,this.observers.size?this.queryManager.fetchQuery(this.queryId,this.options):Promise.resolve())},e.prototype.updateQuery=function(t){var n=this.queryManager,r=n.getQueryWithPreviousResult(this.queryId),a=r.previousResult,o=r.variables,d=r.document,S=Kc(function(){return t(a,{variables:o})});S&&(n.dataStore.markUpdateQueryResult(d,o,S),n.broadcastQueries())},e.prototype.stopPolling=function(){this.queryManager.stopPollingQuery(this.queryId),this.options.pollInterval=void 0},e.prototype.startPolling=function(t){Im(this),this.options.pollInterval=t,this.queryManager.startPollingQuery(this.options,this.queryId)},e.prototype.updateLastResult=function(t){var n=this.lastResult;return this.lastResult=t,this.lastResultSnapshot=this.queryManager.assumeImmutableResults?t:Wn(t),n},e.prototype.onSubscribe=function(t){var n=this;try{var r=t._subscription._observer;r&&!r.error&&(r.error=lw)}catch{}var a=!this.observers.size;return this.observers.add(t),t.next&&this.lastResult&&t.next(this.lastResult),t.error&&this.lastError&&t.error(this.lastError),a&&this.setUpQuery(),function(){n.observers.delete(t)&&!n.observers.size&&n.tearDownQuery()}},e.prototype.setUpQuery=function(){var t=this,n=this,r=n.queryManager,a=n.queryId;this.shouldSubscribe&&r.addObservableQuery(a,this),this.options.pollInterval&&(Im(this),r.startPollingQuery(this.options,a));var o=function(d){t.updateLastResult(Mt(Mt({},t.lastResult),{errors:d.graphQLErrors,networkStatus:Hn.error,loading:!1})),Jc(t.observers,"error",t.lastError=d)};r.observeQuery(a,this.options,{next:function(d){if(t.lastError||t.isDifferentFromLastResult(d)){var S=t.updateLastResult(d),C=t.options,$=C.query,Y=C.variables,ne=C.fetchPolicy;r.transform($).hasClientExports?r.getLocalState().addExportedVariables($,Y).then(function(le){var he=t.variables;t.variables=t.options.variables=le,!d.loading&&S&&ne!=="cache-only"&&r.transform($).serverQuery&&!$n(he,le)?t.refetch():Jc(t.observers,"next",d)}):Jc(t.observers,"next",d)}},error:o}).catch(o)},e.prototype.tearDownQuery=function(){var t=this.queryManager;this.isTornDown=!0,t.stopPollingQuery(this.queryId),this.subscriptions.forEach(function(n){return n.unsubscribe()}),this.subscriptions.clear(),t.removeObservableQuery(this.queryId),t.stopQuery(this.queryId),this.observers.clear()},e}(Kl);function lw(i){}function Jc(i,e,t){var n=[];i.forEach(function(r){return r[e]&&n.push(r)}),n.forEach(function(r){return r[e](t)})}function Im(i){var e=i.options.fetchPolicy;en(e!=="cache-first"&&e!=="cache-only",3)}var uw=function(){function i(){this.store={}}return i.prototype.getStore=function(){return this.store},i.prototype.get=function(e){return this.store[e]},i.prototype.initMutation=function(e,t,n){this.store[e]={mutation:t,variables:n||{},loading:!0,error:null}},i.prototype.markMutationError=function(e,t){var n=this.store[e];n&&(n.loading=!1,n.error=t)},i.prototype.markMutationResult=function(e){var t=this.store[e];t&&(t.loading=!1,t.error=null)},i.prototype.reset=function(){this.store={}},i}(),dw=function(){function i(){this.store={}}return i.prototype.getStore=function(){return this.store},i.prototype.get=function(e){return this.store[e]},i.prototype.initQuery=function(e){var t=this.store[e.queryId];en(!t||t.document===e.document||$n(t.document,e.document),19);var n=!1,r=null;e.storePreviousVariables&&t&&t.networkStatus!==Hn.loading&&($n(t.variables,e.variables)||(n=!0,r=t.variables));var a;n?a=Hn.setVariables:e.isPoll?a=Hn.poll:e.isRefetch?a=Hn.refetch:a=Hn.loading;var o=[];t&&t.graphQLErrors&&(o=t.graphQLErrors),this.store[e.queryId]={document:e.document,variables:e.variables,previousVariables:r,networkError:null,graphQLErrors:o,networkStatus:a,metadata:e.metadata},typeof e.fetchMoreForQueryId=="string"&&this.store[e.fetchMoreForQueryId]&&(this.store[e.fetchMoreForQueryId].networkStatus=Hn.fetchMore)},i.prototype.markQueryResult=function(e,t,n){!this.store||!this.store[e]||(this.store[e].networkError=null,this.store[e].graphQLErrors=Lo(t.errors)?t.errors:[],this.store[e].previousVariables=null,this.store[e].networkStatus=Hn.ready,typeof n=="string"&&this.store[n]&&(this.store[n].networkStatus=Hn.ready))},i.prototype.markQueryError=function(e,t,n){!this.store||!this.store[e]||(this.store[e].networkError=t,this.store[e].networkStatus=Hn.error,typeof n=="string"&&this.markQueryResultClient(n,!0))},i.prototype.markQueryResultClient=function(e,t){var n=this.store&&this.store[e];n&&(n.networkError=null,n.previousVariables=null,t&&(n.networkStatus=Hn.ready))},i.prototype.stopQuery=function(e){delete this.store[e]},i.prototype.reset=function(e){var t=this;Object.keys(this.store).forEach(function(n){e.indexOf(n)<0?t.stopQuery(n):t.store[n].networkStatus=Hn.loading})},i}();function cw(i){return i.charAt(0).toUpperCase()+i.slice(1)}var xm=function(){function i(e){var t=e.cache,n=e.client,r=e.resolvers,a=e.fragmentMatcher;this.cache=t,n&&(this.client=n),r&&this.addResolvers(r),a&&this.setFragmentMatcher(a)}return i.prototype.addResolvers=function(e){var t=this;this.resolvers=this.resolvers||{},Array.isArray(e)?e.forEach(function(n){t.resolvers=Rm(t.resolvers,n)}):this.resolvers=Rm(this.resolvers,e)},i.prototype.setResolvers=function(e){this.resolvers={},this.addResolvers(e)},i.prototype.getResolvers=function(){return this.resolvers||{}},i.prototype.runResolvers=function(e){var t=e.document,n=e.remoteResult,r=e.context,a=e.variables,o=e.onlyRunForcedResolvers,d=o===void 0?!1:o;return fa(this,void 0,void 0,function(){return Sa(this,function(S){return t?[2,this.resolveDocument(t,n.data,r,a,this.fragmentMatcher,d).then(function(C){return Mt(Mt({},n),{data:C.result})})]:[2,n]})})},i.prototype.setFragmentMatcher=function(e){this.fragmentMatcher=e},i.prototype.getFragmentMatcher=function(){return this.fragmentMatcher},i.prototype.clientQuery=function(e){return qi(["client"],e)&&this.resolvers?e:null},i.prototype.serverQuery=function(e){return this.resolvers?tr(e):e},i.prototype.prepareContext=function(e){e===void 0&&(e={});var t=this.cache,n=Mt(Mt({},e),{cache:t,getCacheKey:function(r){if(t.config)return t.config.dataIdFromObject(r);en(!1,6)}});return n},i.prototype.addExportedVariables=function(e,t,n){return t===void 0&&(t={}),n===void 0&&(n={}),fa(this,void 0,void 0,function(){return Sa(this,function(r){return e?[2,this.resolveDocument(e,this.buildRootValueFromCache(e,t)||{},this.prepareContext(n),t).then(function(a){return Mt(Mt({},t),a.exportedVariables)})]:[2,Mt({},t)]})})},i.prototype.shouldForceResolvers=function(e){var t=!1;return(0,Ea.visit)(e,{Directive:{enter:function(n){if(n.name.value==="client"&&n.arguments&&(t=n.arguments.some(function(r){return r.name.value==="always"&&r.value.kind==="BooleanValue"&&r.value.value===!0}),t))return Ea.BREAK}}}),t},i.prototype.buildRootValueFromCache=function(e,t){return this.cache.diff({query:er(e),variables:t,returnPartialData:!0,optimistic:!1}).result},i.prototype.resolveDocument=function(e,t,n,r,a,o){return n===void 0&&(n={}),r===void 0&&(r={}),a===void 0&&(a=function(){return!0}),o===void 0&&(o=!1),fa(this,void 0,void 0,function(){var d,S,C,$,Y,ne,le,he,ke;return Sa(this,function(pe){return d=Ys(e),S=xo(e),C=Oo(S),$=d.operation,Y=$?cw($):"Query",ne=this,le=ne.cache,he=ne.client,ke={fragmentMap:C,context:Mt(Mt({},n),{cache:le,client:he}),variables:r,fragmentMatcher:a,defaultOperationType:Y,exportedVariables:{},onlyRunForcedResolvers:o},[2,this.resolveSelectionSet(d.selectionSet,t,ke).then(function(Ne){return{result:Ne,exportedVariables:ke.exportedVariables}})]})})},i.prototype.resolveSelectionSet=function(e,t,n){return fa(this,void 0,void 0,function(){var r,a,o,d,S,C=this;return Sa(this,function($){return r=n.fragmentMap,a=n.context,o=n.variables,d=[t],S=function(Y){return fa(C,void 0,void 0,function(){var ne,le;return Sa(this,function(he){return Ei(Y,o)?Xe(Y)?[2,this.resolveField(Y,t,n).then(function(ke){var pe;typeof ke!="undefined"&&d.push((pe={},pe[We(Y)]=ke,pe))})]:(at(Y)?ne=Y:(ne=r[Y.name.value],en(ne,7)),ne&&ne.typeCondition&&(le=ne.typeCondition.name.value,n.fragmentMatcher(t,le,a))?[2,this.resolveSelectionSet(ne.selectionSet,t,n).then(function(ke){d.push(ke)})]:[2]):[2]})})},[2,Promise.all(e.selections.map(S)).then(function(){return Qc(d)})]})})},i.prototype.resolveField=function(e,t,n){return fa(this,void 0,void 0,function(){var r,a,o,d,S,C,$,Y,ne,le=this;return Sa(this,function(he){return r=n.variables,a=e.name.value,o=We(e),d=a!==o,S=t[o]||t[a],C=Promise.resolve(S),(!n.onlyRunForcedResolvers||this.shouldForceResolvers(e))&&($=t.__typename||n.defaultOperationType,Y=this.resolvers&&this.resolvers[$],Y&&(ne=Y[d?a:o],ne&&(C=Promise.resolve(ne(t,Ie(e,r),n.context,{field:e,fragmentMap:n.fragmentMap}))))),[2,C.then(function(ke){if(ke===void 0&&(ke=S),e.directives&&e.directives.forEach(function(pe){pe.name.value==="export"&&pe.arguments&&pe.arguments.forEach(function(Ne){Ne.name.value==="as"&&Ne.value.kind==="StringValue"&&(n.exportedVariables[Ne.value.value]=ke)})}),!e.selectionSet||ke==null)return ke;if(Array.isArray(ke))return le.resolveSubSelectedArray(e,ke,n);if(e.selectionSet)return le.resolveSelectionSet(e.selectionSet,ke,n)})]})})},i.prototype.resolveSubSelectedArray=function(e,t,n){var r=this;return Promise.all(t.map(function(a){if(a===null)return null;if(Array.isArray(a))return r.resolveSubSelectedArray(e,a,n);if(e.selectionSet)return r.resolveSelectionSet(e.selectionSet,a,n)}))},i}();function Om(i){var e=new Set,t=null;return new Kl(function(n){return e.add(n),t=t||i.subscribe({next:function(r){e.forEach(function(a){return a.next&&a.next(r)})},error:function(r){e.forEach(function(a){return a.error&&a.error(r)})},complete:function(){e.forEach(function(r){return r.complete&&r.complete()})}}),function(){e.delete(n)&&!e.size&&t&&(t.unsubscribe(),t=null)}})}function fw(i,e){return new Kl(function(t){var n=t.next,r=t.error,a=t.complete,o=0,d=!1,S={next:function($){++o,new Promise(function(Y){Y(e($))}).then(function(Y){--o,n&&n.call(t,Y),d&&S.complete()},function(Y){--o,r&&r.call(t,Y)})},error:function($){r&&r.call(t,$)},complete:function(){d=!0,o||a&&a.call(t)}},C=i.subscribe(S);return function(){return C.unsubscribe()}})}var hw=Object.prototype.hasOwnProperty,mw=function(){function i(e){var t=e.link,n=e.queryDeduplication,r=n===void 0?!1:n,a=e.store,o=e.onBroadcast,d=o===void 0?function(){}:o,S=e.ssrMode,C=S===void 0?!1:S,$=e.clientAwareness,Y=$===void 0?{}:$,ne=e.localState,le=e.assumeImmutableResults;this.mutationStore=new uw,this.queryStore=new dw,this.clientAwareness={},this.idCounter=1,this.queries=new Map,this.fetchQueryRejectFns=new Map,this.transformCache=new(ir?WeakMap:Map),this.inFlightLinkObservables=new Map,this.pollingInfoByQueryId=new Map,this.link=t,this.queryDeduplication=r,this.dataStore=a,this.onBroadcast=d,this.clientAwareness=Y,this.localState=ne||new xm({cache:a.getCache()}),this.ssrMode=C,this.assumeImmutableResults=!!le}return i.prototype.stop=function(){var e=this;this.queries.forEach(function(t,n){e.stopQueryNoBroadcast(n)}),this.fetchQueryRejectFns.forEach(function(t){t(new Xn(8))})},i.prototype.mutate=function(e){var t=e.mutation,n=e.variables,r=e.optimisticResponse,a=e.updateQueries,o=e.refetchQueries,d=o===void 0?[]:o,S=e.awaitRefetchQueries,C=S===void 0?!1:S,$=e.update,Y=e.errorPolicy,ne=Y===void 0?"none":Y,le=e.fetchPolicy,he=e.context,ke=he===void 0?{}:he;return fa(this,void 0,void 0,function(){var pe,Ne,Ce,De=this;return Sa(this,function(He){switch(He.label){case 0:return en(t,9),en(!le||le==="no-cache",10),pe=this.generateQueryId(),t=this.transform(t).document,this.setQuery(pe,function(){return{document:t}}),n=this.getVariables(t,n),this.transform(t).hasClientExports?[4,this.localState.addExportedVariables(t,n,ke)]:[3,2];case 1:n=He.sent(),He.label=2;case 2:return Ne=function(){var Ke={};return a&&De.queries.forEach(function(Ge,je){var nt=Ge.observableQuery;if(nt){var Nt=nt.queryName;Nt&&hw.call(a,Nt)&&(Ke[je]={updater:a[Nt],query:De.queryStore.get(je)})}}),Ke},this.mutationStore.initMutation(pe,t,n),this.dataStore.markMutationInit({mutationId:pe,document:t,variables:n,updateQueries:Ne(),update:$,optimisticResponse:r}),this.broadcastQueries(),Ce=this,[2,new Promise(function(Ke,Ge){var je,nt;Ce.getObservableFromLink(t,Mt(Mt({},ke),{optimisticResponse:r}),n,!1).subscribe({next:function(Nt){if(Xs(Nt)&&ne==="none"){nt=new As({graphQLErrors:Nt.errors});return}Ce.mutationStore.markMutationResult(pe),le!=="no-cache"&&Ce.dataStore.markMutationResult({mutationId:pe,result:Nt,document:t,variables:n,updateQueries:Ne(),update:$}),je=Nt},error:function(Nt){Ce.mutationStore.markMutationError(pe,Nt),Ce.dataStore.markMutationComplete({mutationId:pe,optimisticResponse:r}),Ce.broadcastQueries(),Ce.setQuery(pe,function(){return{document:null}}),Ge(new As({networkError:Nt}))},complete:function(){if(nt&&Ce.mutationStore.markMutationError(pe,nt),Ce.dataStore.markMutationComplete({mutationId:pe,optimisticResponse:r}),Ce.broadcastQueries(),nt){Ge(nt);return}typeof d=="function"&&(d=d(je));var Nt=[];Lo(d)&&d.forEach(function(Et){if(typeof Et=="string")Ce.queries.forEach(function(Pi){var Se=Pi.observableQuery;Se&&Se.queryName===Et&&Nt.push(Se.refetch())});else{var ki={query:Et.query,variables:Et.variables,fetchPolicy:"network-only"};Et.context&&(ki.context=Et.context),Nt.push(Ce.query(ki))}}),Promise.all(C?Nt:[]).then(function(){Ce.setQuery(pe,function(){return{document:null}}),ne==="ignore"&&je&&Xs(je)&&delete je.errors,Ke(je)})}})})]}})})},i.prototype.fetchQuery=function(e,t,n,r){return fa(this,void 0,void 0,function(){var a,o,d,S,C,$,Y,ne,le,he,ke,pe,Ne,Ce,De,He,Ke,Ge,je=this;return Sa(this,function(nt){switch(nt.label){case 0:return a=t.metadata,o=a===void 0?null:a,d=t.fetchPolicy,S=d===void 0?"cache-first":d,C=t.context,$=C===void 0?{}:C,Y=this.transform(t.query).document,ne=this.getVariables(Y,t.variables),this.transform(Y).hasClientExports?[4,this.localState.addExportedVariables(Y,ne,$)]:[3,2];case 1:ne=nt.sent(),nt.label=2;case 2:if(t=Mt(Mt({},t),{variables:ne}),he=S==="network-only"||S==="no-cache",ke=he,he||(pe=this.dataStore.getCache().diff({query:Y,variables:ne,returnPartialData:!0,optimistic:!1}),Ne=pe.complete,Ce=pe.result,ke=!Ne||S==="cache-and-network",le=Ce),De=ke&&S!=="cache-only"&&S!=="standby",qi(["live"],Y)&&(De=!0),He=this.idCounter++,Ke=S!=="no-cache"?this.updateQueryWatch(e,Y,t):void 0,this.setQuery(e,function(){return{document:Y,lastRequestId:He,invalidated:!0,cancel:Ke}}),this.invalidate(r),this.queryStore.initQuery({queryId:e,document:Y,storePreviousVariables:De,variables:ne,isPoll:n===eo.poll,isRefetch:n===eo.refetch,metadata:o,fetchMoreForQueryId:r}),this.broadcastQueries(),De){if(Ge=this.fetchRequest({requestId:He,queryId:e,document:Y,options:t,fetchMoreForQueryId:r}).catch(function(Nt){throw rw(Nt)?Nt:(He>=je.getQuery(e).lastRequestId&&(je.queryStore.markQueryError(e,Nt,r),je.invalidate(e),je.invalidate(r),je.broadcastQueries()),new As({networkError:Nt}))}),S!=="cache-and-network")return[2,Ge];Ge.catch(function(){})}return this.queryStore.markQueryResultClient(e,!De),this.invalidate(e),this.invalidate(r),this.transform(Y).hasForcedResolvers?[2,this.localState.runResolvers({document:Y,remoteResult:{data:le},context:$,variables:ne,onlyRunForcedResolvers:!0}).then(function(Nt){return je.markQueryResult(e,Nt,t,r),je.broadcastQueries(),Nt})]:(this.broadcastQueries(),[2,{data:le}])}})})},i.prototype.markQueryResult=function(e,t,n,r){var a=n.fetchPolicy,o=n.variables,d=n.errorPolicy;a==="no-cache"?this.setQuery(e,function(){return{newData:{result:t.data,complete:!0}}}):this.dataStore.markQueryResult(t,this.getQuery(e).document,o,r,d==="ignore"||d==="all")},i.prototype.queryListenerForObserver=function(e,t,n){var r=this;function a(o,d){if(n[o])try{n[o](d)}catch{}}return function(o,d){if(r.invalidate(e,!1),!!o){var S=r.getQuery(e),C=S.observableQuery,$=S.document,Y=C?C.options.fetchPolicy:t.fetchPolicy;if(Y!=="standby"){var ne=Dm(o.networkStatus),le=C&&C.getLastResult(),he=!!(le&&le.networkStatus!==o.networkStatus),ke=t.returnPartialData||!d&&o.previousVariables||he&&t.notifyOnNetworkStatusChange||Y==="cache-only"||Y==="cache-and-network";if(!(ne&&!ke)){var pe=Lo(o.graphQLErrors),Ne=C&&C.options.errorPolicy||t.errorPolicy||"none";if(Ne==="none"&&pe||o.networkError)return a("error",new As({graphQLErrors:o.graphQLErrors,networkError:o.networkError}));try{var Ce=void 0,De=void 0;if(d)Y!=="no-cache"&&Y!=="network-only"&&r.setQuery(e,function(){return{newData:null}}),Ce=d.result,De=!d.complete;else{var He=C&&C.getLastError(),Ke=Ne!=="none"&&(He&&He.graphQLErrors)!==o.graphQLErrors;if(le&&le.data&&!Ke)Ce=le.data,De=!1;else{var Ge=r.dataStore.getCache().diff({query:$,variables:o.previousVariables||o.variables,returnPartialData:!0,optimistic:!0});Ce=Ge.result,De=!Ge.complete}}var je=De&&!(t.returnPartialData||Y==="cache-only"),nt={data:je?le&&le.data:Ce,loading:ne,networkStatus:o.networkStatus,stale:je};Ne==="all"&&pe&&(nt.errors=o.graphQLErrors),a("next",nt)}catch(Nt){a("error",new As({networkError:Nt}))}}}}}},i.prototype.transform=function(e){var t=this.transformCache;if(!t.has(e)){var n=this.dataStore.getCache(),r=n.transformDocument(e),a=it(n.transformForLink(r)),o=this.localState.clientQuery(r),d=this.localState.serverQuery(a),S={document:r,hasClientExports:lt(r),hasForcedResolvers:this.localState.shouldForceResolvers(r),clientQuery:o,serverQuery:d,defaultVars:Js(Ra(r))},C=function($){$&&!t.has($)&&t.set($,S)};C(e),C(r),C(o),C(d)}return t.get(e)},i.prototype.getVariables=function(e,t){return Mt(Mt({},this.transform(e).defaultVars),t)},i.prototype.watchQuery=function(e,t){t===void 0&&(t=!0),en(e.fetchPolicy!=="standby",11),e.variables=this.getVariables(e.query,e.variables),typeof e.notifyOnNetworkStatusChange=="undefined"&&(e.notifyOnNetworkStatusChange=!1);var n=Mt({},e);return new ow({queryManager:this,options:n,shouldSubscribe:t})},i.prototype.query=function(e){var t=this;return en(e.query,12),en(e.query.kind==="Document",13),en(!e.returnPartialData,14),en(!e.pollInterval,15),new Promise(function(n,r){var a=t.watchQuery(e,!1);t.fetchQueryRejectFns.set("query:"+a.queryId,r),a.result().then(n,r).then(function(){return t.fetchQueryRejectFns.delete("query:"+a.queryId)})})},i.prototype.generateQueryId=function(){return String(this.idCounter++)},i.prototype.stopQueryInStore=function(e){this.stopQueryInStoreNoBroadcast(e),this.broadcastQueries()},i.prototype.stopQueryInStoreNoBroadcast=function(e){this.stopPollingQuery(e),this.queryStore.stopQuery(e),this.invalidate(e)},i.prototype.addQueryListener=function(e,t){this.setQuery(e,function(n){var r=n.listeners;return r.add(t),{invalidated:!1}})},i.prototype.updateQueryWatch=function(e,t,n){var r=this,a=this.getQuery(e).cancel;a&&a();var o=function(){var d=null,S=r.getQuery(e).observableQuery;if(S){var C=S.getLastResult();C&&(d=C.data)}return d};return this.dataStore.getCache().watch({query:t,variables:n.variables,optimistic:!0,previousResult:o,callback:function(d){r.setQuery(e,function(){return{invalidated:!0,newData:d}})}})},i.prototype.addObservableQuery=function(e,t){this.setQuery(e,function(){return{observableQuery:t}})},i.prototype.removeObservableQuery=function(e){var t=this.getQuery(e).cancel;this.setQuery(e,function(){return{observableQuery:null}}),t&&t()},i.prototype.clearStore=function(){this.fetchQueryRejectFns.forEach(function(t){t(new Xn(16))});var e=[];return this.queries.forEach(function(t,n){var r=t.observableQuery;r&&e.push(n)}),this.queryStore.reset(e),this.mutationStore.reset(),this.dataStore.reset()},i.prototype.resetStore=function(){var e=this;return this.clearStore().then(function(){return e.reFetchObservableQueries()})},i.prototype.reFetchObservableQueries=function(e){var t=this;e===void 0&&(e=!1);var n=[];return this.queries.forEach(function(r,a){var o=r.observableQuery;if(o){var d=o.options.fetchPolicy;o.resetLastResults(),d!=="cache-only"&&(e||d!=="standby")&&n.push(o.refetch()),t.setQuery(a,function(){return{newData:null}}),t.invalidate(a)}}),this.broadcastQueries(),Promise.all(n)},i.prototype.observeQuery=function(e,t,n){return this.addQueryListener(e,this.queryListenerForObserver(e,t,n)),this.fetchQuery(e,t)},i.prototype.startQuery=function(e,t,n){return this.addQueryListener(e,n),this.fetchQuery(e,t).catch(function(){}),e},i.prototype.startGraphQLSubscription=function(e){var t=this,n=e.query,r=e.fetchPolicy,a=e.variables;n=this.transform(n).document,a=this.getVariables(n,a);var o=function(S){return t.getObservableFromLink(n,{},S,!1).map(function(C){if((!r||r!=="no-cache")&&(t.dataStore.markSubscriptionResult(C,n,S),t.broadcastQueries()),Xs(C))throw new As({graphQLErrors:C.errors});return C})};if(this.transform(n).hasClientExports){var d=this.localState.addExportedVariables(n,a).then(o);return new Kl(function(S){var C=null;return d.then(function($){return C=$.subscribe(S)},S.error),function(){return C&&C.unsubscribe()}})}return o(a)},i.prototype.stopQuery=function(e){this.stopQueryNoBroadcast(e),this.broadcastQueries()},i.prototype.stopQueryNoBroadcast=function(e){this.stopQueryInStoreNoBroadcast(e),this.removeQuery(e)},i.prototype.removeQuery=function(e){this.fetchQueryRejectFns.delete("query:"+e),this.fetchQueryRejectFns.delete("fetchRequest:"+e),this.getQuery(e).subscriptions.forEach(function(t){return t.unsubscribe()}),this.queries.delete(e)},i.prototype.getCurrentQueryResult=function(e,t){t===void 0&&(t=!0);var n=e.options,r=n.variables,a=n.query,o=n.fetchPolicy,d=n.returnPartialData,S=e.getLastResult(),C=this.getQuery(e.queryId).newData;if(C&&C.complete)return{data:C.result,partial:!1};if(o==="no-cache"||o==="network-only")return{data:void 0,partial:!1};var $=this.dataStore.getCache().diff({query:a,variables:r,previousResult:S?S.data:void 0,returnPartialData:!0,optimistic:t}),Y=$.result,ne=$.complete;return{data:ne||d?Y:void 0,partial:!ne}},i.prototype.getQueryWithPreviousResult=function(e){var t;if(typeof e=="string"){var n=this.getQuery(e).observableQuery;en(n,17),t=n}else t=e;var r=t.options,a=r.variables,o=r.query;return{previousResult:this.getCurrentQueryResult(t,!1).data,variables:a,document:o}},i.prototype.broadcastQueries=function(){var e=this;this.onBroadcast(),this.queries.forEach(function(t,n){t.invalidated&&t.listeners.forEach(function(r){r&&r(e.queryStore.get(n),t.newData)})})},i.prototype.getLocalState=function(){return this.localState},i.prototype.getObservableFromLink=function(e,t,n,r){var a=this;r===void 0&&(r=this.queryDeduplication);var o,d=this.transform(e).serverQuery;if(d){var S=this,C=S.inFlightLinkObservables,$=S.link,Y={query:d,variables:n,operationName:ql(d)||void 0,context:this.prepareContext(Mt(Mt({},t),{forceFetch:!r}))};if(t=Y.context,r){var ne=C.get(d)||new Map;C.set(d,ne);var le=JSON.stringify(n);if(o=ne.get(le),!o){ne.set(le,o=Om(Xu($,Y)));var he=function(){ne.delete(le),ne.size||C.delete(d),ke.unsubscribe()},ke=o.subscribe({next:he,error:he,complete:he})}}else o=Om(Xu($,Y))}else o=Kl.of({data:{}}),t=this.prepareContext(t);var pe=this.transform(e).clientQuery;return pe&&(o=fw(o,function(Ne){return a.localState.runResolvers({document:pe,remoteResult:Ne,context:t,variables:n})})),o},i.prototype.fetchRequest=function(e){var t=this,n=e.requestId,r=e.queryId,a=e.document,o=e.options,d=e.fetchMoreForQueryId,S=o.variables,C=o.errorPolicy,$=C===void 0?"none":C,Y=o.fetchPolicy,ne,le;return new Promise(function(he,ke){var pe=t.getObservableFromLink(a,o.context,S),Ne="fetchRequest:"+r;t.fetchQueryRejectFns.set(Ne,ke);var Ce=function(){t.fetchQueryRejectFns.delete(Ne),t.setQuery(r,function(He){var Ke=He.subscriptions;Ke.delete(De)})},De=pe.map(function(He){if(n>=t.getQuery(r).lastRequestId&&(t.markQueryResult(r,He,o,d),t.queryStore.markQueryResult(r,He,d),t.invalidate(r),t.invalidate(d),t.broadcastQueries()),$==="none"&&Lo(He.errors))return ke(new As({graphQLErrors:He.errors}));if($==="all"&&(le=He.errors),d||Y==="no-cache")ne=He.data;else{var Ke=t.dataStore.getCache().diff({variables:S,query:a,optimistic:!1,returnPartialData:!0}),Ge=Ke.result,je=Ke.complete;(je||o.returnPartialData)&&(ne=Ge)}}).subscribe({error:function(He){Ce(),ke(He)},complete:function(){Ce(),he({data:ne,errors:le,loading:!1,networkStatus:Hn.ready,stale:!1})}});t.setQuery(r,function(He){var Ke=He.subscriptions;Ke.add(De)})})},i.prototype.getQuery=function(e){return this.queries.get(e)||{listeners:new Set,invalidated:!1,document:null,newData:null,lastRequestId:1,observableQuery:null,subscriptions:new Set}},i.prototype.setQuery=function(e,t){var n=this.getQuery(e),r=Mt(Mt({},n),t(n));this.queries.set(e,r)},i.prototype.invalidate=function(e,t){t===void 0&&(t=!0),e&&this.setQuery(e,function(){return{invalidated:t}})},i.prototype.prepareContext=function(e){e===void 0&&(e={});var t=this.localState.prepareContext(e);return Mt(Mt({},t),{clientAwareness:this.clientAwareness})},i.prototype.checkInFlight=function(e){var t=this.queryStore.get(e);return t&&t.networkStatus!==Hn.ready&&t.networkStatus!==Hn.error},i.prototype.startPollingQuery=function(e,t,n){var r=this,a=e.pollInterval;if(en(a,18),!this.ssrMode){var o=this.pollingInfoByQueryId.get(t);o||this.pollingInfoByQueryId.set(t,o={}),o.interval=a,o.options=Mt(Mt({},e),{fetchPolicy:"network-only"});var d=function(){var C=r.pollingInfoByQueryId.get(t);C&&(r.checkInFlight(t)?S():r.fetchQuery(t,C.options,eo.poll).then(S,S))},S=function(){var C=r.pollingInfoByQueryId.get(t);C&&(clearTimeout(C.timeout),C.timeout=setTimeout(d,C.interval))};n&&this.addQueryListener(t,n),S()}return t},i.prototype.stopPollingQuery=function(e){this.pollingInfoByQueryId.delete(e)},i}(),pw=function(){function i(e){this.cache=e}return i.prototype.getCache=function(){return this.cache},i.prototype.markQueryResult=function(e,t,n,r,a){a===void 0&&(a=!1);var o=!Xs(e);a&&Xs(e)&&e.data&&(o=!0),!r&&o&&this.cache.write({result:e.data,dataId:"ROOT_QUERY",query:t,variables:n})},i.prototype.markSubscriptionResult=function(e,t,n){Xs(e)||this.cache.write({result:e.data,dataId:"ROOT_SUBSCRIPTION",query:t,variables:n})},i.prototype.markMutationInit=function(e){var t=this;if(e.optimisticResponse){var n;typeof e.optimisticResponse=="function"?n=e.optimisticResponse(e.variables):n=e.optimisticResponse,this.cache.recordOptimisticTransaction(function(r){var a=t.cache;t.cache=r;try{t.markMutationResult({mutationId:e.mutationId,result:{data:n},document:e.document,variables:e.variables,updateQueries:e.updateQueries,update:e.update})}finally{t.cache=a}},e.mutationId)}},i.prototype.markMutationResult=function(e){var t=this;if(!Xs(e.result)){var n=[{result:e.result.data,dataId:"ROOT_MUTATION",query:e.document,variables:e.variables}],r=e.updateQueries;r&&Object.keys(r).forEach(function(a){var o=r[a],d=o.query,S=o.updater,C=t.cache.diff({query:d.document,variables:d.variables,returnPartialData:!0,optimistic:!1}),$=C.result,Y=C.complete;if(Y){var ne=Kc(function(){return S($,{mutationResult:e.result,queryName:ql(d.document)||void 0,queryVariables:d.variables})});ne&&n.push({result:ne,dataId:"ROOT_QUERY",query:d.document,variables:d.variables})}}),this.cache.performTransaction(function(a){n.forEach(function(d){return a.write(d)});var o=e.update;o&&Kc(function(){return o(a,e.result)})})}},i.prototype.markMutationComplete=function(e){var t=e.mutationId,n=e.optimisticResponse;n&&this.cache.removeOptimistic(t)},i.prototype.markUpdateQueryResult=function(e,t,n){this.cache.write({result:n,dataId:"ROOT_QUERY",variables:t,query:e})},i.prototype.reset=function(){return this.cache.reset()},i}(),gw="2.6.10",vw=!1,yw=function(){function i(e){var t=this;this.defaultOptions={},this.resetStoreCallbacks=[],this.clearStoreCallbacks=[];var n=e.cache,r=e.ssrMode,a=r===void 0?!1:r,o=e.ssrForceFetchDelay,d=o===void 0?0:o,S=e.connectToDevTools,C=e.queryDeduplication,$=C===void 0?!0:C,Y=e.defaultOptions,ne=e.assumeImmutableResults,le=ne===void 0?!1:ne,he=e.resolvers,ke=e.typeDefs,pe=e.fragmentMatcher,Ne=e.name,Ce=e.version,De=e.link;if(!De&&he&&(De=Na.empty()),!De||!n)throw new Xn(4);this.link=De,this.cache=n,this.store=new pw(n),this.disableNetworkFetches=a||d>0,this.queryDeduplication=$,this.defaultOptions=Y||{},this.typeDefs=ke,d&&setTimeout(function(){return t.disableNetworkFetches=!1},d),this.watchQuery=this.watchQuery.bind(this),this.query=this.query.bind(this),this.mutate=this.mutate.bind(this),this.resetStore=this.resetStore.bind(this),this.reFetchObservableQueries=this.reFetchObservableQueries.bind(this);var He=!1;(typeof S=="undefined"?He:S&&typeof window!="undefined")&&(window.__APOLLO_CLIENT__=this),this.version=gw,this.localState=new xm({cache:n,client:this,resolvers:he,fragmentMatcher:pe}),this.queryManager=new mw({link:this.link,store:this.store,queryDeduplication:$,ssrMode:a,clientAwareness:{name:Ne,version:Ce},localState:this.localState,assumeImmutableResults:le,onBroadcast:function(){t.devToolsHookCb&&t.devToolsHookCb({action:{},state:{queries:t.queryManager.queryStore.getStore(),mutations:t.queryManager.mutationStore.getStore()},dataWithOptimisticResults:t.cache.extract(!0)})}})}return i.prototype.stop=function(){this.queryManager.stop()},i.prototype.watchQuery=function(e){return this.defaultOptions.watchQuery&&(e=Mt(Mt({},this.defaultOptions.watchQuery),e)),this.disableNetworkFetches&&(e.fetchPolicy==="network-only"||e.fetchPolicy==="cache-and-network")&&(e=Mt(Mt({},e),{fetchPolicy:"cache-first"})),this.queryManager.watchQuery(e)},i.prototype.query=function(e){return this.defaultOptions.query&&(e=Mt(Mt({},this.defaultOptions.query),e)),en(e.fetchPolicy!=="cache-and-network",5),this.disableNetworkFetches&&e.fetchPolicy==="network-only"&&(e=Mt(Mt({},e),{fetchPolicy:"cache-first"})),this.queryManager.query(e)},i.prototype.mutate=function(e){return this.defaultOptions.mutate&&(e=Mt(Mt({},this.defaultOptions.mutate),e)),this.queryManager.mutate(e)},i.prototype.subscribe=function(e){return this.queryManager.startGraphQLSubscription(e)},i.prototype.readQuery=function(e,t){return t===void 0&&(t=!1),this.cache.readQuery(e,t)},i.prototype.readFragment=function(e,t){return t===void 0&&(t=!1),this.cache.readFragment(e,t)},i.prototype.writeQuery=function(e){var t=this.cache.writeQuery(e);return this.queryManager.broadcastQueries(),t},i.prototype.writeFragment=function(e){var t=this.cache.writeFragment(e);return this.queryManager.broadcastQueries(),t},i.prototype.writeData=function(e){var t=this.cache.writeData(e);return this.queryManager.broadcastQueries(),t},i.prototype.__actionHookForDevTools=function(e){this.devToolsHookCb=e},i.prototype.__requestRaw=function(e){return Xu(this.link,e)},i.prototype.initQueryManager=function(){return this.queryManager},i.prototype.resetStore=function(){var e=this;return Promise.resolve().then(function(){return e.queryManager.clearStore()}).then(function(){return Promise.all(e.resetStoreCallbacks.map(function(t){return t()}))}).then(function(){return e.reFetchObservableQueries()})},i.prototype.clearStore=function(){var e=this;return Promise.resolve().then(function(){return e.queryManager.clearStore()}).then(function(){return Promise.all(e.clearStoreCallbacks.map(function(t){return t()}))})},i.prototype.onResetStore=function(e){var t=this;return this.resetStoreCallbacks.push(e),function(){t.resetStoreCallbacks=t.resetStoreCallbacks.filter(function(n){return n!==e})}},i.prototype.onClearStore=function(e){var t=this;return this.clearStoreCallbacks.push(e),function(){t.clearStoreCallbacks=t.clearStoreCallbacks.filter(function(n){return n!==e})}},i.prototype.reFetchObservableQueries=function(e){return this.queryManager.reFetchObservableQueries(e)},i.prototype.extract=function(e){return this.cache.extract(e)},i.prototype.restore=function(e){return this.cache.restore(e)},i.prototype.addResolvers=function(e){this.localState.addResolvers(e)},i.prototype.setResolvers=function(e){this.localState.setResolvers(e)},i.prototype.getResolvers=function(){return this.localState.getResolvers()},i.prototype.setLocalStateFragmentMatcher=function(e){this.localState.setFragmentMatcher(e)},i}();const yF=null;var bw=ti(69749),Zc=ti.n(bw),Ht=(i=>(i[i.Committed=0]="Committed",i[i.Mentioned=1]="Mentioned",i[i.Subscribed=2]="Subscribed",i[i.Commented=3]="Commented",i[i.Reviewed=4]="Reviewed",i[i.NewCommitsSinceReview=5]="NewCommitsSinceReview",i[i.Labeled=6]="Labeled",i[i.Milestoned=7]="Milestoned",i[i.Assigned=8]="Assigned",i[i.Unassigned=9]="Unassigned",i[i.HeadRefDeleted=10]="HeadRefDeleted",i[i.Merged=11]="Merged",i[i.CrossReferenced=12]="CrossReferenced",i[i.Closed=13]="Closed",i[i.Reopened=14]="Reopened",i[i.BaseRefChanged=15]="BaseRefChanged",i[i.CopilotStarted=16]="CopilotStarted",i[i.CopilotFinished=17]="CopilotFinished",i[i.CopilotFinishedError=18]="CopilotFinishedError",i[i.Other=19]="Other",i))(Ht||{});const fr="copilot-swe-agent",ww="copilot-cloud-agent",ed="copilot-pull-request-reviewer",kw="BOT_kgDOCnlnWA",td=[ed,fr,"Copilot"],Lm={login:ed,id:kw,url:"",avatarUrl:"",name:"Copilot",accountType:ca.Bot};var Lr=(i=>(i[i.None=0]="None",i[i.Started=1]="Started",i[i.Completed=2]="Completed",i[i.Failed=3]="Failed",i))(Lr||{});function id(i){if(!i)return 0;switch(i.event){case Ht.CopilotStarted:return 1;case Ht.CopilotFinished:return 2;case Ht.CopilotFinishedError:return 3;default:return 0}}function _w(i){for(let e=i.length-1;e>=0;e--)if(id(i[e])!==0)return i[e]}function Ql(i,e){const t=i.definitions,r=e.definitions.concat(t);return{...e,...i,definitions:r}}function bF(i){if(!i)return ChatSessionStatus.InProgress;switch(i.event){case EventType.CopilotStarted:return ChatSessionStatus.InProgress;case EventType.CopilotFinished:return ChatSessionStatus.Completed;case EventType.CopilotFinishedError:return ChatSessionStatus.Failed;default:return ChatSessionStatus.InProgress}}function Sw(i){switch(i){case Lr.Started:return s.ChatSessionStatus.InProgress;case Lr.Completed:return s.ChatSessionStatus.Completed;case Lr.Failed:return s.ChatSessionStatus.Failed;default:return s.ChatSessionStatus.InProgress}}function Ew(i){const e=i;return!!e&&(e==null?void 0:e.name)!==void 0&&(e==null?void 0:e.email)!==void 0}function Rw(i){const e=i;return!!e&&(e==null?void 0:e.slug)!==void 0}function Nw(i){var e;const t=i;return!!t&&!!((e=t.id)!=null&&e.startsWith("BOT_"))}var Yl=(i=>(i.prTitle="PR_TITLE",i.commitOrPrTitle="COMMIT_OR_PR_TITLE",i.mergeMessage="MERGE_MESSAGE",i))(Yl||{}),nd=(i=>(i.prBody="PR_BODY",i.commitMessages="COMMIT_MESSAGES",i.blank="BLANK",i.prTitle="PR_TITLE",i))(nd||{});function Cw(i){return i.__typename==="CheckRun"}var Tw=ti(91565),Pn=(i=>(i.LEFT="LEFT",i.RIGHT="RIGHT",i))(Pn||{}),ea=(i=>(i.DISMISSED="DISMISSED",i.VIEWED="VIEWED",i.UNVIEWED="UNVIEWED",i))(ea||{}),Va=(i=>(i.LINE="LINE",i.FILE="FILE",i))(Va||{});const Aw={name:"Copilot",postComment:s.l10n.t("Copilot is powered by AI, so mistakes are possible. Review output carefully before use."),url:"https://github.com/apps/copilot-swe-agent"},cn=Object.fromEntries(td.map(i=>[i,Aw])),Mw=/:([-+_a-z0-9]+):/g;let Uo,Xc;async function Ms(i){return Uo===void 0&&(Xc===void 0&&(Xc=Pw(i)),await Xc),Uo}async function Pw(i){const e=s.Uri.joinPath(i.extensionUri,"resources","emojis.json");Uo=JSON.parse(new TextDecoder("utf8").decode(await s.workspace.fs.readFile(e)))}function Bo(i){return Uo===void 0?i:i.replace(Mw,(e,t)=>(Uo==null?void 0:Uo[t])||e)}const Fw="[a-zA-Z0-9-]+",Um=["abstract","virtual","access","alias","async","augments","extends","author","borrows","callback","class","constructor","classdesc","constant","const","constructs","copyright","default","defaultvalue","deprecated","description","desc","effect","enum","event","example","exports","external","host","file","fileoverview","overview","fires","emits","function","func","method","generator","global","hideconstructor","ignore","implements","inheritdoc","inner","instance","interface","kind","lends","license","listens","member","var","memberof","mixes","mixin","module","name","namespace","override","package","param","arg","argument","private","property","prop","protected","public","readonly","requires","returns","return","see","since","static","summary","this","throws","exception","todo","tutorial","type","typedef","variation","version","yields","yield","link"],Bm=["api","author","copyright","deprecated","generated","internal","link","method","package","param","property","return","see","since","throws","todo","uses","var","version"],Dw=["a","addindex","addtogroup","anchor","arg","attention","author","authors","b","brief","bug","c","callergraph","callgraph","category","cite","class","code","collaborationgraph","concept","cond","copybrief","copydetails","copydoc","copyright","date","def","defgroup","deprecated","details","diafile","dir","directorygraph","docbookinclude","docbookonly","dontinclude","dot","dotfile","doxyconfig","e","else","elseif","em","emoji","endcode","endcond","enddocbookonly","enddot","endhtmlonly","endif","endinternal","endlatexonly","endlink","endmanonly","endmsc","endparblock","endrtfonly","endsecreflist","endverbatim","enduml","endxmlonly","enum","example","exception","extends","f(","f)","f$","f[","f]","f{","f}","file","fileinfo","fn","groupgraph","headerfile","hidecallergraph","hidecallgraph","hidecollaborationgraph","hidedirectorygraph","hidegroupgraph","hideincludedbygraph","hideincludegraph","hideinheritancegraph","hideinlinesource","hiderefby","hiderefs","hideinitializer","htmlinclude","htmlonly","idlexcept","if","ifnot","image","implements","important","include","includedoc","includedbygraph","includegraph","includelineno","ingroup","inheritancegraph","internal","invariant","interface","latexinclude","latexonly","li","line","lineinfo","link","mainpage","maninclude","manonly","memberof","module","msc","mscfile","n","name","namespace","noop","nosubgrouping","note","overload","p","package","page","par","paragraph","param","parblock","post","pre","private","privatesection","property","protected","protectedsection","protocol","public","publicsection","pure","qualifier","raisewarning","ref","refitem","related","relates","relatedalso","relatesalso","remark","remarks","result","return","returns","retval","rtfinclude","rtfonly","sa","secreflist","section","see","short","showdate","showinitializer","showinlinesource","showrefby","showrefs","since","skip","skipline","snippet","snippetdoc","snippetlineno","static","startuml","struct","subpage","subparagraph","subsection","subsubparagraph","subsubsection","tableofcontents","test","throw","throws","todo","tparam","typedef","union","until","var","verbatim","verbinclude","version","vhdlflow","warning","weakgroup","xmlinclude","xmlonly","xrefitem"];var Iw=Object.defineProperty,xw=(i,e,t)=>e in i?Iw(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t,hr=(i,e,t)=>xw(i,typeof e!="symbol"?e+"":e,t),ef;(i=>{function e(t){return t&&typeof t.gitHubThreadId=="string"}i.is=e})(ef||(ef={}));class Jl{constructor(e){hr(this,"parent"),hr(this,"mode"),hr(this,"originalAuthor"),hr(this,"label"),hr(this,"reactions"),hr(this,"contextValue"),hr(this,"state"),this.parent=e}startEdit(){this.parent.comments=this.parent.comments.map(e=>(e instanceof Jl&&e.commentEditId()===this.commentEditId()&&(e.mode=s.CommentMode.Editing),e))}cancelEdit(){this.parent.comments=this.parent.comments.map(e=>(e instanceof Jl&&e.commentEditId()===this.commentEditId()&&(e.mode=s.CommentMode.Preview,this.doSetBody(this.getCancelEditBody(),!0)),e))}}const qm=class Db extends Jl{constructor(e,t,n,r,a){var o;super(e),this.input=t,hr(this,"commentId"),hr(this,"id"),hr(this,"originalBody"),this.mode=s.CommentMode.Preview,this.originalAuthor={name:(o=r.specialDisplayName)!=null?o:r.login,iconPath:r.avatarUrl?s.Uri.parse(`${r.avatarUrl}&s=64`):void 0},this.label=n?s.l10n.t("Pending"):void 0,this.state=n?s.CommentState.Draft:s.CommentState.Published,this.contextValue="temporary,canEdit,canDelete",this.originalBody=a?a.rawComment.body:void 0,this.reactions=a?a.reactions:void 0,this.id=Db.idPool++}async doSetBody(e){typeof e=="string"&&(this.input=e)}set body(e){this.doSetBody(e)}get body(){const e=new s.MarkdownString(this.input);return e.supportAlertSyntax=!0,e}get author(){return this.originalAuthor}commentEditId(){return this.id}getCancelEditBody(){return this.originalBody||this.body}};hr(qm,"idPool",0);let ha=qm;const $m=/```suggestion(\u0020*(\r\n|\n))((?<suggestion>[\s\S]*?)(\r\n|\n))?```/,Ow=/<img .*src=['"](?<src>.+?)['"].*?>/g,Lw=/[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-5][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}/,Uw=/(?<![`\/\w])([0-9a-f]{7})([0-9a-f]{33})?(?![`\/\w])/g,Hm=class Ib extends Jl{constructor(e,t,n,r){var a,o;super(n),this.context=e,hr(this,"commentId"),hr(this,"timestamp"),hr(this,"rawComment"),hr(this,"_rawBody"),hr(this,"replacedBody"),hr(this,"githubRepository"),this.rawComment=t,this.originalAuthor={name:(o=(a=t.user)==null?void 0:a.specialDisplayName)!=null?o:t.user.login,iconPath:t.user&&t.user.avatarUrl?s.Uri.parse(t.user.avatarUrl):void 0};const d=s.Uri.parse(t.url);this.githubRepository=r==null?void 0:r.find($=>$.remote.host===d.authority);const S=t.user?wr.avatarCirclesAsImageDataUris(e,[t.user],28,28):Promise.resolve([]);this.doSetBody(t.body,!t.user).then(async()=>{const $=await S;$.length>0&&(this.author.iconPath=$[0]),this.refresh()}),this.commentId=t.id.toString(),Qm(this,t.reactions),this.label=t.isDraft?s.l10n.t("Pending"):void 0,this.state=t.isDraft?s.CommentState.Draft:s.CommentState.Published;const C=[];t.canEdit&&C.push("canEdit"),t.canDelete&&C.push("canDelete"),this.suggestion!==void 0&&C.push("hasSuggestion"),this.contextValue=C.join(","),this.timestamp=new Date(t.createdAt)}get author(){var e;return(e=this.rawComment.user)!=null&&e.specialDisplayName?{name:this.rawComment.user.specialDisplayName,iconPath:this.originalAuthor.iconPath}:this.originalAuthor}update(e){const t=this.rawComment;this.rawComment=e;let n=!1;Qm(this,e.reactions)&&(n=!0);const r=this.label;this.label=e.isDraft?s.l10n.t("Pending"):void 0;const a=e.isDraft?s.CommentState.Draft:s.CommentState.Published;(this.label!==r||this.state!==a)&&(this.state=a,n=!0);const o=[];e.canEdit&&o.push("canEdit"),e.canDelete&&o.push("canDelete"),this.suggestion!==void 0&&o.push("hasSuggestion");const d=this.contextValue;this.contextValue=o.join(","),d!==this.contextValue&&(n=!0),t.body!==e.body&&(this.doSetBody(e.body,!0),n=!1),n&&this.refresh()}refresh(){this.parent.comments=this.parent.comments}get suggestion(){var e;const t=this.rawComment.body.match($m),n=(e=t==null?void 0:t.groups)==null?void 0:e.suggestion;if(t)return n||""}commentEditId(){return this.commentId}replaceImg(e){return e.replace(Ow,(t,n,r,a,{src:o})=>`![image](${o})`)}replaceSuggestion(e){return e.replace(new RegExp($m,"g"),(t,...n)=>{var r;return`***
Suggested change:
\`\`\`
${(r=n[3])!=null?r:""}
\`\`\`
***`})}async createLocalFilePath(e,t,n,r){const a=s.Uri.joinPath(e,t);try{if((await s.workspace.fs.stat(a)).type===s.FileType.File)return`${a.with({fragment:`${n}-${r}`}).toString()}`}catch{return}}async replacePermalink(e){const t=this.githubRepository;if(!t)return e;const n=It(t.remote.repositoryName),r=new RegExp(`https://github.com/(.+)/${n}/blob/([0-9a-f]{40})/(.*)#L([0-9]+)(-L([0-9]+))?`,"g");return Ye(e,r,async(a,o,d,S,C,$,Y,ne)=>{if(ne&&ne>0&&e.charAt(ne-1)==="(")return a;const le=parseInt(C),he=Y?parseInt(Y):le+1,ke=await t.getLines(d,S,le,he);if(!ke)return a;const pe=await this.createLocalFilePath(t.rootUri,S,le,he),Ne=Y?`Lines ${le} to ${he} in \`${d.substring(0,7)}\``:`Line ${le} in \`${d.substring(0,7)}\``;return`
***
[${S}](${pe!=null?pe:a})${pe?` ([view on GitHub](${a}))`:""}

${Ne}
\`\`\`
${ke}
\`\`\`
***`})}replaceImages(e){var t;const n=this.rawComment.bodyHTML;return n?Bw(e,n,(t=this.githubRepository)==null?void 0:t.remote.host):e}replaceCommitShas(e){const t=this.githubRepository;return t?e.replace(Uw,(n,r,a,o)=>{var d,S;const C=e.substring(0,o);if(((S=(d=C.match(/`/g))==null?void 0:d.length)!=null?S:0)%2===1||C.endsWith("[")||e.substring(o+n.length).startsWith("]"))return n;const Y=t.remote.owner,ne=t.remote.repositoryName,le=`https://${t.remote.host}/${Y}/${ne}/commit/${n}`;return`[${r}](${le})`}):e}replaceNewlines(e){return e.replace(/(?<!\s)(\r\n|\n)/g,`  
`)}postpendSpecialAuthorComment(e){return this.rawComment.specialDisplayBodyPostfix?`${e}  

_${this.rawComment.specialDisplayBodyPostfix}_`:e}async replaceBody(e){const t=Ms(this.context);if(y.trace("Replace comment body",Ib.ID),e instanceof s.MarkdownString){const $=await this.replacePermalink(e.value);return this.replaceImg(this.replaceSuggestion($))}const n=this.replaceImages(e),r=this.replaceNewlines(n),a=(await s.workspace.openTextDocument(this.parent.uri)).languageId,o=new RegExp(`([^/[\`]|^)@(${Fw})`,"g"),d=r.replace(o,($,Y,ne,le)=>{var he,ke,pe,Ne;if(((ke=(he=r.substring(0,le).match(/```/g))==null?void 0:he.length)!=null?ke:0)%2===1||$.includes("]")||$.includes(")"))return $;const Ce=$.substring($.startsWith("@")?1:2);if((a==="javascript"||a==="typescript")&&Um.includes(Ce)||a==="php"&&Bm.includes(Ce))return $;const De=(Ne=(pe=cn[Ce])==null?void 0:pe.url)!=null?Ne:`${W.dirname(this.rawComment.user.url)}/${Ce}`;return`${$.startsWith("@")?"":$.charAt(0)}[@${Ce}](${De})`}),S=this.replaceCommitShas(d),C=await this.replacePermalink(S);return await t,this.postpendSpecialAuthorComment(Bo(this.replaceImg(this.replaceSuggestion(C))))}async doSetBody(e,t){this._rawBody=e;const n=await this.replaceBody(e);n!==this.replacedBody&&(this.replacedBody=n,t&&this.refresh())}set body(e){this.doSetBody(e,!1)}get body(){if(this.mode===s.CommentMode.Editing)return this._rawBody;const e=new s.MarkdownString(this.replacedBody);return e.supportAlertSyntax=!0,e}getCancelEditBody(){const e=new s.MarkdownString(this.rawComment.body);return e.supportAlertSyntax=!0,e}};hr(Hm,"ID","GHPRComment");let Kn=Hm;function Bw(i,e,t="github.com"){var n;const r=new RegExp(`https://${t}/.+/assets/([^/]+/)?(?<uuid>${Lw.source})`);let a=i.match(r);const o=It(t==="github.com"?"githubusercontent.com":t);for(;a;){if((n=a.groups)!=null&&n.uuid){const d=It(a.groups.uuid),S=new RegExp(`https://([^"]*${o})/[^?]+${d}[^"]+`),C=e.match(S);if(C&&C[0])i=i.replace(a[0],C[0]);else return i}a=i.match(r)}return i}var En=(i=>(i[i.None=0]="None",i[i.GitHubDotCom=1]="GitHubDotCom",i[i.Enterprise=2]="Enterprise",i))(En||{}),Ni=(i=>(i.github="github",i.githubEnterprise="github-enterprise",i))(Ni||{});class rd extends Error{constructor(){super(s.l10n.t("Not authenticated"))}}function tf(i){var e;return!!((e=i.message)!=null&&e.includes("Resource protected by organization SAML enforcement."))}var Yt=(i=>(i[i.ADD=0]="ADD",i[i.COPY=1]="COPY",i[i.DELETE=2]="DELETE",i[i.MODIFY=3]="MODIFY",i[i.RENAME=4]="RENAME",i[i.TYPE=5]="TYPE",i[i.UNKNOWN=6]="UNKNOWN",i[i.UNMERGED=7]="UNMERGED",i))(Yt||{});class Ps{constructor(e,t,n,r,a,o,d){this.baseCommit=e,this.status=t,this.fileName=n,this.previousFileName=r,this.patch=a,this.diffHunks=o,this.blobUrl=d}}class qo{constructor(e,t,n,r,a){this.baseCommit=e,this.blobUrl=t,this.status=n,this.fileName=r,this.previousFileName=a}}var qw=Object.defineProperty,$w=(i,e,t)=>e in i?qw(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t,Hw=(i,e,t)=>$w(i,typeof e!="symbol"?e+"":e,t),Rn=(i=>(i[i.Context=0]="Context",i[i.Add=1]="Add",i[i.Delete=2]="Delete",i[i.Control=3]="Control",i))(Rn||{});class Gm{constructor(e,t,n,r,a,o=!0){this.type=e,this.oldLineNumber=t,this.newLineNumber=n,this.positionInHunk=r,this.raw=a,this.endwithLineBreak=o}get text(){return this.raw.substr(1)}}function Gw(i){switch(i[0]){case" ":return 0;case"+":return 1;case"-":return 2;default:return 3}}class Vw{constructor(e,t,n,r,a){this.oldLineNumber=e,this.oldLength=t,this.newLineNumber=n,this.newLength=r,this.positionInHunk=a,Hw(this,"diffLines",[])}}const Vm=/^@@ \-(\d+)(,(\d+))?( \+(\d+)(,(\d+)?)?)? @@/;function jw(i){let e=0,t=0;for(;(t=i.indexOf("\r",t))!==-1;)t++,e++;return e}function*zw(i){let e=0;for(;e!==-1&&e<i.length;){const t=e;e=i.indexOf(`
`,e);let r=(e!==-1?e:i.length)-t;e!==-1&&(e>0&&i[e-1]==="\r"&&r--,e++),yield i.substr(t,r)}}function*Zl(i){const e=zw(i);let t=e.next(),n,r=-1,a=-1,o=-1;for(;!t.done;){const d=t.value;if(Vm.test(d)){n&&(yield n,n=void 0),r===-1&&(r=0);const S=Vm.exec(d),C=a=Number(S[1]),$=Number(S[3])||1,Y=o=Number(S[5]),ne=Number(S[7])||1;n=new Vw(C,$,Y,ne,r),n.diffLines.push(new Gm(3,-1,-1,r,d))}else if(n){const S=Gw(d);if(S===3)n.diffLines&&n.diffLines.length&&(n.diffLines[n.diffLines.length-1].endwithLineBreak=!1);else{n.diffLines.push(new Gm(S,S!==1?a:-1,S!==2?o:-1,r,d));const C=1+jw(d);switch(S){case 0:a+=C,o+=C;break;case 2:a+=C;break;case 1:o+=C;break}}}r!==-1&&++r,t=e.next()}n&&(yield n)}function nf(i){const e=Zl(i);let t=e.next();const n=[];for(;!t.done;){const r=t.value;n.push(r),t=e.next()}return n}function Ww(i){const e=[],t=S=>({diffLines:[],newLength:0,oldLength:0,oldLineNumber:S.oldLineNumber,newLineNumber:S.newLineNumber,positionInHunk:0});let n,r;const a=(S,C)=>{S.diffLines.push(C),C.type===2?S.oldLength++:C.type===1?S.newLength++:C.type===0&&(S.oldLength++,S.newLength++)},o=S=>S.diffLines.some(C=>C.type!==0),d=S=>o(S)&&S.diffLines[S.diffLines.length-1].type===0;for(const S of i.diffLines)S.type===0?(n||(n=t(S)),a(n,S),d(n)&&(r||(r=t(S)),a(r,S))):(n||i.oldLineNumber===1&&(S.type===2||S.type===1))&&(n||(n=t(S)),d(n)&&(e.push(n),n=r,r=void 0),(S.type===2||S.type===1)&&a(n,S));return n&&e.push(n),e}function jm(i,e){const t=i.split(/\r?\n/),n=Zl(e);let r=n.next();const a=[],o=[];let d=0,S=!0;for(;!r.done;){const C=r.value;a.push(C);const $=C.oldLineNumber;for(let Y=d+1;Y<$;Y++)o.push(t[Y-1]);d=$+C.oldLength-1;for(let Y=0;Y<C.diffLines.length;Y++){const ne=C.diffLines[Y];if(!(ne.type===2||ne.type===3))if(ne.type===1)o.push(ne.text);else{const le=ne.text;o.push(le)}}if(r=n.next(),r.done){for(let Y=C.diffLines.length-1;Y>=0;Y--)if(C.diffLines[Y].type!==2){S=C.diffLines[Y].endwithLineBreak;break}}}if(S)if(d<t.length)for(let C=d+1;C<=t.length;C++)o.push(t[C-1]);else o.push("");return o.join(`
`)}function Xl(i){switch(i){case"removed":return Yt.DELETE;case"added":return Yt.ADD;case"renamed":return Yt.RENAME;case"modified":return Yt.MODIFY;default:return Yt.UNKNOWN}}async function Kw(i,e){var t;const n=[];for(let r=0;r<i.length;r++){const a=i[r],o=Xl(a.status);if(!a.patch&&o!==Yt.RENAME&&o!==Yt.MODIFY&&!(o===Yt.ADD&&a.additions===0)){n.push(new qo(e,a.blob_url,o,a.filename,a.previous_filename));continue}const d=a.patch?nf(a.patch):void 0;n.push(new Ps(e,o,a.filename,a.previous_filename,(t=a.patch)!=null?t:"",d,a.blob_url))}return n}const Qw=/(([A-Za-z0-9_.\-]+)\/([A-Za-z0-9_.\-]+))?(#|GH-)([1-9][0-9]*)($|\b)/,ja=/(https?:\/\/github\.com\/(([^\s]+)\/([^\s]+))\/([^\s]+\/)?(issues|pull)\/([0-9]+)(#issuecomment\-([0-9]+))?)|(([A-Za-z0-9_.\-]+)\/([A-Za-z0-9_.\-]+))?(#|GH-)([1-9][0-9]*)($|\b)/;function Fs(i){if(!i)return;const e={owner:void 0,name:void 0,issueNumber:0};return i.length===7?(e.owner=i[2],e.name=i[3],e.issueNumber=parseInt(i[5]),e):i.length===16?(e.owner=i[3]||i[11],e.name=i[4]||i[12],e.issueNumber=parseInt(i[7]||i[14]),e.commentNumber=i[9]!==void 0?parseInt(i[9]):void 0,e):void 0}function eu(i,e,t){return i!==e&&t===void 0?t=300:t||(t=0),new s.Range(i,0,e,t)}async function ad(i,e,t){var n,r;if(e.avatarUrl){const a=i;a.canReply={name:(n=e.name)!=null?n:e.login,iconPath:s.Uri.parse(e.avatarUrl)};const o=await wr.avatarCirclesAsImageDataUris(t,[e],28,28);a.canReply={name:(r=e.name)!=null?r:e.login,iconPath:o[0]}}else i.canReply=!0}function tu(i,e,t,n,r,a,o){const d=r.createCommentThread(e,t,[]);d.gitHubThreadId=n.id,d.comments=n.comments.map($=>new Kn(i,$,d,o));const S=zm(n.isResolved);let C=s.CommentThreadApplicability.Current;return n.viewerCanResolve&&!n.isResolved?d.contextValue="canResolve":n.viewerCanUnresolve&&n.isResolved&&(d.contextValue="canUnresolve"),n.isOutdated&&(d.contextValue+="outdated",C=s.CommentThreadApplicability.Outdated),d.state={resolved:S,applicability:C},$o(d),d.collapsibleState=Wm(n,void 0,a.login),ad(d,a,i),d}function zm(i){return i?s.CommentThreadState.Resolved:s.CommentThreadState.Unresolved}const Yw="commentExpandState",wF="collapseAll",Jw="collapsePreexisting",Zw="expandUnresolved";function Wm(i,e,t,n){var r,a;const o=(r=s.workspace.getConfiguration(bt))==null?void 0:r.get(Yw),d=t&&((a=i.comments[i.comments.length-1].user)==null?void 0:a.login)===t,S=i.comments.length===1&&i.comments[0].body.startsWith("```suggestion")&&i.comments[0].body.endsWith("```");return o===Jw&&n&&!S?s.CommentThreadCollapsibleState.Expanded:i.isResolved||!i.isOutdated&&d&&!S?s.CommentThreadCollapsibleState.Collapsed:(e===void 0&&(e=o===Zw),e?s.CommentThreadCollapsibleState.Expanded:s.CommentThreadCollapsibleState.Collapsed)}function Km(i,e,t,n,r,a){if(!e.range)return;const o=s.window.visibleTextEditors;for(let d of o)if(d.document.uri.toString()===e.uri.toString()){const S=d.document.lineAt(e.range.end.line),C=new s.Range(e.range.start.line,0,e.range.end.line,S.text.length);sd(i,e,t,n,r,C,void 0,a);break}}function sd(i,e,t,n,r,a,o,d){var S,C;t.viewerCanResolve&&!t.isResolved?e.contextValue="canResolve":t.viewerCanUnresolve&&t.isResolved&&(e.contextValue="canUnresolve"),t.isOutdated&&(e.contextValue+="outdated");const $=zm(t.isResolved),Y=t.isOutdated?s.CommentThreadApplicability.Outdated:s.CommentThreadApplicability.Current;if((((S=e.state)==null?void 0:S.resolved)!==$||((C=e.state)==null?void 0:C.applicability)!==Y)&&(e.state={resolved:$,applicability:Y}),e.collapsibleState=Wm(t,r,o,d),a&&(e.range=a),e.comments.length===t.comments.length&&e.comments.every((ne,le)=>ne.commentId===`${t.comments[le].id}`)){let ne=0;for(const le of e.comments)le instanceof Kn&&le.update(t.comments[ne]),ne++}else e.comments=t.comments.map(ne=>new Kn(i,ne,e,n));$o(e)}function $o(i){var e;if(((e=i.state)==null?void 0:e.resolved)===s.CommentThreadState.Resolved){i.label=s.l10n.t("Marked as resolved");return}if(i.comments.length){const t=q(i.comments,n=>n.originalAuthor.name).map(n=>`@${n.originalAuthor.name}`).join(", ");i.label=s.l10n.t("Participants: {0}",t)}else i.label=s.l10n.t("Start discussion")}function Qm(i,e){let t=!1;const n=i.reactions,r=hd().map((a,o)=>{if(!e)return{label:a.label,authorHasReacted:!1,count:0,iconPath:a.icon||""};const d=e.find(C=>C.label===a.label);let S;return d?S={label:d.label,authorHasReacted:d.viewerHasReacted,count:d.count,iconPath:a.icon||"",reactors:d.reactors.map(C=>({name:C}))}:S={label:a.label,authorHasReacted:!1,count:0,iconPath:a.icon||""},!t&&(!n||n[o].authorHasReacted!==S.authorHasReacted||n[o].count!==S.count)&&(t=!0),S});return i.reactions=r,t}function Ym(i,e){e||(i.comments=i.comments.map(t=>(t instanceof Kn&&(t.rawComment.isDraft=!1),t.label=void 0,t)))}function Pr(i){return i===Ni.githubEnterprise}function Ho(i,e){return ln(i,e)}function Jm(i){return{label:i.label,ref:i.ref,sha:i.sha,repo:{cloneUrl:i.repo.clone_url,isInOrganization:i.repo.owner.type==="Organization",owner:i.repo.owner.login,name:i.repo.name}}}async function Zm(i,e){const t=new RegExp(`href="https?://${It(e.remote.gitProtocol.url.authority)}\\/${It(e.remote.owner)}\\/${It(e.remote.repositoryName)}\\/(issues|pull)\\/([0-9]+)"`,"g");return Ye(i,t,async(n,r,a)=>r==="issues"?`href="${(await Zg({owner:e.remote.owner,repo:e.remote.repositoryName,issueNumber:Number(a)})).toString()}""`:`href="${(await vo({owner:e.remote.owner,repo:e.remote.repositoryName,pullRequestNumber:Number(a)})).toString()}"`)}function od(i,e){const{number:t,body:n,title:r,html_url:a,user:o,state:d,assignees:S,created_at:C,updated_at:$,head:Y,base:ne,labels:le,node_id:he,id:ke,draft:pe}=i,Ne={id:ke,graphNodeId:he,number:t,body:n!=null?n:"",title:r,titleHTML:r,url:a,user:Ho(o,e),state:d,merged:i.merged||!1,assignees:S?S.map(Ce=>Ho(Ce,e)):void 0,createdAt:C,updatedAt:$,viewerCanUpdate:!1,head:Y.repo?Jm(Y):void 0,base:Jm(ne),labels:le.map(Ce=>({name:"",color:"",...Ce})),isDraft:pe,suggestedReviewers:[],projectItems:[],commits:[],reactionCount:0,reactions:[],commentCount:0};return i.mergeable!==void 0&&(Ne.mergeable=i.mergeable?Ln.Mergeable:Ln.NotMergeable),Ne}function Xm(i,e){const{number:t,body:n,title:r,html_url:a,user:o,state:d,assignees:S,created_at:C,updated_at:$,labels:Y,node_id:ne,id:le,comments:he}=i;return{id:le,graphNodeId:ne,number:t,body:n!=null?n:"",title:r,titleHTML:r,url:a,user:Ho(o,e),state:d,assignees:S?S.map(pe=>Ho(pe,e)):void 0,createdAt:C,updatedAt:$,labels:Y.map(pe=>{var Ne,Ce,De;return typeof pe=="string"?{name:pe,color:""}:{name:(Ne=pe.name)!=null?Ne:"",color:(Ce=pe.color)!=null?Ce:"",description:(De=pe.description)!=null?De:void 0}}),projectItems:[],reactionCount:0,reactions:[],commentCount:he}}function Xw(i,e){return{event:Ht.Reviewed,comments:[],submittedAt:i.submitted_at,body:i.body,bodyHTML:i.body,htmlUrl:i.html_url,user:Ho(i.user,e),authorAssociation:i.user.type,state:i.state,id:i.id,reactions:void 0}}function ek(i){const e=[],t=Zl(i.diffHunk);let n=t.next();for(;!n.done;){const r=n.value;e.push(r),n=t.next()}return e}function tk(i){switch(i){case"PullRequestCommit":return Ht.Committed;case"LabeledEvent":return Ht.Labeled;case"MilestonedEvent":return Ht.Milestoned;case"AssignedEvent":return Ht.Assigned;case"UnassignedEvent":return Ht.Unassigned;case"HeadRefDeletedEvent":return Ht.HeadRefDeleted;case"IssueComment":return Ht.Commented;case"PullRequestReview":return Ht.Reviewed;case"MergedEvent":return Ht.Merged;case"CrossReferencedEvent":return Ht.CrossReferenced;case"ClosedEvent":return Ht.Closed;case"ReopenedEvent":return Ht.Reopened;case"BaseRefChangedEvent":return Ht.BaseRefChanged;default:return Ht.Other}}function ld(i,e){var t,n,r,a;return{id:i.id,prReviewDatabaseId:i.comments.edges&&i.comments.edges.length?(t=i.comments.edges[0].node.pullRequestReview)==null?void 0:t.databaseId:void 0,isResolved:i.isResolved,viewerCanResolve:i.viewerCanResolve,viewerCanUnresolve:i.viewerCanUnresolve,path:i.path,startLine:(n=i.startLine)!=null?n:i.line,endLine:i.line,originalStartLine:(r=i.originalStartLine)!=null?r:i.originalLine,originalEndLine:i.originalLine,diffSide:i.diffSide,isOutdated:i.isOutdated,comments:i.comments.nodes.map(o=>Go(o,i.isResolved,e)),subjectType:(a=i.subjectType)!=null?a:Va.LINE}}function Go(i,e,t){var n,r;const a=cn[(r=(n=i.author)==null?void 0:n.login)!=null?r:""],o={id:i.databaseId,url:i.url,body:i.body,specialDisplayBodyPostfix:a==null?void 0:a.postComment,bodyHTML:i.bodyHTML,path:i.path,canEdit:i.viewerCanDelete,canDelete:i.viewerCanDelete,pullRequestReviewId:i.pullRequestReview&&i.pullRequestReview.databaseId,diffHunk:i.diffHunk,position:i.position,commitId:i.commit.oid,originalPosition:i.originalPosition,originalCommitId:i.originalCommit&&i.originalCommit.oid,user:i.author?ln(i.author,t):void 0,createdAt:i.createdAt,htmlUrl:i.url,graphNodeId:i.id,isDraft:i.state==="PENDING",inReplyToId:i.replyTo&&i.replyTo.databaseId,reactions:Ds(i.reactionGroups),isResolved:e},d=ek(o);return o.diffHunks=d,o}function ep(i,e){var t,n,r;return{id:i.databaseId,url:i.url,body:i.body,specialDisplayBodyPostfix:(r=cn[(n=(t=i.author)==null?void 0:t.login)!=null?n:""])==null?void 0:r.postComment,bodyHTML:i.bodyHTML,canEdit:i.viewerCanDelete,canDelete:i.viewerCanDelete,user:ln(i.author,e),createdAt:i.createdAt,htmlUrl:i.url,graphNodeId:i.id,diffHunk:"",reactions:Ds(i.reactionGroups)}}function Ds(i){const e=hd().reduce((n,r)=>(n[r.title]=r,n),{});return i.filter(n=>n.reactors.totalCount>0).map(n=>({label:e[n.content].label,count:n.reactors.totalCount,icon:e[n.content].icon,viewerHasReacted:n.viewerHasReacted,reactors:n.reactors.nodes.map(a=>{var o,d;return(d=(o=cn[a.login])==null?void 0:o.name)!=null?d:a.login})}))}function tp(i,e,t){if(t)return{label:`${t.owner.login}:${i}`,ref:i,sha:e,repo:{cloneUrl:t.url,isInOrganization:t.isInOrganization,owner:t.owner.login,name:i}}}function ln(i,e){var t,n,r,a,o,d,S;if(i){let C,$,Y,ne;if(i.html_url){const he=i;C=he.avatar_url,$=he.node_id,Y=he.html_url,ne=he.type}else{const he=i;C=he.avatarUrl,$=he.id,Y=he.url,ne=he.__typename}const le=e?to(C,void 0,e.remote.isEnterprise):C;return{login:i.login,url:(n=(t=cn[i.login])==null?void 0:t.url)!=null?n:Y,avatarUrl:le,email:(r=i.email)!=null?r:void 0,id:$,name:(d=(o=i.name)!=null?o:(a=cn[i.login])==null?void 0:a.name)!=null?d:void 0,specialDisplayName:cn[i.login]?(S=i.name)!=null?S:cn[i.login].name:void 0,accountType:mn(ne)}}else return{login:"",url:"",id:"",accountType:ca.User}}function ik(i,e){return{name:i.name,url:i.url,avatarUrl:to(i.avatarUrl,void 0,e.remote.isEnterprise),id:i.id,org:e.remote.owner,slug:i.slug}}function nk(i,e){if(!i.repository)return[];const t=[];for(const n of i.repository.pullRequest.reviewRequests.nodes)if(Rw(n.requestedReviewer)){const r=ik(n.requestedReviewer,e);t.push(r)}else if(Ew(n.requestedReviewer)||Nw(n.requestedReviewer)){const r=ln(n.requestedReviewer,e);t.push(r)}return t}function rk(i,e){return i?{login:i.login,url:i.url,avatarUrl:to(i.avatarUrl,void 0,e.remote.isEnterprise)}:{login:"",url:""}}function ip(i){if(i)return i.map(e=>({id:e.id,project:e.project}))}function ud(i){if(i)return{title:i.title,dueOn:i.dueOn,createdAt:i.createdAt,id:i.id,number:i.number}}function np(i){if(!i)return null;let e;switch(i.state){case"AWAITING_CHECKS":{e=qa.AwaitingChecks;break}case"LOCKED":{e=qa.Locked;break}case"QUEUED":{e=qa.Queued;break}case"MERGEABLE":{e=qa.Mergeable;break}case"UNMERGEABLE":{e=qa.Unmergeable;break}}return{position:i.position,state:e,url:i.mergeQueue.url}}function rp(i){switch(i){case"MERGE":return"merge";case"REBASE":return"rebase";case"SQUASH":return"squash"}}function dd(i,e){let t;switch(i){case void 0:case"UNKNOWN":t=Ln.Unknown;break;case"MERGEABLE":t=Ln.Mergeable;break;case"CONFLICTING":t=Ln.Conflict;break}return t!==Ln.Conflict&&(e==="BLOCKED"?t=Ln.NotMergeable:e==="BEHIND"&&(t=Ln.Behind)),t}async function iu(i,e){var t,n,r,a,o,d,S,C;const $={id:i.databaseId,graphNodeId:i.id,url:i.url,number:i.number,state:i.state,body:i.body,bodyHTML:await Zm(i.bodyHTML,e),title:i.title,titleHTML:i.titleHTML,createdAt:i.createdAt,updatedAt:i.updatedAt,isRemoteHeadDeleted:!i.headRef,head:tp((n=(t=i.headRef)==null?void 0:t.name)!=null?n:i.headRefName,i.headRefOid,i.headRepository),isRemoteBaseDeleted:!i.baseRef,base:tp((a=(r=i.baseRef)==null?void 0:r.name)!=null?a:i.baseRefName,i.baseRefOid,i.baseRepository),user:ln(i.author,e),merged:i.merged,mergeable:dd(i.mergeable,i.mergeStateStatus),mergeQueueEntry:np(i.mergeQueueEntry),hasComments:i.reviewThreads.totalCount>0,autoMerge:!!i.autoMergeRequest,autoMergeMethod:rp((o=i.autoMergeRequest)==null?void 0:o.mergeMethod),allowAutoMerge:i.viewerCanEnableAutoMerge||i.viewerCanDisableAutoMerge,viewerCanUpdate:i.viewerCanUpdate,labels:i.labels.nodes,isDraft:i.isDraft,suggestedReviewers:lk(i.suggestedReviewers),comments:sk((d=i.comments)==null?void 0:d.nodes,e),projectItems:ip((S=i.projectItems)==null?void 0:S.nodes),milestone:ud(i.milestone),assignees:(C=i.assignees)==null?void 0:C.nodes.map(Y=>ln(Y,e)),commits:ak(i.commits.nodes),reactionCount:i.reactions.totalCount,reactions:Ds(i.reactionGroups),commentCount:i.comments.totalCount,additions:i.additions,deletions:i.deletions};return $.mergeCommitMeta=ap(i.baseRepository.mergeCommitTitle,i.baseRepository.mergeCommitMessage,$),$.squashCommitMeta=ap(i.baseRepository.squashMergeCommitTitle,i.baseRepository.squashMergeCommitMessage,$),$}function ap(i,e,t){var n,r;if(i===void 0||e===void 0)return;let a="",o="";const d=`(#${t.number})`;switch(i){case Yl.prTitle:{a=`${t.title} ${d}`;break}case Yl.mergeMessage:{a=`Merge pull request #${t.number} from ${(r=(n=t.head)==null?void 0:n.label)!=null?r:""}`;break}case Yl.commitOrPrTitle:{t.commits.length===1?a=`${t.commits[0].message.split(`
`)[0]} ${d}`:a=`${t.title} ${d}`;break}}switch(e){case nd.prBody:{o=t.body;break}case nd.commitMessages:{if(t.commits.length===1&&i===Yl.commitOrPrTitle){const S=t.commits[0].message.split(`
`);o=S.length>1?S.slice(1).join(`
`).trim():""}else o=t.commits.map(S=>`* ${S.message}`).join(`

`);break}case nd.prTitle:{o=t.title;break}}return{title:a,description:o}}function ak(i){return i.map(e=>({message:e.commit.message}))}function sk(i,e){if(!i)return;const t=[];for(const n of i)t.push({author:ln(n.author,e),body:n.body,databaseId:n.databaseId,reactionCount:n.reactions.totalCount,createdAt:n.createdAt});return t}async function sp(i,e){var t,n,r,a,o,d,S,C,$;return{id:i.databaseId,graphNodeId:i.id,url:i.url,number:i.number,state:i.state,stateReason:i.stateReason,body:i.body,bodyHTML:await Zm(i.bodyHTML,e),title:i.title,titleHTML:i.titleHTML,createdAt:i.createdAt,updatedAt:i.updatedAt,assignees:(t=i.assignees)==null?void 0:t.nodes.map(Y=>ln(Y,e)),user:ln(i.author,e),labels:i.labels.nodes,milestone:ud(i.milestone),repositoryName:(r=(n=i.repository)==null?void 0:n.name)!=null?r:e.remote.repositoryName,repositoryOwner:(o=(a=i.repository)==null?void 0:a.owner.login)!=null?o:e.remote.owner,repositoryUrl:(S=(d=i.repository)==null?void 0:d.url)!=null?S:e.remote.url,projectItems:ip((C=i.projectItems)==null?void 0:C.nodes),comments:($=i.comments.nodes)==null?void 0:$.map(Y=>ok(Y,e)),reactionCount:i.reactions.totalCount,reactions:Ds(i.reactionGroups),commentCount:i.comments.totalCount}}function ok(i,e){return{author:ln(i.author,e),body:i.body,databaseId:i.databaseId,reactionCount:i.reactions.totalCount,createdAt:i.createdAt}}function lk(i){return i?i.map(t=>({...ln(t.reviewer,void 0),isAuthor:t.isAuthor,isCommenter:t.isCommenter})).sort(op):[]}function op(i,e){return i.login.localeCompare(e.login,"en",{sensitivity:"accent"})}function uk(i,e){var t,n,r,a;const o=(n=(t=i.name)!=null?t:i.slug)!=null?n:i.id,d=(a=(r=e.name)!=null?r:e.slug)!=null?a:e.id;return o.localeCompare(d,"en",{sensitivity:"accent"})}function dk(i,e){return{event:Ht.Reviewed,comments:i.comments.nodes.map(t=>Go(t,!1,e)).filter(t=>!t.inReplyToId),submittedAt:i.submittedAt,body:i.body,bodyHTML:i.bodyHTML,htmlUrl:i.url,user:ln(i.author,e),authorAssociation:i.authorAssociation,state:i.state,id:i.databaseId,reactions:Ds(i.reactionGroups)}}function ck(i,e){const t=[],n={id:i.id,host:i.githubRepository.remote.gitProtocol.host,owner:i.githubRepository.remote.owner,repo:i.githubRepository.remote.repositoryName,pullNumber:i.number};let r=0;for(const a of e){const o=a;o.created_at&&o.node_id&&(a.event==="copilot_work_started"?t.push({id:o.node_id,event:Ht.CopilotStarted,createdAt:o.created_at,onBehalfOf:ln(o.actor),sessionLink:{...n,sessionIndex:r}}):a.event==="copilot_work_finished"?(t.push({id:o.node_id,event:Ht.CopilotFinished,createdAt:o.created_at,onBehalfOf:ln(o.actor)}),r++):a.event==="copilot_work_finished_failure"&&(r++,t.push({id:o.node_id,event:Ht.CopilotFinishedError,createdAt:o.created_at,onBehalfOf:ln(o.actor),sessionLink:{...n,sessionIndex:r}})))}return t}function cd(i){switch(i.event){case Ht.Committed:return new Date(i.committedDate);case Ht.Commented:case Ht.Assigned:case Ht.HeadRefDeleted:case Ht.Merged:case Ht.CrossReferenced:case Ht.Closed:case Ht.Reopened:case Ht.CopilotStarted:case Ht.CopilotFinished:case Ht.CopilotFinishedError:return new Date(i.createdAt);case Ht.Reviewed:return new Date(i.submittedAt);default:return}}async function fd(i,e,t){var n;const r=[];let a=-1,o;const d=()=>{var C;a++,o=e.length>a?(C=cd(e[a]))==null?void 0:C.getTime():void 0};d();const S=C=>{var $;if(!o){r.push(C);return}const Y=($=cd(C))==null?void 0:$.getTime();if(Y)for(;o&&Y>o;)r.push(e[a]),d();r.push(C)};for(const C of i){if(!C)continue;const $=tk(C.__typename);switch($){case Ht.Commented:const Y=C;S({htmlUrl:Y.url,body:Y.body,bodyHTML:Y.bodyHTML,user:ln(Y.author,t),event:$,canEdit:Y.viewerCanUpdate,canDelete:Y.viewerCanDelete,id:Y.databaseId,graphNodeId:Y.id,createdAt:Y.createdAt,reactions:Ds(Y.reactionGroups)});break;case Ht.Reviewed:const ne=C;S({event:$,comments:[],submittedAt:ne.submittedAt,body:ne.body,bodyHTML:ne.bodyHTML,htmlUrl:ne.url,user:ln(ne.author,t),authorAssociation:ne.authorAssociation,state:ne.state,id:ne.databaseId,reactions:Ds(ne.reactionGroups)});break;case Ht.Committed:const le=C;S({id:le.id,event:$,sha:le.commit.oid,author:le.commit.author.user?ln(le.commit.author.user,t):{login:le.commit.committer.name},htmlUrl:le.url,message:le.commit.message,committedDate:new Date(le.commit.committedDate),status:(n=le.commit.statusCheckRollup)==null?void 0:n.state});break;case Ht.Merged:const he=C;S({id:he.id,event:$,user:rk(he.actor,t),createdAt:he.createdAt,mergeRef:he.mergeRef.name,sha:he.commit.oid,commitUrl:he.commit.commitUrl,url:he.url,graphNodeId:he.id});break;case Ht.Assigned:const ke=C;S({id:ke.id,event:$,assignees:[ln(ke.user,t)],actor:ln(ke.actor),createdAt:ke.createdAt});break;case Ht.Unassigned:const pe=C;r.push({id:pe.id,event:$,unassignees:[ln(pe.user,t)],actor:ln(pe.actor),createdAt:pe.createdAt});break;case Ht.HeadRefDeleted:const Ne=C;S({id:Ne.id,event:$,actor:ln(Ne.actor,t),createdAt:Ne.createdAt,headRef:Ne.headRefName});break;case Ht.CrossReferenced:const Ce=C,De=Ce.source.__typename==="Issue",He=De?await Zg({owner:Ce.source.repository.owner.login,repo:Ce.source.repository.name,issueNumber:Ce.source.number}):await vo({owner:Ce.source.repository.owner.login,repo:Ce.source.repository.name,pullRequestNumber:Ce.source.number});S({id:Ce.id,event:$,actor:ln(Ce.actor,t),createdAt:Ce.createdAt,source:{url:Ce.source.url,extensionUrl:He.toString(),number:Ce.source.number,title:Ce.source.title,isIssue:De,owner:Ce.source.repository.owner.login,repo:Ce.source.repository.name},willCloseTarget:Ce.willCloseTarget});break;case Ht.Closed:const Ke=C;S({id:Ke.id,event:$,actor:ln(Ke.actor,t),createdAt:Ke.createdAt});break;case Ht.Reopened:const Ge=C;S({id:Ge.id,event:$,actor:ln(Ge.actor,t),createdAt:Ge.createdAt});break;case Ht.BaseRefChanged:const je=C;S({id:je.id,event:$,actor:ln(je.actor,t),createdAt:je.createdAt,currentRefName:je.currentRefName,previousRefName:je.previousRefName});break;default:break}}for(;o;)r.push(e[a]),d();return r}function fk(i,e){var t;return{login:i.user.login,name:i.user.name,avatarUrl:to((t=i.user.avatarUrl)!=null?t:"",void 0,e.remote.isEnterprise),url:i.user.url,bio:i.user.bio,company:i.user.company,location:i.user.location,commitContributions:hk(i.user.contributionsCollection),id:i.user.id,accountType:mn(i.user.__typename)}}function hk(i){const e=[];return i.commitContributionsByRepository.forEach(t=>{t.contributions.nodes.forEach(n=>{e.push({createdAt:new Date(n.occurredAt),repoNameWithOwner:t.repository.nameWithOwner})})}),e}function hd(){return[{title:"THUMBS_UP",label:"\u{1F44D}"},{title:"THUMBS_DOWN",label:"\u{1F44E}"},{title:"LAUGH",label:"\u{1F604}"},{title:"HOORAY",label:"\u{1F389}"},{title:"CONFUSED",label:"\u{1F615}"},{title:"HEART",label:"\u2764\uFE0F"},{title:"ROCKET",label:"\u{1F680}"},{title:"EYES",label:"\u{1F440}"}]}async function nu(i,e,t=100){let n=1,r=[],a=!1;do{const o=await i({...e,per_page:t,page:n});r=r.concat(o.data),a=!!o.headers.link&&o.headers.link.indexOf('rel="next"')>-1,n+=1}while(a);return r}function mk(i){const e=[];return i.forEach(t=>{var n,r;t.event===Ht.Committed&&e.push({login:t.author.login,name:t.author.name||""}),t.event===Ht.Reviewed&&e.push({login:t.user.login,name:(n=t.user.name)!=null?n:t.user.login}),t.event===Ht.Commented&&t.user&&e.push({login:t.user.login,name:(r=t.user.name)!=null?r:t.user.login})}),e}function pk(i){var e;return i&&((e=i.repository)!=null&&e.viewerPermission)&&Object.values(pa).includes(i.repository.viewerPermission)?i.repository.viewerPermission:pa.Unknown}function lp(i,e){return e.path.toLowerCase()===i.rootUri.path.toLowerCase()||e.path.toLowerCase().startsWith(i.rootUri.path.toLowerCase())&&e.path.substring(i.rootUri.path.length).startsWith("/")}function md(i,e){const t=[];for(const n of i.repositories.reverse())lp(n,e)&&t.push(n);if(t.length>0)return t.sort((n,r)=>r.rootUri.path.length-n.rootUri.path.length),t[0]}function rf(i,e,t){const n=e.filter(o=>o.event===Ht.Reviewed).filter(o=>o.state!=="PENDING");let r=[];const a=new Map;a.set(t.login,!0);for(let o=n.length-1;o>=0;o--){const d=n[o],S=d.user;d.state&&!a.get(S.login)&&(a.set(S.login,!0),r.push({reviewer:S,state:d.state}))}return i.forEach(o=>{if(!a.get(jr(o)))r.push({reviewer:o,state:"REQUESTED"});else{const d=r.find(S=>jr(S.reviewer)===jr(o));d.state="REQUESTED"}}),r=r.sort((o,d)=>o.state==="REQUESTED"&&d.state!=="REQUESTED"?1:d.state==="REQUESTED"&&o.state!=="REQUESTED"||Mo(o.reviewer).toLowerCase()<Mo(d.reviewer).toLowerCase()?-1:1),r}function gk(i){if(!i.subject.url)return;const e=i.repository.owner.login,t=i.repository.name,n=i.subject.url.split("/").pop();return{owner:e,name:t,key:up(e,t,n),id:i.id,itemID:n,subject:{title:i.subject.title,type:i.subject.type,url:i.subject.url},lastReadAt:i.last_read_at?new Date(i.last_read_at):void 0,reason:i.reason,unread:i.unread,updatedAt:new Date(i.updated_at)}}function up(i,e,t){return`${i}/${e}#${t}`}function vk(i,e,t,n){if(e&&n&&n.sha!==e){let r=i.length-1,a=!1,o=[];for(let d=i.length-1;d>0;d--)if(i[d].event===Ht.Committed&&i[d].sha===e){o.unshift({id:e,event:Ht.NewCommitsSinceReview}),i.splice(r+1,0,...o);break}else a&&i[d].event===Ht.Committed?(o.unshift(i[d]),i.splice(d,1)):!a&&i[d].event===Ht.Reviewed&&i[d].user.login===t&&(r=d,a=!0)}}function yk(i,e){return`is:pull-request ${e.replace(/\$\{user\}/g,i)} type:pr`}function pd(){return s.env.remoteName==="codespaces"&&s.env.uiKind===s.UIKind.Web}async function af(i){return s.workspace.getConfiguration(xt).update(zt,i,s.ConfigurationTarget.Workspace)}function Vo(){const i=s.workspace.getConfiguration(xt).get(zt,"");if(i){let e=s.Uri.parse(i,!0);return e.scheme==="http"&&(e=e.with({scheme:"https"})),e}}function Ca(){return!!Vo()}function bk(i,e=200){return i?`https://www.gravatar.com/avatar/${i}?s=${e}&d=retro`:void 0}function to(i,e,t){return!t||i&&i.trim()?i:e?bk(Tw.n1("sha256").update(e.trim().toLowerCase()).digest("hex")):void 0}function wk(i){return s.Uri.parse(`https://${i.remote.host}/${i.remote.owner}/${i.remote.repositoryName}/pulls`)}function kk(i){return s.Uri.parse(`https://${i.remote.host}/${i.remote.owner}/${i.remote.repositoryName}/issues`)}function dp(i){const e=/[~^:;'".,~#?%*&[\]@\\{}()/]|\/\//g;return i.replace(e,"").trim().substring(0,150).replace(/\s+/g,"-")}const _k=/-([0-9]+)([d])/;function Sk(i){const e=i?_k.exec(i):void 0,t=new Date;if(e&&e.length===3&&e[2]==="d"){const a=parseInt(e[1])*864e5;t.setTime(t.getTime()-a)}const n=`${t.getMonth()+1}`,r=`${t.getDate()}`;return`${t.getFullYear()}-${n.padStart(2,"0")}-${r.padStart(2,"0")}`}const Ek=/\:(Copilot|copilot)(\s|$)/g,Rk=/\$\{([^-]*?)(-.*?)?\}/g;function io(i,e,t,n){return i.replace(Rk,(o,d,S)=>{let C;switch(d){case"user":C=n||o;break;case"issueNumber":C=e?`${e.number}`:o;break;case"issueNumberLabel":C=e?`${jo(e,t)}`:o;break;case"issueTitle":C=e?e.title:o;break;case"repository":C=t?t.repo:o;break;case"owner":C=t?t.owner:o;break;case"sanitizedIssueTitle":C=e?dp(e.title):o;break;case"sanitizedLowercaseIssueTitle":C=e?dp(e.title).toLowerCase():o;break;case"today":C=Sk(S);break;default:C=o;break}return y.debug(`${o} -> ${C}`,"VariableSubstitution"),C}).replace(Ek,()=>`:${fr}[bot] `)}function jo(i,e){const t={issueNumber:i.number,owner:void 0,name:void 0};return e&&(e.owner.toLowerCase()!==i.remote.owner.toLowerCase()||e.repo.toLowerCase()!==i.remote.repositoryName.toLowerCase())&&(t.owner=i.remote.owner,t.name=i.remote.repositoryName),sf(t)}function sf(i){return!i.owner||!i.name?`#${i.issueNumber}`:`${i.owner}/${i.name}#${i.issueNumber}`}function cp(){const i=s.workspace.getConfiguration(bt).get(di);if(i)return y.debug("Using override setting for default branch",Qn.ID),i}async function fp(i){const e=[],t=[],n=[];for(const r of i){for(const a of await r.computeAllGitHubRemotes())a.githubServerType===En.GitHubDotCom?e.push(a):a.githubServerType===En.Enterprise&&t.push(a);n.push(...await r.computeAllUnknownRemotes())}return{dotComRemotes:e,enterpriseRemotes:t,unknownRemotes:n}}function gd(i){const e=s.Uri.parse(i.html_url);return`https://${s.env.appName.toLowerCase().includes("insider")?"insiders.":""}vscode.dev/github${e.path}`}function hp(i){const e=`${i.head.owner}/${i.remote.repositoryName}`,t=i.head.ref;return`https://github.com/codespaces/new/${encodeURIComponent(e)}/tree/${encodeURIComponent(t)}`}function mp(i){const e=s.window.activeColorTheme.kind===s.ColorThemeKind.Dark,t=ge(i.color,e,!0),n=Bo(i.name.trim());return`<span style="color:${t.textColor};background-color:${t.backgroundColor};border-radius:10px;">&nbsp;&nbsp;${n}&nbsp;&nbsp;</span>`}var Ur=(i=>(i[i.None=0]="None",i[i.ReviewRequired=1]="ReviewRequired",i[i.ChangesRequested=2]="ChangesRequested",i[i.CIFailed=4]="CIFailed",i[i.CIPending=8]="CIPending",i))(Ur||{});async function of(i,e){if(!e)return;const t=await i.getPullRequestDefaults(),n=io(e,void 0,t,"fakeUser"),a=/(?:^|\s)repo:(?:"?(?<owner>[A-Za-z0-9_.-]+)\/(?<repo>[A-Za-z0-9_.-]+)"?)/i.exec(n);if(a&&a.groups)return{owner:a.groups.owner,repositoryName:a.groups.repo}}var Nk=Object.defineProperty,Ck=(i,e,t)=>e in i?Nk(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t,kn=(i,e,t)=>Ck(i,typeof e!="symbol"?e+"":e,t);const pp=class is extends f{constructor(e,t,n,r,a=!1){super(),kn(this,"id"),kn(this,"graphNodeId"),kn(this,"number"),kn(this,"title"),kn(this,"titleHTML"),kn(this,"html_url"),kn(this,"state",Li.Open),kn(this,"stateReason"),kn(this,"author"),kn(this,"assignees"),kn(this,"createdAt"),kn(this,"updatedAt"),kn(this,"milestone"),kn(this,"githubRepository"),kn(this,"_telemetry"),kn(this,"remote"),kn(this,"item"),kn(this,"body"),kn(this,"bodyHTML"),kn(this,"_lastCheckedForUpdatesAt"),kn(this,"_timelineEvents"),kn(this,"_copilotTimelineEvents"),kn(this,"_onDidChange",this._register(new s.EventEmitter)),kn(this,"onDidChange",this._onDidChange.event),this._telemetry=e,this.githubRepository=t,this.remote=n,this.item=r,a||this.update(r)}get timelineEvents(){return this._timelineEvents}set timelineEvents(e){(!this._timelineEvents||this._timelineEvents.length!==e.length)&&(this._timelineEvents=e,this._onDidChange.fire({timeline:!0}))}get lastCheckedForUpdatesAt(){return this._lastCheckedForUpdatesAt}get isOpen(){return this.state===Li.Open}get isClosed(){return this.state===Li.Closed}get isMerged(){return this.state===Li.Merged}get userAvatar(){if(this.item)return this.item.user.avatarUrl}get userAvatarUri(){if(this.item){const e=this.userAvatar;if(e){const t=s.Uri.parse(`${e}&s=64`),n=t.toString;return t.toString=function(r){return n.call(t,!0)},t}}}stateToStateEnum(e){let t=Li.Closed;return e.toLowerCase()==="open"&&(t=Li.Open),t}doUpdate(e){var t,n,r,a;const o={};this.id=e.id,this.graphNodeId=e.graphNodeId,this.number=e.number,this.html_url=e.url,this.author=e.user,this.createdAt=e.createdAt,this.title!==e.title&&(o.title=!0,this.title=e.title),e.titleHTML&&this.titleHTML!==e.titleHTML&&(this.titleHTML=e.titleHTML),(!this.bodyHTML||e.body!==this.body)&&this.bodyHTML!==e.bodyHTML&&(this.bodyHTML=e.bodyHTML),this.body!==e.body&&(o.body=!0,this.body=e.body),((t=this.milestone)==null?void 0:t.id)!==((n=e.milestone)==null?void 0:n.id)&&(o.milestone=!0,this.milestone=e.milestone),this.updatedAt!==e.updatedAt&&(this.updatedAt=e.updatedAt);const d=this.stateToStateEnum(e.state);return this.state!==d&&(o.state=!0,this.state=d),this.stateReason!==e.stateReason&&e.stateReason&&(o.state=!0,this.stateReason=e.stateReason),e.assignees&&(e.assignees.length!==((a=(r=this.assignees)==null?void 0:r.length)!=null?a:0)||e.assignees.some(S=>{var C;return(C=this.assignees)==null?void 0:C.every($=>$.id!==S.id)}))&&(o.assignees=!0,this.assignees=e.assignees),o}update(e){const t=this.doUpdate(e);this.item=e,Object.keys(t).length>0&&this._onDidChange.fire(t)}equals(e){return!(!e||this.number!==e.number||this.html_url!==e.html_url)}updateIssueInput(e){return{id:e}}updateIssueSchema(e){return e.UpdateIssue}async edit(e){try{const{mutate:t,schema:n}=await this.githubRepository.ensure(),{data:r}=await t({mutation:this.updateIssueSchema(n),variables:{input:{...this.updateIssueInput(this.graphNodeId),body:e.body,title:e.title}}});if(r!=null&&r.updateIssue.issue){const a={};this.body!==r.updateIssue.issue.body&&(a.body=!0,this.item.body=r.updateIssue.issue.body,this.bodyHTML=r.updateIssue.issue.bodyHTML),this.title!==r.updateIssue.issue.title&&(a.title=!0,this.title=r.updateIssue.issue.title,this.titleHTML=r.updateIssue.issue.titleHTML),this._onDidChange.fire(a)}return r.updateIssue.issue}catch(t){throw new Error(_e(t))}}canEdit(){const e=this.author&&this.author.login;return this.githubRepository.isCurrentUser(this.remote.authProviderId,e)}async createIssueComment(e){const{mutate:t,schema:n}=await this.githubRepository.ensure(),{data:r}=await t({mutation:n.AddIssueComment,variables:{input:{subjectId:this.graphNodeId,body:e}}});return this._onDidChange.fire({timeline:!0}),ep(r.addComment.commentEdge.node,this.githubRepository)}async editIssueComment(e,t){try{const{mutate:n,schema:r}=await this.githubRepository.ensure(),{data:a}=await n({mutation:r.EditIssueComment,variables:{input:{id:e.graphNodeId,body:t}}});return this._onDidChange.fire({timeline:!0}),ep(a.updateIssueComment.issueComment,this.githubRepository)}catch(n){throw new Error(_e(n))}}async deleteIssueComment(e){try{const{octokit:t,remote:n}=await this.githubRepository.ensure();await t.call(t.api.issues.deleteComment,{owner:n.owner,repo:n.repositoryName,comment_id:Number(e)}),this._onDidChange.fire({timeline:!0})}catch(t){throw new Error(_e(t))}}async setLabels(e){const{octokit:t,remote:n}=await this.githubRepository.ensure();try{const r=await t.call(t.api.issues.setLabels,{owner:n.owner,repo:n.repositoryName,issue_number:this.number,labels:e});this.item.labels=r.data.map(a=>{var o;return{name:a.name,color:a.color,description:(o=a.description)!=null?o:void 0}}),this._onDidChange.fire({labels:!0})}catch{y.error(`Failed to add labels to PR #${this.number}`,is.ID),s.window.showWarningMessage(s.l10n.t("Some, or all, labels could not be added to the pull request."))}}async removeLabel(e){const{octokit:t,remote:n}=await this.githubRepository.ensure(),r=await t.call(t.api.issues.removeLabel,{owner:n.owner,repo:n.repositoryName,issue_number:this.number,name:e});this.item.labels=r.data.map(a=>{var o;return{name:a.name,color:a.color,description:(o=a.description)!=null?o:void 0}}),this._onDidChange.fire({labels:!0})}async removeProjects(e){await this.doRemoveProjects(e)&&this._onDidChange.fire({projects:!0})}async doRemoveProjects(e){var t;const{mutate:n,schema:r}=await this.githubRepository.ensure();try{return await Promise.all(e.map(a=>n({mutation:r.RemovePullRequestFromProject,variables:{input:{itemId:a.id,projectId:a.project.id}}}))),this.item.projectItems=(t=this.item.projectItems)==null?void 0:t.filter(a=>!e.find(o=>o.project.id===a.project.id)),!0}catch(a){return y.error(a,is.ID),!1}}async addProjects(e){const{mutate:t,schema:n}=await this.githubRepository.ensure();try{const r=await Promise.all(e.map(a=>t({mutation:n.AddPullRequestToProject,variables:{input:{contentId:this.item.graphNodeId,projectId:a.id}}})));this.item.projectItems||(this.item.projectItems=[]),this.item.projectItems.push(...e.map((a,o)=>({project:a,id:r[o].data.addProjectV2ItemById.item.id})))}catch(r){y.error(r,is.ID)}}async updateProjects(e){var t,n;const r=e.filter(o=>{var d;return!((d=this.item.projectItems)!=null&&d.find(S=>S.project.id===o.id))}),a=(n=(t=this.item.projectItems)==null?void 0:t.filter(o=>!e.find(d=>d.id===o.project.id)))!=null?n:[];return await this.removeProjects(a),await this.addProjects(r),this._onDidChange.fire({projects:!0}),this.item.projectItems}getUpdatesQuery(e){return e.LatestIssueUpdates}async getLastUpdateTime(e){y.debug(`Fetch timeline events of issue #${this.number} - enter`,is.ID),this._lastCheckedForUpdatesAt=new Date;const t=this.githubRepository,{query:n,remote:r,schema:a}=await t.ensure();try{const{data:o}=await n({query:this.getUpdatesQuery(a),variables:{owner:r.owner,name:r.repositoryName,number:this.number,since:new Date(e)}}),d=[e,new Date(o.repository.pullRequest.updatedAt),...o.repository.pullRequest.reactions.nodes.map(S=>new Date(S.createdAt)),...o.repository.pullRequest.comments.nodes.map(S=>new Date(S.updatedAt)),...o.repository.pullRequest.comments.nodes.flatMap(S=>S.reactions.nodes.map(C=>new Date(C.createdAt))),...o.repository.pullRequest.timelineItems.nodes.map(S=>{var C,$,Y;const ne=S;if((C=ne.commit)!=null&&C.committedDate)return new Date(ne.commit.committedDate);const le=S;return((Y=($=le.comments)==null?void 0:$.nodes.length)!=null?Y:0)>0?new Date(le.comments.nodes[0].createdAt):new Date(S.createdAt)})];return new Date(Math.max(...d.map(S=>S.getTime())))}catch(o){return y.error(`Error fetching timeline events of issue #${this.number} - ${_e(o)}`,is.ID),e}}async getIssueTimelineEvents(){y.debug(`Fetch timeline events of issue #${this.number} - enter`,Qn.ID);const{query:e,remote:t,schema:n}=await this.githubRepository.ensure();try{const{data:r}=await e({query:n.IssueTimelineEvents,variables:{owner:t.owner,name:t.repositoryName,number:this.number}});if(r.repository===null)return y.error("Unexpected null repository when getting issue timeline events",Qn.ID),[];const a=r.repository.pullRequest.timelineItems.nodes,o=await fd(a,await this.getCopilotTimelineEvents(!0),this.githubRepository),d=o.filter(S=>S.event===Ht.CrossReferenced&&!S.source.isIssue?!this.githubRepository.getExistingPullRequestModel(S.source.number)&&ve(S.source.owner,this.remote.owner)===0&&ve(S.source.repo,this.remote.repositoryName)===0:!1);for(const S of d)this.githubRepository.getPullRequest(S.source.number);return this.timelineEvents=o,o}catch(r){return console.log(r),[]}}async getCopilotTimelineEvents(e=!1,t=!1){var n,r;if(!cn[this.author.login])return[];if(y.debug(`Fetch Copilot timeline events of issue #${this.number} - enter`,Qn.ID),t&&this._copilotTimelineEvents)return y.debug(`Fetch Copilot timeline events of issue #${this.number} (used cache) - exit`,Qn.ID),this._copilotTimelineEvents;const{octokit:a,remote:o}=await this.githubRepository.ensure();try{const d=await nu(a.api.issues.listEventsForTimeline,{issue_number:this.number,owner:o.owner,repo:o.repositoryName,per_page:100}),S=ck(this,d);if(this._copilotTimelineEvents=S,S.length===0)return[];if(!e){const C=this.timelineEvents&&this.timelineEvents.length>0?this.timelineEvents[this.timelineEvents.length-1]:void 0;let $;if(!C)$=S;else{const Y=(n=cd(C))!=null?n:0,ne=S.filter(le=>{var he;return((he=cd(le))!=null?he:0)>Y});$=[...(r=this.timelineEvents)!=null?r:[],...ne]}this.timelineEvents=$}return y.debug(`Fetch Copilot timeline events of issue #${this.number} - exit`,Qn.ID),S}catch(d){return y.error(`Error fetching Copilot timeline events of issue #${this.number} - ${_e(d)}`,Qn.ID),[]}}async copilotWorkingStatus(){const e=await this.getCopilotTimelineEvents();if(e.length>0){const t=e[e.length-1];if(t.event===Ht.CopilotFinished)return Qa.Done;if(t.event===Ht.CopilotStarted)return Qa.InProgress;if(t.event===Ht.CopilotFinishedError)return Qa.Error}return Qa.NotCopilotIssue}async updateMilestone(e){const{mutate:t,schema:n}=await this.githubRepository.ensure(),r=e==="null"?null:e;try{const a=await t({mutation:this.updateIssueSchema(n),variables:{input:{...this.updateIssueInput(this.graphNodeId),milestoneId:r}}});this.milestone=ud(a.data.updateIssue.issue.milestone),this._onDidChange.fire({milestone:!0})}catch(a){y.error(a,is.ID)}}async replaceAssignees(e){var t,n,r;y.debug(`Replace assignees of issue #${this.number} - enter`,is.ID);const{mutate:a,schema:o}=await this.githubRepository.ensure();try{if(o.ReplaceActorsForAssignable){const d=e.find($=>cn[$.login]),S=((t=this.assignees)==null?void 0:t.find($=>cn[$.login]))!==void 0;d&&!S&&this._telemetry.sendTelemetryEvent("pr.assignCopilot");const C=e.map($=>$.id);await a({mutation:o.ReplaceActorsForAssignable,variables:{input:{actorIds:C,assignableId:this.graphNodeId}}})}else{const d=e.map(C=>C.login),S=((r=(n=this.assignees)==null?void 0:n.filter(C=>!e.find($=>$.login===C.login)))!=null?r:[]).map(C=>C.login);await this.addAssignees(d),await this.deleteAssignees(S)}this.assignees=e,this._onDidChange.fire({assignees:!0})}catch(d){y.error(d,is.ID)}y.debug(`Replace assignees of issue #${this.number} - done`,is.ID)}async addAssignees(e){const{octokit:t,remote:n}=await this.githubRepository.ensure();await t.call(t.api.issues.addAssignees,{owner:n.owner,repo:n.repositoryName,issue_number:this.number,assignees:e})}async deleteAssignees(e){const{octokit:t,remote:n}=await this.githubRepository.ensure();await t.call(t.api.issues.removeAssignees,{owner:n.owner,repo:n.repositoryName,issue_number:this.number,assignees:e})}async close(){var e;const{octokit:t,remote:n}=await this.githubRepository.ensure(),r=await t.call(t.api.issues.update,{owner:n.owner,repo:n.repositoryName,issue_number:this.number,state:"closed"});return this.state=Li.Closed,this._onDidChange.fire({state:!0}),{item:Xm(r.data,this.githubRepository),closedEvent:{createdAt:(e=r.data.closed_at)!=null?e:"",event:Ht.Closed,id:`${r.data.id}`,actor:{login:r.data.closed_by.login,avatarUrl:r.data.closed_by.avatar_url,url:r.data.closed_by.url}}}}};kn(pp,"ID","IssueModel");let nr=pp;var Tk=ti(58667),gp=ti.n(Tk),Ak=ti(8575),Mk=ti.n(Ak),Pk=ti(87831),vp=ti.n(Pk),Fk=ti(72256),ru=ti.n(Fk),Dk=ti(1182),Ik=Object.defineProperty,xk=(i,e,t)=>e in i?Ik(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t,yp=(i,e,t)=>xk(i,typeof e!="symbol"?e+"":e,t);const Ok=/^(?:([^@:]+)@)?([^:/]+):?(.+)$/,Lk=/^([a-z-+]+):\/\//,Uk=i=>{const e=Lk.exec(i);if(e){const[o,d]=e;if(d.includes("ssh"))i=i.slice(o.length);else return}const t=Ok.exec(i);if(!t)return;const[,n,r,a]=t;return{User:n,Host:r,path:a}},Bk=(i,e=Hk.current)=>{const t=Uk(i);return t&&e(t)};function bp(i){return{...i,Hostname:i.Host}}function qk(...i){const e=i.filter(t=>!!t);return t=>e.reduce((n,r)=>{try{return{...n,...r(n)}}catch{return y.warn(`Failed to parse config for '${t.Host}, this can occur when the extension configurations is invalid or system ssh config files are malformed. Skipping erroneous resolver for now.'`),n}},t)}function $k(i){const e=(0,Dk.parse)(i);return t=>e.compute(t.Host)}const vd=class{static fromConfig(e){return qk(bp,$k(e))}};yp(vd,"default",bp),yp(vd,"current",vd.default);let Hk=vd;var Gk=Object.defineProperty,Vk=(i,e,t)=>e in i?Gk(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t,zo=(i,e,t)=>Vk(i,typeof e!="symbol"?e+"":e,t),wp=(i=>(i[i.Local=0]="Local",i[i.HTTP=1]="HTTP",i[i.SSH=2]="SSH",i[i.GIT=3]="GIT",i[i.OTHER=4]="OTHER",i))(wp||{});const kp=class xb{constructor(e){if(zo(this,"type",4),zo(this,"host",""),zo(this,"owner",""),zo(this,"repositoryName",""),zo(this,"url"),this.parseSshProtocol(e)){this.url=s.Uri.from({scheme:"ssh",authority:this.host,path:`/${this.nameWithOwner}`});return}try{this.url=s.Uri.parse(e),this.type=this.getType(this.url.scheme),this.host=this.getHostName(this.url.authority),this.host&&(this.repositoryName=this.getRepositoryName(this.url.path)||"",this.owner=this.getOwnerName(this.url.path)||"")}catch{y.error(`Failed to parse '${e}'`,xb.ID),s.window.showWarningMessage(s.l10n.t("Unable to parse remote '{0}'. Please check that it is correctly formatted.",e))}}get nameWithOwner(){return this.owner?`${this.owner}/${this.repositoryName}`:this.repositoryName}getType(e){switch(e){case"file":return 0;case"http":case"https":return 1;case"git":return 3;case"ssh":return 2;default:return 4}}parseSshProtocol(e){const t=Bk(e);if(!t)return!1;const{Hostname:n,HostName:r,path:a}=t;return this.host=r||n,this.owner=this.getOwnerName(a)||"",this.repositoryName=this.getRepositoryName(a)||"",this.type=2,!0}getHostName(e){const t=/^(?:.*:?@)?([^:]*)(?::.*)?$/.exec(e);return t&&t.length>=2?t[1].toLocaleLowerCase()==="www.github.com"?"github.com":t[1]:""}getRepositoryName(e){let t=e.replace(/\\/g,"/");t.endsWith("/")&&(t=t.substr(0,t.length-1));const n=t.lastIndexOf("/"),r=t.substr(n+1);if(!(r===""||r==="/"))return r.replace(/\/$/,"").replace(/\.git$/,"")}getOwnerName(e){let t=e.replace(/\\/g,"/");t.endsWith("/")&&(t=t.substr(0,t.length-1));const n=t.split("/");if(n.length>1)return n[n.length-2]}normalizeUri(){if(this.type===4&&!this.url)return;if(this.type===0)return this.url;let e="https";this.url&&(this.url.scheme==="http"||this.url.scheme==="https")&&(e=this.url.scheme);try{return s.Uri.parse(`${e}://${this.host.toLocaleLowerCase()}/${this.nameWithOwner.toLocaleLowerCase()}`)}catch{return}}toString(){if(this.type===2)return`git@${this.host}:${this.owner}/${this.repositoryName}`;if(this.type===3)return`git://git@${this.host}:${this.owner}/${this.repositoryName}`;const e=this.normalizeUri();if(e)return e.toString()}update(e){return e.type&&(this.type=e.type),e.host&&(this.host=e.host),e.owner&&(this.owner=e.owner),e.repositoryName&&(this.repositoryName=e.repositoryName),this}equals(e){const t=this.normalizeUri();if(!t)return!1;const n=e.normalizeUri();return n?t.toString().toLocaleLowerCase()===n.toString().toLocaleLowerCase():!1}};zo(kp,"ID","Protocol");let Br=kp;class yd{constructor(e,t,n){this.remoteName=e,this.url=t,this.gitProtocol=n}get host(){return this.gitProtocol.host}get owner(){return this.gitProtocol.owner}get repositoryName(){return this.gitProtocol.repositoryName}get normalizedHost(){const e=this.gitProtocol.normalizeUri();return`${e.scheme}://${e.authority}`}get authProviderId(){var e;return this.host===((e=Vo())==null?void 0:e.authority)?Ni.githubEnterprise:Ni.github}get isEnterprise(){return Pr(this.authProviderId)}equals(e){return!(this.remoteName!==e.remoteName||!this.host.includes(e.host)&&!e.host.includes(this.host)||this.owner.toLocaleLowerCase()!==e.owner.toLocaleLowerCase()||this.repositoryName.toLocaleLowerCase()!==e.repositoryName.toLocaleLowerCase())}}function Wo(i,e,t){if(!e)return null;const n=new Br(e);return t&&n.update({type:t.type}),n.host?new yd(i,e,n):null}async function _p(i,e){try{const t=await e.getConfigs(),n=[];for(const r of t){const a=r.key.match(/^url\.(.+)\.insteadof$/i);if(a){const o=a[1],d=r.value;n.push({prefix:d,replacement:o})}}n.sort((r,a)=>a.prefix.length-r.prefix.length);for(const{prefix:r,replacement:a}of n)if(i.startsWith(r)){const o=a+i.substring(r.length);return y.appendLine(`Resolved git URL alias: "${i}" -> "${o}"`,"Remote"),o}}catch(t){y.error(`Failed to resolve git URL aliases for "${i}": ${t}`,"Remote")}return i}function no(i){const e=[];for(const t of i.state.remotes){const n=[];t.fetchUrl&&n.push(t.fetchUrl),t.pushUrl&&t.pushUrl!==t.fetchUrl&&n.push(t.pushUrl),n.forEach(r=>{const a=Wo(t.name,r);a&&e.push(a)})}return e}async function Sp(i){const e=[];for(const t of i.state.remotes){const n=[];if(t.fetchUrl){const r=await _p(t.fetchUrl,i);n.push(r)}if(t.pushUrl&&t.pushUrl!==t.fetchUrl){const r=await _p(t.pushUrl,i);n.push(r)}n.forEach(r=>{const a=Wo(t.name,r);a&&e.push(a)})}return e}class Is extends yd{constructor(e,t,n,r){super(e,t,n),this.githubServerType=r}static remoteAsGitHub(e,t){return new Is(e.remoteName,e.url,e.gitProtocol,t)}}var bd,jk=new Uint8Array(16);function zk(){if(!bd&&(bd=typeof crypto!="undefined"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto!="undefined"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!bd))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return bd(jk)}const Wk=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function Kk(i){return typeof i=="string"&&Wk.test(i)}const Qk=Kk;for(var br=[],lf=0;lf<256;++lf)br.push((lf+256).toString(16).substr(1));function Yk(i){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,t=(br[i[e+0]]+br[i[e+1]]+br[i[e+2]]+br[i[e+3]]+"-"+br[i[e+4]]+br[i[e+5]]+"-"+br[i[e+6]]+br[i[e+7]]+"-"+br[i[e+8]]+br[i[e+9]]+"-"+br[i[e+10]]+br[i[e+11]]+br[i[e+12]]+br[i[e+13]]+br[i[e+14]]+br[i[e+15]]).toLowerCase();if(!Qk(t))throw TypeError("Stringified UUID is invalid");return t}const Jk=Yk;function Zk(i,e,t){i=i||{};var n=i.random||(i.rng||zk)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,e){t=t||0;for(var r=0;r<16;++r)e[t+r]=n[r];return e}return Jk(n)}const Ep=Zk;var Xk=Object.defineProperty,e_=(i,e,t)=>e in i?Xk(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t,t_=(i,e,t)=>e_(i,typeof e!="symbol"?e+"":e,t);class Rp extends f{constructor(e,t){super(),this._folderRepoManager=e,this._telemetry=t,t_(this,"_commentController"),this._register(s.window.onDidChangeActiveTextEditor(n=>this.onDidChangeActiveTextEditor(n)))}get commentController(){return this._commentController}githubReposForPullRequest(e){const t=e?[e.githubRepository]:void 0;if(t&&(e!=null&&e.head)){const n=this._folderRepoManager.findExistingGitHubRepository({owner:e.head.owner,repositoryName:e.remote.repositoryName});n&&t.push(n)}return t}async tryAddCopilotMention(e,t){if(e.document.uri.scheme!==Bt.Comment||e.document.lineCount<1||e.document.lineAt(0).text.length>0)return;const n=await this._folderRepoManager.getCurrentUser();if(await Rf(t,n))return e.edit(r=>{r.insert(new s.Position(0,0),"@copilot ")})}}var i_=Object.defineProperty,n_=(i,e,t)=>e in i?i_(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t,Ko=(i,e,t)=>n_(i,typeof e!="symbol"?e+"":e,t);const uf="PullRequestOverview";class Np extends f{constructor(){super(),Ko(this,"_webview"),Ko(this,"_waitForReady"),Ko(this,"_onIsReady",this._register(new s.EventEmitter)),Ko(this,"MESSAGE_UNHANDLED","message not handled"),this._waitForReady=new Promise(e=>{const t=this._onIsReady.event(()=>{t.dispose(),e()})})}initialize(){var e;const t=(e=this._webview)==null?void 0:e.onDidReceiveMessage(async n=>{await this._onDidReceiveMessage(n)});t&&this._register(t)}async _onDidReceiveMessage(e){switch(e.command){case"ready":this._onIsReady.fire();return;default:return this.MESSAGE_UNHANDLED}}async _postMessage(e){var t;await this._waitForReady,(t=this._webview)==null||t.postMessage({res:e})}async _replyMessage(e,t){var n;const r={seq:e.req,res:t};(n=this._webview)==null||n.postMessage(r)}async _throwError(e,t){var n;const r={seq:e==null?void 0:e.req,err:t};(n=this._webview)==null||n.postMessage(r)}}class Cp extends Np{constructor(e){super(),this._extensionUri=e,Ko(this,"viewType"),Ko(this,"_view")}resolveWebviewView(e,t,n){this._view=e,this._webview=e.webview,super.initialize(),e.webview.options={enableScripts:!0,localResourceRoots:[this._extensionUri]},this._register(this._view.onDidDispose(()=>{this._webview=void 0,this._view=void 0}))}show(){this._view?this._view.show():ht.focusView(this.viewType)}}var r_=ti(71710),a_=ti.n(r_),s_=Object.defineProperty,o_=(i,e,t)=>e in i?s_(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t,l_=(i,e,t)=>o_(i,typeof e!="symbol"?e+"":e,t);const u_="https://aka.ms/coding-agent-docs",d_="https://docs.github.com/en/copilot/concepts/copilot-billing/understanding-and-managing-requests-in-copilot#what-are-premium-requests",Qo=29950,Tp="v1",Ap=class ws{constructor(e,t,n,r){this.octokit=e,this.token=t,this.credentialStore=n,this.telemetry=r}get baseUrl(){return"https://api.githubcopilot.com"}async makeApiCallFullUrl(e,t){const n=()=>_a()(e,t);return this.octokit.call(n)}async makeApiCall(e,t){return this.makeApiCallFullUrl(`${this.baseUrl}${e}`,t)}get userAgent(){var e,t;return`vscode-pull-request-github/${(t=(e=s.extensions.getExtension("GitHub.vscode-pull-request-github"))==null?void 0:e.packageJSON.version)!=null?t:"unknown"}`}async postRemoteAgentJob(e,t,n,r){const a=`${e}/${t}`,o=`/agents/swe/${Tp}/jobs/${a}`;let d;const S=n.problem_statement.length.toString(),C=JSON.stringify(n),$=C.length.toString();y.trace(`postRemoteAgentJob: Posting job to ${o} with payload: ${JSON.stringify(n)}`,ws.ID);try{const Y=await this.makeApiCall(o,{method:"POST",headers:{Authorization:`Bearer ${this.token}`,"Content-Type":"application/json",Accept:"application/json","User-Agent":this.userAgent},body:C});if(d=Y.status,!Y.ok)throw new Error(await this.formatRemoteAgentJobError(d,a,Y));const ne=await Y.json();return this.validateRemoteAgentJobResponse(ne),this.telemetry.sendTelemetryEvent("remoteAgent.postRemoteAgentJob",{status:d.toString(),payloadLength:$,problemStatementLength:S,isTruncated:r.toString()}),ne}catch(Y){throw this.telemetry.sendTelemetryErrorEvent("remoteAgent.postRemoteAgentJob",{status:(d==null?void 0:d.toString())||"999",payloadLength:$,problemStatementLength:S,isTruncated:r.toString()}),Y}}async formatRemoteAgentJobError(e,t,n){switch(y.error(`Error in remote agent job: ${await n.text()}`,ws.ID),e){case 400:return s.l10n.t("Bad request");case 401:return s.l10n.t("Unauthorized");case 402:return s.l10n.t("[Premium request]({0}) quota exceeded",d_);case 403:return s.l10n.t("[GitHub coding agent]({0}) is not enabled for repository '{1}'",u_,t);case 404:return s.l10n.t("Repository '{0}' not found",t);case 409:return s.l10n.t("A coding agent pull request already exists");case 500:return s.l10n.t("Server error. Please see logs for details.");default:return s.l10n.t("Error: {0}. Please see logs for details",e)}}validateRemoteAgentJobResponse(e){if(!e||typeof e!="object")throw new Error("Invalid response from coding agent");if(typeof e.job_id!="string")throw new Error("Invalid job_id in response");if(typeof e.session_id!="string")throw new Error("Invalid session_id in response");if(!e.actor||typeof e.actor!="object")throw new Error("Invalid actor in response");if(typeof e.actor.id!="number")throw new Error("Invalid actor.id in response");if(typeof e.actor.login!="string")throw new Error("Invalid actor.login in response");if(typeof e.created_at!="string")throw new Error("Invalid created_at in response");if(typeof e.updated_at!="string")throw new Error("Invalid updated_at in response")}async getLogsFromZipUrl(e){const t=await this.makeApiCallFullUrl(e,{headers:{Authorization:`Bearer ${this.token}`,Accept:"application/json"}});if(!t.ok)throw new Error(`Failed to fetch logs zip: ${t.statusText}`);const n=await t.arrayBuffer(),r=[],a=await a_().loadAsync(n);for(const o of Object.keys(a.files)){const d=a.files[o];if(!d.dir&&o.endsWith("Processing Request.txt")){const S=await d.async("string");r.push(...S.split(`
`))}}return r}async getAllSessions(e){const t=await this.makeApiCall(e?`/agents/sessions/resource/pull/${e}`:"/agents/sessions",{headers:{Authorization:`Bearer ${this.token}`,Accept:"application/json"}});return t.ok||await this.handleApiError(t,"getAllSessions"),(await t.json()).sessions}async getAllCodingAgentPRs(e){var t;const n=this.getHub(),r=(t=await(n==null?void 0:n.currentUser))==null?void 0:t.login;if(!r)return y.error("Failed to get GitHub username from auth provider",ws.ID),[];const a=`is:open author:${fr}[bot] assignee:${r} is:pr repo:\${owner}/\${repository}`;return(await Promise.all(e.folderManagers.map(async d=>(await d.getPullRequests(on.Query,void 0,a)).items))).flat()}async getSessionInfo(e){const t=await this.makeApiCall(`/agents/sessions/${e}`,{method:"GET",headers:{Authorization:`Bearer ${this.token}`,Accept:"application/json"}});return t.ok||await this.handleApiError(t,"getSessionInfo"),await t.json()}async getLogsFromSession(e){const t=await this.makeApiCall(`/agents/sessions/${e}/logs`,{method:"GET",headers:{Authorization:`Bearer ${this.token}`,"Content-Type":"application/json"}});return t.ok||await this.handleApiError(t,"getLogsFromSession"),await t.text()}async getJobByJobId(e,t,n){try{const r=await this.makeApiCall(`/agents/swe/v1/jobs/${e}/${t}/${n}`,{method:"GET",headers:{Authorization:`Bearer ${this.token}`,"Content-Type":"application/json",Accept:"application/json","User-Agent":this.userAgent}});if(!r.ok){y.warn(`Failed to fetch job info for job ${n}: ${r.statusText}`,ws.ID);return}return await r.json()}catch(r){y.warn(`Error fetching job info for job ${n}: ${r}`,ws.ID);return}}async getJobBySessionId(e,t,n){try{const r=await this.makeApiCall(`/agents/swe/${Tp}/jobs/${e}/${t}/session/${n}`,{method:"GET",headers:{Authorization:`Bearer ${this.token}`,"Content-Type":"application/json",Accept:"application/json","User-Agent":this.userAgent}});if(!r.ok){y.warn(`Failed to fetch job info for session ${n}: ${r.statusText}`,ws.ID);return}return await r.json()}catch(r){y.warn(`Error fetching job info for session ${n}: ${r}`,ws.ID);return}}getHub(){let e;if(this.credentialStore.isAuthenticated(Ni.githubEnterprise)&&Ca())e=Ni.githubEnterprise;else if(this.credentialStore.isAuthenticated(Ni.github))e=Ni.github;else return;return this.credentialStore.getHub(e)}async handleApiError(e,t){let n;try{n=await e.text()}catch{}const r=`'${t}' failed with ${e.statusText} ${n?`: ${n}`:""}`;throw y.error(r,ws.ID),this.telemetry.sendTelemetryErrorEvent("remoteAgent.apiError",{action:t,status:e.status.toString(),body:n||""}),new Error(r)}};l_(Ap,"ID","copilotApi");let c_=Ap;async function Mp(i,e,t){if(!t)if(i.isAuthenticated(Ni.githubEnterprise)&&Ca())t=Ni.githubEnterprise;else if(i.isAuthenticated(Ni.github))t=Ni.github;else return;const n=i.getHub(t);if(!n||!n.octokit)return;const{token:r}=await n.octokit.api.auth();return new c_(n.octokit,r,i,e)}function Pp(){return{baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}let Yo=Pp();function f_(i){Yo=i}const h_=/[&<>"']/,m_=/[&<>"']/g,p_=/[<>"']|&(?!#?\w+;)/,g_=/[<>"']|&(?!#?\w+;)/g,v_={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Fp=i=>v_[i];function mr(i,e){if(e){if(h_.test(i))return i.replace(m_,Fp)}else if(p_.test(i))return i.replace(g_,Fp);return i}const y_=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function Dp(i){return i.replace(y_,(e,t)=>(t=t.toLowerCase(),t==="colon"?":":t.charAt(0)==="#"?t.charAt(1)==="x"?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""))}const b_=/(^|[^\[])\^/g;function gn(i,e){i=i.source||i,e=e||"";const t={replace:(n,r)=>(r=r.source||r,r=r.replace(b_,"$1"),i=i.replace(n,r),t),getRegex:()=>new RegExp(i,e)};return t}const w_=/[^\w:]/g,k_=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function Ip(i,e,t){if(i){let n;try{n=decodeURIComponent(Dp(t)).replace(w_,"").toLowerCase()}catch{return null}if(n.indexOf("javascript:")===0||n.indexOf("vbscript:")===0||n.indexOf("data:")===0)return null}e&&!k_.test(t)&&(t=R_(e,t));try{t=encodeURI(t).replace(/%25/g,"%")}catch{return null}return t}const wd={},__=/^[^:]+:\/*[^/]*$/,S_=/^([^:]+:)[\s\S]*$/,E_=/^([^:]+:\/*[^/]*)[\s\S]*$/;function R_(i,e){wd[" "+i]||(__.test(i)?wd[" "+i]=i+"/":wd[" "+i]=_d(i,"/",!0)),i=wd[" "+i];const t=i.indexOf(":")===-1;return e.substring(0,2)==="//"?t?e:i.replace(S_,"$1")+e:e.charAt(0)==="/"?t?e:i.replace(E_,"$1")+e:i+e}const kd={exec:function(){}};function Ta(i){let e=1,t,n;for(;e<arguments.length;e++){t=arguments[e];for(n in t)Object.prototype.hasOwnProperty.call(t,n)&&(i[n]=t[n])}return i}function xp(i,e){const t=i.replace(/\|/g,(a,o,d)=>{let S=!1,C=o;for(;--C>=0&&d[C]==="\\";)S=!S;return S?"|":" |"}),n=t.split(/ \|/);let r=0;if(n[0].trim()||n.shift(),n[n.length-1].trim()||n.pop(),n.length>e)n.splice(e);else for(;n.length<e;)n.push("");for(;r<n.length;r++)n[r]=n[r].trim().replace(/\\\|/g,"|");return n}function _d(i,e,t){const n=i.length;if(n===0)return"";let r=0;for(;r<n;){const a=i.charAt(n-r-1);if(a===e&&!t)r++;else if(a!==e&&t)r++;else break}return i.substr(0,n-r)}function N_(i,e){if(i.indexOf(e[1])===-1)return-1;const t=i.length;let n=0,r=0;for(;r<t;r++)if(i[r]==="\\")r++;else if(i[r]===e[0])n++;else if(i[r]===e[1]&&(n--,n<0))return r;return-1}function Op(i){i&&i.sanitize&&!i.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function Lp(i,e){if(e<1)return"";let t="";for(;e>1;)e&1&&(t+=i),e>>=1,i+=i;return t+i}function Up(i,e,t,n){const r=e.href,a=e.title?mr(e.title):null,o=i[1].replace(/\\([\[\]])/g,"$1");if(i[0].charAt(0)!=="!"){n.state.inLink=!0;const d={type:"link",raw:t,href:r,title:a,text:o,tokens:n.inlineTokens(o,[])};return n.state.inLink=!1,d}else return{type:"image",raw:t,href:r,title:a,text:mr(o)}}function C_(i,e){const t=i.match(/^(\s+)(?:```)/);if(t===null)return e;const n=t[1];return e.split(`
`).map(r=>{const a=r.match(/^\s+/);if(a===null)return r;const[o]=a;return o.length>=n.length?r.slice(n.length):r}).join(`
`)}class df{constructor(e){this.options=e||Yo}space(e){const t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(e){const t=this.rules.block.code.exec(e);if(t){const n=t[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?n:_d(n,`
`)}}}fences(e){const t=this.rules.block.fences.exec(e);if(t){const n=t[0],r=C_(n,t[3]||"");return{type:"code",raw:n,lang:t[2]?t[2].trim():t[2],text:r}}}heading(e){const t=this.rules.block.heading.exec(e);if(t){let n=t[2].trim();if(/#$/.test(n)){const a=_d(n,"#");(this.options.pedantic||!a||/ $/.test(a))&&(n=a.trim())}const r={type:"heading",raw:t[0],depth:t[1].length,text:n,tokens:[]};return this.lexer.inline(r.text,r.tokens),r}}hr(e){const t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:t[0]}}blockquote(e){const t=this.rules.block.blockquote.exec(e);if(t){const n=t[0].replace(/^ *> ?/gm,"");return{type:"blockquote",raw:t[0],tokens:this.lexer.blockTokens(n,[]),text:n}}}list(e){let t=this.rules.block.list.exec(e);if(t){let n,r,a,o,d,S,C,$,Y,ne,le,he,ke=t[1].trim();const pe=ke.length>1,Ne={type:"list",raw:"",ordered:pe,start:pe?+ke.slice(0,-1):"",loose:!1,items:[]};ke=pe?`\\d{1,9}\\${ke.slice(-1)}`:`\\${ke}`,this.options.pedantic&&(ke=pe?ke:"[*+-]");const Ce=new RegExp(`^( {0,3}${ke})((?: [^\\n]*)?(?:\\n|$))`);for(;e&&(he=!1,!(!(t=Ce.exec(e))||this.rules.block.hr.test(e)));){if(n=t[0],e=e.substring(n.length),$=t[2].split(`
`,1)[0],Y=e.split(`
`,1)[0],this.options.pedantic?(o=2,le=$.trimLeft()):(o=t[2].search(/[^ ]/),o=o>4?1:o,le=$.slice(o),o+=t[1].length),S=!1,!$&&/^ *$/.test(Y)&&(n+=Y+`
`,e=e.substring(Y.length+1),he=!0),!he){const He=new RegExp(`^ {0,${Math.min(3,o-1)}}(?:[*+-]|\\d{1,9}[.)])`);for(;e&&(ne=e.split(`
`,1)[0],$=ne,this.options.pedantic&&($=$.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!He.test($));){if($.search(/[^ ]/)>=o||!$.trim())le+=`
`+$.slice(o);else if(!S)le+=`
`+$;else break;!S&&!$.trim()&&(S=!0),n+=ne+`
`,e=e.substring(ne.length+1)}}Ne.loose||(C?Ne.loose=!0:/\n *\n *$/.test(n)&&(C=!0)),this.options.gfm&&(r=/^\[[ xX]\] /.exec(le),r&&(a=r[0]!=="[ ] ",le=le.replace(/^\[[ xX]\] +/,""))),Ne.items.push({type:"list_item",raw:n,task:!!r,checked:a,loose:!1,text:le}),Ne.raw+=n}Ne.items[Ne.items.length-1].raw=n.trimRight(),Ne.items[Ne.items.length-1].text=le.trimRight(),Ne.raw=Ne.raw.trimRight();const De=Ne.items.length;for(d=0;d<De;d++){this.lexer.state.top=!1,Ne.items[d].tokens=this.lexer.blockTokens(Ne.items[d].text,[]);const He=Ne.items[d].tokens.filter(Ge=>Ge.type==="space"),Ke=He.every(Ge=>{const je=Ge.raw.split("");let nt=0;for(const Nt of je)if(Nt===`
`&&(nt+=1),nt>1)return!0;return!1});!Ne.loose&&He.length&&Ke&&(Ne.loose=!0,Ne.items[d].loose=!0)}return Ne}}html(e){const t=this.rules.block.html.exec(e);if(t){const n={type:"html",raw:t[0],pre:!this.options.sanitizer&&(t[1]==="pre"||t[1]==="script"||t[1]==="style"),text:t[0]};return this.options.sanitize&&(n.type="paragraph",n.text=this.options.sanitizer?this.options.sanitizer(t[0]):mr(t[0]),n.tokens=[],this.lexer.inline(n.text,n.tokens)),n}}def(e){const t=this.rules.block.def.exec(e);if(t)return t[3]&&(t[3]=t[3].substring(1,t[3].length-1)),{type:"def",tag:t[1].toLowerCase().replace(/\s+/g," "),raw:t[0],href:t[2],title:t[3]}}table(e){const t=this.rules.block.table.exec(e);if(t){const n={type:"table",header:xp(t[1]).map(r=>({text:r})),align:t[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:t[3]?t[3].replace(/\n[ \t]*$/,"").split(`
`):[]};if(n.header.length===n.align.length){n.raw=t[0];let r=n.align.length,a,o,d,S;for(a=0;a<r;a++)/^ *-+: *$/.test(n.align[a])?n.align[a]="right":/^ *:-+: *$/.test(n.align[a])?n.align[a]="center":/^ *:-+ *$/.test(n.align[a])?n.align[a]="left":n.align[a]=null;for(r=n.rows.length,a=0;a<r;a++)n.rows[a]=xp(n.rows[a],n.header.length).map(C=>({text:C}));for(r=n.header.length,o=0;o<r;o++)n.header[o].tokens=[],this.lexer.inlineTokens(n.header[o].text,n.header[o].tokens);for(r=n.rows.length,o=0;o<r;o++)for(S=n.rows[o],d=0;d<S.length;d++)S[d].tokens=[],this.lexer.inlineTokens(S[d].text,S[d].tokens);return n}}}lheading(e){const t=this.rules.block.lheading.exec(e);if(t){const n={type:"heading",raw:t[0],depth:t[2].charAt(0)==="="?1:2,text:t[1],tokens:[]};return this.lexer.inline(n.text,n.tokens),n}}paragraph(e){const t=this.rules.block.paragraph.exec(e);if(t){const n={type:"paragraph",raw:t[0],text:t[1].charAt(t[1].length-1)===`
`?t[1].slice(0,-1):t[1],tokens:[]};return this.lexer.inline(n.text,n.tokens),n}}text(e){const t=this.rules.block.text.exec(e);if(t){const n={type:"text",raw:t[0],text:t[0],tokens:[]};return this.lexer.inline(n.text,n.tokens),n}}escape(e){const t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:mr(t[1])}}tag(e){const t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&/^<a /i.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(t[0]):mr(t[0]):t[0]}}link(e){const t=this.rules.inline.link.exec(e);if(t){const n=t[2].trim();if(!this.options.pedantic&&/^</.test(n)){if(!/>$/.test(n))return;const o=_d(n.slice(0,-1),"\\");if((n.length-o.length)%2===0)return}else{const o=N_(t[2],"()");if(o>-1){const S=(t[0].indexOf("!")===0?5:4)+t[1].length+o;t[2]=t[2].substring(0,o),t[0]=t[0].substring(0,S).trim(),t[3]=""}}let r=t[2],a="";if(this.options.pedantic){const o=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(r);o&&(r=o[1],a=o[3])}else a=t[3]?t[3].slice(1,-1):"";return r=r.trim(),/^</.test(r)&&(this.options.pedantic&&!/>$/.test(n)?r=r.slice(1):r=r.slice(1,-1)),Up(t,{href:r&&r.replace(this.rules.inline._escapes,"$1"),title:a&&a.replace(this.rules.inline._escapes,"$1")},t[0],this.lexer)}}reflink(e,t){let n;if((n=this.rules.inline.reflink.exec(e))||(n=this.rules.inline.nolink.exec(e))){let r=(n[2]||n[1]).replace(/\s+/g," ");if(r=t[r.toLowerCase()],!r||!r.href){const a=n[0].charAt(0);return{type:"text",raw:a,text:a}}return Up(n,r,n[0],this.lexer)}}emStrong(e,t,n=""){let r=this.rules.inline.emStrong.lDelim.exec(e);if(!r||r[3]&&n.match(/[\p{L}\p{N}]/u))return;const a=r[1]||r[2]||"";if(!a||a&&(n===""||this.rules.inline.punctuation.exec(n))){const o=r[0].length-1;let d,S,C=o,$=0;const Y=r[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(Y.lastIndex=0,t=t.slice(-1*e.length+o);(r=Y.exec(t))!=null;){if(d=r[1]||r[2]||r[3]||r[4]||r[5]||r[6],!d)continue;if(S=d.length,r[3]||r[4]){C+=S;continue}else if((r[5]||r[6])&&o%3&&!((o+S)%3)){$+=S;continue}if(C-=S,C>0)continue;if(S=Math.min(S,S+C+$),Math.min(o,S)%2){const le=e.slice(1,o+r.index+S);return{type:"em",raw:e.slice(0,o+r.index+S+1),text:le,tokens:this.lexer.inlineTokens(le,[])}}const ne=e.slice(2,o+r.index+S-1);return{type:"strong",raw:e.slice(0,o+r.index+S+1),text:ne,tokens:this.lexer.inlineTokens(ne,[])}}}}codespan(e){const t=this.rules.inline.code.exec(e);if(t){let n=t[2].replace(/\n/g," ");const r=/[^ ]/.test(n),a=/^ /.test(n)&&/ $/.test(n);return r&&a&&(n=n.substring(1,n.length-1)),n=mr(n,!0),{type:"codespan",raw:t[0],text:n}}}br(e){const t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}del(e){const t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2],[])}}autolink(e,t){const n=this.rules.inline.autolink.exec(e);if(n){let r,a;return n[2]==="@"?(r=mr(this.options.mangle?t(n[1]):n[1]),a="mailto:"+r):(r=mr(n[1]),a=r),{type:"link",raw:n[0],text:r,href:a,tokens:[{type:"text",raw:r,text:r}]}}}url(e,t){let n;if(n=this.rules.inline.url.exec(e)){let r,a;if(n[2]==="@")r=mr(this.options.mangle?t(n[0]):n[0]),a="mailto:"+r;else{let o;do o=n[0],n[0]=this.rules.inline._backpedal.exec(n[0])[0];while(o!==n[0]);r=mr(n[0]),n[1]==="www."?a="http://"+r:a=r}return{type:"link",raw:n[0],text:r,href:a,tokens:[{type:"text",raw:r,text:r}]}}}inlineText(e,t){const n=this.rules.inline.text.exec(e);if(n){let r;return this.lexer.state.inRawBlock?r=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(n[0]):mr(n[0]):n[0]:r=mr(this.options.smartypants?t(n[0]):n[0]),{type:"text",raw:n[0],text:r}}}}const wi={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)( [^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?<?([^\s>]+)>?(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:kd,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/};wi._label=/(?!\s*\])(?:\\.|[^\[\]\\])+/,wi._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/,wi.def=gn(wi.def).replace("label",wi._label).replace("title",wi._title).getRegex(),wi.bullet=/(?:[*+-]|\d{1,9}[.)])/,wi.listItemStart=gn(/^( *)(bull) */).replace("bull",wi.bullet).getRegex(),wi.list=gn(wi.list).replace(/bull/g,wi.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+wi.def.source+")").getRegex(),wi._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",wi._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,wi.html=gn(wi.html,"i").replace("comment",wi._comment).replace("tag",wi._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),wi.paragraph=gn(wi._paragraph).replace("hr",wi.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",wi._tag).getRegex(),wi.blockquote=gn(wi.blockquote).replace("paragraph",wi.paragraph).getRegex(),wi.normal=Ta({},wi),wi.gfm=Ta({},wi.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),wi.gfm.table=gn(wi.gfm.table).replace("hr",wi.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",wi._tag).getRegex(),wi.gfm.paragraph=gn(wi._paragraph).replace("hr",wi.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",wi.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",wi._tag).getRegex(),wi.pedantic=Ta({},wi.normal,{html:gn(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",wi._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:kd,paragraph:gn(wi.normal._paragraph).replace("hr",wi.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",wi.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});const si={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:kd,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^[^_*]*?\_\_[^_*]*?\*[^_*]*?(?=\_\_)|[punct_](\*+)(?=[\s]|$)|[^punct*_\s](\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|[^punct*_\s](\*+)(?=[^punct*_\s])/,rDelimUnd:/^[^_*]*?\*\*[^_*]*?\_[^_*]*?(?=\*\*)|[punct*](\_+)(?=[\s]|$)|[^punct*_\s](\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:kd,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};si._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",si.punctuation=gn(si.punctuation).replace(/punctuation/g,si._punctuation).getRegex(),si.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,si.escapedEmSt=/\\\*|\\_/g,si._comment=gn(wi._comment).replace("(?:-->|$)","-->").getRegex(),si.emStrong.lDelim=gn(si.emStrong.lDelim).replace(/punct/g,si._punctuation).getRegex(),si.emStrong.rDelimAst=gn(si.emStrong.rDelimAst,"g").replace(/punct/g,si._punctuation).getRegex(),si.emStrong.rDelimUnd=gn(si.emStrong.rDelimUnd,"g").replace(/punct/g,si._punctuation).getRegex(),si._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,si._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,si._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,si.autolink=gn(si.autolink).replace("scheme",si._scheme).replace("email",si._email).getRegex(),si._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,si.tag=gn(si.tag).replace("comment",si._comment).replace("attribute",si._attribute).getRegex(),si._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,si._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,si._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,si.link=gn(si.link).replace("label",si._label).replace("href",si._href).replace("title",si._title).getRegex(),si.reflink=gn(si.reflink).replace("label",si._label).replace("ref",wi._label).getRegex(),si.nolink=gn(si.nolink).replace("ref",wi._label).getRegex(),si.reflinkSearch=gn(si.reflinkSearch,"g").replace("reflink",si.reflink).replace("nolink",si.nolink).getRegex(),si.normal=Ta({},si),si.pedantic=Ta({},si.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:gn(/^!?\[(label)\]\((.*?)\)/).replace("label",si._label).getRegex(),reflink:gn(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",si._label).getRegex()}),si.gfm=Ta({},si.normal,{escape:gn(si.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),si.gfm.url=gn(si.gfm.url,"i").replace("email",si.gfm._extended_email).getRegex(),si.breaks=Ta({},si.gfm,{br:gn(si.br).replace("{2,}","*").getRegex(),text:gn(si.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});function T_(i){return i.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201C").replace(/"/g,"\u201D").replace(/\.{3}/g,"\u2026")}function Bp(i){let e="",t,n;const r=i.length;for(t=0;t<r;t++)n=i.charCodeAt(t),Math.random()>.5&&(n="x"+n.toString(16)),e+="&#"+n+";";return e}class cs{constructor(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||Yo,this.options.tokenizer=this.options.tokenizer||new df,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const t={block:wi.normal,inline:si.normal};this.options.pedantic?(t.block=wi.pedantic,t.inline=si.pedantic):this.options.gfm&&(t.block=wi.gfm,this.options.breaks?t.inline=si.breaks:t.inline=si.gfm),this.tokenizer.rules=t}static get rules(){return{block:wi,inline:si}}static lex(e,t){return new cs(t).lex(e)}static lexInline(e,t){return new cs(t).inlineTokens(e)}lex(e){e=e.replace(/\r\n|\r/g,`
`).replace(/\t/g,"    "),this.blockTokens(e,this.tokens);let t;for(;t=this.inlineQueue.shift();)this.inlineTokens(t.src,t.tokens);return this.tokens}blockTokens(e,t=[]){this.options.pedantic&&(e=e.replace(/^ +$/gm,""));let n,r,a,o;for(;e;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(d=>(n=d.call({lexer:this},e,t))?(e=e.substring(n.raw.length),t.push(n),!0):!1))){if(n=this.tokenizer.space(e)){e=e.substring(n.raw.length),n.raw.length===1&&t.length>0?t[t.length-1].raw+=`
`:t.push(n);continue}if(n=this.tokenizer.code(e)){e=e.substring(n.raw.length),r=t[t.length-1],r&&(r.type==="paragraph"||r.type==="text")?(r.raw+=`
`+n.raw,r.text+=`
`+n.text,this.inlineQueue[this.inlineQueue.length-1].src=r.text):t.push(n);continue}if(n=this.tokenizer.fences(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.heading(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.hr(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.blockquote(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.list(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.html(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.def(e)){e=e.substring(n.raw.length),r=t[t.length-1],r&&(r.type==="paragraph"||r.type==="text")?(r.raw+=`
`+n.raw,r.text+=`
`+n.raw,this.inlineQueue[this.inlineQueue.length-1].src=r.text):this.tokens.links[n.tag]||(this.tokens.links[n.tag]={href:n.href,title:n.title});continue}if(n=this.tokenizer.table(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.lheading(e)){e=e.substring(n.raw.length),t.push(n);continue}if(a=e,this.options.extensions&&this.options.extensions.startBlock){let d=1/0;const S=e.slice(1);let C;this.options.extensions.startBlock.forEach(function($){C=$.call({lexer:this},S),typeof C=="number"&&C>=0&&(d=Math.min(d,C))}),d<1/0&&d>=0&&(a=e.substring(0,d+1))}if(this.state.top&&(n=this.tokenizer.paragraph(a))){r=t[t.length-1],o&&r.type==="paragraph"?(r.raw+=`
`+n.raw,r.text+=`
`+n.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=r.text):t.push(n),o=a.length!==e.length,e=e.substring(n.raw.length);continue}if(n=this.tokenizer.text(e)){e=e.substring(n.raw.length),r=t[t.length-1],r&&r.type==="text"?(r.raw+=`
`+n.raw,r.text+=`
`+n.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=r.text):t.push(n);continue}if(e){const d="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(d);break}else throw new Error(d)}}return this.state.top=!0,t}inline(e,t){this.inlineQueue.push({src:e,tokens:t})}inlineTokens(e,t=[]){let n,r,a,o=e,d,S,C;if(this.tokens.links){const $=Object.keys(this.tokens.links);if($.length>0)for(;(d=this.tokenizer.rules.inline.reflinkSearch.exec(o))!=null;)$.includes(d[0].slice(d[0].lastIndexOf("[")+1,-1))&&(o=o.slice(0,d.index)+"["+Lp("a",d[0].length-2)+"]"+o.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(d=this.tokenizer.rules.inline.blockSkip.exec(o))!=null;)o=o.slice(0,d.index)+"["+Lp("a",d[0].length-2)+"]"+o.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(d=this.tokenizer.rules.inline.escapedEmSt.exec(o))!=null;)o=o.slice(0,d.index)+"++"+o.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex);for(;e;)if(S||(C=""),S=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some($=>(n=$.call({lexer:this},e,t))?(e=e.substring(n.raw.length),t.push(n),!0):!1))){if(n=this.tokenizer.escape(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.tag(e)){e=e.substring(n.raw.length),r=t[t.length-1],r&&n.type==="text"&&r.type==="text"?(r.raw+=n.raw,r.text+=n.text):t.push(n);continue}if(n=this.tokenizer.link(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(n.raw.length),r=t[t.length-1],r&&n.type==="text"&&r.type==="text"?(r.raw+=n.raw,r.text+=n.text):t.push(n);continue}if(n=this.tokenizer.emStrong(e,o,C)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.codespan(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.br(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.del(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.autolink(e,Bp)){e=e.substring(n.raw.length),t.push(n);continue}if(!this.state.inLink&&(n=this.tokenizer.url(e,Bp))){e=e.substring(n.raw.length),t.push(n);continue}if(a=e,this.options.extensions&&this.options.extensions.startInline){let $=1/0;const Y=e.slice(1);let ne;this.options.extensions.startInline.forEach(function(le){ne=le.call({lexer:this},Y),typeof ne=="number"&&ne>=0&&($=Math.min($,ne))}),$<1/0&&$>=0&&(a=e.substring(0,$+1))}if(n=this.tokenizer.inlineText(a,T_)){e=e.substring(n.raw.length),n.raw.slice(-1)!=="_"&&(C=n.raw.slice(-1)),S=!0,r=t[t.length-1],r&&r.type==="text"?(r.raw+=n.raw,r.text+=n.text):t.push(n);continue}if(e){const $="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error($);break}else throw new Error($)}}return t}}class Sd{constructor(e){this.options=e||Yo}code(e,t,n){const r=(t||"").match(/\S*/)[0];if(this.options.highlight){const a=this.options.highlight(e,r);a!=null&&a!==e&&(n=!0,e=a)}return e=e.replace(/\n$/,"")+`
`,r?'<pre><code class="'+this.options.langPrefix+mr(r,!0)+'">'+(n?e:mr(e,!0))+`</code></pre>
`:"<pre><code>"+(n?e:mr(e,!0))+`</code></pre>
`}blockquote(e){return`<blockquote>
`+e+`</blockquote>
`}html(e){return e}heading(e,t,n,r){return this.options.headerIds?"<h"+t+' id="'+this.options.headerPrefix+r.slug(n)+'">'+e+"</h"+t+`>
`:"<h"+t+">"+e+"</h"+t+`>
`}hr(){return this.options.xhtml?`<hr/>
`:`<hr>
`}list(e,t,n){const r=t?"ol":"ul",a=t&&n!==1?' start="'+n+'"':"";return"<"+r+a+`>
`+e+"</"+r+`>
`}listitem(e){return"<li>"+e+`</li>
`}checkbox(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "}paragraph(e){return"<p>"+e+`</p>
`}table(e,t){return t&&(t="<tbody>"+t+"</tbody>"),`<table>
<thead>
`+e+`</thead>
`+t+`</table>
`}tablerow(e){return`<tr>
`+e+`</tr>
`}tablecell(e,t){const n=t.header?"th":"td";return(t.align?"<"+n+' align="'+t.align+'">':"<"+n+">")+e+"</"+n+`>
`}strong(e){return"<strong>"+e+"</strong>"}em(e){return"<em>"+e+"</em>"}codespan(e){return"<code>"+e+"</code>"}br(){return this.options.xhtml?"<br/>":"<br>"}del(e){return"<del>"+e+"</del>"}link(e,t,n){if(e=Ip(this.options.sanitize,this.options.baseUrl,e),e===null)return n;let r='<a href="'+mr(e)+'"';return t&&(r+=' title="'+t+'"'),r+=">"+n+"</a>",r}image(e,t,n){if(e=Ip(this.options.sanitize,this.options.baseUrl,e),e===null)return n;let r='<img src="'+e+'" alt="'+n+'"';return t&&(r+=' title="'+t+'"'),r+=this.options.xhtml?"/>":">",r}text(e){return e}}class qp{strong(e){return e}em(e){return e}codespan(e){return e}del(e){return e}html(e){return e}text(e){return e}link(e,t,n){return""+n}image(e,t,n){return""+n}br(){return""}}class $p{constructor(){this.seen={}}serialize(e){return e.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")}getNextSafeSlug(e,t){let n=e,r=0;if(this.seen.hasOwnProperty(n)){r=this.seen[e];do r++,n=e+"-"+r;while(this.seen.hasOwnProperty(n))}return t||(this.seen[e]=r,this.seen[n]=0),n}slug(e,t={}){const n=this.serialize(e);return this.getNextSafeSlug(n,t.dryrun)}}class fs{constructor(e){this.options=e||Yo,this.options.renderer=this.options.renderer||new Sd,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new qp,this.slugger=new $p}static parse(e,t){return new fs(t).parse(e)}static parseInline(e,t){return new fs(t).parseInline(e)}parse(e,t=!0){let n="",r,a,o,d,S,C,$,Y,ne,le,he,ke,pe,Ne,Ce,De,He,Ke,Ge;const je=e.length;for(r=0;r<je;r++){if(le=e[r],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[le.type]&&(Ge=this.options.extensions.renderers[le.type].call({parser:this},le),Ge!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(le.type))){n+=Ge||"";continue}switch(le.type){case"space":continue;case"hr":{n+=this.renderer.hr();continue}case"heading":{n+=this.renderer.heading(this.parseInline(le.tokens),le.depth,Dp(this.parseInline(le.tokens,this.textRenderer)),this.slugger);continue}case"code":{n+=this.renderer.code(le.text,le.lang,le.escaped);continue}case"table":{for(Y="",$="",d=le.header.length,a=0;a<d;a++)$+=this.renderer.tablecell(this.parseInline(le.header[a].tokens),{header:!0,align:le.align[a]});for(Y+=this.renderer.tablerow($),ne="",d=le.rows.length,a=0;a<d;a++){for(C=le.rows[a],$="",S=C.length,o=0;o<S;o++)$+=this.renderer.tablecell(this.parseInline(C[o].tokens),{header:!1,align:le.align[o]});ne+=this.renderer.tablerow($)}n+=this.renderer.table(Y,ne);continue}case"blockquote":{ne=this.parse(le.tokens),n+=this.renderer.blockquote(ne);continue}case"list":{for(he=le.ordered,ke=le.start,pe=le.loose,d=le.items.length,ne="",a=0;a<d;a++)Ce=le.items[a],De=Ce.checked,He=Ce.task,Ne="",Ce.task&&(Ke=this.renderer.checkbox(De),pe?Ce.tokens.length>0&&Ce.tokens[0].type==="paragraph"?(Ce.tokens[0].text=Ke+" "+Ce.tokens[0].text,Ce.tokens[0].tokens&&Ce.tokens[0].tokens.length>0&&Ce.tokens[0].tokens[0].type==="text"&&(Ce.tokens[0].tokens[0].text=Ke+" "+Ce.tokens[0].tokens[0].text)):Ce.tokens.unshift({type:"text",text:Ke}):Ne+=Ke),Ne+=this.parse(Ce.tokens,pe),ne+=this.renderer.listitem(Ne,He,De);n+=this.renderer.list(ne,he,ke);continue}case"html":{n+=this.renderer.html(le.text);continue}case"paragraph":{n+=this.renderer.paragraph(this.parseInline(le.tokens));continue}case"text":{for(ne=le.tokens?this.parseInline(le.tokens):le.text;r+1<je&&e[r+1].type==="text";)le=e[++r],ne+=`
`+(le.tokens?this.parseInline(le.tokens):le.text);n+=t?this.renderer.paragraph(ne):ne;continue}default:{const nt='Token with "'+le.type+'" type was not found.';if(this.options.silent){console.error(nt);return}else throw new Error(nt)}}}return n}parseInline(e,t){t=t||this.renderer;let n="",r,a,o;const d=e.length;for(r=0;r<d;r++){if(a=e[r],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[a.type]&&(o=this.options.extensions.renderers[a.type].call({parser:this},a),o!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(a.type))){n+=o||"";continue}switch(a.type){case"escape":{n+=t.text(a.text);break}case"html":{n+=t.html(a.text);break}case"link":{n+=t.link(a.href,a.title,this.parseInline(a.tokens,t));break}case"image":{n+=t.image(a.href,a.title,a.text);break}case"strong":{n+=t.strong(this.parseInline(a.tokens,t));break}case"em":{n+=t.em(this.parseInline(a.tokens,t));break}case"codespan":{n+=t.codespan(a.text);break}case"br":{n+=t.br();break}case"del":{n+=t.del(this.parseInline(a.tokens,t));break}case"text":{n+=t.text(a.text);break}default:{const S='Token with "'+a.type+'" type was not found.';if(this.options.silent){console.error(S);return}else throw new Error(S)}}}return n}}function Mi(i,e,t){if(typeof i=="undefined"||i===null)throw new Error("marked(): input parameter is undefined or null");if(typeof i!="string")throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(i)+", string expected");if(typeof e=="function"&&(t=e,e=null),e=Ta({},Mi.defaults,e||{}),Op(e),t){const n=e.highlight;let r;try{r=cs.lex(i,e)}catch(d){return t(d)}const a=function(d){let S;if(!d)try{e.walkTokens&&Mi.walkTokens(r,e.walkTokens),S=fs.parse(r,e)}catch(C){d=C}return e.highlight=n,d?t(d):t(null,S)};if(!n||n.length<3||(delete e.highlight,!r.length))return a();let o=0;Mi.walkTokens(r,function(d){d.type==="code"&&(o++,setTimeout(()=>{n(d.text,d.lang,function(S,C){if(S)return a(S);C!=null&&C!==d.text&&(d.text=C,d.escaped=!0),o--,o===0&&a()})},0))}),o===0&&a();return}try{const n=cs.lex(i,e);return e.walkTokens&&Mi.walkTokens(n,e.walkTokens),fs.parse(n,e)}catch(n){if(n.message+=`
Please report this to https://github.com/markedjs/marked.`,e.silent)return"<p>An error occurred:</p><pre>"+mr(n.message+"",!0)+"</pre>";throw n}}Mi.options=Mi.setOptions=function(i){return Ta(Mi.defaults,i),f_(Mi.defaults),Mi},Mi.getDefaults=Pp,Mi.defaults=Yo,Mi.use=function(...i){const e=Ta({},...i),t=Mi.defaults.extensions||{renderers:{},childTokens:{}};let n;i.forEach(r=>{if(r.extensions&&(n=!0,r.extensions.forEach(a=>{if(!a.name)throw new Error("extension name required");if(a.renderer){const o=t.renderers?t.renderers[a.name]:null;o?t.renderers[a.name]=function(...d){let S=a.renderer.apply(this,d);return S===!1&&(S=o.apply(this,d)),S}:t.renderers[a.name]=a.renderer}if(a.tokenizer){if(!a.level||a.level!=="block"&&a.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");t[a.level]?t[a.level].unshift(a.tokenizer):t[a.level]=[a.tokenizer],a.start&&(a.level==="block"?t.startBlock?t.startBlock.push(a.start):t.startBlock=[a.start]:a.level==="inline"&&(t.startInline?t.startInline.push(a.start):t.startInline=[a.start]))}a.childTokens&&(t.childTokens[a.name]=a.childTokens)})),r.renderer){const a=Mi.defaults.renderer||new Sd;for(const o in r.renderer){const d=a[o];a[o]=(...S)=>{let C=r.renderer[o].apply(a,S);return C===!1&&(C=d.apply(a,S)),C}}e.renderer=a}if(r.tokenizer){const a=Mi.defaults.tokenizer||new df;for(const o in r.tokenizer){const d=a[o];a[o]=(...S)=>{let C=r.tokenizer[o].apply(a,S);return C===!1&&(C=d.apply(a,S)),C}}e.tokenizer=a}if(r.walkTokens){const a=Mi.defaults.walkTokens;e.walkTokens=function(o){r.walkTokens.call(this,o),a&&a.call(this,o)}}n&&(e.extensions=t),Mi.setOptions(e)})},Mi.walkTokens=function(i,e){for(const t of i)switch(e.call(Mi,t),t.type){case"table":{for(const n of t.header)Mi.walkTokens(n.tokens,e);for(const n of t.rows)for(const r of n)Mi.walkTokens(r.tokens,e);break}case"list":{Mi.walkTokens(t.items,e);break}default:Mi.defaults.extensions&&Mi.defaults.extensions.childTokens&&Mi.defaults.extensions.childTokens[t.type]?Mi.defaults.extensions.childTokens[t.type].forEach(function(n){Mi.walkTokens(t[n],e)}):t.tokens&&Mi.walkTokens(t.tokens,e)}},Mi.parseInline=function(i,e){if(typeof i=="undefined"||i===null)throw new Error("marked.parseInline(): input parameter is undefined or null");if(typeof i!="string")throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(i)+", string expected");e=Ta({},Mi.defaults,e||{}),Op(e);try{const t=cs.lexInline(i,e);return e.walkTokens&&Mi.walkTokens(t,e.walkTokens),fs.parseInline(t,e)}catch(t){if(t.message+=`
Please report this to https://github.com/markedjs/marked.`,e.silent)return"<p>An error occurred:</p><pre>"+mr(t.message+"",!0)+"</pre>";throw t}},Mi.Parser=fs,Mi.parser=fs.parse,Mi.Renderer=Sd,Mi.TextRenderer=qp,Mi.Lexer=cs,Mi.lexer=cs.lex,Mi.Tokenizer=df,Mi.Slugger=$p,Mi.parse=Mi;const kF=Mi.options,_F=Mi.setOptions,SF=Mi.use,EF=Mi.walkTokens,RF=Mi.parseInline,ro=Mi,NF=fs.parse,CF=cs.lex;function Hp(i){return i.then(()=>{})}function TF(i){let e,t;const n=()=>{if(t)return t;if(e)return t=Hp(e).then(()=>(t=void 0,n())),t;e=i();const r=()=>e=void 0;return Hp(e).then(r,r),e};return n}function cf(i,e){let t;return(...n)=>{t&&clearTimeout(t),t=setTimeout(()=>i(...n),e)}}var A_=Object.defineProperty,M_=(i,e,t)=>e in i?A_(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t,Aa=(i,e,t)=>M_(i,typeof e!="symbol"?e+"":e,t);function Gp(i){const e=i.toLowerCase();return td.some(t=>e.includes(`author:${t.toLowerCase()}`))}function Vp(){var i;return(i=s.workspace.getConfiguration(bt).get(fi,[]).find(t=>Gp(t.query)))==null?void 0:i.query}class jp extends f{constructor(){super(...arguments),Aa(this,"_isInitialized",!1),Aa(this,"_states",new Map),Aa(this,"_showNotification",new Set),Aa(this,"_onDidChangeStates",this._register(new s.EventEmitter)),Aa(this,"onDidChangeCopilotStates",this._onDidChangeStates.event),Aa(this,"_onDidChangeNotifications",this._register(new s.EventEmitter)),Aa(this,"onDidChangeCopilotNotifications",this._onDidChangeNotifications.event)}makeKey(e,t,n){return n===void 0?`${e}/${t}`:`${e}/${t}#${n}`}deleteKey(e){if(this._states.has(e)){const t=this._states.get(e);this._states.delete(e),this._showNotification.has(e)&&(this._showNotification.delete(e),this._onDidChangeNotifications.fire([t.item])),this._onDidChangeStates.fire()}}set(e){const t=[],n=[];for(const{item:r,status:a}of e){const o=this.makeKey(r.remote.owner,r.remote.repositoryName,r.number),d=this._states.get(o);(d==null?void 0:d.status)!==a&&(this._states.set(o,{item:r,status:a}),t.push(r),n.push(o))}t.length>0&&(this._isInitialized&&(n.forEach(r=>this._showNotification.add(r)),this._onDidChangeNotifications.fire(t)),this._onDidChangeStates.fire())}get(e,t,n){var r,a;const o=this.makeKey(e,t,n);return(a=(r=this._states.get(o))==null?void 0:r.status)!=null?a:Lr.None}keys(){return Array.from(this._states.keys())}clearNotification(e,t,n){var r;const a=this.makeKey(e,t,n);if(this._showNotification.has(a)){this._showNotification.delete(a);const o=(r=this._states.get(a))==null?void 0:r.item;o&&this._onDidChangeNotifications.fire([o])}}clearAllNotifications(e,t){var n,r;if(this._showNotification.size>0){const a=[];if(e&&t){const o=[],d=`${this.makeKey(e,t)}#`;for(const S of this._showNotification.keys())if(S.startsWith(d)){const C=(n=this._states.get(S))==null?void 0:n.item;C&&a.push(C),o.push(S)}o.forEach(S=>this._showNotification.delete(S))}else{for(const o of this._showNotification.keys()){const d=(r=this._states.get(o))==null?void 0:r.item;d&&a.push(d)}this._showNotification.clear()}a.length>0&&this._onDidChangeNotifications.fire(a)}}get notifications(){return this._showNotification}getNotificationsCount(e,t){let n=0;const r=`${this.makeKey(e,t)}#`;for(const a of this._showNotification.values())a.startsWith(r)&&n++;return n}setInitialized(){this._isInitialized=!0}get isInitialized(){return this._isInitialized}getCounts(e,t){let n=0,r=0;for(const a of this._states.values())a.item.remote.owner!==e||a.item.remote.repositoryName!==t||(a.status===Lr.Started?n++:a.status===Lr.Failed&&r++);return{total:this._states.size,inProgress:n,error:r}}get all(){return Array.from(this._states.values())}}Aa(jp,"ID","CopilotStateModel");class P_ extends f{constructor(e,t){if(super(),this._reposManager=e,this._prsTreeModel=t,Aa(this,"_model"),Aa(this,"_pollTimeout"),Aa(this,"_lastPollTime",0),this._model=t.copilotStateModel,this._reposManager.folderManagers.length===0){const n=this._reposManager.onDidChangeAnyGitHubRepository(()=>{n.dispose(),this._initialize()})}else this._initialize()}_initialize(){this._prsTreeModel.refreshCopilotStateChanges(!0),this._pollForChanges();const e=cf(()=>this._prsTreeModel.refreshCopilotStateChanges(!0),50);this._register(this._reposManager.onDidChangeAnyPullRequests(t=>{if(t.some(n=>cn[n.model.author.login])){if(!this._model.isInitialized)return;if(t.some(n=>this._model.get(n.model.remote.owner,n.model.remote.repositoryName,n.model.number)===Lr.None))e();else for(const n of t)n.model instanceof fn&&this._updateSingleState(n.model)}})),this._register(rr.onVisible(t=>this._model.clearNotification(t.remote.owner,t.remote.repositoryName,t.number))),this._register(s.workspace.onDidChangeConfiguration(t=>{t.affectsConfiguration(`${bt}.${fi}`)&&this._pollForChanges()})),this._register(s.window.onDidChangeWindowState(t=>{(t.active||t.focused)&&Date.now()-this._lastPollTime>this._pollInterval&&this._pollForChanges()})),this._register({dispose:()=>this._pollTimeout&&clearTimeout(this._pollTimeout)})}get _pollInterval(){return s.window.state.active||s.window.state.focused?60*1e3*2:60*1e3*5}async _pollForChanges(){if(s.workspace.getConfiguration(bt).get(rs,!1))return;this._pollTimeout&&(clearTimeout(this._pollTimeout),this._pollTimeout=void 0),this._lastPollTime=Date.now(),await this._prsTreeModel.refreshCopilotStateChanges(!0)&&(this._pollTimeout=setTimeout(()=>{this._pollForChanges()},this._pollInterval))}async _updateSingleState(e){var t;const n=[],r=await e.getCopilotTimelineEvents(!1,!this._model.isInitialized);let a=id(r[r.length-1]);if(a===Lr.None){if(!cn[e.author.login])return;a=Lr.Started}if(e.state!==Li.Open){const d=this._model.makeKey(e.remote.owner,e.remote.repositoryName,e.number);this._model.deleteKey(d);return}const o=(t=this._model.get(e.remote.owner,e.remote.repositoryName,e.number))!=null?t:Lr.None;a!==o&&n.push({item:e,status:a}),this._model.set(n)}}var Ed;(i=>{function e(t){return t&&typeof t.command=="string"}i.is=e})(Ed||(Ed={}));function F_(i){const e=i.split(/\r?\n/g);let t,n,r=-1;for(let a=0;a<e.length;a++){const o=e[a];if(o.startsWith("diff --git")){const d=o.match(/^diff --git a\/(.+?) b\/(.+)$/);d&&(t=d[1],n=d[2])}else if(o.startsWith("@@ ")){r=a+1;break}}if(!(r<0))return{content:e.slice(r).join(`
`),fileA:typeof t=="string"?"/"+t:void 0,fileB:typeof n=="string"?"/"+n:void 0}}function Rd(i){if(!i||!Array.isArray(i)||i.length!==2)return;const e=i[0],t=i[1];if(!(typeof e!="number"||typeof t!="number"))return{start:e,end:t}}function Jo(i){return i.split("/").slice(6).join("/")}function zp(i,e){var t;let n={};try{n=i.function.arguments?JSON.parse(i.function.arguments):{}}catch{}const r=i.function.name,a=($,Y,ne)=>{const le=$&&Jo($);if(le===void 0||le==="")return{toolName:"Read repository",invocationMessage:"Read repository",pastTenseMessage:"Read repository"};const he=Y?`, lines ${Y.start} to ${Y.end}`:"";return{toolName:"Read",invocationMessage:`Read [](${le})${he}`,pastTenseMessage:`Read [](${le})${he}`,toolSpecificData:{command:"view",filePath:$,fileLabel:le,parsedContent:ne==null?void 0:ne.parsedContent,viewRange:Y}}},o=($,Y,ne,le)=>{const he=$&&Jo($),ke=ne?`, lines ${ne.start} to ${ne.end}`:"";let pe,Ne;return he?(pe=`Edit [](${he})${ke}`,Ne=`Edit [](${he})${ke}`):((le==null?void 0:le.defaultName)==="Create"?pe=Ne=`Create File ${$}`:pe=Ne=(le==null?void 0:le.defaultName)||"Edit",pe+=ke,Ne+=ke),{toolName:(le==null?void 0:le.defaultName)||"Edit",invocationMessage:pe,pastTenseMessage:Ne,toolSpecificData:he?{command:Y||((le==null?void 0:le.defaultName)==="Create"?"create":Y||"edit"),filePath:$,fileLabel:he,viewRange:ne}:void 0}},d=$=>{const Y=$&&Jo($),ne=Y?`Edit [](${Y})`:`Edit ${$}`;return{toolName:"Edit",invocationMessage:ne,pastTenseMessage:ne,toolSpecificData:Y?{command:"str_replace",filePath:$,fileLabel:Y}:void 0}},S=$=>{const Y=$&&Jo($),ne=Y?`Create [](${Y})`:`Create File ${$}`;return{toolName:"Create",invocationMessage:ne,pastTenseMessage:ne,toolSpecificData:Y?{command:"create",filePath:$,fileLabel:Y}:void 0}},C=($,Y)=>{const he={toolName:"Run Bash command",invocationMessage:[$.command?`$ ${$.command}`:void 0,Y].filter(Boolean).join(`
`)||"Run Bash command"};return $.command&&(he.toolSpecificData={commandLine:{original:$.command},language:"bash"}),he};switch(r){case"str_replace_editor":{if(n.command==="view"){const $=F_(e),Y=Rd(n.view_range);if($){const pe=(t=$.fileA)!=null?t:$.fileB,Ne=pe&&Jo(pe);if(Ne==="")return{toolName:"Read repository",invocationMessage:"Read repository",pastTenseMessage:"Read repository"};if(Ne===void 0)return{toolName:"Read",invocationMessage:"Read repository",pastTenseMessage:"Read repository"};{const Ce=Y?`, lines ${Y.start} to ${Y.end}`:"";return{toolName:"Read",invocationMessage:`Read [](${Ne})${Ce}`,pastTenseMessage:`Read [](${Ne})${Ce}`,toolSpecificData:{command:"view",filePath:pe,fileLabel:Ne,parsedContent:$,viewRange:Y}}}}const ne=Rd(n.view_range),le=n.path,he=le&&Jo(le);if(he===void 0||he==="")return{toolName:"Read repository",invocationMessage:"Read repository",pastTenseMessage:"Read repository"};const ke=ne?`, lines ${ne.start} to ${ne.end}`:"";return{toolName:"Read",invocationMessage:`Read ${he}${ke}`,pastTenseMessage:`Read ${he}${ke}`,toolSpecificData:{command:"view",filePath:le,fileLabel:he,viewRange:ne}}}return o(n.path,n.command||"edit",Rd(n.view_range))}case"str_replace":return d(n.path);case"create":return S(n.path);case"view":return a(n.path,Rd(n.view_range));case"think":return{toolName:"think",invocationMessage:n.thought||e||"Thought"};case"report_progress":{const $={toolName:"Progress Update",invocationMessage:`${n.prDescription}`||e||"Progress Update"};return n.commitMessage&&($.originMessage=`Commit: ${n.commitMessage}`),$}case"bash":return C(n,e);case"read_bash":return{toolName:"read_bash",invocationMessage:"Read logs from Bash session"};case"stop_bash":return{toolName:"stop_bash",invocationMessage:"Stop Bash session"};default:return{toolName:r||"unknown",invocationMessage:e||r||"unknown"}}}function Wp(i){return i.split(/\r?\n/).filter(t=>t.startsWith("data: ")).map(t=>{const n=t.slice(6).trim();return JSON.parse(n)})}var za;(i=>{function e(){return G().workspace.getConfiguration(Jt)}function t(){return e().get(ui,!1)}i.getEnabled=t;function n(){return e().get(Ji,!0)}i.getPromptForConfirmation=n;function r(){return e().get(vi,!1)}i.getAutoCommitAndPushEnabled=r;async function a(){await e().update(Ji,!1,G().ConfigurationTarget.Global)}i.disablePromptForConfirmation=a})(za||(za={}));var AF=ti(48318);const Kp=/http(s)?\:\/\/github\.com\/([^\/]+)\/([^\/]+)\/blob\/([0-9a-fA-F]{40})\/([^#]+)#L(\d+)(-L(\d+))?/;function Qp(i){return i.match(Kp)}function D_(i){return!!Qp(i.body)}async function Yp(i,e,t=!0){const n=i[2],r=i[3],a=i[5],o=Number(i[6])-1,d=i[8]?Number(i[8])-1:o;let S;for(const $ of e.folderManagers){const Y=await $.getGitHubRemotes();for(const ne of Y)if(n.toLowerCase()===ne.owner.toLowerCase()&&r.toLowerCase()===ne.repositoryName.toLowerCase()){S=$;break}if(S)break}if(!S)return;const C=s.Uri.joinPath(S.repository.rootUri,a);try{await s.workspace.fs.stat(C)}catch{return}return{file:C,start:o,end:d}}async function I_(i,e){const t=Qp(i.body);if(!t){s.window.showInformationMessage(s.l10n.t("Issue has no link."));return}const n=await Yp(t,e,!1);if(!n)return s.env.openExternal(s.Uri.parse(t[0]));const r=await s.workspace.openTextDocument(n==null?void 0:n.file),a=r.lineAt(n.end<r.lineCount?n.end:r.lineCount-1),o=new s.Range(n.start,0,n.end,a.text.length);return s.window.showTextDocument(n.file,{selection:o})}var x_=Object.defineProperty,O_=(i,e,t)=>e in i?x_(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t,L_=(i,e,t)=>O_(i,typeof e!="symbol"?e+"":e,t);function U_(i){switch(i.state){case Li.Open:return i instanceof fn?"$(git-pull-request)":"$(issues)";case Li.Closed:return i instanceof fn?"$(git-pull-request)":"$(issue-closed)";case Li.Merged:return"$(git-merge)"}}function B_(i){if(i instanceof fn)return U_(i);switch(i.state){case Li.Open:return'<span style="color:#22863a;">$(issues)</span>';case Li.Closed:return`<span style="color:${i.stateReason!=="COMPLETED"?"#6a737d":"#8957e5"};">$(issue-closed)</span>`}}function q_(i,e){let t;return i.commitContributions.forEach(n=>{e.toLowerCase()===n.repoNameWithOwner.toLowerCase()&&(t=n.createdAt.toLocaleString("default",{day:"numeric",month:"short",year:"numeric"}))}),t}function Jp(i,e){const t=new s.MarkdownString(void 0,!0);t.appendMarkdown(`![Avatar](${e.avatarUrl}|height=50,width=50) ${e.name?`**${e.name}** `:""}[${e.login}](${e.url})`),e.bio&&t.appendText(`  \r
`+e.bio.replace(/\r\n/g," "));const n=q_(e,i.owner+"/"+i.repo);return(e.location||n)&&t.appendMarkdown(`  \r
\r
---`),e.location&&t.appendMarkdown(`  \r
${s.l10n.t("{0} {1}","$(location)",e.location)}`),n&&t.appendMarkdown(`  \r
${s.l10n.t("{0} Committed to this repository on {1}","$(git-commit)",n)}`),e.company&&t.appendMarkdown(`  \r
${s.l10n.t({message:"{0} Member of {1}",args:["$(jersey)",e.company],comment:["An organization that the user is a member of.","The first placeholder is an icon and shouldn't be localized.","The second placeholder is the name of the organization."]})}`),t}async function Zp(i,e,t){let n=i.search(e),r=0;for(;n>=0&&n<i.length;){let a;if(n===0||i.charAt(n-1)!=="&"){const d=i.substring(n).match(e);if(d){const S=await t(d);S&&(a=i.slice(0,n)+S,i=a+i.slice(n+d[0].length))}}r=a?a.length:n+1;const o=i.substring(r).search(e);n=o>0?r+o:o}return i}function Xp(i,e){return Zp(i,ja,async t=>{const n=Fs(t);if(n){const r=sf(n);return(!n.owner||!n.name)&&(n.owner=e.remote.owner,n.name=e.remote.repositoryName),`[${r}](https://github.com/${n.owner}/${n.name}/issues/${n.issueNumber})`}})}async function $_(i,e){return Zp(i,Kp,async t=>{const n=await Yp(t,e);if(n){y.trace("finding code links in issue","Issues");const r=await s.workspace.openTextDocument(n==null?void 0:n.file),a=r.lineAt(n.end<r.lineCount?n.end:r.lineCount-1),o=[n.file,{selection:{start:{line:n.start,character:0},end:{line:n.end,character:a.text.length}}}],d=s.Uri.parse(`command:vscode.open?${encodeURIComponent(JSON.stringify(o))}`);return`[${t[0]}](${d} "Open ${n.file.fsPath}")`}})}const Nd=200;async function ao(i,e,t,n,r){var a;const o=new s.MarkdownString(void 0,!0);o.supportHtml=!0;const d=new Date(i.createdAt),S=`${i.remote.owner}/${i.remote.repositoryName}`;o.appendMarkdown(`[${S}](https://github.com/${S}) on ${d.toLocaleString("default",{day:"numeric",month:"short",year:"numeric"})}  
`);const C=i instanceof fn&&i.isDraft?`[DRAFT] ${i.title}`:i.title,$=ro(C,{renderer:new so,smartypants:!0}).trim();o.appendMarkdown(`${B_(i)} **${$}** [#${i.number}](${i.html_url})  
`);let Y=ro(i.body,{renderer:new so,smartypants:!0});if(o.appendMarkdown(`  
`),Y=Y.length>Nd?Y.substr(0,Nd)+"...":Y,Y=await Xp(Y,i),Y=await $_(Y,t),o.appendMarkdown(Y+`  
`),i.item.labels.length>0&&(await Ms(e),o.appendMarkdown(`&nbsp;  
`),i.item.labels.forEach(ne=>{o.appendMarkdown(`[${mp(ne)}](https://github.com/${S}/labels/${encodeURIComponent(ne.name)}) `)})),i.item.comments&&n){for(const ne of i.item.comments)if(ne.databaseId===n){o.appendMarkdown(`  \r
\r
---\r
`),o.appendMarkdown(`&nbsp;  
`),o.appendMarkdown(`![Avatar](${ne.author.avatarUrl}|height=15,width=15) &nbsp;&nbsp;**${ne.author.login}** commented`),o.appendMarkdown(`&nbsp;  
`);let le=ro(ne.body.length>Nd?ne.body.substr(0,Nd)+"...":ne.body,{renderer:new so,smartypants:!0});le=await Xp(le,i),o.appendMarkdown(le)}}if(r){const ne=(a=eg(r))==null?void 0:a.tooltip;ne&&(o.appendMarkdown(`  \r
\r
`),o.appendMarkdown(`_${ne}_`))}return o}class so extends Sd{constructor(e=!1){super(),L_(this,"allowSimpleMarkdown"),this.allowSimpleMarkdown=e}code(e,t){return e}blockquote(e){return e}html(e){return""}heading(e,t,n,r){return e+" "}hr(){return""}list(e,t,n){return e}listitem(e){return" "+e}checkbox(e){return""}paragraph(e){return e.replace(/\</g,"\\<").replace(/\>/g,"\\>")+" "}table(e,t){return e+" "+t}tablerow(e){return e}tablecell(e,t){return e}strong(e){return e}em(e){return e}codespan(e){return this.allowSimpleMarkdown?`\`${e}\``:`\\\`${e}\\\``}br(){return" "}del(e){return e}image(e,t,n){return""}text(e){return e}link(e,t,n){return n+" "}}function eg(i){if(i&Ur.CIFailed&&i&Ur.ReviewRequired)return{propagate:!1,badge:new s.ThemeIcon("close",new s.ThemeColor("list.errorForeground")),tooltip:"Review required and some checks have failed"};if(i&Ur.CIFailed)return{propagate:!1,badge:new s.ThemeIcon("close",new s.ThemeColor("list.errorForeground")),tooltip:"Some checks have failed"};if(i&Ur.ChangesRequested)return{propagate:!1,badge:new s.ThemeIcon("request-changes",new s.ThemeColor("list.errorForeground")),tooltip:"Changes requested"};if(i&Ur.CIPending)return{propagate:!1,badge:new s.ThemeIcon("sync",new s.ThemeColor("list.warningForeground")),tooltip:"Checks pending"};if(i&Ur.ReviewRequired)return{propagate:!1,badge:new s.ThemeIcon("circle-filled",new s.ThemeColor("list.warningForeground")),tooltip:"Review required"};if(i===Ur.None)return{propagate:!1,badge:new s.ThemeIcon("check-all",new s.ThemeColor("issues.open")),tooltip:"All checks passed"}}class H_{constructor(e,t,n){this.loggerId=e,this.handler=t,this.getChangeModels=n}async buildSessionHistory(e,t,n,r){var a;const o=e.filter((C,$,Y)=>Y.findIndex(ne=>ne.id===C.id)===$).slice().sort((C,$)=>new Date(C.created_at).getTime()-new Date($.created_at).getTime()),d=await Promise.all(o.map(async(C,$)=>{const Y=async()=>{const ke=await this.determineSessionPrompt(C,$,t,r,n);return new(G()).ChatRequestTurn2(ke,void 0,[],fr,[],[])},ne=async()=>{const ke=await n.getLogsFromSession(C.id);return await this.createResponseTurn(t,ke,C)},[le,he]=await Promise.all([Y(),ne()]);return{first:le,second:he,sessionIndex:$}})),S=[];for(const{first:C,second:$,sessionIndex:Y}of d)if(S.push(C),$){if(Y===0){const ne=await vo({owner:t.remote.owner,repo:t.remote.repositoryName,pullRequestNumber:t.number}),le=ro(t.body,{renderer:new so(!0),smartypants:!0}).trim(),he=new(G()).ChatResponsePullRequestPart(ne,t.title,le,(a=t.author.specialDisplayName)!=null?a:t.author.login,`#${t.number}`),ke=new(G()).ChatResponseTurn2([he],{},fr);S.push(ke)}S.push($)}return S}async createResponseTurn(e,t,n){if(t.trim().length>0)return await this.parseSessionLogsIntoResponseTurn(e,t,n);if(n.state==="in_progress"||n.state==="queued"){const r=[new(G()).ChatResponseProgressPart("Initializing session")],a={};return new(G()).ChatResponseTurn2(r,a,fr)}else{const r=[new(G()).ChatResponseMarkdownPart("_No logs available for this session_")],a={};return new(G()).ChatResponseTurn2(r,a,fr)}}async determineSessionPrompt(e,t,n,r,a){let o=e.name||`Session ${t+1} (ID: ${e.id})`;return t===0?o=await this.getInitialSessionPrompt(e,n,a,o):o=await this.getFollowUpSessionPrompt(t,r,o),o=o.replace(/@copilot\s*/gi,"").trim(),o}async getFollowUpSessionPrompt(e,t,n){const r=await t;y.appendLine(`Found ${r.length} timeline events`,this.loggerId);const a=r.filter(ne=>ne.event===Ht.CopilotStarted).sort((ne,le)=>new Date(ne.createdAt).getTime()-new Date(le.createdAt).getTime()),o=r.filter(ne=>ne.event===Ht.CopilotFinished).sort((ne,le)=>new Date(ne.createdAt).getTime()-new Date(le.createdAt).getTime());y.appendLine(`Session ${e}: Found ${a.length} CopilotStarted events and ${o.length} CopilotFinished events`,this.loggerId);const d=a[e];if(!d)return y.appendLine(`Session ${e}: No CopilotStarted event found at index ${e}`,this.loggerId),n;const S=new Date(d.createdAt).getTime(),C=this.getPreviousSessionEndTime(e,o),$=this.findRelevantTimelineEvents(r,C,S),Y=$[0];if(Y){const ne=this.extractPromptFromEvent(Y);return y.appendLine(`Session ${e}: Found matching event - ${Y.event}`,this.loggerId),ne}else return y.appendLine(`Session ${e}: No matching event found between times ${C} and ${S}`,this.loggerId),y.appendLine(`Session ${e}: Relevant events found: ${$.length}`,this.loggerId),n}getPreviousSessionEndTime(e,t){return e>0&&t[e-1]?new Date(t[e-1].createdAt).getTime():0}findRelevantTimelineEvents(e,t,n){return e.filter(r=>{if(r.event!==Ht.Commented&&r.event!==Ht.Reviewed)return!1;const a=new Date(r.event===Ht.Commented?r.createdAt:r.event===Ht.Reviewed?r.submittedAt:"").getTime();return a>t&&a<n}).filter(r=>{if(r.event===Ht.Commented){const a=r;return a.body.includes("@copilot")||a.body.includes(this.handler)}else if(r.event===Ht.Reviewed){const a=r;return a.body.includes("@copilot")||a.body.includes(this.handler)}return!1}).sort((r,a)=>{const o=new Date(r.event===Ht.Commented?r.createdAt:r.event===Ht.Reviewed?r.submittedAt:"").getTime();return new Date(a.event===Ht.Commented?a.createdAt:a.event===Ht.Reviewed?a.submittedAt:"").getTime()-o})}extractPromptFromEvent(e){let t="";(e.event===Ht.Commented||e.event===Ht.Reviewed)&&(t=e.body);const n=t.match(/^(.*?)\s*\n\n\s*---\s*\n\n/s);return n?n[1].trim():t.trim()}async getInitialSessionPrompt(e,t,n,r){try{const a=await n.getJobBySessionId(t.base.repositoryCloneUrl.owner,t.base.repositoryCloneUrl.repositoryName,e.id);if(a&&a.problem_statement){let o=a.problem_statement;const d=a.problem_statement.match(/TITLE: \s*(.*)/i);if(d&&d[1])o=d[1].trim();else{const S=a.problem_statement.split(`
`);S.length>0&&(o=S[0].trim())}return y.appendLine(`Session 0: Found problem_statement from Jobs API: ${o}`,this.loggerId),o}}catch(a){y.warn(`Failed to get job info for session ${e.id}: ${a}`,this.loggerId)}return r}async parseSessionLogsIntoResponseTurn(e,t,n){try{const r=Wp(t),a=[];let o="";for(const d of r)if(!(!d.choices||!Array.isArray(d.choices)))for(const S of d.choices){const C=S.delta;C.role==="assistant"&&this.processAssistantDelta(C,S,e,a,o)}if(o.trim()&&a.push(new(G()).ChatResponseMarkdownPart(o.trim())),n.state==="completed"||n.state==="failed"){const d=await this.getFileChangesMultiDiffPart(e);d&&a.push(d)}if(a.length>0){const d={};return new(G()).ChatResponseTurn2(a,d,fr)}return}catch(r){y.error(`Failed to parse session logs into response turn: ${r}`,this.loggerId);return}}processAssistantDelta(e,t,n,r,a){var o,d,S;if(e.role==="assistant")if(t.finish_reason==="tool_calls"&&((o=e.tool_calls)!=null&&o.length)&&(e.tool_calls[0].function.name==="run_custom_setup_step"||e.tool_calls[0].function.name==="run_setup")){const C=e.tool_calls[0];let $={};try{$=JSON.parse(C.function.arguments)}catch{}if(e.content&&e.content.trim()){a.trim()&&(r.push(new(G()).ChatResponseMarkdownPart(a.trim())),a="");const Y=this.createToolInvocationPart(n,C,$.name||e.content);Y&&r.push(Y)}}else{e.content&&!e.content.startsWith("<pr_title>")&&!e.content.startsWith("<error>")&&(a+=e.content);const C=(d=e.content)==null?void 0:d.startsWith("<error>");if(e.tool_calls){a.trim()&&(r.push(new(G()).ChatResponseMarkdownPart(a.trim())),a="");for(const $ of e.tool_calls){const Y=this.createToolInvocationPart(n,$,e.content||"");Y&&r.push(Y)}if(C){const $=new(G()).ChatToolInvocationPart("Command","command"),Y=((S=e.content)!=null?S:"").replace(/^\s*<error>\s*/i,"").replace(/\s*<\/error>\s*$/i,"");$.invocationMessage=Y,$.isError=!0,r.push($)}}}return a}createToolInvocationPart(e,t,n=""){var r,a,o,d,S,C,$;if(!((r=t.function)!=null&&r.name)||!t.id||t.function.name==="reply_to_comment")return;const Y=new(G()).ChatToolInvocationPart(t.function.name,t.id);Y.isComplete=!0,Y.isError=!1,Y.isConfirmed=!0;try{const ne=zp(t,n);if(Y.toolName=ne.toolName,Y.toolName==="think")return new(G()).ChatResponseThinkingProgressPart(ne.invocationMessage);if(t.function.name==="bash"?Y.invocationMessage=new(G()).MarkdownString(`\`\`\`bash
${ne.invocationMessage}
\`\`\``):Y.invocationMessage=new(G()).MarkdownString(ne.invocationMessage),ne.pastTenseMessage&&(Y.pastTenseMessage=new(G()).MarkdownString(ne.pastTenseMessage)),ne.originMessage&&(Y.originMessage=new(G()).MarkdownString(ne.originMessage)),ne.toolSpecificData)if(Ed.is(ne.toolSpecificData)){if((ne.toolSpecificData.command==="view"||ne.toolSpecificData.command==="edit")&&ne.toolSpecificData.fileLabel){const le=G().Uri.file(W.join(e.githubRepository.rootUri.fsPath,ne.toolSpecificData.fileLabel));Y.invocationMessage=new(G()).MarkdownString(`${Y.toolName} [](${le.toString()})`+((a=ne.toolSpecificData)!=null&&a.viewRange?`, lines ${(o=ne.toolSpecificData.viewRange)==null?void 0:o.start} to ${(d=ne.toolSpecificData.viewRange)==null?void 0:d.end}`:"")),Y.invocationMessage.supportHtml=!0,Y.pastTenseMessage=new(G()).MarkdownString(`${Y.toolName} [](${le.toString()})`+((S=ne.toolSpecificData)!=null&&S.viewRange?`, lines ${(C=ne.toolSpecificData.viewRange)==null?void 0:C.start} to ${($=ne.toolSpecificData.viewRange)==null?void 0:$.end}`:""))}}else Y.toolSpecificData=ne.toolSpecificData}catch{Y.toolName=t.function.name||"unknown",Y.invocationMessage=new(G()).MarkdownString(`Tool: ${t.function.name}`),Y.isError=!0}return Y}async getFileChangesMultiDiffPart(e){try{const t=await this.getChangeModels;if(t.length===0)return;const n=[];for(const a of t){const{added:o,removed:d}=await a.calculateChangedLinesCount();n.push({originalUri:a.parentFilePath,modifiedUri:a.filePath,goToFileUri:a.filePath,added:o,removed:d})}const r=`Changes in Pull Request #${e.number}`;return new(G()).ChatResponseMultiDiffPart(n,r)}catch(t){y.error(`Failed to get file changes multi diff part: ${t}`,this.loggerId);return}}}const tg=i=>{i=1831565813+(i|=0)|0;let e=Math.imul(i^i>>>15,1|i);return e=e+Math.imul(e^e>>>7,61|e)^e,((e^e>>>14)>>>0)/4294967296};class G_{constructor(e){this.dictionaries=void 0,this.length=void 0,this.separator=void 0,this.style=void 0,this.seed=void 0;const{length:t,separator:n,dictionaries:r,style:a,seed:o}=e;this.dictionaries=r,this.separator=n,this.length=t,this.style=a,this.seed=o}generate(){if(!this.dictionaries)throw new Error('Cannot find any dictionary. Please provide at least one, or leave the "dictionary" field empty in the config object');if(this.length<=0)throw new Error("Invalid length provided");if(this.length>this.dictionaries.length)throw new Error(`The length cannot be bigger than the number of dictionaries.
Length provided: ${this.length}. Number of dictionaries provided: ${this.dictionaries.length}`);let e=this.seed;return this.dictionaries.slice(0,this.length).reduce((t,n)=>{let r;e?(r=(o=>{if(typeof o=="string"){const d=o.split("").map(C=>C.charCodeAt(0)).reduce((C,$)=>C+$,1),S=Math.floor(Number(d));return tg(S)}return tg(o)})(e),e=4294967296*r):r=Math.random();let a=n[Math.floor(r*n.length)]||"";if(this.style==="lowerCase")a=a.toLowerCase();else if(this.style==="capital"){const[o,...d]=a.split("");a=o.toUpperCase()+d.join("")}else this.style==="upperCase"&&(a=a.toUpperCase());return t?`${t}${this.separator}${a}`:`${a}`},"")}}const ig={separator:"_",dictionaries:[]},V_=i=>{const e=[...i&&i.dictionaries||ig.dictionaries],t={...ig,...i,length:i&&i.length||e.length,dictionaries:e};if(!i||!i.dictionaries||!i.dictionaries.length)throw new Error('A "dictionaries" array must be provided. This is a breaking change introduced starting from Unique Name Generator v4. Read more about the breaking change here: https://github.com/andreasonny83/unique-names-generator#migration-guide');return new G_(t).generate()};var j_=["able","above","absent","absolute","abstract","abundant","academic","acceptable","accepted","accessible","accurate","accused","active","actual","acute","added","additional","adequate","adjacent","administrative","adorable","advanced","adverse","advisory","aesthetic","afraid","aggregate","aggressive","agreeable","agreed","agricultural","alert","alive","alleged","allied","alone","alright","alternative","amateur","amazing","ambitious","amused","ancient","angry","annoyed","annual","anonymous","anxious","appalling","apparent","applicable","appropriate","arbitrary","architectural","armed","arrogant","artificial","artistic","ashamed","asleep","assistant","associated","atomic","attractive","automatic","autonomous","available","average","awake","aware","awful","awkward","back","bad","balanced","bare","basic","beautiful","beneficial","better","bewildered","big","binding","biological","bitter","bizarre","blank","blonde","blushing","boiling","bold","bored","boring","bottom","brainy","brave","breakable","breezy","brief","bright","brilliant","broad","broken","bumpy","burning","busy","calm","capable","careful","casual","causal","cautious","central","certain","changing","characteristic","charming","cheap","cheerful","chemical","chief","chilly","chosen","chronic","chubby","circular","civic","civil","classic","classical","clean","clear","clever","clinical","close","closed","cloudy","clumsy","coastal","cognitive","coherent","cold","collective","colorful","colossal","coloured","colourful","combined","comfortable","commercial","common","compact","comparable","comparative","compatible","competent","competitive","complete","complex","complicated","comprehensive","compulsory","conceptual","concerned","concrete","condemned","confident","confidential","confused","conscious","conservation","considerable","consistent","constant","constitutional","contemporary","content","continental","continued","continuing","continuous","controlled","controversial","convenient","conventional","convinced","convincing","cooing","cool","cooperative","corporate","correct","corresponding","costly","courageous","creative","creepy","criminal","critical","crooked","crowded","crucial","crude","cruel","cuddly","cultural","curious","curly","current","curved","cute","daily","damaged","damp","dangerous","dark","dead","deafening","dear","decent","decisive","deep","defeated","defensive","defiant","definite","deliberate","delicate","delicious","delighted","delightful","democratic","dependent","depressed","desirable","desperate","detailed","determined","developed","developing","devoted","different","difficult","digital","diplomatic","direct","dirty","disappointed","disastrous","disciplinary","disgusted","distant","distinct","distinctive","distinguished","disturbed","disturbing","diverse","divine","dizzy","domestic","dominant","double","doubtful","drab","dramatic","dreadful","driving","dry","dual","due","dull","dusty","dutch","dying","dynamic","eager","early","eastern","easy","economic","educational","eerie","effective","efficient","elaborate","elated","elderly","eldest","electoral","electric","electrical","electronic","elegant","eligible","embarrassed","embarrassing","emotional","empirical","empty","enchanting","encouraging","endless","energetic","enormous","enthusiastic","entire","entitled","envious","environmental","equal","equivalent","essential","established","estimated","ethical","eventual","everyday","evident","evil","evolutionary","exact","excellent","exceptional","excess","excessive","excited","exciting","exclusive","existing","exotic","expected","expensive","experienced","experimental","explicit","extended","extensive","external","extra","extraordinary","extreme","exuberant","faint","fair","faithful","familiar","famous","fancy","fantastic","far","fascinating","fashionable","fast","fatal","favourable","favourite","federal","fellow","few","fierce","final","financial","fine","firm","fiscal","fit","fixed","flaky","flat","flexible","fluffy","fluttering","flying","following","fond","foolish","foreign","formal","formidable","forthcoming","fortunate","forward","fragile","frail","frantic","free","frequent","fresh","friendly","frightened","front","frozen","full","fun","functional","fundamental","funny","furious","future","fuzzy","gastric","general","generous","genetic","gentle","genuine","geographical","giant","gigantic","given","glad","glamorous","gleaming","global","glorious","golden","good","gorgeous","gothic","governing","graceful","gradual","grand","grateful","greasy","great","grieving","grim","gross","grotesque","growing","grubby","grumpy","guilty","handsome","happy","hard","harsh","head","healthy","heavy","helpful","helpless","hidden","high","hilarious","hissing","historic","historical","hollow","holy","homely","hon","honest","horizontal","horrible","hostile","hot","huge","human","hungry","hurt","hushed","husky","icy","ideal","identical","ideological","ill","illegal","imaginative","immediate","immense","implicit","important","impossible","impressed","impressive","improved","inadequate","inc","inclined","increased","increasing","incredible","independent","indirect","individual","industrial","inevitable","influential","informal","inherent","initial","injured","inland","inner","innocent","innovative","inquisitive","instant","institutional","insufficient","intact","integral","integrated","intellectual","intelligent","intense","intensive","interested","interesting","interim","interior","intermediate","internal","international","invisible","involved","irrelevant","isolated","itchy","jealous","jittery","joint","jolly","joyous","judicial","juicy","junior","just","keen","key","kind","known","labour","large","late","latin","lazy","leading","left","legal","legislative","legitimate","lengthy","lesser","level","lexical","liable","light","like","likely","limited","linear","linguistic","liquid","literary","little","live","lively","living","local","logical","lonely","long","loose","lost","loud","lovely","low","loyal","ltd","lucky","mad","magic","magnetic","magnificent","main","major","mammoth","managerial","managing","manual","many","marginal","marine","marked","married","marvellous","mass","massive","mathematical","mature","maximum","mean","meaningful","mechanical","medical","medieval","melodic","melted","mental","mere","metropolitan","mid","middle","mighty","mild","military","miniature","minimal","minimum","ministerial","minor","miserable","misleading","missing","misty","mixed","moaning","mobile","moderate","modern","modest","molecular","monetary","monthly","moral","motionless","muddy","multiple","mushy","musical","mutual","mysterious","naked","narrow","nasty","national","natural","naughty","naval","near","nearby","neat","necessary","negative","neighbouring","nervous","net","neutral","new","nice","noble","noisy","normal","northern","nosy","notable","novel","nuclear","numerous","nursing","nutritious","nutty","obedient","objective","obliged","obnoxious","obvious","occasional","occupational","odd","official","ok","okay","old","only","open","operational","opposite","optimistic","ordinary","organic","organisational","original","orthodox","other","outdoor","outer","outrageous","outside","outstanding","overall","overseas","overwhelming","painful","pale","panicky","parallel","parental","parliamentary","partial","particular","passing","passive","past","patient","payable","peaceful","peculiar","perfect","permanent","persistent","personal","petite","philosophical","physical","plain","planned","plastic","pleasant","pleased","poised","polite","poor","popular","positive","possible","potential","powerful","practical","precious","precise","preferred","pregnant","preliminary","premier","prepared","present","presidential","pretty","previous","prickly","primary","prime","principal","printed","prior","private","probable","productive","professional","profitable","profound","progressive","prominent","promising","proper","proposed","prospective","protective","proud","provincial","psychiatric","psychological","public","puny","pure","purring","puzzled","quaint","qualified","quarrelsome","querulous","quick","quickest","quiet","quintessential","quixotic","racial","radical","rainy","random","rapid","rare","raspy","rational","ratty","raw","ready","real","realistic","rear","reasonable","recent","reduced","redundant","regional","registered","regular","regulatory","related","relative","relaxed","relevant","reliable","relieved","religious","reluctant","remaining","remarkable","remote","renewed","representative","repulsive","required","resident","residential","resonant","respectable","respective","responsible","resulting","retail","retired","revolutionary","rich","ridiculous","right","rigid","ripe","rising","rival","roasted","robust","rolling","romantic","rotten","rough","round","royal","rubber","rude","ruling","running","rural","sacred","sad","safe","salty","satisfactory","satisfied","scared","scary","scattered","scientific","scornful","scrawny","screeching","secondary","secret","secure","select","selected","selective","selfish","semantic","senior","sensible","sensitive","separate","serious","severe","shaggy","shaky","shallow","shared","sharp","sheer","shiny","shivering","shocked","short","shrill","shy","sick","significant","silent","silky","silly","similar","simple","single","skilled","skinny","sleepy","slight","slim","slimy","slippery","slow","small","smart","smiling","smoggy","smooth","social","soft","solar","sole","solid","sophisticated","sore","sorry","sound","sour","southern","spare","sparkling","spatial","special","specific","specified","spectacular","spicy","spiritual","splendid","spontaneous","sporting","spotless","spotty","square","squealing","stable","stale","standard","static","statistical","statutory","steady","steep","sticky","stiff","still","stingy","stormy","straight","straightforward","strange","strategic","strict","striking","striped","strong","structural","stuck","subjective","subsequent","substantial","subtle","successful","successive","sudden","sufficient","suitable","sunny","super","superb","superior","supporting","supposed","supreme","sure","surprised","surprising","surrounding","surviving","suspicious","sweet","swift","symbolic","sympathetic","systematic","tall","tame","tart","tasteless","tasty","technical","technological","teenage","temporary","tender","tense","terrible","territorial","testy","then","theoretical","thick","thin","thorough","thoughtful","thoughtless","thundering","tight","tiny","tired","top","total","tough","toxic","traditional","tragic","tremendous","tricky","tropical","troubled","typical","ugliest","ugly","ultimate","unable","unacceptable","unaware","uncertain","unchanged","uncomfortable","unconscious","underground","underlying","unemployed","uneven","unexpected","unfair","unfortunate","unhappy","uniform","uninterested","unique","united","universal","unknown","unlikely","unnecessary","unpleasant","unsightly","unusual","unwilling","upper","upset","uptight","urban","urgent","used","useful","useless","usual","vague","valid","valuable","variable","varied","various","varying","vast","verbal","vertical","very","vicarious","vicious","victorious","violent","visible","visiting","visual","vital","vitreous","vivacious","vivid","vocal","vocational","voiceless","voluminous","voluntary","vulnerable","wandering","warm","wasteful","watery","weak","wealthy","weary","wee","weekly","weird","welcome","well","western","wet","whispering","whole","wicked","wide","widespread","wild","wilful","willing","willowy","wily","wise","wispy","wittering","witty","wonderful","wooden","working","worldwide","worried","worrying","worthwhile","worthy","written","wrong","xenacious","xenial","xenogeneic","xeric","xerothermic","yabbering","yammering","yappiest","yappy","yawning","yearling","yearning","yeasty","yelling","yelping","yielding","yodelling","young","youngest","youthful","ytterbic","yucky","yummy","zany","zealous","zeroth","zestful","zesty","zippy","zonal","zoophagous","zygomorphic","zygotic"],z_=["aardvark","aardwolf","albatross","alligator","alpaca","amphibian","anaconda","angelfish","anglerfish","ant","anteater","antelope","antlion","ape","aphid","armadillo","asp","baboon","badger","bandicoot","barnacle","barracuda","basilisk","bass","bat","bear","beaver","bedbug","bee","beetle","bird","bison","blackbird","boa","boar","bobcat","bobolink","bonobo","bovid","bug","butterfly","buzzard","camel","canid","canidae","capybara","cardinal","caribou","carp","cat","caterpillar","catfish","catshark","cattle","centipede","cephalopod","chameleon","cheetah","chickadee","chicken","chimpanzee","chinchilla","chipmunk","cicada","clam","clownfish","cobra","cockroach","cod","condor","constrictor","coral","cougar","cow","coyote","crab","crane","crawdad","crayfish","cricket","crocodile","crow","cuckoo","damselfly","deer","dingo","dinosaur","dog","dolphin","donkey","dormouse","dove","dragon","dragonfly","duck","eagle","earthworm","earwig","echidna","eel","egret","elephant","elk","emu","ermine","falcon","felidae","ferret","finch","firefly","fish","flamingo","flea","fly","flyingfish","fowl","fox","frog","galliform","gamefowl","gayal","gazelle","gecko","gerbil","gibbon","giraffe","goat","goldfish","goose","gopher","gorilla","grasshopper","grouse","guan","guanaco","guineafowl","gull","guppy","haddock","halibut","hamster","hare","harrier","hawk","hedgehog","heron","herring","hippopotamus","hookworm","hornet","horse","hoverfly","hummingbird","hyena","iguana","impala","jackal","jaguar","jay","jellyfish","junglefowl","kangaroo","kingfisher","kite","kiwi","koala","koi","krill","ladybug","lamprey","landfowl","lark","leech","lemming","lemur","leopard","leopon","limpet","lion","lizard","llama","lobster","locust","loon","louse","lungfish","lynx","macaw","mackerel","magpie","mammal","manatee","mandrill","marlin","marmoset","marmot","marsupial","marten","mastodon","meadowlark","meerkat","mink","minnow","mite","mockingbird","mole","mollusk","mongoose","monkey","moose","mosquito","moth","mouse","mule","muskox","narwhal","newt","nightingale","ocelot","octopus","opossum","orangutan","orca","ostrich","otter","owl","ox","panda","panther","parakeet","parrot","parrotfish","partridge","peacock","peafowl","pelican","penguin","perch","pheasant","pig","pigeon","pike","pinniped","piranha","planarian","platypus","pony","porcupine","porpoise","possum","prawn","primate","ptarmigan","puffin","puma","python","quail","quelea","quokka","rabbit","raccoon","rat","rattlesnake","raven","reindeer","reptile","rhinoceros","roadrunner","rodent","rook","rooster","roundworm","sailfish","salamander","salmon","sawfish","scallop","scorpion","seahorse","shark","sheep","shrew","shrimp","silkworm","silverfish","skink","skunk","sloth","slug","smelt","snail","snake","snipe","sole","sparrow","spider","spoonbill","squid","squirrel","starfish","stingray","stoat","stork","sturgeon","swallow","swan","swift","swordfish","swordtail","tahr","takin","tapir","tarantula","tarsier","termite","tern","thrush","tick","tiger","tiglon","toad","tortoise","toucan","trout","tuna","turkey","turtle","tyrannosaurus","unicorn","urial","vicuna","viper","vole","vulture","wallaby","walrus","warbler","wasp","weasel","whale","whippet","whitefish","wildcat","wildebeest","wildfowl","wolf","wolverine","wombat","woodpecker","worm","wren","xerinae","yak","zebra"],W_=["amaranth","amber","amethyst","apricot","aqua","aquamarine","azure","beige","black","blue","blush","bronze","brown","chocolate","coffee","copper","coral","crimson","cyan","emerald","fuchsia","gold","gray","green","harlequin","indigo","ivory","jade","lavender","lime","magenta","maroon","moccasin","olive","orange","peach","pink","plum","purple","red","rose","salmon","sapphire","scarlet","silver","tan","teal","tomato","turquoise","violet","white","yellow"],MF=null,PF=null,FF=null;class K_{static generate(e={}){let t=e.min||1,n=e.max||999;if(e.length){const r=Math.pow(10,e.length);return t=r/10,n=r-1,[`${Math.floor(Math.random()*(n-t))+t}`]}return[`${Math.floor(Math.random()*(n-t))+t}`]}}class Q_{constructor(e){this.loggerID=e}async commitAndPushChanges(e){const{repository:t,remote:n,baseRef:r}=e,a=await this.generateRandomBranchName(t,"copilot");try{return await t.createBranch(a,!0),await this.performCommit(a,t,"Checkpoint from VS Code for coding agent session"),await t.push(n.remoteName,a,!0),this.showBranchSwitchNotification(t,r,a),a}catch(o){throw await this.rollbackToOriginalBranch(t,r),y.error(`Failed to auto-commit and push pending changes: ${o}`,this.loggerID),new Error(G().l10n.t("Could not auto-push pending changes. Manually commit or stash your changes and try again. ({0})",o.message))}}async performCommit(e,t,n){var r;try{if(await t.commit(n,{all:!0}),((r=t.state.HEAD)==null?void 0:r.name)!==e||t.state.workingTreeChanges.length>0||t.state.indexChanges.length>0)throw new Error(G().l10n.t("Uncommitted changes still detected."))}catch{if(!await this.handleInteractiveCommit(t))throw new Error(G().l10n.t("Exclude your uncommitted changes and try again."))}}async handleInteractiveCommit(e){const t=G().l10n.t("Commit your changes to continue coding agent session. Close integrated terminal to cancel.");return G().window.withProgress({title:t,cancellable:!0,location:G().ProgressLocation.Notification},async(n,r)=>new Promise(a=>{var o;const d=(o=e.state.HEAD)==null?void 0:o.commit,S=G().window.createTerminal({name:"GitHub Coding Agent",cwd:e.rootUri.fsPath,message:`\x1B[1m${t}\x1B[0m`});S.show();let C=!1,$,Y,ne,le;const he=()=>{C||(C=!0,clearTimeout($),Y==null||Y.dispose(),ne==null||ne.dispose(),le==null||le.dispose(),S.dispose())};r&&(le=r.onCancellationRequested(()=>{he(),a(!1)})),Y=e.state.onDidChange(()=>{var ke;((ke=e.state.HEAD)==null?void 0:ke.commit)!==d&&(he(),a(!0))}),$=setTimeout(()=>{he(),a(!1)},5*60*1e3),ne=G().window.onDidCloseTerminal(ke=>{ke===S&&setTimeout(()=>{var pe;C||(he(),a(((pe=e.state.HEAD)==null?void 0:pe.commit)!==d))},1e3)})}))}showBranchSwitchNotification(e,t,n){var r;if(((r=e.state.HEAD)==null?void 0:r.name)!==t){const a=G().l10n.t("Swap back to '{0}'",t);G().window.showInformationMessage(G().l10n.t("Pending changes pushed to remote branch '{0}'.",n),a).then(async o=>{o===a&&await e.checkout(t)})}}async rollbackToOriginalBranch(e,t){var n;if(((n=e.state.HEAD)==null?void 0:n.name)!==t)try{await e.checkout(t)}catch(r){y.error(`Failed to checkout back to original branch '${t}': ${r}`,this.loggerID)}}async generateRandomBranchName(e,t){var n;const r=G().workspace.getConfiguration(Cr),a=r.get(kt),o=r.get(St);if(a===void 0||o===void 0)return`copilot/vscode${Date.now()}`;const d=a,S=[];for(const C of o)C.toLowerCase()==="adjectives"&&S.push(j_),C.toLowerCase()==="animals"&&S.push(z_),C.toLowerCase()==="colors"&&S.push(W_),C.toLowerCase()==="numbers"&&S.push(K_.generate({length:3}));if(S.length===0)return"";for(let C=0;C<5;C++){const $=`${t}/${V_({dictionaries:S,length:S.length,separator:d})}`,Y=await((n=e.getRefs)==null?void 0:n.call(e,{pattern:`refs/heads/${$}`}));if(!Y||Y.length===0)return $}return""}}function Y_(i,e){if(i.length>=Qo)return y.warn(`Truncation: Prompt length ${i.length} exceeds max of ${Qo}`),i=i.slice(-Qo),{problemStatement:i,isTruncated:!0};if(e&&i.length+e.length>=Qo){const t=Qo-i.length-2;return y.warn(`Truncation: Combined prompt and context length ${i.length+e.length} exceeds max of ${Qo}`),e=e.slice(-t),{problemStatement:i+(e?`

${e}`:""),isTruncated:!0}}return{problemStatement:i+(e?`

${e}`:""),isTruncated:!1}}function J_(i,e){const t=()=>{if(i)return i.length<=20?i:i.substring(0,20)+"..."},n=e==null?void 0:e.match(/TITLE: \s*(.*)/i);return n&&n[1]?n[1].trim():t()}function Z_(i){return s.l10n.t("Coding agent has begun work on **{0}** and will update this pull request as work progresses.",i||s.l10n.t("your request"))}const ff=new AbortController().signal,ng=new AbortController;ng.abort();const DF=ng.signal,IF=i=>{const e=new AbortController;if(!i)return e;if(i.aborted&&e.abort(),i!==ff){const t=new WeakRef(e);onAbort(i)(()=>{var n;return(n=t.deref())==null?void 0:n.abort()})}return e},X_=()=>{let i,e;const t=new Promise((n,r)=>{i=n,e=r});return{resolve:i,reject:e,promise:t}};class hf extends Error{constructor(e="Operation cancelled"){super(e),this.message=e,this.isTaskCancelledError=!0}}const rg={dispose:()=>{}};var ag;(function(i){i.once=(e,t)=>{let n=!1,r;return r=e(a=>{t(a),r?r.dispose():n=!0}),n?(r.dispose(),rg):r},i.toPromise=(e,t)=>t?t.aborted?Promise.reject(new hf):new Promise((n,r)=>{const a=e1(t)(()=>{o.dispose(),r(new hf)}),o=i.once(e,d=>{a.dispose(),n(d)})}):new Promise(n=>i.once(e,n))})(ag||(ag={}));const e1=i=>{const e=new t1;if(i.aborted)return e.emit(),e.addListener;const t=()=>{e.emit(),i.removeEventListener("abort",t)};return i.addEventListener("abort",t),e.addListener};class au{constructor(){this.addListener=e=>this.addListenerInner(e)}get size(){return this.listeners?typeof this.listeners=="function"?1:this.listeners.length:0}emit(e){if(this.listeners)if(typeof this.listeners=="function")this.listeners(e);else for(const t of this.listeners)t(e)}addListenerInner(e){return this.listeners?typeof this.listeners=="function"?this.listeners=[this.listeners,e]:this.listeners.push(e):this.listeners=e,{dispose:()=>this.removeListener(e)}}removeListener(e){if(!this.listeners)return;if(typeof this.listeners=="function"){this.listeners===e&&(this.listeners=void 0);return}const t=this.listeners.indexOf(e);t!==-1&&(this.listeners.length===2?this.listeners=t===0?this.listeners[1]:this.listeners[0]:this.listeners=this.listeners.slice(0,t).concat(this.listeners.slice(t+1)))}}class xF extends au{constructor(){super(...arguments),this.addListener=e=>{const t=this.addListenerInner(e);return this.lastValue&&e(this.lastValue.value),t}}get hasEmitted(){return!!this.lastValue}emit(e){this.lastValue={value:e},super.emit(e)}}class t1 extends au{constructor(){super(...arguments),this.addListener=e=>this.lastValue?(e(this.lastValue.value),rg):this.addListenerInner(e)}emit(e){this.lastValue={value:e},super.emit(e),this.listeners=void 0}}var sg=ti(65606);const i1=i=>{if("error"in i)throw i.error;return"success"in i?i.success:i.value},n1=()=>{if(typeof performance!="undefined"){const i=performance.now();return()=>performance.now()-i}else{const i=sg.hrtime.bigint();return()=>Number(sg.hrtime.bigint()-i)/1e6}};class Cd{constructor(e=()=>!1,t=()=>!1){this.errorFilter=e,this.resultFilter=t,this.successEmitter=new au,this.failureEmitter=new au,this.onSuccess=this.successEmitter.addListener,this.onFailure=this.failureEmitter.addListener}clone(){return new Cd(this.errorFilter,this.resultFilter)}async invoke(e,...t){const n=this.successEmitter.size||this.failureEmitter.size?n1():null;try{const r=await e(...t);return this.resultFilter(r)?(n&&this.failureEmitter.emit({duration:n(),handled:!0,reason:{value:r}}),{value:r}):(n&&this.successEmitter.emit({duration:n()}),{success:r})}catch(r){const a=r,o=this.errorFilter(a);if(n&&this.failureEmitter.emit({duration:n(),handled:o,reason:{error:a}}),!o)throw a;return{error:a}}}}class r1 extends Error{constructor(e,t){super(`Bulkhead capacity exceeded (0/${e} execution slots, 0/${t} available)`),this.isBulkheadRejectedError=!0}}class a1{constructor(e,t){this.capacity=e,this.queueCapacity=t,this.active=0,this.queue=[],this.onRejectEmitter=new au,this.executor=new Cd,this.onSuccess=this.executor.onSuccess,this.onFailure=this.executor.onFailure,this.onReject=this.onRejectEmitter.addListener}get executionSlots(){return this.capacity-this.active}get queueSlots(){return this.queueCapacity-this.queue.length}async execute(e,t=ff){if(t.aborted)throw new hf;if(this.active<this.capacity){this.active++;try{return await e({signal:t})}finally{this.active--,this.dequeue()}}if(this.queue.length<this.queueCapacity){const{resolve:n,reject:r,promise:a}=X_();return this.queue.push({signal:t,fn:e,resolve:n,reject:r}),a}throw this.onRejectEmitter.emit(),new r1(this.capacity,this.queueCapacity)}dequeue(){const e=this.queue.shift();e&&Promise.resolve().then(()=>this.execute(e.fn,e.signal)).then(e.resolve).catch(e.reject)}}class s1{constructor(){this.executor=new Cd,this.onSuccess=this.executor.onSuccess,this.onFailure=this.executor.onFailure}async execute(e,t=ff){return i1(await this.executor.invoke(e,{signal:t}))}}const Td=(i,e)=>e?t=>t instanceof i&&e(t):t=>t instanceof i,o1=()=>!0,su=()=>!1;class Wa{constructor(e){this.options=e}orType(e,t){const n=Td(e,t);return new Wa({...this.options,errorFilter:r=>this.options.errorFilter(r)||n(r)})}orWhen(e){return new Wa({...this.options,errorFilter:t=>this.options.errorFilter(t)||e(t)})}orWhenResult(e){return new Wa({...this.options,resultFilter:t=>this.options.resultFilter(t)||e(t)})}orResultType(e,t){const n=Td(e,t);return new Wa({...this.options,resultFilter:r=>this.options.resultFilter(r)||n(r)})}}const OF=new s1,LF=new Wa({errorFilter:o1,resultFilter:su});function UF(i,e){return new Wa({errorFilter:Td(i,e),resultFilter:su})}function BF(i){return new Wa({errorFilter:i,resultFilter:su})}function qF(i,e){return new Wa({errorFilter:su,resultFilter:Td(i,e)})}function $F(i){return new Wa({errorFilter:su,resultFilter:i})}function og(i,e=0){return new a1(i,e)}function HF(i){return(e,t,n)=>{const r=n.value;if(typeof r!="function")throw new Error(`Can only decorate functions with @cockatiel, got ${typeof r}`);n.value=function(...a){const o=a[a.length-1]instanceof AbortSignal?a.pop():void 0;return i.execute(d=>r.apply(this,[...a,d]),o)}}}function GF(i,e){return new TimeoutPolicy(i,typeof e=="string"?{strategy:e}:e)}function VF(...i){return{_altReturn:void 0,onFailure:i[0].onFailure,onSuccess:i[0].onSuccess,wrapped:i,execute(e,t){const n=(r,a)=>a===i.length?e(r):i[a].execute(o=>n({...r,...o},a+1),r.signal);return Promise.resolve(n({signal:t},0))}}}function jF(i,e){var t;return new RetryPolicy({backoff:e.backoff||new ConstantBackoff(0),maxAttempts:(t=e.maxAttempts)!=null?t:1/0},new ExecuteWrapper(i.options.errorFilter,i.options.resultFilter))}function zF(i,e){return new CircuitBreakerPolicy(e,new ExecuteWrapper(i.options.errorFilter,i.options.resultFilter))}function WF(i,e){return new FallbackPolicy(new ExecuteWrapper(i.options.errorFilter,i.options.resultFilter),typeof e=="function"?e:()=>e)}var l1=Object.defineProperty,u1=(i,e,t)=>e in i?l1(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t,Zo=(i,e,t)=>u1(i,typeof e!="symbol"?e+"":e,t);class mf extends f{constructor(e,t,n,r){super(),this._repository=e,this._upstream=t,this._into=n,this.push=r,Zo(this,"startingConflictsCount"),Zo(this,"_lastReportedRemainingCount"),Zo(this,"_onConflictCountChanged",new s.EventEmitter),Zo(this,"onConflictCountChanged",this._onConflictCountChanged.event),Zo(this,"_finishedCommit",new s.EventEmitter),Zo(this,"message"),this.startingConflictsCount=this.remainingConflicts.length,this._lastReportedRemainingCount=this.startingConflictsCount,this._repository.inputBox.value=this.message=`Merge branch '${this._upstream}' into ${this._into}`,this._watchForRemainingConflictsChange()}_watchForRemainingConflictsChange(){this._register(s.window.tabGroups.onDidChangeTabs(async e=>{e.closed.length>0&&(await this._repository.status(),this._reportProgress())})),this._register(this._repository.state.onDidChange(async()=>{this._reportProgress()}))}_reportProgress(){if(this._lastReportedRemainingCount===0)return;const e=this.remainingConflicts.length;this._lastReportedRemainingCount!==e&&(this._onConflictCountChanged.fire(this._lastReportedRemainingCount-e),this._lastReportedRemainingCount=e),this._lastReportedRemainingCount===0&&this.listenForCommit()}async listenForCommit(){let e;const t=await new Promise(n=>{var r;const a=(r=this._repository.state.HEAD)==null?void 0:r.commit;e=this._register(this._repository.state.onDidChange(()=>{var o;((o=this._repository.state.HEAD)==null?void 0:o.commit)!==a&&this._repository.state.indexChanges.length===0&&this._repository.state.mergeChanges.length===0&&n(!0)}))});e==null||e.dispose(),t&&this.push&&this._repository.push(),this._finishedCommit.fire(t)}get remainingConflicts(){return this._repository.state.mergeChanges}async closeMergeEditors(){for(const e of s.window.tabGroups.all)for(const t of e.tabs)t.input instanceof s.TabInputTextMerge&&s.window.tabGroups.close(t)}async abort(){this._repository.inputBox.value="";const e=this._register(this._repository.state.onDidChange(async()=>{this._repository.state.mergeChanges.length===0&&(await new Promise(t=>setTimeout(t,1e3)),this.closeMergeEditors(),e.dispose())}));await this._repository.mergeAbort(),this._finishedCommit.fire(!1)}async first(){this.remainingConflicts.length!==0&&(await ht.focusView("workbench.scm"),this._reportProgress(),await Promise.all(this.remainingConflicts.map(e=>ht.executeCommand("git.openMergeEditor",e.uri))))}static async begin(e,t,n,r){const a=new mf(e,t,n,r);if(a.remainingConflicts.length!==0)return a._register(new d1(a,e)),a.first(),a}finished(){return Me(this._finishedCommit.event)}}class d1 extends f{constructor(e,t){super(),this._conflictModel=e,this._repository=t,s.window.withProgress({location:s.ProgressLocation.Notification,cancellable:!0},async(n,r)=>{const a=o=>{n.report({message:s.l10n.t("Use the Source Control view to resolve conflicts, {0} of {0} remaining",this._conflictModel.remainingConflicts.length,this._conflictModel.startingConflictsCount),increment:o})};return a(0),new Promise(o=>{this._register(this._conflictModel.onConflictCountChanged(d=>{const S=d*(100/this._conflictModel.startingConflictsCount);a(S),this._conflictModel.remainingConflicts.length===0&&o(!0)})),this._register(r.onCancellationRequested(()=>{this._conflictModel.abort(),o(!1)}))})}).then(async n=>{if(n){const r=s.l10n.t("Commit"),a=s.l10n.t("Abort Merge");let o;this._conflictModel.push?o=s.l10n.t("All conflicts resolved. Commit and push the resolution to continue."):o=s.l10n.t("All conflicts resolved. Commit the resolution to continue.");const d=await s.window.showInformationMessage(o,r,a);d===r?await this._repository.commit(this._conflictModel.message):d===a&&await this._conflictModel.abort()}})}}var c1=Object.defineProperty,f1=(i,e,t)=>e in i?c1(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t,pf=(i,e,t)=>f1(i,typeof e!="symbol"?e+"":e,t);class h1 extends f{constructor(e){super(),this._conflictResolutionModel=e,pf(this,"_treeView"),pf(this,"_onDidChangeTreeData",this._register(new s.EventEmitter)),pf(this,"onDidChangeTreeData",this._onDidChangeTreeData.event),this._treeView=this._register(s.window.createTreeView("github:conflictResolution",{treeDataProvider:this})),this._register(this._conflictResolutionModel.onAddedResolution(()=>this._onDidChangeTreeData.fire())),ht.focusView("github:conflictResolution")}async getTreeItem(e){const t=s.Uri.from({path:e.conflict.prHeadFilePath,scheme:"conflictResolution"}),n=new s.TreeItem(t);return this._conflictResolutionModel.isResolved(e.conflict.prHeadFilePath)?(n.iconPath=new s.ThemeIcon("check"),n.command={command:"vscode.diff",arguments:[this._conflictResolutionModel.baseUri(e.conflict),this._conflictResolutionModel.mergeOutputUri(e.conflict),`Merge result for ${e.conflict.prHeadFilePath}`],title:s.l10n.t("View Merge Result")}):n.command={command:"pr.resolveConflict",title:s.l10n.t("Resolve Conflict"),arguments:[e.conflict]},n}async getChildren(e){if(e)return[];const t=new s.MarkdownString;t.isTrusted={enabledCommands:["pr.exitConflictResolutionMode","pr.completeMerge"]};let n=[];return this._conflictResolutionModel.isResolvable()?(this._conflictResolutionModel.areAllConflictsResolved?t.appendMarkdown(s.l10n.t(`All conflicts have been resolved.

[Complete merge](command:pr.completeMerge)

[Exit without merging](command:pr.exitConflictResolutionMode)`)):t.appendMarkdown(s.l10n.t("Resolve all conflicts or [exit conflict resolution mode](command:pr.exitConflictResolutionMode)")),n=Array.from(this._conflictResolutionModel.startingConflicts.values()).map(r=>({conflict:r}))):t.appendMarkdown(s.l10n.t(`Not all conflicts can be resolved here. Check out the pull request to manually resolve conflicts.

[Exit conflict resolution mode](command:pr.exitConflictResolutionMode)`)),this._treeView.message=t,n}}var m1=Object.defineProperty,p1=(i,e,t)=>e in i?m1(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t,Ad=(i,e,t)=>p1(i,typeof e!="symbol"?e+"":e,t);async function g1(i,e,t,n){let r="";return n||(r=await i.repository.show(t,s.Uri.joinPath(i.repository.rootUri,e).fsPath)),new TextEncoder().encode(r)}class lg{constructor(){Ad(this,"_onDidChangeFile",new s.EventEmitter),Ad(this,"onDidChangeFile",this._onDidChangeFile.event),Ad(this,"changedFiles",new Map),Ad(this,"_editableBranch")}set editableBranch(e){this.changedFiles.clear(),this._editableBranch=e}hasChanges(){return[...this.changedFiles.values()].some(e=>e.modified)}async tryReadFile(e,t){var n;return this.changedFiles.has(e.toString())||(!t||t.isEmpty)&&this.changedFiles.set(e.toString(),{file:new TextEncoder().encode(""),modified:!1}),(n=this.changedFiles.get(e.toString()))==null?void 0:n.file}writeFile(e,t,n){this.changedFiles.set(e.toString(),{file:t,modified:!0})}watch(e,t){return{dispose:()=>{}}}async stat(e){return{type:s.FileType.File,ctime:0,mtime:0,size:0,permissions:s.FilePermission.Readonly}}readDirectory(e){return[]}createDirectory(e){}delete(e,t){}rename(e,t,n){}}class ug extends lg{constructor(e){super(),this._gitHubRepositories=e}gitHubRepositoryForOwner(e){return e?this._gitHubRepositories.find(t=>ve(t.remote.owner,e)===0):this._gitHubRepositories[0]}set gitHubRepository(e){this._gitHubRepositories=[e]}async readFile(e){const t=Nf(e),n=await this.tryReadFile(e,t);if(n)return n;const r=this.gitHubRepositoryForOwner(t==null?void 0:t.owner);if(!r)throw new Error(`No GitHub repository found for owner ${t.owner}`);const a=await r.getFile(t.fileName,t.branch);return this.changedFiles.set(e.toString(),{file:a,modified:!1}),this.changedFiles.get(e.toString()).file}async applyChanges(e,t){const n=new Map;for(const[r,a]of this.changedFiles)a.modified&&n.set(s.Uri.parse(r).path,a.file);return this._gitHubRepositories[0].commit(t,e,n)}}class v1 extends lg{constructor(e){super(),this.folderRepositoryManager=e}async stat(e){var t,n;let r=0;const a=Nf(e);if(a!=null&&a.branch){const o=await this.folderRepositoryManager.repository.getBranch(a==null?void 0:a.branch);if(o.commit){const d=await this.folderRepositoryManager.repository.getCommit(o.commit);d&&(r=(n=(t=d.commitDate)==null?void 0:t.getTime())!=null?n:0)}}return{type:s.FileType.File,ctime:0,mtime:r,size:0,permissions:s.FilePermission.Readonly}}async readFile(e){const t=Nf(e);if(!t||t.isEmpty)return new TextEncoder().encode("");const n=await g1(this.folderRepositoryManager,t.fileName,t.branch,!!t.isEmpty);return this.changedFiles.set(e.toString(),{file:n,modified:!1}),this.changedFiles.get(e.toString()).file}async applyChanges(e){var t;if(this.folderRepositoryManager.repository.state.indexChanges.length>0||this.folderRepositoryManager.repository.state.workingTreeChanges.length>0)return s.window.showWarningMessage("Please commit or stash your other changes before applying these changes."),!1;const n=[];for(const[r,a]of this.changedFiles)if(a.modified){const o=s.Uri.joinPath(this.folderRepositoryManager.repository.rootUri,s.Uri.parse(r).path);await s.workspace.fs.writeFile(o,a.file),n.push(o.fsPath)}return await this.folderRepositoryManager.repository.add(n),await this.folderRepositoryManager.repository.commit(e),(t=this.folderRepositoryManager.repository.state.HEAD)!=null&&t.upstream?(await this.folderRepositoryManager.repository.push(this.folderRepositoryManager.repository.state.HEAD.upstream.remote,this.folderRepositoryManager.repository.state.HEAD.upstream.name),!0):!1}}var y1=Object.defineProperty,b1=(i,e,t)=>e in i?y1(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t,oo=(i,e,t)=>b1(i,typeof e!="symbol"?e+"":e,t);const dg=`<<<<<<< HEAD:file.txt
A
=======
B
>>>>>>> fa7472b59e45e5b86c985a175aac33af7a8322a3:file.txt`;class w1 extends f{constructor(e){super(),this._conflictResolutionModel=e,oo(this,"_createTime",0),oo(this,"_modifiedTimes",new Map),oo(this,"_mergedFiles",new Map),oo(this,"_onDidChangeFile",this._register(new s.EventEmitter)),oo(this,"onDidChangeFile",this._onDidChangeFile.event),this._createTime=new Date().getTime()}get mergeResults(){return this._mergedFiles}watch(e,t){return{dispose:()=>{}}}stat(e){var t,n,r;return{type:s.FileType.File,ctime:this._createTime,mtime:(t=this._modifiedTimes.get(e.path))!=null?t:0,size:(r=(n=this._mergedFiles.get(e.path))==null?void 0:n.length)!=null?r:0}}readDirectory(e){throw new Error("Method not implemented.")}createDirectory(e){throw new Error("Method not implemented.")}async readFile(e){return this._mergedFiles.has(e.path)||this.updateFile(e.path,On.Buffer.from(dg)),this._mergedFiles.get(e.path)}writeFile(e,t,n){this.updateFile(e.path,t)}delete(e,t){throw new Error("Method not implemented.")}rename(e,t,n){throw new Error("Method not implemented.")}updateFile(e,t){this._mergedFiles.set(e,t),this._modifiedTimes.set(e,new Date().getTime())}clear(){const e=[];for(const t of this._mergedFiles.keys())e.push({uri:s.Uri.from({scheme:this._conflictResolutionModel.mergeScheme,path:t}),type:s.FileChangeType.Changed}),this.updateFile(t,On.Buffer.from(dg));this._onDidChangeFile.fire(e)}dispose(){super.dispose(),this._mergedFiles.clear()}}class k1 extends f{constructor(e,t,n){super(),this._telemetry=e,this._conflictResolutionModel=t,this._githubRepositories=n,oo(this,"_mergeOutputProvider"),oo(this,"_onExitConflictResolutionMode",new s.EventEmitter),this._mergeOutputProvider=this._register(new w1(this._conflictResolutionModel))}async openConflict(e){const t=this._conflictResolutionModel.prHeadUri(e),n=this._conflictResolutionModel.baseUri(e),r={uri:t,title:s.l10n.t("Pull Request Head")},a={uri:n,title:s.l10n.t("{0} Branch",this._conflictResolutionModel.prBaseBranchName)},o=this._conflictResolutionModel.mergeBaseUri(e),d=this._conflictResolutionModel.mergeOutputUri(e),S={base:o,input1:r,input2:a,output:d};await ht.executeCommand("_open.mergeEditor",S)}register(){this._register(s.workspace.registerFileSystemProvider(Bt.GithubPr,new ug(this._githubRepositories),{isReadonly:!0})),this._register(s.workspace.registerFileSystemProvider(this._conflictResolutionModel.mergeScheme,this._mergeOutputProvider)),this._register(s.commands.registerCommand("pr.resolveConflict",e=>this.openConflict(e))),this._register(s.commands.registerCommand("pr.acceptMerge",async e=>this.acceptMerge(e))),this._register(s.commands.registerCommand("pr.exitConflictResolutionMode",async()=>{const e=s.l10n.t("Exit and lose changes");if(await s.window.showWarningMessage(s.l10n.t("Are you sure you want to exit conflict resolution mode? All changes will be lost."),{modal:!0},e)===e)return this.exitConflictResolutionMode(!1)})),this._register(s.commands.registerCommand("pr.completeMerge",async()=>this.exitConflictResolutionMode(!0))),this._register(new h1(this._conflictResolutionModel))}async acceptMerge(e){if(!(e instanceof s.Uri))return;const{activeTab:t}=s.window.tabGroups.activeTabGroup;if(!t||!(t.input instanceof s.TabInputTextMerge))return;if((await ht.executeCommand("mergeEditor.acceptMerge")).successful){const r=new TextDecoder().decode(this._mergeOutputProvider.mergeResults.get(e.path));this._conflictResolutionModel.addResolution(e.path.substring(1),r)}}async enterConflictResolutionMode(){this._telemetry.sendTelemetryEvent("pr.conflictResolution.start"),await ht.setContext(Ft.RESOLVING_CONFLICTS,!0),this.register(),this.openConflict(this._conflictResolutionModel.startingConflicts[0])}async exitConflictResolutionMode(e){this._telemetry.sendTelemetryEvent("pr.conflictResolution.exit",{allConflictsResolved:e.toString()}),this._mergeOutputProvider.clear(),await ht.setContext(Ft.RESOLVING_CONFLICTS,!1);const t=[];for(const n of s.window.tabGroups.all)for(const r of n.tabs)r.input instanceof s.TabInputTextMerge&&r.input.result.scheme===this._conflictResolutionModel.mergeScheme&&t.push(r);await s.window.tabGroups.close(t),this._onExitConflictResolutionMode.fire(e),this.dispose()}async enterConflictResolutionAndWaitForExit(){return await this.enterConflictResolutionMode(),Me(this._onExitConflictResolutionMode.event)}}var _1=Object.defineProperty,S1=(i,e,t)=>e in i?_1(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t,ou=(i,e,t)=>S1(i,typeof e!="symbol"?e+"":e,t);class E1{constructor(e,t,n,r,a,o,d,S){this.startingConflicts=e,this.repositoryName=t,this.prBaseOwner=n,this.latestPrBaseSha=r,this.prHeadOwner=a,this.prHeadBranchName=o,this.prBaseBranchName=d,this.prMergeBaseRef=S,ou(this,"_startingConflicts",new Map),ou(this,"_resolvedConflicts",new Map),ou(this,"_onAddedResolution",new s.EventEmitter),ou(this,"onAddedResolution",this._onAddedResolution.event),ou(this,"mergeScheme",`${Bt.MergeOutput}-${new Date().getTime()}`);for(const C of e)this._startingConflicts.set(C.prHeadFilePath,C)}isResolvable(){return Array.from(this._startingConflicts.values()).every(e=>!e.filePathConflict&&!e.modeConflict)}addResolution(e,t){this._resolvedConflicts.set(e,{prHeadFilePath:e,resolvedContents:t}),this._onAddedResolution.fire()}isResolved(e){if(!this._startingConflicts.has(e))throw new Error("Not a conflict file");return this._resolvedConflicts.has(e)}get areAllConflictsResolved(){return this._resolvedConflicts.size===this._startingConflicts.size}get resolvedConflicts(){if(this._resolvedConflicts.size!==this._startingConflicts.size)throw new Error("Not all conflicts have been resolved");return this._resolvedConflicts}mergeOutputUri(e){return s.Uri.parse(`${this.mergeScheme}:/${e.prHeadFilePath}`)}mergeBaseUri(e){const t=s.Uri.file(e.prHeadFilePath);return xs(t,Bt.GithubPr,{fileName:e.prHeadFilePath,branch:this.prMergeBaseRef,owner:this.prBaseOwner})}baseUri(e){const t=s.Uri.file(e.prHeadFilePath);return xs(t,Bt.GithubPr,{fileName:e.prHeadFilePath,branch:this.latestPrBaseSha,owner:this.prBaseOwner})}prHeadUri(e){const t=s.Uri.file(e.prHeadFilePath);return xs(t,Bt.GithubPr,{fileName:e.prHeadFilePath,branch:this.prHeadBranchName,owner:this.prHeadOwner})}}var R1=Object.defineProperty,N1=(i,e,t)=>e in i?R1(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t,C1=(i,e,t)=>N1(i,typeof e!="symbol"?e+"":e,t);const cg="github-pr-remote",fg="github-pr-owner-number",T1="github-pr-base-branch",A1="vscode-merge-base",hg=/branch\.(.+)\.github-pr-owner-number/,M1=/branch\.(.+)\.remote/,mg=class an{static async checkoutFromFork(e,t,n,r){const a=await an.calculateUniqueBranchNameForPR(e,t);n||(y.appendLine(`Branch ${a} is from a fork. Create a remote first.`,an.ID),r.report({message:s.l10n.t("Creating git remote for {0}",`${t.remote.owner}/${t.remote.repositoryName}`)}),n=await an.createRemote(e,t.remote,t.head.repositoryCloneUrl));const o=`${t.head.ref}:${a}`;y.debug(`Fetch ${n}/${t.head.ref}:${a} - start`,an.ID),r.report({message:s.l10n.t("Fetching branch {0}",o)}),await e.fetch(n,o),y.debug(`Fetch ${n}/${t.head.ref}:${a} - done`,an.ID),r.report({message:s.l10n.t("Checking out {0}",o)}),await e.checkout(a),await e.setBranchUpstream(a,`refs/remotes/${n}/${t.head.ref}`),await an.associateBranchWithPullRequest(e,t,a)}static async fetchAndCheckout(e,t,n,r){var a;if(!n.validatePullRequestModel("Checkout pull request failed"))return;const o=an.getHeadRemoteForPullRequest(t,n),d=n.head.repositoryCloneUrl.owner!==n.base.repositoryCloneUrl.owner;if(!o||d)return an.checkoutFromFork(e,n,o&&o.remoteName,r);const S=n.head.ref,C=o.remoteName;let $,Y=S;const ne=`refs/remotes/${C}/${S}`;y.appendLine(`Fetch tracked branch ${ne}`,an.ID),r.report({message:s.l10n.t("Fetching branch {0}",S)}),await e.fetch(C,S);const le=await e.getBranch(ne);try{if($=await e.getBranch(Y),$.commit!==le.commit){y.appendLine(`Local branch ${Y} commit ${$.commit} differs from remote commit ${le.commit}. Creating new branch to avoid overwriting user's work.`,an.ID);const he=await an.calculateUniqueBranchNameForPR(e,n);y.appendLine(`Creating branch ${he} for PR checkout`,an.ID),r.report({message:s.l10n.t("Creating branch {0} for pull request",he)}),await e.createBranch(he,!1,le.commit),await e.setBranchUpstream(he,ne),Y=he,$=await e.getBranch(Y)}if(((a=e.state.HEAD)==null?void 0:a.name)===$.name){y.appendLine(`Tried to checkout ${Y}, but branch is already checked out.`,an.ID);return}y.debug(`Checkout ${Y}`,an.ID),r.report({message:s.l10n.t("Checking out {0}",Y)}),await e.checkout(Y),$.upstream||await e.setBranchUpstream(Y,ne),$.behind!==void 0&&$.behind>0&&$.ahead===0&&(y.debug("Pull from upstream",an.ID),r.report({message:s.l10n.t("Pulling {0}",Y)}),await e.pull())}catch{y.appendLine(`Branch ${Y} doesn't exist on local disk yet. Creating from remote.`,an.ID),r.report({message:s.l10n.t("Creating and checking out branch {0}",Y)}),await e.createBranch(Y,!0,le.commit),await e.setBranchUpstream(Y,ne)}await an.associateBranchWithPullRequest(e,n,Y)}static async checkoutExistingPullRequestBranch(e,t,n){const r=an.buildPullRequestMetadata(t),a=await e.getConfigs(),o=S=>a.filter(({key:C})=>S===C).map(({value:C})=>C)[0],d=a.map(S=>{const C=hg.exec(S.key);return{branch:C&&C.length?C[1]:null,value:S.value}}).filter(S=>S.branch&&S.value===r);if(d&&d.length){const S=d[0].branch;n.report({message:s.l10n.t("Checking out branch {0}",S)}),await e.checkout(S);const C=s.workspace.getConfiguration(bt).get(Nn,"pull");if(C==="pull"||C==="pullAndMergeBase"||C==="pullAndUpdateBase"||C===!0){const Y=o(`branch.${S}.remote`),ne=o(`branch.${S}.merge`);n.report({message:s.l10n.t("Fetching branch {0}",S)}),await e.fetch(Y,ne)}const $=await e.getBranch(d[0].branch);return $.upstream===void 0?!1:($.behind!==void 0&&$.behind>0&&$.ahead===0&&(y.debug("Pull from upstream",an.ID),n.report({message:s.l10n.t("Pulling branch {0}",S)}),await e.pull()),!0)}else return!1}static async getBranchNRemoteForPullRequest(e,t){let n=null;try{const r=an.buildPullRequestMetadata(t),a=await e.getConfigs(),o=a.map(d=>{const S=hg.exec(d.key);return{branch:S&&S.length?S[1]:null,value:d.value}}).find(d=>!!d.branch&&d.value===r);if(o){n=o.branch;const d=`branch.${n}.remote`,S=a.filter(ne=>ne.key===d).map(ne=>ne.value);let C;S.length&&(C=S[0]);let $=!1;if(C){const ne=`remote.${C}.github-pr-remote`;a.filter(he=>he.key===ne&&he.value).length&&($=!0)}let Y;return $&&(Y=a.some(ne=>!!(M1.exec(ne.key)&&ne.key!==`branch.${n}.remote`&&ne.value===C))),{branch:n,remote:C,createdForPullRequest:$,remoteInUse:Y}}}catch(r){return n?{branch:n}:(y.error(`getBranchNRemoteForPullRequest failed ${r}`,an.ID),null)}return null}static async getEmail(e){try{const t=await e.getConfig("user.email");return t||await e.getGlobalConfig("user.email")}catch{return}}static buildPullRequestMetadata(e){return`${e.base.repositoryCloneUrl.owner}#${e.base.repositoryCloneUrl.repositoryName}#${e.number}`}static buildBaseBranchMetadata(e,t,n){return`${e}#${t}#${n}`}static parsePullRequestMetadata(e){if(e){const t=/(.*)#(.*)#(.*)/g.exec(e);if(t&&t.length===4){const[,n,r,a]=t;return{owner:n,repositoryName:r,prNumber:Number(a)}}}}static getMetadataKeyForBranch(e){return`branch.${e}.${fg}`}static async getMatchingPullRequestMetadataForBranch(e,t){try{const n=this.getMetadataKeyForBranch(t),a=(await e.getConfigs()).filter(o=>o.key===n).sort((o,d)=>d.value<o.value?1:-1);return an.parsePullRequestMetadata(a[0].value)}catch{return}}static async createRemote(e,t,n){y.appendLine(`create remote for ${n}.`,an.ID);const r=no(e);for(const o of r)if(new Br(o.url).equals(n))return o.remoteName;const a=an.getUniqueRemoteName(e,n.owner);return n.update({type:t.gitProtocol.type}),await e.addRemote(a,n.toString()),await e.setConfig(`remote.${a}.${cg}`,"true"),a}static async isRemoteCreatedForPullRequest(e,t){try{y.debug(`Check if remote '${t}' is created for pull request - start`,an.ID);const n=await e.getConfig(`remote.${t}.${cg}`);return y.debug(`Check if remote '${t}' is created for pull request - end`,an.ID),n==="true"}catch{return!1}}static async calculateUniqueBranchNameForPR(e,t){const n=`pr/${t.author.login}/${t.number}`;let r=n,a=1;for(;;)try{await e.getBranch(r),r=`${n}-${a++}`}catch{break}return r}static getUniqueRemoteName(e,t){let n=t,r=1;const a=no(e);for(;a.find(o=>o.remoteName===n);)n=`${t}${r++}`;return n}static getHeadRemoteForPullRequest(e,t){return e.find(n=>n.gitProtocol&&n.gitProtocol.owner.toLowerCase()===t.head.repositoryCloneUrl.owner.toLowerCase()&&n.gitProtocol.repositoryName.toLowerCase()===t.head.repositoryCloneUrl.repositoryName.toLowerCase())}static async associateBranchWithPullRequest(e,t,n){try{t&&y.appendLine(`associate ${n} with Pull Request #${t.number}`,an.ID);const r=`branch.${n}.${fg}`;t?await e.setConfig(r,an.buildPullRequestMetadata(t)):e.unsetConfig&&await e.unsetConfig(r)}catch{t&&y.error(`associate ${n} with Pull Request #${t.number} failed`,an.ID)}}static async associateBaseBranchWithBranch(e,t,n){try{const r=`branch.${t}.${T1}`;if(n)y.appendLine(`associate ${t} with base branch ${n.owner}/${n.repo}#${n.branch}`,an.ID),await e.setConfig(r,an.buildBaseBranchMetadata(n.owner,n.repo,n.branch));else if(e.unsetConfig){await e.unsetConfig(r);const a=`branch.${t}.${A1}`;await e.unsetConfig(a)}}catch{y.error(`associate ${t} with base branch ${n==null?void 0:n.owner}/${n==null?void 0:n.repo}#${n==null?void 0:n.branch} failed`,an.ID)}}};C1(mg,"ID","PullRequestGitHelper");let pr=mg;var P1=ti(65606);let pg=!1;const gg=class{static async getApiHost(i){const e=P1.env.GITHUB_TEST_SERVER;if(e){if(pg)return s.Uri.parse(e);const n=s.l10n.t("Yes");if(await s.window.showInformationMessage(s.l10n.t("The 'GITHUB_TEST_SERVER' environment variable is set to '{0}'. Use this as the GitHub API endpoint?",e),{modal:!0},n)===n)return pg=!0,s.Uri.parse(e)}const t=i instanceof s.Uri?i:s.Uri.parse(i.host);return t.authority==="github.com"?s.Uri.parse("https://api.github.com"):s.Uri.parse(`${t.scheme}://${t.authority}`)}static getApiPath(i,e){return(i instanceof s.Uri?i:s.Uri.parse(i.host)).authority==="github.com"?e:`/api/v3${e}`}},vg=void 0;var F1=Object.defineProperty,D1=(i,e,t)=>e in i?F1(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t,Md=(i,e,t)=>D1(i,typeof e!="symbol"?e+"":e,t);const Pd=class Nl{constructor(){Md(this,"_knownServers",new Map([...Array.from(Nl._githubDotComServers.keys()).map(e=>[e,En.GitHubDotCom]),...Array.from(Nl._gheServers.keys()).map(e=>[e,En.Enterprise])]))}static isGithubDotCom(e){return this._githubDotComServers.has(e)}static isNeverGitHub(e){return this._neverGitHubServers.has(e)}async isGitHub(e){var t;if(e===null)return En.None;const n=e.authority.toLowerCase();if(e.path.endsWith(".wiki")||n.match(/gist[.]github[.]com/))return En.None;if(Nl.isGithubDotCom(n))return En.GitHubDotCom;const r=Array.from(this._knownServers.keys()).find(C=>n.endsWith(C)),a=Vo();if(e.authority.toLowerCase()===(a==null?void 0:a.authority.toLowerCase())&&(!r||this._knownServers.get(r)===En.None))return En.Enterprise;if(r)return(t=this._knownServers.get(r))!=null?t:En.None;const[o,d]=await Nl.getOptions(e,"HEAD","/rate_limit");let S=En.None;try{const C=await _a()(o.toString(),d),$=[];C.headers.forEach((le,he)=>{$.push(he)}),y.debug(`All headers: ${$.join(", ")}`,"GitHubServer");const Y=C.headers.get("x-github-request-id"),ne=C.headers.get("x-github-enterprise-version");if(!Y&&!ne){const[le]=await Nl.getOptions(e,"HEAD","/status"),ke=await(await _a()(le.toString())).text();if(ke.startsWith("GitHub lives!"))S=En.Enterprise;else{y.appendLine(`Received fallback response from the server: ${ke}`,"GitHubServer");const pe=JSON.parse(ke);pe.documentation_url&&pe.documentation_url.startsWith("https://docs.github.com/enterprise")&&(S=En.Enterprise)}}else S=Y!=null?ne?En.Enterprise:En.GitHubDotCom:En.None;return S}catch(C){return y.warn(`No response from host ${e}: ${C.message}`,"GitHubServer"),S}finally{y.debug(`Host ${e} is associated with GitHub: ${S}`,"GitHubServer"),this._knownServers.set(n,S)}}static async getOptions(e,t="GET",n,r){const a={"user-agent":"GitHub VSCode Pull Requests"};r&&(a.authorization=`token ${r}`);const o=s.Uri.joinPath(await gg.getApiHost(e),gg.getApiPath(e,n)),d={hostname:o.authority,port:443,method:t,headers:a,agent:vg};return[o,d]}};Md(Pd,"_githubDotComServers",new Set().add("github.com").add("ssh.github.com")),Md(Pd,"_gheServers",new Set().add("ghe.com")),Md(Pd,"_neverGitHubServers",new Set().add("bitbucket.org").add("gitlab.com").add("codeberg.org"));let yg=Pd;var I1=Object.defineProperty,x1=(i,e,t)=>e in i?I1(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t,O1=(i,e,t)=>x1(i,typeof e!="symbol"?e+"":e,t);class gf{constructor(e,t,n,r,a,o,d){this.ref=e,this.label=t,this.sha=n,this.owner=a,this.name=o,this.isInOrganization=d,O1(this,"repositoryCloneUrl"),this.repositoryCloneUrl=new Br(r)}}function L1(i,e){var t;const n=e.repositoryCloneUrl.repositoryName.toLowerCase(),r=e.owner.toLowerCase();for(const a of i.state.remotes){const o=(t=a.fetchUrl)!=null?t:a.pushUrl;if(!o)continue;const d=Wo(a.name,o),S=d==null?void 0:d.owner.toLowerCase(),C=d==null?void 0:d.repositoryName.toLowerCase();if(S===r&&C===n)return a}}const vf="github.pullRequest.pullNotification.show",bg="github.pullRequest.repos",yf="github.pullRequest.previousCreateMethod",wg="github.pullRequest.lastUsedEmail",U1="github.pullRequest.branchesAssociatedWithPRs",bf="github.pullRequest.recentlyUsedBranches";function KF(i){i.globalState.setKeysForSync([vf])}var Fd;(i=>{async function e(){try{await s.commands.executeCommand("git.checkout")}catch{await s.commands.executeCommand("remoteHub.switchToBranch")}}i.checkout=e})(Fd||(Fd={}));var B1=Object.defineProperty,q1=(i,e,t)=>e in i?B1(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t,Vi=(i,e,t)=>q1(i,typeof e!="symbol"?e+"":e,t);async function $1(i){var e;const t=i.head;if(!t)throw new Error("No head found for pull request");const n=await i.getLatestBaseCommitSha(),r=i.base.owner,a=t.owner,o=t.ref,d=(await i.githubRepository.ensure()).remote.repositoryName,S=[];if(i.item.mergeable===Ln.Conflict){const C=await i.compareBaseBranchForMerge(a,o,r,n);if(i.item.mergeable===Ln.Conflict&&C.length>=300)return;const $=new Map;for(const ne of i.fileChanges.values())ne.previousFileName&&$.set(ne.previousFileName,ne);const Y=new Set(i.conflicts);for(const ne of C){const le=(e=i.fileChanges.get(ne.filename))!=null?e:$.get(ne.filename);if(le&&(Y.size===0||Y.has(le.fileName))){const he=le.fileName;let ke=!1,pe=!1,Ne=!1;ne.status==="modified"&&(ke=!0),(ne.previous_filename||le.previousFileName)&&(pe=!0),S.push({prHeadFilePath:he,contentsConflict:ke,filePathConflict:pe,modeConflict:Ne})}}}return new E1(S,d,r,n,a,o,i.base.ref,i.mergeBase)}class kg extends Error{constructor(e){super(),this.repository=e}get message(){return s.l10n.t("{0} has no GitHub remotes",this.repository.rootUri.toString())}}class H1 extends Error{constructor(e){super(),this.repository=e}get message(){return s.l10n.t("{0} has a detached HEAD (create a branch first)",this.repository.rootUri.toString())}}class G1 extends Error{constructor(e,t,n){super(),this.branchName=e,this.upstreamRef=t,this.problem=n}get message(){const{upstreamRef:{remote:e,name:t},branchName:n,problem:r}=this;return s.l10n.t("The upstream ref {0} for branch {1} {2}.",`${e}/${t}`,n,r)}}const _g="ReposManagerStateContext";var gr=(i=>(i.Initializing="Initializing",i.NeedsAuthentication="NeedsAuthentication",i.RepositoriesLoaded="RepositoriesLoaded",i))(gr||{}),V1=(i=>(i[i.PullRequest=0]="PullRequest",i[i.IssueSearch=1]="IssueSearch",i))(V1||{});const j1="templateBody",Sg=class Ob extends f{constructor(e,t,n,r,a,o,d,S){super(),this._id=e,this.context=t,this._repository=n,this.telemetry=r,this._git=a,this._credentialStore=o,this.createPullRequestHelper=d,this.themeWatcher=S,Vi(this,"_state","Initializing"),Vi(this,"_activePullRequest"),Vi(this,"_activeIssue"),Vi(this,"_githubRepositories"),Vi(this,"_allGitHubRemotes",[]),Vi(this,"_mentionableUsers"),Vi(this,"_fetchMentionableUsersPromise"),Vi(this,"_assignableUsers"),Vi(this,"_teamReviewers"),Vi(this,"_fetchAssignableUsersPromise"),Vi(this,"_fetchTeamReviewersPromise"),Vi(this,"_gitBlameCache",{}),Vi(this,"_githubManager"),Vi(this,"_repositoryPageInformation",new Map),Vi(this,"_addedUpstreamCount",0),Vi(this,"_onDidChangeActivePullRequest",this._register(new s.EventEmitter)),Vi(this,"onDidChangeActivePullRequest",this._onDidChangeActivePullRequest.event),Vi(this,"_onDidChangeActiveIssue",this._register(new s.EventEmitter)),Vi(this,"onDidChangeActiveIssue",this._onDidChangeActiveIssue.event),Vi(this,"_onDidLoadRepositories",this._register(new s.EventEmitter)),Vi(this,"onDidLoadRepositories",this._onDidLoadRepositories.event),Vi(this,"_onDidChangeRepositories",this._register(new s.EventEmitter)),Vi(this,"onDidChangeRepositories",this._onDidChangeRepositories.event),Vi(this,"_onDidChangeAssignableUsers",this._register(new s.EventEmitter)),Vi(this,"onDidChangeAssignableUsers",this._onDidChangeAssignableUsers.event),Vi(this,"_onDidChangeGithubRepositories",this._register(new s.EventEmitter)),Vi(this,"onDidChangeGithubRepositories",this._onDidChangeGithubRepositories.event),Vi(this,"_onDidChangePullRequestsEvents",[]),Vi(this,"_onDidChangeAnyPullRequests",this._register(new s.EventEmitter)),Vi(this,"onDidChangeAnyPullRequests",this._onDidChangeAnyPullRequests.event),Vi(this,"_onDidAddPullRequest",this._register(new s.EventEmitter)),Vi(this,"onDidAddPullRequest",this._onDidAddPullRequest.event),Vi(this,"_onDidDispose",this._register(new s.EventEmitter)),Vi(this,"onDidDispose",this._onDidDispose.event),Vi(this,"_sessionIgnoredRemoteNames",new Set),Vi(this,"_updatingRepositories"),Vi(this,"totalFetchedPages",new Map),Vi(this,"_updateMessageShown",!1),Vi(this,"_createGitHubRepositoryBulkhead",og(1,300)),this._githubRepositories=[],this._githubManager=new yg,this._register(s.workspace.onDidChangeConfiguration(async C=>{C.affectsConfiguration(`${bt}.${dn}`)&&await this.updateRepositories()})),this._register(o.onDidInitialize(()=>this.updateRepositories())),this._register({dispose:()=>c(this._onDidChangePullRequestsEvents)}),this.cleanStoredRepoState()}cleanStoredRepoState(){const e=new Date().valueOf()-2592e6,t=this.context.globalState.get(bg);if(t!=null&&t.repos){let n=!1;Object.keys(t.repos).forEach(r=>{var a;((a=t.repos[r].stateModifiedTime)!=null?a:0)<e&&(n=!0,delete t.repos[r])}),n&&this.context.globalState.update(bg,t)}}get id(){return`${Ob.ID}+${this._id}`}get gitHubRepositories(){return this._githubRepositories}async computeAllUnknownRemotes(){const t=(await Sp(this.repository)).filter(o=>o.host),n=await Promise.all(t.map(o=>this._githubManager.isGitHub(o.gitProtocol.normalizeUri()))).catch(o=>(y.error(`Resolving GitHub remotes failed: ${o}`,this.id),s.window.showErrorMessage(s.l10n.t("Resolving GitHub remotes failed: {0}",_e(o))),[])),r=[];let a=0;for(const o of t)n[a]===En.None&&r.push(o),a++;return r}async computeAllGitHubRemotes(){const t=(await Sp(this.repository)).filter(o=>o.host),n=await Promise.all(t.map(o=>this._githubManager.isGitHub(o.gitProtocol.normalizeUri()))).catch(o=>(y.error(`Resolving GitHub remotes failed: ${o}`,this.id),s.window.showErrorMessage(s.l10n.t("Resolving GitHub remotes failed: {0}",_e(o))),[])),r=[];let a=0;for(const o of t)n[a]!==En.None&&r.push(Is.remoteAsGitHub(o,n[a])),a++;return r}async getActiveGitHubRemotes(e){const t=s.workspace.getConfiguration(bt).get(dn);if(!t)return y.error("Unable to read remotes setting",this.id),Promise.resolve([]);const n=t.filter(r=>!e.some(a=>a.remoteName===r));return n.length===t.length?y.warn(`No remotes found. The following remotes are missing: ${n.join(", ")}`):y.debug(`Not all remotes found. The following remotes are missing: ${n.join(", ")}`,this.id),y.debug(`Displaying configured remotes: ${t.join(", ")}`,this.id),t.map(r=>e.find(a=>a.remoteName===r)).filter(r=>!!r&&!this._sessionIgnoredRemoteNames.has(r.remoteName))}get activeIssue(){return this._activeIssue}set activeIssue(e){this._activeIssue=e,this._onDidChangeActiveIssue.fire()}get activePullRequest(){return this._activePullRequest}set activePullRequest(e){var t;if(e===this._activePullRequest)return;const n=this._activePullRequest;this._activePullRequest&&(this._activePullRequest.isActive=!1),e&&(e.isActive=!0,(t=e.githubRepository.commentsHandler)==null||t.unregisterCommentController(e.number)),this._activePullRequest=e,this._onDidChangeActivePullRequest.fire({old:n,new:e})}get repository(){return this._repository}set repository(e){this._repository=e}get credentialStore(){return this._credentialStore}setFileViewedContext(){var e;const t=(e=this.activePullRequest)==null?void 0:e.getViewedFileStates();t?(ht.setContext(Ft.VIEWED_FILES,Array.from(t.viewed)),ht.setContext(Ft.UNVIEWED_FILES,Array.from(t.unviewed))):this.clearFileViewedContext()}clearFileViewedContext(){ht.setContext(Ft.VIEWED_FILES,[]),ht.setContext(Ft.UNVIEWED_FILES,[])}async loginAndUpdate(){if(!this._credentialStore.isAnyAuthenticated()){const e=new Promise(t=>{const n=this.onDidChangeRepositories(()=>{n.dispose(),t()})});await this._credentialStore.login(Ni.github),await e}}async getActiveRemotes(){this._allGitHubRemotes=await this.computeAllGitHubRemotes();const e=await this.getActiveGitHubRemotes(this._allGitHubRemotes);return e.length?(await s.commands.executeCommand("setContext","github:hasGitHubRemotes",!0),y.appendLine(`Found GitHub remote for folder ${this.repository.rootUri.fsPath}`,this.id),this._allGitHubRemotes.length>1&&await s.commands.executeCommand("setContext","github:hasMultipleGitHubRemotes",!0)):y.appendLine(`No GitHub remotes found for folder ${this.repository.rootUri.fsPath}`,this.id),e}async updateRepositories(e=!1){return this._updatingRepositories&&await this._updatingRepositories,this._updatingRepositories=this.doUpdateRepositories(e),this._updatingRepositories}checkForAuthMatch(e){let t=0,n=0;for(const a of e)a.githubServerType===En.GitHubDotCom?t++:a.githubServerType===En.Enterprise&&n++;let r=this._credentialStore.isAuthenticated(Ni.github)||this._credentialStore.isAuthenticated(Ni.githubEnterprise);return t>0&&this._credentialStore.isAuthenticated(Ni.github)||n>0&&this._credentialStore.isAuthenticated(Ni.githubEnterprise)||r&&(t>0||n>0)&&(r=!1),s.commands.executeCommand("setContext","github:authenticated",r),r}get state(){return this._state}set state(e){e!==this._state&&(this._state=e,this._onDidLoadRepositories.fire(e))}async doUpdateRepositories(e){if(this._git.state==="uninitialized")return y.appendLine("Cannot updates repositories as git is uninitialized",this.id),!1;const t=await this.getActiveRemotes(),n=this.checkForAuthMatch(t);if(this.credentialStore.isAnyAuthenticated()&&t.length===0){const C=await this.computeAllUnknownRemotes(),$=C.every(Y=>yg.isNeverGitHub(s.Uri.parse(Y.normalizedHost).authority));if(C.length>0&&$)return y.appendLine("No GitHub remotes found and all remotes are marked as never GitHub.",this.id),this.state="RepositoriesLoaded",!0}const r=[],a=[],o=[];this._githubRepositories.forEach(C=>o.push(C));const d=t.filter(C=>this._credentialStore.isAuthenticated(C.authProviderId));for(const C of d){const $=await this.createGitHubRepository(C,this._credentialStore);a.push($.resolveRemote()),r.push($)}const S=async C=>{for(const $ of C){this._sessionIgnoredRemoteNames.add($.remote.remoteName),this.removeGitHubRepository($.remote);const Y=r.indexOf($);Y>-1&&r.splice(Y,1)}};return Promise.all(a).then(async C=>{const $=[];for(let ne=0;ne<C.length;ne++)C[ne]||$.push(r[ne]);if($.length>0){const ne=await this._credentialStore.showSamlMessageAndAuth($.map(ke=>ke.remote.owner)),le=ne.canceled?[]:await Promise.all($.map(ke=>ke.resolveRemote())),he=ne.canceled?$:le.map((ke,pe)=>ke?void 0:$[pe]).filter(ke=>!!ke);if(he.length>0){if(he.length===r.length)return await s.window.showErrorMessage(s.l10n.t("SAML access was not provided. GitHub Pull Requests will not work."),{modal:!0}),this.dispose(),!0;await s.window.showErrorMessage(s.l10n.t("SAML access was not provided. Some GitHub repositories will not be available."),{modal:!0}),S(he)}}c(this._onDidChangePullRequestsEvents),this._githubRepositories=r;for(const ne of this._githubRepositories)this._onDidChangePullRequestsEvents.push(ne.onDidChangePullRequests(le=>this._onDidChangeAnyPullRequests.fire(le))),this._onDidChangePullRequestsEvents.push(ne.onDidAddPullRequest(le=>this._onDidAddPullRequest.fire(le)));o.filter(ne=>this._githubRepositories.indexOf(ne)<0).forEach(ne=>ne.dispose());const Y=o.length!==this._githubRepositories.length?this.gitHubRepositories.filter(ne=>!o.some(le=>le.remote.equals(ne.remote))):[];return Y.length>0&&this._onDidChangeGithubRepositories.fire(this._githubRepositories),this._githubRepositories.length&&Y.length>0&&await this.checkIfMissingUpstream()?(this.updateRepositories(e),!0):(this.activePullRequest&&this.getMentionableUsers(Y.length>0),this.getAssignableUsers(Y.length>0),n&&t.length?(this.state="RepositoriesLoaded",this.associateLocalBranchesWithPRsOnFirstActivation().catch(ne=>{y.error(`Failed to associate branches with PRs: ${ne}`,this.id)})):n||(this.state="NeedsAuthentication"),e||this._onDidChangeRepositories.fire({added:Y.length>0}),!0)})}async checkIfMissingUpstream(){var e;try{const n=await(await this.getOrigin()).getMetadata(),r=s.workspace.getConfiguration(bt);if(n.fork&&n.parent&&r.get(sn,"add")==="add"){const a=new Br(n.parent.git_url);if(!this._githubRepositories.some(d=>ve(d.remote.owner,a.owner)===0&&ve(d.remote.repositoryName,a.repositoryName)===0)){const S=!this.repository.state.remotes.some(C=>C.name==="upstream")?"upstream":(e=n.parent.owner)==null?void 0:e.login;if(S){if(this.gitHubRepositories[0].remote.gitProtocol.type===wp.SSH?await this.repository.addRemote(S,n.parent.ssh_url):await this.repository.addRemote(S,n.parent.clone_url),this._addedUpstreamCount++,this._addedUpstreamCount>1){const $=s.l10n.t("Set to `never`");s.window.showInformationMessage(s.l10n.t("An `upstream` remote has been added for this repository. You can disable this feature by setting `githubPullRequests.upstreamRemote` to `never`."),$).then(Y=>{Y===$&&r.update(sn,"never",s.ConfigurationTarget.Global)})}return!0}}}}catch(t){y.appendLine(`Missing upstream check failed: ${t}`,this.id)}return!1}getAllAssignableUsers(){if(this._assignableUsers){const e=[];return Object.keys(this._assignableUsers).forEach(t=>{e.push(...this._assignableUsers[t])}),e}}async getCachedFromGlobalState(e){y.appendLine(`Trying to use globalState for ${e}.`,this.id);const t=s.Uri.joinPath(this.context.globalStorageUri,e);let n;try{n=await s.workspace.fs.stat(t)}catch{}if(!n){y.appendLine(`GlobalState does not exist for ${e}.`,this.id);return}const r={};if((await Promise.all(this._githubRepositories.map(async o=>{const d=`${o.remote.owner}/${o.remote.repositoryName}.json`,S=s.Uri.joinPath(t,d);let C,$;try{C=await s.workspace.fs.readFile(S),$=JSON.parse(C.toString())}catch(Y){Y instanceof Error&&Y.message.includes("Unexpected non-whitespace character after JSON")&&y.error(`Error parsing ${e} cache for ${o.remote.remoteName}.`,this.id)}if(C&&C.toString())return r[o.remote.remoteName]=$!=null?$:[],!0}))).every(o=>o))return y.appendLine(`Using globalState ${e} for ${Object.keys(r).length}.`,this.id),r;y.appendLine(`No globalState for ${e}.`,this.id)}async saveInGlobalState(e,t){const n=s.Uri.joinPath(this.context.globalStorageUri,e);await Promise.all(this._githubRepositories.map(async r=>{const a=`${r.remote.owner}/${r.remote.repositoryName}.json`,o=s.Uri.joinPath(n,a);await s.workspace.fs.writeFile(o,new TextEncoder().encode(JSON.stringify(t[r.remote.remoteName])))}))}createFetchMentionableUsersPromise(){const e={};return new Promise(t=>{const n=this._githubRepositories.map(async r=>{const a=await r.getMentionableUsers();e[r.remote.remoteName]=a});Promise.all(n).then(()=>{this._mentionableUsers=e,this._fetchMentionableUsersPromise=void 0,this.saveInGlobalState("mentionableUsers",e).then(()=>t(e))})})}async getMentionableUsers(e){if(e&&delete this._mentionableUsers,this._mentionableUsers)return y.appendLine("Using in-memory cached mentionable users.",this.id),this._mentionableUsers;const t=await this.getCachedFromGlobalState("mentionableUsers");return this._fetchMentionableUsersPromise?this._fetchMentionableUsersPromise:(this._fetchMentionableUsersPromise=this.createFetchMentionableUsersPromise(),t!=null?t:this._fetchMentionableUsersPromise)}async getAssignableUsers(e){if(e&&delete this._assignableUsers,this._assignableUsers)return y.appendLine("Using in-memory cached assignable users.",this.id),this._assignableUsers;const t=await this.getCachedFromGlobalState("assignableUsers");if(!this._fetchAssignableUsersPromise){const n={},r=[];return this._fetchAssignableUsersPromise=new Promise(a=>{const o=this._githubRepositories.map(async d=>{const S=await d.getAssignableUsers();n[d.remote.remoteName]=S.sort(op),r.push(...S)});Promise.all(o).then(()=>{this._assignableUsers=n,this._fetchAssignableUsersPromise=void 0,this.saveInGlobalState("assignableUsers",n),a(n),this._onDidChangeAssignableUsers.fire(r)})}),t!=null?t:this._fetchAssignableUsersPromise}return this._fetchAssignableUsersPromise}async getTeamReviewers(e){if(e===tl.Force&&delete this._teamReviewers,this._teamReviewers)return y.appendLine("Using in-memory cached team reviewers.",this.id),this._teamReviewers;const t=e===tl.Force?void 0:await this.getCachedFromGlobalState("teamReviewers");if(t)return this._teamReviewers=t,t||{};if(!this._fetchTeamReviewersPromise){const n={};return this._fetchTeamReviewersPromise=new Promise(async r=>{var a;const o=new Map;for(const d of this._githubRepositories){if(!o.has(d.remote.owner))try{const C=await d.getOrgTeams(e);o.set(d.remote.owner,C)}catch{break}const S=(a=o.get(d.remote.owner))!=null?a:[];n[d.remote.remoteName]=S.filter(C=>C.repositoryNames.includes(d.remote.repositoryName)).sort(uk)}this._teamReviewers=n,this._fetchTeamReviewersPromise=void 0,this.saveInGlobalState("teamReviewers",n),r(n)})}return this._fetchTeamReviewersPromise}createFetchOrgProjectsPromise(){const e={};return new Promise(async t=>{var n;const r=new Map;for(const a of this._githubRepositories){if(!r.has(a.remote.owner))try{const o=await a.getOrgProjects();r.set(a.remote.owner,o)}catch{break}e[a.remote.remoteName]=(n=r.get(a.remote.owner))!=null?n:[]}await this.saveInGlobalState("orgProjects",e),t(e)})}async getOrgProjects(e){if(e)return this.createFetchOrgProjectsPromise();const t=await this.getCachedFromGlobalState("orgProjects");return t!=null?t:this.createFetchOrgProjectsPromise()}async getAllProjects(e,t){const n=!!(await e.getMetadata()).organization,[r,a]=await Promise.all([e.getProjects(),n?this.getOrgProjects(t):void 0]);return[...r!=null?r:[],...a?a[e.remote.remoteName]:[]]}async getOrgTeamsCount(e){return(await e.getMetadata()).organization?e.getOrgTeamsCount():0}async getPullRequestParticipants(e,t){return{participants:await e.getPullRequestParticipants(t),viewer:await this.getCurrentUser(e)}}async getGitHubRemotes(){const e=this._githubRepositories;if(!e||!e.length)return[];const t=e.map(a=>a.remote).flat(),n=await Promise.all(t.map(a=>this._githubManager.isGitHub(a.gitProtocol.normalizeUri()))).catch(a=>(y.error(`Resolving GitHub remotes failed: ${a}`,this.id),s.window.showErrorMessage(s.l10n.t("Resolving GitHub remotes failed: {0}",_e(a))),[])),r=t.map((a,o)=>Is.remoteAsGitHub(a,n[o]));return this.checkForAuthMatch(r)?r:[]}async getAllGitHubRemotes(){return await this.computeAllGitHubRemotes()}async getLocalPullRequests(){const e=this._githubRepositories;if(!e||!e.length||!this.repository.getRefs)return[];const t=(await this.repository.getRefs({pattern:"refs/heads/"})).filter(o=>o.name!==void 0).map(o=>o.name),n=[],r=100;for(let o=0;o<t.length;o+=r){const d=t.slice(o,o+r);n.push(d)}const a=[];for(const o of n)a.push(...await Promise.all(o.map(async d=>{const S=await pr.getMatchingPullRequestMetadataForBranch(this.repository,d);if(S){const{owner:C,prNumber:$}=S,Y=e.find(ne=>ne.remote.owner.toLocaleLowerCase()===C.toLocaleLowerCase());if(Y){const ne=await Y.getPullRequest($);if(ne)return ne.localBranchName=d,ne}}})));return a.filter(o=>o!==void 0)}async associateLocalBranchesWithPRsOnFirstActivation(){const e=`${U1}.${this.repository.rootUri.fsPath}`;if(this.context.globalState.get(e,!1)){y.debug("Branch association has already run for this workspace folder",this.id);return}y.appendLine("First activation: associating local branches with PRs",this.id);const n=this._githubRepositories;if(!n||!n.length||!this.repository.getRefs){y.debug("No GitHub repositories or getRefs not available, skipping branch association",this.id),await this.context.globalState.update(e,!0);return}try{const r=(await this.repository.getRefs({pattern:"refs/heads/",sort:"committerdate",count:10})).filter(S=>S.name!==void 0).map(S=>S.name);y.debug(`Found ${r.length} local branches to check`,this.id);const a=[],o=await Promise.all(r.map(async S=>{try{if(await pr.getMatchingPullRequestMetadataForBranch(this.repository,S))return!1;const $=await this.repository.getBranch(S);if(!$.upstream)return!1;const Y=$.upstream.remote,ne=$.upstream.name,le=n.find(pe=>pe.remote.remoteName===Y);if(!le)return!1;const he=await le.getMetadata();if(!(he!=null&&he.owner))return!1;const ke=await le.getPullRequestForBranch(ne,he.owner.login);return ke?(y.appendLine(`Found PR #${ke.number} for branch ${S}, associating...`,this.id),await pr.associateBranchWithPullRequest(this.repository,ke,S),!0):!1}catch(C){return y.debug(`Error checking branch ${S}: ${C}`,this.id),!1}}));a.push(...o);const d=a.filter(S=>S).length;y.appendLine(`Branch association complete: ${d} branches associated with PRs`,this.id)}catch(r){y.error(`Error during branch association: ${r}`,this.id)}finally{await this.context.globalState.update(e,!0)}}async getLabels(e,t){const n=e?e.githubRepository:this._githubRepositories.find(C=>C.remote.owner===(t==null?void 0:t.owner)&&C.remote.repositoryName===(t==null?void 0:t.repo));if(!n)throw new Error("No matching repository found for getting labels.");const{remote:r,octokit:a}=await n.ensure();let o=!1,d=1,S=[];do{const C=await a.call(a.api.issues.listLabelsForRepo,{owner:r.owner,repo:r.repositoryName,per_page:100,page:d});S=S.concat(C.data.map($=>{var Y;return{name:$.name,color:$.color,description:(Y=$.description)!=null?Y:void 0}})),S=S.sort(($,Y)=>$.name.localeCompare(Y.name)),o=!!C.headers.link&&C.headers.link.indexOf('rel="next"')>-1,d+=1}while(o);return S}async deleteLocalPullRequest(e,t){if(!e.localBranchName)return;await this.repository.deleteBranch(e.localBranchName,t);let n;try{n=await this.repository.getConfig(`branch.${e.localBranchName}.remote`)}catch{}if(!n)return;await pr.isRemoteCreatedForPullRequest(this.repository,n)&&((await this.repository.getConfigs()).some(({key:d,value:S})=>/^branch.*\.remote$/.test(d)&&S===n)||await this.repository.removeRemote(n)),this.telemetry.sendTelemetryEvent("branch.delete")}async fetchPagedData(e={fetchNextPage:!1},t,n=0,r=on.All,a){const o=n===0?this._githubRepositories.filter(pe=>this.repository.state.remotes.find(Ne=>Ne.name===pe.remote.remoteName)):this._githubRepositories;if(!o.length)return{items:[],hasMorePages:!1,hasUnsearchedRepositories:!1,totalCount:0};const d=()=>this.totalFetchedPages.get(t)||0,S=pe=>this.totalFetchedPages.set(t,pe);for(const pe of o){const Ne=pe.remote.url.toString()+t;this._repositoryPageInformation.get(Ne)||this._repositoryPageInformation.set(Ne,{pullRequestPage:0,hasMorePages:null})}let C=0;const $={hasMorePages:!1,items:[],totalCount:0},Y=pe=>{C++,pe&&($.items=$.items.concat(pe.items),$.hasMorePages=pe.hasMorePages,$.totalCount=pe.totalCount)},ne=await this.getActiveGitHubRemotes(this._allGitHubRemotes),le=s.workspace.getConfiguration(bt).inspect(dn),he=!!(le!=null&&le.globalValue||le!=null&&le.workspaceValue||le!=null&&le.workspaceFolderValue),ke=this._githubRepositories.filter(pe=>{if(!ne.find(Ce=>Ce.equals(pe.remote)))return!1;const Ne=this._repositoryPageInformation.get(pe.remote.url.toString()+t);return Ne&&(e.fetchNextPage===!1||Ne.hasMorePages!==!1)});for(let pe=0;pe<ke.length;pe++){const Ne=ke[pe],Ce=Ne.remote.url.toString()+t;let De=this._repositoryPageInformation.get(Ce);De||(y.warn(`No page information for ${Ce}`),De={pullRequestPage:0,hasMorePages:null},this._repositoryPageInformation.set(Ce,De));const He=De,Ke=async Et=>{const ki=a?io(a,void 0,{base:await Ne.getDefaultBranch(),owner:Ne.remote.owner,repo:Ne.remote.repositoryName}):void 0;switch(n){case 0:return r===on.All?Ne.getAllPullRequests(Et):this.getPullRequestsForCategory(Ne,ki||"",Et);case 1:return Ne.getIssues(He.pullRequestPage,ki)}};e.fetchNextPage?(He.pullRequestPage++,Y(await Ke(He.pullRequestPage)),S(d()+1)):(He.pullRequestPage===0&&(He.pullRequestPage=1),(await Promise.all(Array.from({length:He.pullRequestPage}).map((ki,Pi)=>Ke(Pi+1)))).forEach(ki=>Y(ki))),He.hasMorePages=$.hasMorePages;const Ge=$.items.length>0,je=e.fetchNextPage,nt=e.fetchNextPage===!1&&!e.fetchOnePagePerRepo&&C>=d();if(Ge&&(je||nt)&&!he)return d()===0&&S(C),{items:$.items,hasMorePages:He.hasMorePages,hasUnsearchedRepositories:pe<ke.length-1,totalCount:$.totalCount}}return{items:$.items,hasMorePages:$.hasMorePages,hasUnsearchedRepositories:!1,totalCount:$.totalCount}}async getPullRequestsForCategory(e,t,n){try{y.debug(`Fetch pull request category ${t} - enter`,this.id);const{octokit:r,query:a,schema:o}=await e.ensure();this.telemetry.sendTelemetryEvent("pr.search.category");const d=(await e.getAuthenticatedUser()).login,{data:S,headers:C}=await r.call(r.api.search.issuesAndPullRequests,{q:yk(d,t),per_page:Ug,advanced_search:"true",page:n||1}),$=S.items.map(async he=>{const ke=new Br(he.repository_url),pe=await this.createGitHubRepositoryFromOwnerName(ke.owner,ke.repositoryName),{data:Ne}=await a({query:o.PullRequest,variables:{owner:pe.remote.owner,name:pe.remote.repositoryName,number:he.number}});return{data:Ne,repo:pe}}),Y=!!C.link&&C.link.indexOf('rel="next"')>-1,ne=await Promise.all($),le=(await Promise.all(ne.map(async he=>he!=null&&he.data.repository?he.repo.createOrUpdatePullRequestModel(await iu(he.data.repository.pullRequest,he.repo),!0):(y.appendLine("Pull request doesn't appear to exist.",this.id),null)))).filter(he=>he!==null);return y.debug(`Fetch pull request category ${t} - done`,this.id),{items:le,hasMorePages:Y,totalCount:S.total_count}}catch(r){if(y.error(`Fetching pull request with query failed: ${r}`,this.id),r.status===404)s.window.showWarningMessage(`Fetching pull requests for remote ${e.remote.remoteName} with query failed, please check if the repo ${e.remote.owner}/${e.remote.repositoryName} is valid.`);else throw r}}isPullRequestAssociatedWithOpenRepository(e){const t=e.githubRepository.remote;return!!this.repository.state.remotes.find(r=>r.name===t.remoteName)}async getPullRequests(e,t={fetchNextPage:!1},n){const r=e.toString()+(n||"");return this.fetchPagedData(t,r,0,e,n)}async createMilestone(e,t){try{const{data:n}=await e.octokit.call(e.octokit.api.issues.createMilestone,{owner:e.remote.owner,repo:e.remote.repositoryName,title:t});return{title:n.title,dueOn:n.due_on,createdAt:n.created_at,id:n.node_id,number:n.number}}catch(n){s.window.showErrorMessage(s.l10n.t(`Failed to create a milestone
{0}`,_e(n)));return}}async getRepoForIssue(e){const t=new yd(e.repositoryName,e.repositoryUrl,new Br(e.repositoryUrl));return this.createGitHubRepository(t,this.credentialStore,!0,!0)}async getIssues(e,t={fetchNextPage:!1,fetchOnePagePerRepo:!1}){if(this.gitHubRepositories.length!==0)try{const n=await this.fetchPagedData(t,`issuesKey${e}`,1,on.All,e),r={items:[],hasMorePages:n.hasMorePages,hasUnsearchedRepositories:n.hasUnsearchedRepositories,totalCount:n.totalCount};for(const a of n.items){const o=await this.getRepoForIssue(a);r.items.push(new nr(this.telemetry,o,o.remote,a))}return r}catch(n){return y.error(`Error fetching issues with query ${e}: ${n instanceof Error?n.message:n}`,this.id),{hasMorePages:!1,hasUnsearchedRepositories:!1,items:[],totalCount:0}}}async getMaxIssue(){const e=await Promise.all(this._githubRepositories.map(n=>n.getMaxIssue()));let t=0;for(const n of e)n!==void 0&&(t=Math.max(t,n));return t}async getIssueTemplates(){const e="{docs,.github}/ISSUE_TEMPLATE/*.md",t="{docs,.github}/ISSUE_TEMPLATE/*.yml",[n,r]=await Promise.all([s.workspace.findFiles(new s.RelativePattern(this._repository.rootUri,e),null),s.workspace.findFiles(new s.RelativePattern(this._repository.rootUri,t),null)]);return[...n,...r]}async getPullRequestTemplateBody(e){try{const t=await this.getPullRequestTemplateWithCache(e);return t||this.getOwnerPullRequestTemplate(e)}catch(t){y.error(`Error fetching pull request template for ${e}: ${t instanceof Error?t.message:t}`,this.id)}}async getAllPullRequestTemplates(e){try{const t=this.gitHubRepositories.find(a=>a.remote.owner===e);if(!t)return;const n=await t.getPullRequestTemplates();if(n&&n.length>0)return n;const r=await this.createGitHubRepositoryFromOwnerName(e,".github");return r?r.getPullRequestTemplates():void 0}catch(t){y.error(`Error fetching pull request templates for ${e}: ${t instanceof Error?t.message:t}`,this.id);return}}async getPullRequestTemplateWithCache(e){const t=`${j1}+${this.repository.rootUri.toString()}`,n=this.getPullRequestTemplate(e).then(o=>(o?this.context.workspaceState.update(t,o):this.context.workspaceState.update(t,null),o)),r=this.context.workspaceState.keys().includes(t),a=this.context.workspaceState.get(t);if(r){if(a===null)return;if(a)return a}return n}async getOwnerPullRequestTemplate(e){const t=await this.createGitHubRepositoryFromOwnerName(e,".github");if(!t)return;const n=await t.getPullRequestTemplates();if(n&&(n==null?void 0:n.length)>0)return n[0]}async getPullRequestTemplate(e){const t=this.gitHubRepositories.find(r=>r.remote.owner===e);if(!t)return;const n=await t.getPullRequestTemplates();return n?n[0]:void 0}async getPullRequestDefaults(e){var t,n;if(!e&&!this.repository.state.HEAD)throw new H1(this.repository);const r=await this.getOrigin(e),a=await r.getMetadata(),o=(t=s.workspace.getConfiguration(bt).inspect(dn))==null?void 0:t.defaultValue,d=s.workspace.getConfiguration(bt).get(dn),S=!d||(o==null?void 0:o.every(($,Y)=>d[Y]===$)),C=a.fork&&a.parent&&S?a.parent:await(this.findRepo(Xo("upstream"))||r).getMetadata();return{owner:C.owner.login,repo:C.name,base:(n=cp())!=null?n:C.default_branch}}async getPullRequestDefaultRepo(){const e=await this.getPullRequestDefaults();return this.findRepo(t=>t.remote.owner===e.owner&&t.remote.repositoryName===e.repo)||this._githubRepositories[0]}async getMetadata(e){const t=this.findRepo(Xo(e));return t&&t.getMetadata()}async getHeadCommitMessage(){const{repository:e}=this;if(e.state.HEAD&&e.state.HEAD.commit){const{message:t}=await e.getCommit(e.state.HEAD.commit);return t}return""}async getTipCommitMessage(e){y.debug(`Git tip message for branch ${e} - enter`,this.id);const{repository:t}=this;let{commit:n}=await t.getBranch(e),r="",a=0;do{if(n){let o=await t.getCommit(n);if(o.parents.length<=1){r=o.message;break}else n=o.parents[0]}a++}while(r===""&&n&&a<5);return y.debug(`Git tip message for branch ${e} - done`,this.id),r}async getOrigin(e){if(!this._githubRepositories.length)throw new kg(this.repository);const t=e?e.upstream:this.upstreamRef;if(t){const a=this.findRepo(Xo(t.remote));if(!a){const o=(await this.getAllGitHubRemotes()).find(d=>d.remoteName===t.remote);if(o)return this.createAndAddGitHubRepository(o,this._credentialStore);throw y.error(`The remote '${t.remote}' is not a GitHub repository.`,this.id),new G1(this.repository.state.HEAD.name,t,"is not a GitHub repo")}return a}const[n,...r]=this._githubRepositories;return r.length&&(this.findRepo(Xo("origin"))||await this.findRepoAsync(z1))||n}findRepo(e){return this._githubRepositories.filter(e)[0]}findRepoAsync(e){return(async()=>{for(const t of this._githubRepositories)if(await e(t))return t})()}get upstreamRef(){const{HEAD:e}=this.repository.state;return e&&e.upstream}async createPullRequest(e){var t;const n=this._githubRepositories.find(a=>a.remote.owner===e.owner&&a.remote.repositoryName===e.repo);if(!n)throw new Error(`No matching repository ${e.repo} found for ${e.owner}`);let r;try{r=await n.createPullRequest(e);const a=e.head.indexOf(":"),o=e.head.slice(a+1);return await pr.associateBranchWithPullRequest(this._repository,r,o),this.telemetry.sendTelemetryEvent("pr.create.success",{isDraft:(e.draft||"").toString()}),r}catch(a){if(a.message.indexOf("No commits between ")>-1){if((t=this._repository.state.HEAD)!=null&&t.ahead){const o=s.l10n.t({message:"Push Commits",comment:"Pushes the local commits to the remote."});return await s.window.showInformationMessage(s.l10n.t(`There are no commits between '{0}' and '{1}'.

Do you want to push your local commits and create the pull request?`,e.base,e.head),{modal:!0},o)===o?(await this._repository.push(),this.createPullRequest(e)):void 0}if(this._repository.state.workingTreeChanges.length||this._repository.state.indexChanges.length){const o=s.l10n.t("Commit Changes");return await s.window.showInformationMessage(s.l10n.t(`There are no commits between '{0}' and '{1}'.

Do you want to commit your changes and create the pull request?`,e.base,e.head),{modal:!0},o)===o?(await this._repository.add(this._repository.state.indexChanges.map(S=>S.uri.fsPath)),await this.repository.commit(`${e.title}${e.body?`
${e.body}`:""}`),await this._repository.push(),this.createPullRequest(e)):void 0}}if(y.error(`Creating pull requests failed: ${a}`,this.id),this.telemetry.sendTelemetryErrorEvent("pr.create.failure",{isDraft:(e.draft||"").toString()}),r)return r;throw new Error(_e(a))}}async createIssue(e){try{const t=this._githubRepositories.find(o=>o.remote.owner===e.owner&&o.remote.repositoryName===e.repo);if(!t)throw new Error(`No matching repository ${e.repo} found for ${e.owner}`);await t.ensure();const{data:n}=await t.octokit.call(t.octokit.api.issues.create,e),r=Xm(n,t),a=new nr(this.telemetry,t,t.remote,r);return this.telemetry.sendTelemetryEvent("issue.create.success"),a}catch(t){y.error(` Creating issue failed: ${t}`,this.id),this.telemetry.sendTelemetryErrorEvent("issue.create.failure"),s.window.showWarningMessage(s.l10n.t("Creating issue failed: {0}",_e(t)))}}async assignIssue(e,t){try{const n=this._githubRepositories.find(a=>a.remote.owner===e.remote.owner&&a.remote.repositoryName===e.remote.repositoryName);if(!n)throw new Error(`No matching repository ${e.remote.repositoryName} found for ${e.remote.owner}`);await n.ensure();const r={assignees:[t],owner:e.remote.owner,repo:e.remote.repositoryName,issue_number:e.number};await n.octokit.call(n.octokit.api.issues.addAssignees,r),this.telemetry.sendTelemetryEvent("issue.assign.success")}catch(n){y.error(`Assigning issue failed: ${n}`,this.id),this.telemetry.sendTelemetryErrorEvent("issue.assign.failure"),s.window.showWarningMessage(s.l10n.t("Assigning issue failed: {0}",_e(n)))}}getCurrentUser(e){return e||(e=this.gitHubRepositories[0]),this._credentialStore.getCurrentUser(e.remote.authProviderId)}async deleteBranch(e){await e.githubRepository.deleteBranch(e)}async getBranchDeletionItems(){const e=await this.repository.getConfigs(),t=new Map;e.forEach(a=>{const o=a.key,d=/^branch\.(.*)\.(.*)$/.exec(o);if(d&&d.length===3){const S=d[1];t.has(S)||t.set(S,{});const C=t.get(S);if(d[2]==="remote"&&(C.remote=a.value),d[2]==="github-pr-owner-number"){const $=pr.parsePullRequestMetadata(a.value);C!=null&&C.metadata||(C.metadata=[]),$&&(C.metadata.find(ne=>ne.owner===$.owner&&ne.repositoryName===$.repositoryName&&ne.prNumber===$.prNumber)||C.metadata.push($))}t.set(S,C)}}),y.debug(`Found ${t.size} possible branches to delete`,this.id),y.trace(`Branches to delete: ${JSON.stringify(Array.from(t.keys()))}`,this.id);const n=[];t.forEach((a,o)=>{var d;if(a.metadata){const S=this.activePullRequest&&this.activePullRequest.base.repositoryCloneUrl,C=a.metadata.find($=>{var Y;return $.owner===(S==null?void 0:S.owner)&&$.repositoryName===(S==null?void 0:S.repositoryName)&&$.prNumber===((Y=this.activePullRequest)==null?void 0:Y.number)});C?(y.debug(`Skipping ${C.prNumber}, active PR is #${(d=this.activePullRequest)==null?void 0:d.number}`,this.id),y.trace(`Skipping active branch ${o}`,this.id)):n.push({label:`${o}`,picked:!1,metadata:a.metadata})}});const r=await Promise.all(n.map(async a=>((await Promise.all(a.metadata.map(async d=>{var S,C;const $=this._githubRepositories.find(he=>he.remote.owner.toLowerCase()===d.owner.toLowerCase()&&he.remote.repositoryName.toLowerCase()===d.repositoryName.toLowerCase());if(!$)return a;const{remote:Y,query:ne,schema:le}=await $.ensure();try{const{data:he}=await ne({query:le.PullRequestState,variables:{owner:Y.owner,name:Y.repositoryName,number:d.prNumber}});return d.isOpen=((S=he.repository)==null?void 0:S.pullRequest.state)==="OPEN",((C=he.repository)==null?void 0:C.pullRequest.state)!=="OPEN"}catch{}return!1}))).every(d=>d)&&(a.legacy=!0),a)));return r.forEach(a=>{a.metadata.length!==0&&(a.description=`${a.metadata[0].repositoryName}/${a.metadata[0].owner} ${a.metadata.map(o=>{const d=`#${o.prNumber}`;return o.isOpen?s.l10n.t("{0} is open",d):d}).join(", ")}`,a.legacy&&(a.picked=!0))}),r}gitRelativeRootPath(e){return W.relative(this._repository.rootUri.path,e).replace(/\\/g,"/")}async cleanupAfterPullRequest(e,t){var n;const r=await this.getPullRequestDefaults();if(e===r.base){y.debug("Not cleaning up default branch.",this.id);return}if(t.author.login===(await this.getCurrentUser()).login){y.debug("Not cleaning up user's branch.",this.id);return}const o=(n=(await this.repository.getBranch(e)).upstream)==null?void 0:n.remote;try{y.debug(`Cleaning up branch ${e}`,this.id),await this.repository.deleteBranch(e)}catch{return}if(!o)return;const d=await this.getDeleatableRemotes(void 0);d.has(o)&&d.get(o).createdForPullRequest&&(y.debug(`Cleaning up remote ${o}`,this.id),this.repository.removeRemote(o))}async getDeleatableRemotes(e){const t=await this.repository.getConfigs(),n=new Map;return t.forEach(r=>{const a=r.key;let o=/^branch\.(.*)\.(.*)$/.exec(a);if(o&&o.length===3){const d=o[1];if(o[2]==="remote"){const S=r.value;n.has(S)||n.set(S,{branches:new Set}),e!=null&&e.has(d)||n.get(S).branches.add(d)}}if(o=/^remote\.(.*)\.(.*)$/.exec(a),o&&o.length===3){const d=o[1];n.has(d)||n.set(d,{branches:new Set});const S=n.get(d);o[2]==="github-pr-remote"&&(S.createdForPullRequest=r.value==="true"),o[2]==="url"&&(S.url=r.value)}}),n}async getRemoteDeletionItems(e){const t=await this.getDeleatableRemotes(e),n=[];return t.forEach((r,a)=>{if(r.branches.size===0){let o=r.createdForPullRequest?"":s.l10n.t("Not created by GitHub Pull Request extension");r.url&&(o=o?`${o} ${r.url}`:r.url),n.push({label:a,description:o,picked:r.createdForPullRequest,remote:a})}}),n}async deleteBranches(e,t,n,r,a,o){const d=()=>{a++,n.report({message:s.l10n.t("Deleted {0} of {1} branches",a,r)})},S=async C=>{await pr.associateBaseBranchWithBranch(this.repository,C,void 0),await pr.associateBranchWithPullRequest(this.repository,void 0,C)};for(const C of e)await S(C.label);await Ze(e,5,async C=>{try{await this.repository.deleteBranch(C.label,!0),await pr.getMatchingPullRequestMetadataForBranch(this.repository,C.label)&&console.log(`Branch ${C.label} was not deleted`),d()}catch($){if(typeof $.stderr=="string"&&$.stderr.includes("not found"))t.add(C.label),d();else if(typeof $.stderr=="string"&&$.stderr.includes("unable to access")&&o)o.push(C);else throw $}}),o&&o.length&&await this.deleteBranches(o,t,n,r,a)}async deleteLocalBranchesNRemotes(){return new Promise(async e=>{const t=s.window.createQuickPick();t.canSelectMany=!0,t.ignoreFocusOut=!0,t.placeholder=s.l10n.t("Choose local branches you want to delete permanently"),t.show(),t.busy=!0;const n=await this.getBranchDeletionItems(),r=await this.getPullRequestDefaults();t.items=n,t.selectedItems=n.filter(o=>o.picked&&!(o.label===r.base&&o.metadata.find(d=>d.owner===r.owner&&d.repositoryName===r.repo))),t.busy=!1,n.length===0&&(t.canSelectMany=!1,t.items=[{label:s.l10n.t("No local branches to delete"),picked:!1}]);let a=!0;t.onDidAccept(async()=>{if(t.busy=!0,a){const o=t.selectedItems,d=new Set;o.length&&await s.window.withProgress({location:s.ProgressLocation.Notification,title:s.l10n.t("Cleaning up")},async C=>{try{await this.deleteBranches(o,d,C,o.length,0,[])}catch($){t.hide(),s.window.showErrorMessage(s.l10n.t("Deleting branches failed: {0} {1}",$.message,$.stderr))}}),a=!1;const S=await this.getRemoteDeletionItems(d);S&&S.length?(t.canSelectMany=!0,t.placeholder=s.l10n.t("Choose remotes you want to delete permanently"),t.items=S,t.selectedItems=S.filter(C=>C.picked)):t.hide()}else{const o=t.selectedItems;o.length&&await s.window.withProgress({location:s.ProgressLocation.Notification,title:s.l10n.t("Deleting {0} remotes...",o.length)},async()=>{await Ze(o,5,async d=>{await this.repository.removeRemote(d.label)})}),t.hide()}t.busy=!1}),t.onDidHide(()=>{e()})})}async revert(e,t,n,r){const a=this._githubRepositories.find(d=>d.remote.owner===e.remote.owner&&d.remote.repositoryName===e.remote.repositoryName);if(!a)throw new Error(`No matching repository ${e.remote.repositoryName} found for ${e.remote.owner}`);return await a.revertPullRequest(e.graphNodeId,t,n,r)}async getPullRequestRepositoryDefaultBranch(e){return await e.githubRepository.getDefaultBranch()}async getPullRequestRepositoryAccessAndMergeMethods(e){return await e.githubRepository.getRepoAccessAndMergeMethods()}async mergeQueueMethodForBranch(e,t,n){var r;return await((r=this.gitHubRepositories.find(a=>a.remote.owner===t&&a.remote.repositoryName===n))==null?void 0:r.mergeQueueMethodForBranch(e))}async fulfillPullRequestMissingInfo(e){try{if(!e.isResolved())return;y.debug("Fulfill pull request missing info - start",this.id);const t=e.githubRepository,{octokit:n,remote:r}=await t.ensure();if(!e.base){const{data:a}=await n.call(n.api.pulls.get,{owner:r.owner,repo:r.repositoryName,pull_number:e.number});e.update(od(a,t))}if(!e.mergeBase){const{data:a}=await n.call(n.api.repos.compareCommits,{repo:r.repositoryName,owner:r.owner,base:`${e.base.repositoryCloneUrl.owner}:${e.base.ref}`,head:`${e.head.repositoryCloneUrl.owner}:${e.head.ref}`});e.mergeBase=a.merge_base_commit.sha}}catch(t){s.window.showErrorMessage(s.l10n.t("Fetching Pull Request merge base failed: {0}",_e(t)))}y.debug("Fulfill pull request missing info - done",this.id)}async resolveItem(e,t){let n=this._githubRepositories.find(r=>r.remote.owner.toLowerCase()===e.toLowerCase()&&r.remote.repositoryName.toLowerCase()===t.toLowerCase());return n||(y.appendLine(`GitHubRepository not found: ${e}/${t}`,this.id),n=await this.createGitHubRepositoryFromOwnerName(e,t)),n}async resolveIssueOrPullRequest(e,t,n){let r=await this.resolveIssue(e,t,n,!0);return r||(r=await this.resolvePullRequest(e,t,n)),r}async resolvePullRequest(e,t,n,r=!1){const a=await this.resolveItem(e,t);if(y.trace(`Found GitHub repo for pr #${n}: ${a?"yes":"no"}`,this.id),a){const o=await a.getPullRequest(n,r);return y.trace(`Found GitHub pr repo for pr #${n}: ${o?"yes":"no"}`,this.id),o}}async resolveIssue(e,t,n,r=!1,a=!1){const o=await this.resolveItem(e,t);if(y.trace(`Found GitHub repo for issue #${n}: ${o?"yes":"no"}`,this.id),o){const d=await o.getIssue(n,r,a);return y.trace(`Found GitHub issue repo for issue #${n}: ${d?"yes":"no"}`,this.id),d}}async resolveUser(e,t,n){return y.debug(`Fetch user ${n}`,this.id),(await this.createGitHubRepositoryFromOwnerName(e,t)).resolveUser(n)}async getMatchingPullRequestMetadataForBranch(){return!this.repository||!this.repository.state.HEAD||!this.repository.state.HEAD.name?null:await pr.getMatchingPullRequestMetadataForBranch(this.repository,this.repository.state.HEAD.name)}async getMatchingPullRequestMetadataFromGitHub(e,t,n,r){try{return t?this.getMatchingPullRequestMetadataFromGitHubWithRemoteName(t,r):this.getMatchingPullRequestMetadataFromGitHubWithUrl(e,n,r)}catch(a){return y.error(`Unable to get matching pull request metadata from GitHub: ${a}`,this.id),null}}async getMatchingPullRequestMetadataFromGitHubWithUrl(e,t,n){var r,a;if(y.debug(`Searching GitHub for a PR with branch ${n} and remote ${t}`,this.id),!t)return null;const o=new Br(t);let d=this.findRepo(C=>ve(C.remote.owner,o.owner)===0&&ve(C.remote.repositoryName,o.repositoryName)===0);if(!d&&this.gitHubRepositories.length>0){const C=Wo(o.repositoryName,t,o);C&&(d=await this.createGitHubRepository(C,this.credentialStore,!0,!0))}const S=await this.doGetMatchingPullRequestMetadataFromGitHub(d,n);if(S&&e.upstream===void 0&&d&&e.name){const C=await pr.createRemote(this.repository,d==null?void 0:d.remote,o),$=`refs/remotes/${C}/${(r=S.model.head)==null?void 0:r.name}`;await this.repository.fetch({remote:C,ref:(a=S.model.head)==null?void 0:a.name}),await this.repository.setBranchUpstream(e.name,$)}return S}async getMatchingPullRequestMetadataFromGitHubWithRemoteName(e,t){var n;if(y.debug(`Searching GitHub for a PR with branch ${t} and remote ${e}`,this.id),!e)return null;let r=this.gitHubRepositories.find(a=>a.remote.remoteName===e);if(!r&&this.gitHubRepositories.length>0){const a=this.repository.state.remotes.find(C=>C.name===e),o=(n=a==null?void 0:a.fetchUrl)!=null?n:a==null?void 0:a.pushUrl;if(!o)return null;const d=new Br(o!=null?o:""),S=Wo(e,o,d);S&&(r=await this.createGitHubRepository(S,this.credentialStore,!0,!0))}return this.doGetMatchingPullRequestMetadataFromGitHub(r,t)}async doGetMatchingPullRequestMetadataFromGitHub(e,t){if(!e||!t)return null;const n=await(e==null?void 0:e.getMetadata());if(!(n!=null&&n.owner))return null;const r=this.gitHubRepositories.filter(a=>{var o,d,S;return n.fork?a.remote.owner===((d=(o=n.parent)==null?void 0:o.owner)==null?void 0:d.login)&&a.remote.repositoryName===n.parent.name:a.remote.owner===((S=n.owner)==null?void 0:S.login)&&a.remote.repositoryName===n.name});for(const a of r){const o=await a.getPullRequestForBranch(t,n.owner.login);if(o)return{owner:a.remote.owner,repositoryName:a.remote.repositoryName,prNumber:o.number,model:o}}return null}async checkoutExistingPullRequestBranch(e,t){return await pr.checkoutExistingPullRequestBranch(this.repository,e,t)}async getBranchNameForPullRequest(e){return await pr.getBranchNRemoteForPullRequest(this.repository,e)}async fetchAndCheckout(e,t){await pr.fetchAndCheckout(this.repository,this._allGitHubRemotes,e,t)}async checkout(e){return this.repository.checkout(e)}async tryMergeBaseIntoHead(e,t){var n;if(await this.isHeadUpToDateWithBase(e))return!0;const r=s.env.appHost==="vscode.dev"||s.env.appHost==="github.dev";if(!e.isActive||r){const d=await s.window.withProgress({location:s.ProgressLocation.Notification,title:s.l10n.t("Finding conflicts...")},()=>$1(e));if(d===void 0)return await s.window.showErrorMessage(s.l10n.t("Unable to resolved conflicts for this pull request. There are too many file changes."),{modal:!0,detail:r?void 0:s.l10n.t("Please check out the pull request to resolve conflicts.")}),!1;let S=!0;if(e.item.mergeable===Ln.Conflict){const C=await Promise.all([this.createGitHubRepositoryFromOwnerName(e.head.owner,e.head.repositoryCloneUrl.repositoryName),this.createGitHubRepositoryFromOwnerName(e.base.owner,e.base.repositoryCloneUrl.repositoryName)]),$=new k1(this.telemetry,d,C);S=await $.enterConflictResolutionAndWaitForExit(),$.dispose()}return S?e.updateBranch(d):!1}if(this.repository.state.workingTreeChanges.length>0||this.repository.state.indexChanges.length>0)return await s.window.showErrorMessage(s.l10n.t("The pull request branch cannot be updated when the there changed files in the working tree or index. Stash or commit all change and then try again."),{modal:!0}),!1;const a=(n=L1(this.repository,e.base))==null?void 0:n.name;if(!a)return!1;const o=`${a}/${e.base.ref}`;if(await s.window.withProgress({location:s.ProgressLocation.Notification},async d=>{d.report({message:s.l10n.t("Fetching branch {0}",o)}),await this.repository.fetch({ref:e.base.ref,remote:a}),d.report({message:s.l10n.t("Merging branch {0} into {1}",o,this.repository.state.HEAD.name)});try{await this.repository.merge(o)}catch(S){if(S.gitErrorCode!==oi.Conflict)throw S}}),e.item.mergeable===Ln.Conflict){const d=await mf.begin(this.repository,e.base.ref,this.repository.state.HEAD.name,t);await(d==null?void 0:d.finished()),d==null||d.dispose()}else await this.repository.push();return!0}async isHeadUpToDateWithBase(e){if(!e.head)return!1;const t=this._githubRepositories.find(o=>o.remote.owner===e.remote.owner&&o.remote.repositoryName===e.remote.repositoryName),n=`${e.head.owner}:${e.head.ref}`,r=`${e.base.owner}:${e.base.ref}`,a=await(t==null?void 0:t.compareCommits(r,n));return(a==null?void 0:a.behind_by)===0}async fetchById(e,t){const n=await e.getPullRequest(t);if(n)return n;s.window.showErrorMessage(s.l10n.t("Pull request number {0} does not exist in {1}",t,`${e.remote.owner}/${e.remote.repositoryName}`),{modal:!0})}async checkoutDefaultBranch(e,t){const n="AndPull",r=s.workspace.getConfiguration(bt).get(Di,Zi);let a=e,o;t&&r.startsWith(Ii)&&(a=t.base.ref,o=t.remote.remoteName),r.endsWith(n)?await this.checkoutDoneBranchAndPull(a,o):await this.checkoutDoneBranchOnly(a,o)}async checkoutDoneBranchAndPull(e,t){await this.checkoutDoneBranchOnly(e,t);try{(await this.repository.getBranch(e)).upstream&&(y.debug(`Pulling latest changes for branch ${e}`,this.id),await this.repository.pull())}catch(n){y.warn(`Failed to pull latest changes for branch ${e}: ${n}`,this.id)}}async fetchBranch(e,t){try{await this.repository.fetch({remote:t,ref:e}),await this.repository.createBranch(e,!1),await this.repository.setBranchUpstream(e,`refs/remotes/${t}/${e}`)}catch(n){y.error(`Failed to fetch branch ${e}: ${n}`,this.id),s.window.showErrorMessage(s.l10n.t("Failed to create branch {0}: {1}",e,_e(n)));return}}async checkoutDoneBranchOnly(e,t){var n,r,a,o,d,S;let C;try{C=await this.repository.getBranch(e)}catch($){(n=$.message)!=null&&n.includes("No such branch")&&t&&await this.fetchBranch(e,t)}try{if(C=await this.repository.getBranch(e),((r=this.repository.state.HEAD)==null?void 0:r.name)===C.name){const ne=s.l10n.t("Choose a Branch");s.window.showInformationMessage(s.l10n.t("The default branch is already checked out."),ne).then(le=>{if(le===ne)return Fd.checkout()});return}if(s.workspace.getConfiguration(Cr).get(as,!1)&&C.upstream)try{await this.repository.fetch({remote:C.upstream.remote,ref:`${C.upstream.name}:${C.name}`})}catch(ne){if((a=ne.stderr)!=null&&a.startsWith&&ne.stderr.startsWith("fatal: refusing to fetch into branch"))s.window.showErrorMessage(s.l10n.t("Unable to fetch the {0} branch. There is some state (bisect, unpushed commits, etc.) on {0} that is preventing the fetch.",[C.name]));else throw ne}C.upstream&&e===C.upstream.name?await this.repository.checkout(e):await Fd.checkout();const Y=[];for(const ne of s.window.tabGroups.all)for(const le of ne.tabs){let he;le.input instanceof s.TabInputText?he=le.input.uri:le.input instanceof s.TabInputTextDiff?he=le.input.original:le.input instanceof s.TabInputWebview&&(he=le.input.viewType),(he instanceof s.Uri&&he.scheme===Bt.Review||typeof he=="string"&&he.endsWith(uf))&&Y.push(s.window.tabGroups.close(le))}await Promise.all(Y)}catch($){if($.gitErrorCode&&$.gitErrorCode===oi.DirtyWorkTree){s.window.showErrorMessage(s.l10n.t("Your local changes would be overwritten by checkout, please commit your changes or stash them before you switch branches"));return}y.error(`Exiting failed: ${$}. Target branch ${e} used to find branch ${(o=C==null?void 0:C.name)!=null?o:"unknown"} with upstream ${(S=(d=C==null?void 0:C.upstream)==null?void 0:d.name)!=null?S:"unknown"}.`,this.id),s.window.showErrorMessage(`Exiting failed: ${$}`)}}async pullBranchConfiguration(){return this.context.globalState.get(vf,!1)&&(this.context.globalState.update(vf,!1),await s.workspace.getConfiguration(bt).update(ri,"never",s.ConfigurationTarget.Global)),s.workspace.getConfiguration(bt).get(ri,"prompt")}async pullBranch(e){var t;((t=this._repository.state.HEAD)==null?void 0:t.name)===e.name&&await this._repository.pull()}async promptPullBrach(e,t,n){if(!this._updateMessageShown||n){if(await e.copilotWorkingStatus()===Qa.InProgress)return;this._updateMessageShown=!0;const a=s.l10n.t("Pull"),o=s.l10n.t("Always Pull"),d=s.l10n.t("Never Show Again"),S=[a];n||S.push(o,d),await s.window.showInformationMessage(s.l10n.t("There are updates available for pull request {0}.",`${e.number}: ${e.title}`),{},...S)===a?(await this.pullBranch(t),this._updateMessageShown=!1):d?await s.workspace.getConfiguration(bt).update(ri,"never",s.ConfigurationTarget.Global):o&&(await s.workspace.getConfiguration(bt).update(ri,"always",s.ConfigurationTarget.Global),await this.pullBranch(t))}}async checkBranchUpToDate(e,t){var n,r;if(((n=this.activePullRequest)==null?void 0:n.id)!==e.id)return;const a=this._repository.state.HEAD;if(a){const o=a.upstream?a.upstream.remote:null,d=a.upstream?a.upstream.name:a.name;if(o){try{t&&s.workspace.getConfiguration(bt).get(ks,!0)&&await this._repository.fetch(o,d)}catch(C){C.stderr&&(C.stderr.startsWith("fatal: couldn't find remote ref")||C.stderr.includes("key_exchange_identification")||s.window.showErrorMessage(s.l10n.t("An error occurred when fetching the repository: {0}",C.stderr))),y.error(`Error when fetching: ${(r=C.stderr)!=null?r:C}`,this.id)}const S=await this.pullBranchConfiguration();if(a.behind!==void 0&&a.behind>0)switch(S){case"always":{const C=s.workspace.getConfiguration(Cr).get(Qe,!1);return C?this.promptPullBrach(e,a,C):this.pullBranch(a)}case"prompt":return this.promptPullBrach(e,a);case"never":return}}}}findExistingGitHubRepository(e){return this._githubRepositories.find(t=>t.remote.owner.toLowerCase()===e.owner.toLowerCase()&&t.remote.repositoryName.toLowerCase()===e.repositoryName.toLowerCase()&&(!e.remoteName||t.remote.remoteName===e.remoteName))}async createAndAddGitHubRepository(e,t,n){const r=this._id+this._githubRepositories.length*.1,a=new Qn(r,Is.remoteAsGitHub(e,await this._githubManager.isGitHub(e.gitProtocol.normalizeUri())),this.repository.rootUri,t,this.telemetry,n);return this._githubRepositories.push(a),a}removeGitHubRepository(e){const t=this._githubRepositories.findIndex(n=>n.remote.owner.toLowerCase()===e.owner.toLowerCase()&&n.remote.repositoryName.toLowerCase()===e.repositoryName.toLowerCase()&&(!e.remoteName||n.remote.remoteName===e.remoteName));t>-1&&this._githubRepositories.splice(t,1)}async createGitHubRepository(e,t,n,r=!1){return this._createGitHubRepositoryBulkhead.execute(async()=>{var a;return(a=this.findExistingGitHubRepository({owner:e.owner,repositoryName:e.repositoryName,remoteName:r?void 0:e.remoteName}))!=null?a:await this.createAndAddGitHubRepository(e,t,n)})}async createGitHubRepositoryFromOwnerName(e,t){var n,r;const a=this.findExistingGitHubRepository({owner:e,repositoryName:t});if(a)return a;const d=no(this.repository).find(C=>C.owner===e&&C.repositoryName===t),S=(n=d==null?void 0:d.url)!=null?n:`https://github.com/${e}/${t}`;return this.createAndAddGitHubRepository(new yd((r=d==null?void 0:d.remoteName)!=null?r:t,S,new Br(S)),this._credentialStore)}async findUpstreamForItem(e){let t,n;for(const a of this.gitHubRepositories){if(!t&&a.remote.owner===e.remote.owner&&a.remote.repositoryName===e.remote.repositoryName){t=a;continue}const o=await a.getRepositoryForkDetails();if(o&&o.isFork&&o.parent.owner.login===e.remote.owner&&o.parent.name===e.remote.repositoryName){const d=await a.getViewerPermission();if(d===pa.Admin||d===pa.Maintain||d===pa.Write){n=a.remote;break}}}let r=!1;if(t&&!n){const a=await e.githubRepository.getViewerPermission();(a===pa.Read||a===pa.Triage||a===pa.Unknown)&&(r=!0)}return{needsFork:r,upstream:t,remote:n}}async forkWithProgress(e,t,n,r){e.report({message:s.l10n.t("Forking {0}...",n)});const a=await t.fork();if(e.report({increment:50}),!a){s.window.showErrorMessage(s.l10n.t("Unable to create a fork of {0}. Check that your GitHub credentials are correct.",n));return}const o=r.state.remotes.length>1?"origin":r.state.remotes[0].name;e.report({message:s.l10n.t("Adding remotes. This may take a few moments.")});const d=this.gitHubRepositories.length;return await r.renameRemote(o,"upstream"),await r.addRemote(o,a),await new Promise(S=>{var C;if(this.gitHubRepositories.length===d&&((C=s.workspace.getConfiguration(bt).get(dn))!=null&&C.includes("upstream"))){const $=this.onDidChangeRepositories(()=>{this.gitHubRepositories.length>d&&($.dispose(),S())})}else S()}),e.report({increment:50}),o}async doFork(e,t,n){return s.window.withProgress({location:s.ProgressLocation.Notification,title:s.l10n.t("Creating Fork")},async r=>{try{return this.forkWithProgress(r,e,t,n)}catch(a){s.window.showErrorMessage(`Creating fork failed: ${a}`)}})}async tryOfferToFork(e){const t=`${e.remote.owner}/${e.remote.repositoryName}`,n=s.l10n.t("Fork"),r=s.l10n.t("Don't Fork");switch(await s.window.showInformationMessage(s.l10n.t("You don't have permission to push to {0}. Do you want to fork {0}? This will modify your git remotes to set `origin` to the fork, and `upstream` to {0}.",t),{modal:!0},n,r)){case n:return this.doFork(e,t,this.repository);case r:return!1;default:return}}async publishBranch(e,t){const n=await this.createGitHubRepository(e,this.credentialStore),r=await n.getViewerPermission();let a;if(r===pa.Read||r===pa.Triage||r===pa.Unknown){const o=await this.tryOfferToFork(n);if(!o)return;a=(await this.getGitHubRemotes()).find(d=>d.remoteName===o)}else a=(await this.getGitHubRemotes()).find(o=>o.remoteName===e.remoteName);if(a)try{return await this._repository.push(a.remoteName,t,!0),await this._repository.status(),a}catch(o){if(o.gitErrorCode===oi.PushRejected){s.window.showWarningMessage(s.l10n.t("Can't push refs to remote, try running 'git pull' first to integrate with your change"),{modal:!0});return}if(o.gitErrorCode===oi.RemoteConnectionError){s.window.showWarningMessage(s.l10n.t("Could not read from remote repository '{0}'. Please make sure you have the correct access rights and the repository exists.",a.remoteName),{modal:!0});return}throw o}}saveLastUsedEmail(e){return this.context.globalState.update(wg,e)}async getPreferredEmail(e){if(await this.credentialStore.getIsEmu(e.remote.authProviderId))return;const n=await e.githubRepository.getAuthenticatedUserEmails(),r=S=>S&&n.find(C=>C.toLowerCase()===S.toLowerCase()),a=await pr.getEmail(this.repository);let o=r(a);if(o)return o;const d=this.context.globalState.get(wg);return o=r(d),o||n[0]}getTitleAndDescriptionProvider(e){return this._git.getTitleAndDescriptionProvider(e)}getAutoReviewer(){return this._git.getReviewerCommentsProvider()}dispose(){this._onDidDispose.fire(),super.dispose()}};Vi(Sg,"ID","FolderRepositoryManager");let lo=Sg;function QF(i){switch(i){case"committed":return EventType.Committed;case"mentioned":return EventType.Mentioned;case"subscribed":return EventType.Subscribed;case"commented":return EventType.Commented;case"reviewed":return EventType.Reviewed;default:return EventType.Other}}const z1=async i=>i.isCurrentUser(i.remote.authProviderId,i.remote.owner),Xo=i=>({remote:{remoteName:e}})=>e===i;function W1(i){if(!i)return i;const e=/^[ \t]*([*+\-]|\d+\.)\s/,t=/^[ \t]*>/,n=/^[ \t]*```/,r=ke=>{var pe,Ne;return(Ne=(pe=ke.match(/^[ \t]*/))==null?void 0:pe[0].length)!=null?Ne:0},a=ke=>/ {2}$/.test(ke),o=(ke,pe)=>pe?ke.length>0&&!/\s$/.test(ke)?`${ke} ${pe}`:`${ke}${pe}`:ke,d=i.split(`
`),S=[];let C=0,$=!1;const Y=[],ne=ke=>{for(let pe=ke;pe<d.length;pe++){const Ne=d[pe];if(Ne.trim()!=="")return{line:Ne,indent:r(Ne),isListItem:e.test(Ne)}}},le=ke=>{for(let pe=Y.length-1;pe>=0;pe--){const Ne=Y[pe];if(ke>=Ne+2)return Y.length=pe+1,Ne;Y.pop()}},he=(ke,pe,Ne)=>{const Ce=d[ke];if(!Ce||!Ce.trim()||a(Ne)||a(Ce)||e.test(Ce)||t.test(Ce)||n.test(Ce))return!1;const He=r(Ce);if(He<pe+2||He>=pe+4)return!1;const Ke=ne(ke+1);return Ke?!(Ke.isListItem&&Ke.indent<=pe):!0};for(;C<d.length;){const ke=d[C];if(ke.trim()===""){S.push(ke),C++,Y.length=0;continue}if(n.test(ke)){$=!$,S.push(ke),C++;continue}if($){S.push(ke),C++;continue}const pe=r(ke);if(e.test(ke)){for(;Y.length&&pe<Y[Y.length-1];)Y.pop();!Y.length||pe>Y[Y.length-1]?Y.push(pe):Y[Y.length-1]=pe,S.push(ke),C++;continue}const Ce=le(pe),De=Ce!==void 0?Ce+4:4,He=t.test(ke),Ke=pe>=De;if(He||Ke){S.push(ke),C++;continue}if(Ce!==void 0&&pe>=Ce+2){const je=S.length-1;if(je>=0){let nt=S[je],Nt=!1,Et=C;for(;Et<d.length&&he(Et,Ce,nt);){const ki=d[Et].trim();ki&&(nt=o(nt,ki),Nt=!0),Et++}if(Nt){S[je]=nt,C=Et;continue}}S.push(ke),C++;continue}let Ge=ke;for(C++;C<d.length;){const je=d[C];if(je.trim()===""||n.test(je)||e.test(je)||t.test(je)||r(je)>=4)break;Ge+=" "+je,C++}S.push(Ge)}return S.join(`
`)}const K1=async i=>{const e=await i;if(!e)return;const t=e.indexOf(`
`),n=t!==-1,r=n?e.slice(t+1).trim():"";return{title:n?e.slice(0,t):e,body:W1(r)}};async function Ma(i,e,t){var n;if(i.length===0)return;if(i.length===1)return i[0];const r=i.map(a=>({...e(a),itemValue:a}));return(n=await s.window.showQuickPick(r,t))==null?void 0:n.itemValue}async function uo(i,e,t,n,r=!1){var a;const o=[],d=[];for(const C of t){const $=jr(C);e.has($)||(d.push(C),e.add($))}const S=await wr.avatarCirclesAsImageDataUris(i,d,16,16,r);for(let C=0;C<d.length;C++){const $=d[C];let Y;Po($)&&(Y=$.isAuthor&&$.isCommenter?s.l10n.t("Recently edited and reviewed changes to these files"):$.isAuthor?s.l10n.t("Recently edited these files"):$.isCommenter?s.l10n.t("Recently reviewed changes to these files"):s.l10n.t("Suggested reviewer")),o.push({label:Ar($)?`${$.org}/${$.slug}`:cn[$.login]?cn[$.login].name:$.login,description:$.name,user:$,picked:n,detail:Y,iconPath:(a=S[C])!=null?a:Q1($)})}return o}async function Eg(i,e,t,n,r,a){var o;const[d,S]=await Promise.all([i.getAssignableUsers(),r?i.getPullRequestParticipants(r.githubRepository,r.number):void 0]),C=S==null?void 0:S.viewer,$=(o=S==null?void 0:S.participants)!=null?o:[];let Y=d[t];Y=Y!=null?Y:[];const ne=new Set,le=[];if(n.length&&le.push(uo(i.context,ne,n!=null?n:[],!0)),C&&!ne.has(C.login)&&Y.findIndex(ke=>ke.login===C.login)!==-1&&le.push(uo(i.context,ne,[C],!1)),$.length&&le.push(uo(i.context,ne,$,!1)),le.length!==0&&le.unshift(Promise.resolve([{kind:s.QuickPickItemKind.Separator,label:s.l10n.t("Suggestions")}])),Y.length){const ke=Y.length>80;le.push(uo(i.context,ne,Y,!1,ke))}const he=(await Promise.all(le)).flat();if(he.length===0&&he.push({label:s.l10n.t("No assignees available for this repository")}),a){const ke=C!=null?C:await i.getCurrentUser(e);he.length!==0&&he.unshift({kind:s.QuickPickItemKind.Separator,label:s.l10n.t("Users")}),he.unshift({label:s.l10n.t("Assign yourself"),user:ke})}return he}function Q1(i){return Ar(i)?new s.ThemeIcon("organization"):new s.ThemeIcon("account")}async function Y1(i,e,t,n,r,a,o){var d,S;if(!a)return[];const C=await i.getAssignableUsers(),ne=[...(d=(t?await i.getTeamReviewers(o):[])[e])!=null?d:[]],le=(S=C[e])!=null?S:[];let he=!1;const ke=le.filter(He=>He.login===fr?(he=!0,!1):!0);ke&&ne.push(...ke);const pe=new Set([n.login]),Ne=[];r.length&&Ne.push(uo(i.context,pe,r.map(He=>He.reviewer),!0)),he&&!r.find(He=>He.reviewer.login===ed)&&ne.push(Lm),Ne.push(uo(i.context,pe,a,!1));const Ce=ne.length>60;Ne.push(uo(i.context,pe,ne,!1,Ce));const De=(await Promise.all(Ne)).flat();return De.length===0&&De.push({label:s.l10n.t("No reviewers available for this repository")}),De}async function Rg(i,e,t,n,r,a,o){const d=s.window.createQuickPick(),S=100,C=s.l10n.t("Add reviewers");d.busy=!0,d.canSelectMany=!0,d.matchOnDescription=!0,d.placeholder=C,t&&(d.buttons=[{iconPath:new s.ThemeIcon("organization"),tooltip:s.l10n.t("Show or refresh team reviewers")}]),d.show();const $=async Y=>{const ne=setTimeout(()=>{d.placeholder=s.l10n.t("Getting team reviewers can take several minutes. Results will be cached.")},3e3),le=performance.now();d.items=await Y1(i,e,t,r,a,o,Y),y.appendLine(`Setting quick pick reviewers took ${performance.now()-le}ms`,"QuickPicks"),clearTimeout(ne),d.selectedItems=d.items.filter(he=>he.picked),d.placeholder=C};return await $(n!==0&&n<=S?tl.Try:tl.None),d.onDidTriggerButton(()=>{d.busy=!0,d.ignoreFocusOut=!0,$(tl.Force).then(()=>{d.ignoreFocusOut=!1,d.busy=!1})}),d}function J1(i){return!!i.id&&!!i.project}async function Ng(i,e,t,n){try{let r=[];async function a(){const d=await i.getAllProjects(e);return!d||!d.length?[{label:s.l10n.t("No projects created for this repository.")}]:d.map(C=>{const $={iconPath:new s.ThemeIcon("github-project"),label:C.title,id:C.id,project:C};return t&&t.find(Y=>Y.id===C.id)&&r.push($),$})}const o=s.window.createQuickPick();o.busy=!0,o.canSelectMany=!0,o.title=s.l10n.t("Set projects"),o.ignoreFocusOut=!0,o.show(),o.items=await a(),o.ignoreFocusOut=!1,o.items.length===1&&(o.canSelectMany=!1),o.selectedItems=r,o.busy=!1,i.getOrgProjects(!0),o.onDidAccept(async()=>{o.hide();const d=o.selectedItems.map(S=>J1(S)?S.project:void 0).filter(S=>S!==void 0);d&&await n(d)})}catch(r){s.window.showErrorMessage(`Failed to add project: ${_e(r)}`)}}function Z1(i){return!!i.id&&!!i.milestone}async function Cg(i,e,t,n){try{const r={label:s.l10n.t("Remove Milestone")};let a;async function o(){var S;const C=(S=await e.getMilestones())==null?void 0:S.sort((Y,ne)=>Y.dueOn&&ne.dueOn?new Date(Y.dueOn).getTime()-new Date(ne.dueOn).getTime():Y.dueOn?-1:ne.dueOn?1:Y.title.localeCompare(ne.title));if(!C||!C.length)return[{label:s.l10n.t("No milestones created for this repository.")}];const $=C.map(Y=>{const ne={iconPath:new s.ThemeIcon("milestone"),label:Y.title,id:Y.id,milestone:Y};return t&&t.id===Y.id&&(a=ne),ne});return t&&($.unshift({label:"Milestones",kind:s.QuickPickItemKind.Separator}),$.unshift(r)),$}const d=s.window.createQuickPick();d.busy=!0,d.canSelectMany=!1,d.title=s.l10n.t("Set milestone"),d.buttons=[{iconPath:new s.ThemeIcon("add"),tooltip:"Create"}],d.onDidTriggerButton(S=>{d.hide();const C=s.window.createInputBox();C.title=s.l10n.t("Create new milestone"),C.placeholder=s.l10n.t("New milestone title"),d.value!==""&&(C.value=d.value),C.show(),C.onDidAccept(async()=>{if(C.hide(),C.value!==""){if(C.value.length>255){s.window.showErrorMessage(s.l10n.t("Failed to create milestone: The title can contain a maximum of 255 characters"));return}for(const $ of d.items)if($.label===C.value){s.window.showErrorMessage(s.l10n.t("Failed to create milestone: The milestone '{0}' already exists",C.value));return}try{const $=await i.createMilestone(e,C.value);$!==void 0&&await n($)}catch($){s.window.showErrorMessage(`Failed to create milestone: ${_e($)}`)}}})}),d.show(),d.items=await o(),d.activeItems=a?[a]:t?[d.items[1]]:[d.items[0]],d.busy=!1,d.onDidAccept(async()=>{d.hide();const S=d.selectedItems[0];S&&Z1(S)?await n(S.milestone):S&&S===r&&await n(void 0)})}catch(r){s.window.showErrorMessage(`Failed to add milestone: ${_e(r)}`)}}async function Tg(i,e,t,n){await Ms(i.context);const r=(await i.getLabels(void 0,{owner:t,repo:n})).map(o=>({...o,displayName:Bo(o.name)})),a=r.map(o=>{var d;return{label:o.displayName,name:o.name,description:(d=o.description)!=null?d:void 0,picked:e.some(S=>S.name===o.name),iconPath:wr.asImageDataURI(On.Buffer.from(`<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
				<rect x="2" y="2" width="12" height="12" rx="6" fill="#${o.color}"/>
				</svg>`,"utf8"))}}).sort((o,d)=>o.picked===d.picked?o.label.localeCompare(d.label):o.picked?-1:1);return{newLabels:r,labelPicks:a}}async function X1(i,e){async function t(){return(await i.getAuthenticatedUserEmails()).map(a=>({label:a,picked:a.toLowerCase()===e.toLowerCase()}))}const n=await s.window.showQuickPick(t(),{canPickMany:!1,title:s.l10n.t("Choose an email")});return n?n.label:void 0}function eS(i,e,t){const n=`${e}/${t}`;return i.context.workspaceState.get(bf,{branches:{}}).branches[n]||[]}async function Ag(i,e,t,n,r){let a;n?a=await i.listBranches(i.remote.owner,i.remote.repositoryName,r):a=(await e.repository.getBranches({remote:!1})).filter($=>$.name);const o=a.map($=>typeof $=="string"?$:$.name);let d=[],S=o;n&&(d=eS(e,i.remote.owner,i.remote.repositoryName),S=o.filter(Y=>!d.includes(Y)));const C=[];return d.length>0&&(C.push({kind:s.QuickPickItemKind.Separator,label:s.l10n.t("Recently Used")}),d.forEach($=>{C.push({iconPath:new s.ThemeIcon("git-branch"),label:$,remote:{owner:i.remote.owner,repositoryName:i.remote.repositoryName},branch:$})})),S.length>0&&(C.push({kind:s.QuickPickItemKind.Separator,label:d.length>0?s.l10n.t("All Branches"):`${i.remote.owner}/${i.remote.repositoryName}`}),S.forEach($=>{C.push({iconPath:new s.ThemeIcon("git-branch"),label:$,remote:{owner:i.remote.owner,repositoryName:i.remote.repositoryName},branch:$})})),t&&C.unshift({iconPath:new s.ThemeIcon("repo"),label:t}),C}var tS=Object.defineProperty,iS=(i,e,t)=>e in i?tS(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t,qr=(i,e,t)=>iS(i,typeof e!="symbol"?e+"":e,t);const Dd=G().l10n.t("Learn about coding agent"),nS=G().l10n.t("Continue"),Mg=G().l10n.t("Include changes"),rS=G().l10n.t("Ignore changes"),Pg=G().l10n.t("Continue and don't ask again"),Fg=G().l10n.t("Continue with truncation"),Dg=G().l10n.t("The agent will work asynchronously to create a pull request with your requested changes."),Ig=G().l10n.t("Disable Code Lens"),xg="@copilot",aS=G().l10n.t("Created from VS Code via the [GitHub Pull Request](https://marketplace.visualstudio.com/items?itemName=GitHub.vscode-pull-request-github) extension."),el="PREFERRED_GITHUB_CODING_AGENT_REMOTE";var lu;(i=>{const e="pull-session-by-index";function t(r,a){return G().Uri.from({scheme:ww,path:`/${e}-${r}-${a}`})}i.getResource=t;function n(r){const a=r.path.match(new RegExp(`^/${e}-(\\d+)-(\\d+)$`));if(a)return{prNumber:parseInt(a[1],10),sessionIndex:parseInt(a[2],10)}}i.parse=n})(lu||(lu={}));const Og=class yi extends f{constructor(e,t,n,r,a,o){super(),this.credentialStore=e,this.repositoriesManager=t,this.telemetry=n,this.context=r,this.gitAPI=a,this.prsTreeModel=o,qr(this,"_onDidChangeStates",this._register(new(G()).EventEmitter)),qr(this,"onDidChangeStates",this._onDidChangeStates.event),qr(this,"_onDidChangeNotifications",this._register(new(G()).EventEmitter)),qr(this,"onDidChangeNotifications",this._onDidChangeNotifications.event),qr(this,"_onDidCreatePullRequest",this._register(new(G()).EventEmitter)),qr(this,"onDidCreatePullRequest",this._onDidCreatePullRequest.event),qr(this,"_onDidChangeChatSessions",this._register(new(G()).EventEmitter)),qr(this,"onDidChangeChatSessions",this._onDidChangeChatSessions.event),qr(this,"_onDidCommitChatSession",this._register(new(G()).EventEmitter)),qr(this,"onDidCommitChatSession",this._onDidCommitChatSession.event),qr(this,"gitOperationsManager"),qr(this,"_isAssignable"),qr(this,"_copilotApiPromise"),qr(this,"_repoManagerInitializationPromise"),this.gitOperationsManager=new Q_(yi.ID),this._register(this.credentialStore.onDidChangeSessions(d=>{d.provider.id==="github"&&(this._copilotApiPromise=void 0)})),this._register(new P_(this.repositoriesManager,this.prsTreeModel)),this._register(this.prsTreeModel.onDidChangeCopilotStates(()=>{this._onDidChangeStates.fire(),this._onDidChangeChatSessions.fire()})),this._register(this.prsTreeModel.onDidChangeCopilotNotifications(d=>this._onDidChangeNotifications.fire(d))),this._register(this.repositoriesManager.onDidChangeFolderRepositories(d=>{d.added&&this._register(d.added.onDidChangeAssignableUsers(()=>{this.updateAssignabilityContext()})),this.updateAssignabilityContext()})),this.repositoriesManager.folderManagers.forEach(d=>{this._register(d.onDidChangeAssignableUsers(()=>{this.updateAssignabilityContext()}))}),this._register(G().workspace.onDidChangeConfiguration(d=>{d.affectsConfiguration(Jt)&&this.updateAssignabilityContext()})),this.updateAssignabilityContext()}async chatParticipantImpl(e,t,n,r){var a;const o=async(S,C,$,Y)=>{var ne,le,he;this.telemetry.sendTelemetryEvent("copilot.remoteagent.editor.invoke",{promptLength:(ne=C.length.toString())!=null?ne:"0",historyLength:(le=$==null?void 0:$.length.toString())!=null?le:"0",referencesCount:(he=Y==null?void 0:Y.length.toString())!=null?he:"0",source:S});const ke=await this.invokeRemoteAgent(C,[this.extractFileReferences(Y),$].join(`

`).trim(),r,!1,n);if(ke.state!=="success"){y.error(`Failed to provide new chat session item: ${ke.error}${ke.innerError?`
Inner Error: ${ke.innerError}`:""}`,yi.ID),n.warning(ke.error);return}return ke.number},d=async()=>{var S,C,$,Y;const ne=[];ne.push(...(C=(S=e.acceptedConfirmationData)==null?void 0:S.map(le=>({step:le.step,accepted:!0,metadata:le==null?void 0:le.metadata})))!=null?C:[]),ne.push(...(($=e.rejectedConfirmationData)!=null?$:[]).filter(le=>!ne.some(he=>he.step===le.step)).map(le=>({step:le.step,accepted:!1,metadata:le==null?void 0:le.metadata})));for(const le of ne)switch(le.step){case"create":if(!le.accepted)return n.markdown(G().l10n.t("Coding agent request cancelled.")),{};const{prompt:he,history:ke,references:pe}=le.metadata,Ne=await o("chat",he,ke,pe);if(!Ne)return{};const Ce=await this.findPullRequestById(Ne,!0);if(!Ce)return n.warning(G().l10n.t("Could not find the associated pull request {0} for this chat session.",Ne)),{};const De=await vo({owner:Ce.remote.owner,repo:Ce.remote.repositoryName,pullRequestNumber:Ce.number}),He=ro(Ce.body,{renderer:new so(!0),smartypants:!0}).trim(),Ke=new(G()).ChatResponsePullRequestPart(De,Ce.title,He,(Y=Ce.author.specialDisplayName)!=null?Y:Ce.author.login,`#${Ce.number}`);n.push(Ke),n.markdown(G().l10n.t("GitHub Copilot coding agent has begun working on your request. Follow its progress in the associated chat and pull request.")),G().commands.executeCommand("vscode.open",G().Uri.from({scheme:fr,path:"/"+Ne}),{viewColumn:G().ViewColumn.Active});break;default:n.warning(`Unknown confirmation step: ${le.step}

`);break}return{}};if(e.acceptedConfirmationData||e.rejectedConfirmationData)return await d();if((a=t.chatSessionContext)!=null&&a.isUntitled){const S=await o("untitledChatSession",e.prompt,void 0,e.references);if(!S)return{};const C={resource:G().Uri.from({scheme:fr,path:"/"+S}),label:`Pull Request ${S}`};this._onDidCommitChatSession.fire({original:t.chatSessionContext.chatSessionItem,modified:C})}else if(t.chatSessionContext)try{if(r.isCancellationRequested)return{};const S=e.prompt;if(!S||S.trim().length===0)return n.markdown(G().l10n.t("Please provide a message for the coding agent.")),{};n.progress(G().l10n.t("Preparing"));const C=await this.findPullRequestById(parseInt(t.chatSessionContext.chatSessionItem.resource.path.slice(1),10),!0);if(!C)return n.warning(G().l10n.t("Could not find the associated pull request {0} for this chat session.",t.chatSessionContext.chatSessionItem.resource.toString())),{};n.progress(G().l10n.t("Delegating request to coding agent"));const $=await this.addFollowUpToExistingPR(C.number,S);if(!$)return n.markdown(G().l10n.t("Failed to add follow-up comment to the pull request.")),{};n.markdown($),n.markdown(`

`),n.progress(G().l10n.t("Attaching to session"));const Y=await this.waitForNewSession(C,n,r,!0);return Y?(n.markdown(G().l10n.t("Coding agent has begun work on your request")),n.markdown(`

`),await this.streamSessionLogs(n,C,Y.id,r),{}):{}}catch(S){return y.error(`Error in request handler: ${S}`,yi.ID),n.markdown(G().l10n.t("An error occurred while processing your request.")),{errorDetails:{message:S.message}}}else n.confirmation(G().l10n.t("Delegate to agent"),Dg,{step:"create",metadata:{prompt:e.prompt,history:void 0,references:e.references}},["Delegate","Cancel"])}get copilotApi(){return this._copilotApiPromise||(this._copilotApiPromise=this.initializeCopilotApi()),this._copilotApiPromise}async initializeCopilotApi(){return await Mp(this.credentialStore,this.telemetry)}get enabled(){return za.getEnabled()}get autoCommitAndPushEnabled(){return za.getAutoCommitAndPushEnabled()}async waitRepoManagerInitialization(){if(!(this.repositoriesManager.state===gr.RepositoriesLoaded||this.repositoriesManager.state===gr.NeedsAuthentication))return this._repoManagerInitializationPromise||(this._repoManagerInitializationPromise=new Promise(e=>{const t=this.repositoriesManager.onDidChangeState(()=>{(this.repositoriesManager.state===gr.RepositoriesLoaded||this.repositoriesManager.state===gr.NeedsAuthentication)&&(t.dispose(),e())})})),this._repoManagerInitializationPromise}async isAssignable(){const e=r=>(this._isAssignable=r,r);if(this._isAssignable!==void 0)return this._isAssignable;const t=await this.repoInfo();if(!t)return e(!1);const{fm:n}=t;try{await n.getAssignableUsers();const r=n.getAllAssignableUsers();return e(r?r.some(a=>td.includes(a.login)):!1)}catch{return e(!1)}}async isAvailable(){return za.getEnabled()?this.credentialStore.isAnyAuthenticated()?!await this.repoInfo()||!await this.copilotApi?!1:await this.isAssignable():!0:!1}async updateAssignabilityContext(){try{this._isAssignable=void 0;const e=await this.isAvailable();ht.setContext("copilotCodingAgentAssignable",e)}catch{ht.setContext("copilotCodingAgentAssignable",!1)}}firstFolderManager(){if(this.repositoriesManager.folderManagers.length)return this.repositoriesManager.folderManagers[0]}chooseFolderManager(){return Ma(this.repositoriesManager.folderManagers,e=>({label:W.basename(e.repository.rootUri.fsPath)}))}async resetCodingAgentPreferences(){await this.context.workspaceState.update(el,void 0)}async promptAndUpdatePreferredGitHubRemote(e=!1){if(e&&await this.context.workspaceState.get(el))return;const t=this.firstFolderManager();if(!t)return;const n=await t.getAllGitHubRemotes();if(y.trace(`There are ${n.length} GitHub remotes available to select from`,yi.ID),!n||n.length<=1){y.trace("No need to select a coding agent GitHub remote, skipping prompt",yi.ID);return}n.sort((a,o)=>a.remoteName==="origin"?-1:o.remoteName==="origin"?1:0);const r=await Ma(n,a=>({label:a.remoteName,description:`(${a.owner}/${a.repositoryName})`}),{title:G().l10n.t("Coding agent will create pull requests against the selected remote.")});if(!r){y.warn("No coding agent GitHub remote selected.",yi.ID),y.warn(`Keeping previous value of: ${this.context.workspaceState.get(el)}`,yi.ID);return}y.appendLine(`Updated '${r.remoteName}' as preferred coding agent remote`,yi.ID),await this.context.workspaceState.update(el,r.remoteName)}async repoInfo(e){var t;e=e||this.firstFolderManager();const n=e==null?void 0:e.repository,r=e==null?void 0:e.gitHubRepositories.find(Y=>Y.remote instanceof Is);if(!e||!n||!r)return;const a=(t=n.state.HEAD)==null?void 0:t.name,o=this.context.workspaceState.get(el),d=await e.getGitHubRemotes();if(!d||d.length===0)return;const S=o?d.find(Y=>Y.remoteName===o):d.find(Y=>Y.remoteName==="origin")||d[0];if(!S){y.error("no valid remotes for coding agent",yi.ID),this.context.workspaceState.update(el,void 0);return}const{owner:C,repositoryName:$}=S;if(!(!C||!$||!a||!n))return{owner:C,repo:$,baseRef:a,remote:S,repository:n,ghRepository:r,fm:e}}async addFollowUpToExistingPR(e,t,n){try{const r=await this.findPullRequestById(e,!0);if(!r){y.error(`Could not find pull request #${e}`,yi.ID);return}const a=`${xg} ${t} 

 --- 

 ${n!=null?n:""}`,o=await r.createIssueComment(a);if(!o){y.error(`Failed to add comment to PR #${e}`,yi.ID);return}return y.appendLine(`Added comment ${o.htmlUrl}`,yi.ID),G().l10n.t("\u{1F680} Follow-up comment added to [#{0}]({1})",e,o.htmlUrl)}catch(r){y.error(`Failed to add follow-up comment to PR #${e}: ${r}`,yi.ID);return}}async tryPromptForAuthAndRepo(){if(!await this.credentialStore.tryPromptForCopilotAuth())return;const t=await this.chooseFolderManager();return await(t==null?void 0:t.updateRepositories()),t}async commandImpl(e){if(!e)return;const{userPrompt:t,summary:n,source:r,followup:a,_version:o}=e,d=await this.tryPromptForAuthAndRepo();if(!d||(this.telemetry.sendTelemetryEvent("remoteAgent.command.args",{source:(r==null?void 0:r.toString())||"unknown",isFollowup:a?"true":"false",userPromptLength:t.length.toString(),summaryLength:n?n.length.toString():"0",version:(o==null?void 0:o.toString())||"unknown"}),!t||t.trim().length===0))return;const S=await this.repoInfo(d);if(!S){this.telemetry.sendTelemetryErrorEvent("remoteAgent.command.result",{reason:"noRepositoryInfo"});return}const{repository:C,owner:$,repo:Y}=S,ne=`${$}/${Y}`,le=C.state.workingTreeChanges.length>0||C.state.indexChanges.length>0,he=async()=>{this.telemetry.sendTelemetryErrorEvent("remoteAgent.command.result",{reason:"learnMore"}),G().env.openExternal(G().Uri.parse("https://aka.ms/coding-agent-docs"))};let ke=!1;const pe=G().l10n.t("Copilot coding agent will continue your work in '{0}'.",ne),Ne=Dg;if(r!=="prompt"&&le&&za.getAutoCommitAndPushEnabled()){const nt=[Mg,rS,Dd];r==="todo"&&nt.push(Ig);const Nt=await G().window.showInformationMessage(pe,{modal:!0,detail:Ne},...nt);if(!Nt){this.telemetry.sendTelemetryErrorEvent("remoteAgent.command.result",{reason:"cancel"});return}if(Nt===Dd){he();return}if(Nt===Ig){G().commands.executeCommand("workbench.action.openSettings","githubPullRequests.codingAgent.codeLens");return}Nt===Mg&&(ke=!0)}else if(za.getPromptForConfirmation()){const nt=await G().window.showInformationMessage(r!=="prompt"?pe:G().l10n.t("Copilot coding agent will implement the specification outlined in this prompt file"),{modal:!0,detail:r!=="prompt"?Ne:void 0},nS,Pg,Dd);if(!nt)return;if(nt===Pg&&await za.disablePromptForConfirmation(),nt===Dd){he();return}}const Ce=await this.invokeRemoteAgent(t,n,void 0,ke,void 0,d);if(Ce.state!=="success"){this.telemetry.sendTelemetryErrorEvent("remoteAgent.command.result",{reason:"invocationFailure"}),G().window.showErrorMessage(Ce.error);return}const{webviewUri:De,link:He,number:Ke}=Ce;this.telemetry.sendTelemetryEvent("remoteAgent.command.success",{source:r||"unknown",hasFollowup:(!!a).toString(),outcome:"success"});const Ge=G().workspace.getConfiguration("chat").get("agentSessionsViewLocation"),je=await(async()=>{const nt=await this.copilotApi;return nt?(await nt.getAllCodingAgentPRs(this.repositoriesManager)).find(Et=>Et.number===Ke):void 0})();if(!Ge||Ge==="disabled"?G().commands.executeCommand("vscode.open",De):(await this.provideChatSessions(new(G()).CancellationTokenSource().token),je&&G().commands.executeCommand("vscode.open",G().Uri.from({scheme:fr,path:"/"+je.number}))),je&&o&&o===2){const nt=ro(je.body,{renderer:new so(!0),smartypants:!0}).trim();return{uri:De.toString(),title:je.title,description:nt,author:cn[je.author.login].name,linkTag:`#${je.number}`}}return G().l10n.t("\u{1F680} Coding agent will continue work in [#{0}]({1}).  Track progress [here]({2}).",Ke,He,De.toString())}async invokeRemoteAgent(e,t,n,r=!0,a,o){const d=await this.copilotApi;if(!d)return{error:G().l10n.t("Failed to initialize Copilot API. Please try again later."),state:"error"};await this.promptAndUpdatePreferredGitHubRemote(!0);const S=await this.repoInfo(o);if(!S)return{error:G().l10n.t("No repository information found. Please open a workspace with a GitHub repository."),state:"error"};const{owner:C,repo:$,remote:Y,repository:ne,ghRepository:le,baseRef:he}=S;try{await le.octokit.api.repos.get({owner:C,repo:$})}catch(Ge){if(Ge.status===404||Ge.status===403){const je=await this.credentialStore.getCurrentUser(Y.authProviderId);return{error:G().l10n.t("Unable to access {0} as user {1}. Please check your permissions and try again.",`\`${C}/${$}\``,`\`${je.login}\``),state:"error"}}throw Ge}if(!await this.isAssignable())return{error:G().l10n.t("Unable to assign GitHub Copilot coding agent in {0}. Please check your permissions and try again.",`\`${C}/${$}\``),state:"error"};const ke=he;let pe;if(r&&(ne.state.workingTreeChanges.length>0||ne.state.indexChanges.length>0)){if(!za.getAutoCommitAndPushEnabled())return{error:G().l10n.t("Uncommitted changes detected. Please commit or stash your changes before starting the remote agent. Enable '{0}' to push your changes automatically.",vi),state:"error"};try{a==null||a.progress(G().l10n.t("Waiting for local changes")),pe=await this.gitOperationsManager.commitAndPushChanges(S)}catch(Ge){return{error:G().l10n.t("Failed to commit and push changes. Please try again later."),innerError:Ge.message,state:"error"}}}try{if(!await le.hasBranch(ke)){if(!za.getAutoCommitAndPushEnabled())return{error:G().l10n.t("The branch '{0}' does not exist on the remote repository '{1}/{2}'. Please create the remote branch first.",ke,C,$),state:"error"};y.appendLine(`Base ref needs to exist on remote.  Auto pushing base_ref '${ke}' to remote repository '${C}/${$}'`,yi.ID),await ne.push(Y.remoteName,ke,!0)}}catch{return{error:G().l10n.t("Failed to configure base branch '{0}' does not exist on the remote repository '{1}/{2}'. Please create the remote branch first.",ke,C,$),state:"error"}}const Ce=J_(e,t),{problemStatement:De,isTruncated:He}=Y_(e,t);if(He){a==null||a.progress(G().l10n.t("Truncating context"));const Ge=await G().window.showWarningMessage(G().l10n.t("Prompt size exceeded"),{modal:!0,detail:G().l10n.t("Your prompt will be truncated to fit within coding agent's context window. This may affect the quality of the response.")},Fg),je=(n==null?void 0:n.isCancellationRequested)||!Ge||Ge!==Fg;if(this.telemetry.sendTelemetryEvent("remoteAgent.truncation",{isCancelled:String(je)}),je)return{error:G().l10n.t("User cancelled due to truncation."),state:"error"}}const Ke={problem_statement:De,event_type:"visual_studio_code_remote_agent_tool_invoked",pull_request:{title:Ce,body_placeholder:Z_(Ce),base_ref:ke,body_suffix:aS,...pe&&{head_ref:pe}}};try{a==null||a.progress(G().l10n.t("Delegating to coding agent"));const Ge=await d.postRemoteAgentJob(C,$,Ke,He);a==null||a.progress(G().l10n.t("Creating pull request"));const je=await this.waitForJobWithPullRequest(d,C,$,Ge.job_id,n);if(!je||!je.pull_request)return{error:G().l10n.t("Failed to retrieve pull request information from job"),state:"error"};const{number:nt}=je.pull_request,Nt=await this.findPullRequestById(nt,!0),Et=(Nt==null?void 0:Nt.html_url)||`https://github.com/${C}/${$}/pull/${nt}`,ki=await vo({owner:C,repo:$,pullRequestNumber:nt}),Pi="The remote agent has begun work and has created a pull request. Details about the pull request are being shown to the user. If the user wants to track progress or iterate on the agent's work, they should use the pull request.";return{state:"success",number:nt,link:Et,webviewUri:ki,llmDetails:pe?`Local pending changes have been pushed to branch '${pe}'. ${Pi}`:Pi,sessionId:Ge.session_id}}catch(Ge){return{error:G().l10n.t("Failed delegating to coding agent. Please try again later."),innerError:Ge.message,state:"error"}}}async getSessionLogsFromAction(e){const t=await this.copilotApi;if(!t)return[];const n=await this.getLatestCodingAgentFromAction(e);return n?await t.getLogsFromZipUrl(n.logs_url):[]}async getWorkflowStepsFromAction(e){const t=await this.getLatestCodingAgentFromAction(e,0,!1);if(!t)return[];try{const n=await e.githubRepository.getWorkflowJobs(t.id),r=[];for(const a of n)if(a.steps)for(const o of a.steps)r.push({name:o.name,status:o.status});return r}catch(n){return y.error(`Failed to get workflow steps: ${n}`,yi.ID),[]}}async getLatestCodingAgentFromAction(e,t=0,n=!0){if(!await this.copilotApi)return;const d=(await e.githubRepository.getWorkflowRunsFromAction(e.createdAt)).flatMap(C=>C.workflow_runs).filter(C=>C.path&&C.path.startsWith(`dynamic/${fr}`)).filter(C=>{var $;return($=C.pull_requests)==null?void 0:$.some(Y=>Y.id===e.id)});if(d.filter(C=>!n||C.status==="completed").at(t))return this.getLatestRun(d)}async getSessionLogFromPullRequest(e,t=0,n=!0){const r=await this.copilotApi;if(!r)return;const o=(await r.getAllSessions(e.id)).filter(C=>!n||C.state==="completed").at(t);if(!o)return;const d=await r.getLogsFromSession(o.id);let S;if(o.state==="in_progress"||d.trim().length===0)try{S=await this.getWorkflowStepsFromAction(e)}catch(C){y.warn(`Failed to fetch workflow steps for session ${o.id}: ${C}`,yi.ID)}return{info:o,logs:d,setupSteps:S}}async getSessionUrlFromPullRequest(e){if(!await this.copilotApi)return;const n=await this.getLatestCodingAgentFromAction(e);if(n)return n.html_url}getLatestRun(e){return e.slice().sort((t,n)=>{var r,a,o,d;const S=new Date((a=(r=t.last_updated_at)!=null?r:t.updated_at)!=null?a:0).getTime();return new Date((d=(o=n.last_updated_at)!=null?o:n.updated_at)!=null?d:0).getTime()-S})[0]}async extractHistory(e){if(!e)return;const t=[];for(const r of e)if(r instanceof G().ChatRequestTurn)t.push(`User: ${r.prompt}`);else if(r instanceof G().ChatResponseTurn){const a=r.response.filter(o=>o instanceof G().ChatResponseMarkdownPart).map(o=>o.value);a.length>0&&t.push(`Copilot: ${a.join(`
`)}`)}return t.join(`
`)}extractFileReferences(e){if(!e||e.length===0)return;const t=[];for(const n of e)if(n.value instanceof G().Uri&&n.value.scheme==="file"){const r=md(this.gitAPI,n.value);if(r){const a=W.relative(r.rootUri.fsPath,n.value.fsPath);t.push(` - ${a}`)}}if(t.length)return t.unshift("The user has attached the following files as relevant context:"),t.join(`
`)}async provideChatSessions(e){try{if(!await this.copilotApi)return[];if(e.isCancellationRequested)return[];await this.waitRepoManagerInitialization();let n=await this.prsTreeModel.getCopilotPullRequests();return y.debug(`Fetched PRs from API: ${n.length}`,yi.ID),await Promise.all(n.map(async r=>{const a=new Date(r.item.createdAt).getTime(),o=Sw(r.status),d=r.item,S=await ao(d,this.context,this.repositoriesManager),C=await vo({owner:d.remote.owner,repo:d.remote.repositoryName,pullRequestNumber:d.number}),$=G().l10n.t("Open pull request in VS Code");let Y="";if(this.repositoriesManager.folderManagers.length>1){const ke=d.remote.owner,pe=d.remote.repositoryName;Y=`${ke}/${pe} `}const ne=d.fileChanges.size===0?(await d.getFileChangesInfo()).length:d.fileChanges.size,le=new(G()).MarkdownString(`[${Y}#${d.number}](${C.toString()} "${$}")`);return{resource:G().Uri.from({scheme:fr,path:"/"+d.number}),label:d.title||`Session ${d.number}`,iconPath:this.getIconForSession(o),pullRequest:d,description:le,tooltip:S,status:o,timing:{startTime:a},changes:d.item.additions!==void 0&&d.item.deletions!==void 0&&(d.item.additions>0||d.item.deletions>0)?{insertions:d.item.additions,deletions:d.item.deletions,files:ne}:void 0}}))}catch(t){y.error(`Failed to provide coding agents information: ${t}`,yi.ID)}return[]}async provideChatSessionContent(e,t){try{const n=await this.copilotApi;if(!n||t.isCancellationRequested)return this.createEmptySession();await this.waitRepoManagerInitialization();let r,a;const o=lu.parse(e);if(o&&(r=o.prNumber,a=o.sessionIndex),typeof r=="undefined"&&(r=parseInt(e.path.slice(1)),isNaN(r)))return y.error(`Invalid pull request number: ${e}`,yi.ID),this.createEmptySession();const d=await this.findPullRequestById(r,!0);if(!d)return y.error(`Pull request not found: ${r}`,yi.ID),this.createEmptySession();const S=d.getTimelineEvents(),C=this.getChangeModels(d);let $=await n.getAllSessions(d.id);if(!$||$.length===0)return y.warn(`No sessions found for pull request ${r}`,yi.ID),this.createEmptySession();if(!Array.isArray($))return y.error(`getAllSessions returned non-array: ${typeof $}`,yi.ID),this.createEmptySession();if(typeof a=="number"){const le=$.at(a);if(!le)return y.error(`Session not found: ${a}`,yi.ID),this.createEmptySession();$=[le]}return{history:await new H_(yi.ID,xg,C).buildSessionHistory($,d,n,S),activeResponseCallback:this.findActiveResponseCallback($,d),requestHandler:void 0}}catch(n){return y.error(`Failed to provide chat session content: ${n}`,yi.ID),this.createEmptySession()}}findActiveResponseCallback(e,t){const n=e.slice().sort((r,a)=>new Date(a.created_at).getTime()-new Date(r.created_at).getTime()).find(r=>r.state==="in_progress"||r.state==="queued");if(n)return this.createActiveResponseCallback(t,n.id)}createEmptySession(){return{history:[],requestHandler:void 0}}createActiveResponseCallback(e,t){return async(n,r)=>(await this.waitForQueuedToInProgress(t,n,r),this._onDidCreatePullRequest.fire(e.number),this.streamSessionLogs(n,e,t,r))}async streamNewLogContent(e,t,n){var r;try{if(!n.trim())return{hasStreamedContent:!1,hasSetupStepProgress:!1};const a=Wp(n);let o=!1,d=!1;for(const S of a)for(const C of S.choices){const $=C.delta;if($.role==="assistant"){if(C.finish_reason==="tool_calls"&&((r=$.tool_calls)!=null&&r.length)&&($.tool_calls[0].function.name==="run_custom_setup_step"||$.tool_calls[0].function.name==="run_setup")){const Y=$.tool_calls[0];let ne={};try{ne=JSON.parse(Y.function.arguments)}catch{}if($.content&&$.content.trim()){const le=this.createToolInvocationPart(e,Y,ne.name||$.content);le&&(t.push(le),o=!0)}else d=!0,y.appendLine(`Setup step in progress: ${ne.name||"Unknown step"}`,yi.ID)}else if($.content&&($.content.startsWith("<pr_title>")||(t.markdown($.content),o=!0)),$.tool_calls)for(const Y of $.tool_calls){const ne=this.createToolInvocationPart(e,Y,$.content||"");ne&&(t.push(ne),o=!0)}}C.finish_reason&&C.finish_reason!=="null"&&y.appendLine(`Streaming finish_reason: ${C.finish_reason}`,yi.ID)}return o?y.appendLine("Streamed content (markdown or tool parts), progress should be cleared",yi.ID):d?y.appendLine("Setup step progress detected, keeping progress indicator",yi.ID):y.appendLine("No actual content streamed, progress may still be showing",yi.ID),{hasStreamedContent:o,hasSetupStepProgress:d}}catch(a){return y.error(`Error streaming new log content: ${a}`,yi.ID),{hasStreamedContent:!1,hasSetupStepProgress:!1}}}async streamSessionLogs(e,t,n,r){const a=await this.copilotApi;if(!a||r.isCancellationRequested)return;let o=0,d=0,S=!1;const C=3e3;return new Promise(($,Y)=>{let ne=!1;const le=async()=>{if(ne)return;ne=!0,await t.getFileChangesInfo();const ke=await this.getFileChangesMultiDiffPart(t);ke&&e.push(ke),$()},he=async()=>{try{if(r.isCancellationRequested){le();return}const ke=await a.getSessionInfo(n);if(!ke||r.isCancellationRequested){le();return}const pe=await a.getLogsFromSession(n);if(ke.state!=="in_progress"){if(pe.length>d){const Ne=pe.slice(d);(await this.streamNewLogContent(t,e,Ne)).hasStreamedContent&&(S=!1)}S=!1,le();return}if(pe.length>o){y.appendLine("New logs detected, attempting to stream content",yi.ID);const Ne=pe.slice(d),Ce=await this.streamNewLogContent(t,e,Ne);d=pe.length,Ce.hasStreamedContent?(y.appendLine("Content was streamed, resetting hasActiveProgress to false",yi.ID),S=!1):Ce.hasSetupStepProgress?y.appendLine("Setup step progress detected, keeping progress active",yi.ID):y.appendLine(`No content was streamed, keeping hasActiveProgress as ${S}`,yi.ID)}o=pe.length,!r.isCancellationRequested&&ke.state==="in_progress"?(S?y.appendLine("NOT showing progress indicator (hasActiveProgress was true)",yi.ID):(y.appendLine("Showing progress indicator (hasActiveProgress was false)",yi.ID),e.progress("Working..."),S=!0),setTimeout(he,C)):le()}catch(ke){y.error(`Error polling for session updates: ${ke}`,yi.ID),r.isCancellationRequested?Y(ke):setTimeout(he,C)}};setTimeout(he,C)})}async getChangeModels(e){try{const t=await this.repoInfo();if(!t)return[];const{fm:n}=t;return await fn.getChangeModels(n,e)}catch(t){return y.error(`Failed to get change models: ${t}`,yi.ID),[]}}async getFileChangesMultiDiffPart(e){try{const t=await this.getChangeModels(e);if(y.warn("No file changes found for pull request, not showing diff.",yi.ID),t.length===0)return;const n=[];for(const a of t){const{added:o,removed:d}=await a.calculateChangedLinesCount();y.trace(`DiffEntry -> original='${a.parentFilePath}' modified='${a.filePath}' (+${o} -${d})`,yi.ID),n.push({originalUri:a.parentFilePath,modifiedUri:a.filePath,goToFileUri:a.filePath,added:o,removed:d})}const r=`Changes in Pull Request #${e.number}`;return new(G()).ChatResponseMultiDiffPart(n,r)}catch(t){y.error(`Failed to get file changes multi diff part: ${t}`,yi.ID);return}}async findPullRequestById(e,t){for(const n of this.repositoriesManager.folderManagers)for(const r of n.gitHubRepositories){const a=r.pullRequestModels.find(o=>o.number===e);if(a)return a;if(t)try{const o=await r.getPullRequest(e,!1);if(o)return o}catch(o){y.debug(`PR ${e} not found in ${r.remote.owner}/${r.remote.repositoryName} (remote=${r.remote.url}): ${o}`,yi.ID)}}}createToolInvocationPart(e,t,n=""){var r;if(!((r=t.function)!=null&&r.name)||!t.id||t.function.name==="reply_to_comment")return;const a=new(G()).ChatToolInvocationPart(t.function.name,t.id);a.isComplete=!0,a.isError=!1,a.isConfirmed=!0;try{const o=zp(t,n);if(a.toolName=o.toolName,t.toolName==="think")return new(G()).ChatResponseThinkingProgressPart(t.invocationMessage);if(t.function.name==="bash"?a.invocationMessage=new(G()).MarkdownString(`\`\`\`bash
${o.invocationMessage}
\`\`\``):a.invocationMessage=new(G()).MarkdownString(o.invocationMessage),o.pastTenseMessage&&(a.pastTenseMessage=new(G()).MarkdownString(o.pastTenseMessage)),o.originMessage&&(a.originMessage=new(G()).MarkdownString(o.originMessage)),o.toolSpecificData)if(Ed.is(o.toolSpecificData)){if((o.toolSpecificData.command==="view"||o.toolSpecificData.command==="edit")&&o.toolSpecificData.fileLabel){const d=G().Uri.file(W.join(e.githubRepository.rootUri.fsPath,o.toolSpecificData.fileLabel));a.invocationMessage=new(G()).MarkdownString(`${a.toolName} [](${d.toString()})`),a.invocationMessage.supportHtml=!0,a.pastTenseMessage=new(G()).MarkdownString(`${a.toolName} [](${d.toString()})`)}}else a.toolSpecificData=o.toolSpecificData}catch{a.toolName=t.function.name||"unknown",a.invocationMessage=new(G()).MarkdownString(`Tool: ${t.function.name}`),a.isError=!0}return a}async waitForQueuedToInProgress(e,t,n){const r=await this.copilotApi;if(!r)return;let a;const o=3,d=5e3;let S=0;do{if(a=await r.getSessionInfo(e),a&&a.state==="queued"){t==null||t.progress(G().l10n.t("Attaching to session")),y.trace("Queued session found",yi.ID);break}S<o&&(y.trace("Session not yet queued, waiting...",yi.ID),await new Promise(ne=>setTimeout(ne,d))),++S}while(S<=o&&(!n||!n.isCancellationRequested));if(!a||a.state!=="queued"){if((a==null?void 0:a.state)==="in_progress")return y.trace("Session already in progress",yi.ID),a;y.trace("Failed to find queued session",yi.ID);return}const C=2*60*1e3,$=3e3,Y=Date.now();for(y.appendLine(`Session ${a.id} is queued, waiting for transition to in_progress...`,yi.ID);Date.now()-Y<C&&(!n||!n.isCancellationRequested);){const ne=await r.getSessionInfo(e);if((ne==null?void 0:ne.state)==="in_progress")return y.appendLine(`Session ${ne.id} now in progress.`,yi.ID),ne;await new Promise(le=>setTimeout(le,$))}y.warn(`Timed out waiting for session ${e} to transition from queued to in_progress`,yi.ID)}async waitForNewSession(e,t,n,r=!1){const a=await this.copilotApi;if(!a){t.markdown(G().l10n.t("Failed to connect to Copilot API."));return}const d=(await a.getAllSessions(e.id)).length,S=5*60*1e3,C=3e3,$=Date.now();for(;Date.now()-$<S&&!n.isCancellationRequested;){const Y=await a.getAllSessions(e.id);if(Y.length>d){const ne=Y.sort((he,ke)=>new Date(ke.created_at).getTime()-new Date(he.created_at).getTime())[0];if(!r)return ne;const le=await this.waitForQueuedToInProgress(ne.id,t,n);if(!le){t.markdown(G().l10n.t("Timed out waiting for coding agent to begin work. Please try again shortly."));return}return le}await new Promise(ne=>setTimeout(ne,C))}t.markdown(G().l10n.t("Timed out waiting for the coding agent to respond. The agent may still be processing your request."))}getIconForSession(e){switch(e){case G().ChatSessionStatus.Completed:return new(G()).ThemeIcon("issues",new(G()).ThemeColor("testing.iconPassed"));case G().ChatSessionStatus.Failed:return new(G()).ThemeIcon("error",new(G()).ThemeColor("testing.iconFailed"));default:return new(G()).ThemeIcon("issue-reopened",new(G()).ThemeColor("editorLink.activeForeground"))}}refreshChatSessions(){this.prsTreeModel.clearCopilotCaches(),this._onDidChangeChatSessions.fire()}async waitForJobWithPullRequest(e,t,n,r,a){const S=Date.now();for(y.appendLine(`Waiting for job ${r} to have pull request information...`,yi.ID);Date.now()-S<3e4&&(!a||!a.isCancellationRequested);){const C=await e.getJobByJobId(t,n,r);if(C&&C.pull_request&&C.pull_request.number)return y.appendLine(`Job ${r} now has pull request #${C.pull_request.number}`,yi.ID),C;await new Promise($=>setTimeout($,2e3))}y.warn(`Timed out waiting for job ${r} to have pull request information`,yi.ID)}async cancelMostRecentChatSession(e){var t;const n=await this.copilotApi;if(!n){y.warn("No Copilot API instance found");return}const r=(t=this.repositoriesManager.getManagerForIssueModel(e))!=null?t:this.repositoriesManager.folderManagers[0];if(!r){y.warn("No folder manager found for pull request");return}const a=await n.getAllSessions(e.id);if(a.length>0){const o=a[a.length-1],d=r.gitHubRepositories.find(S=>S.remote.remoteName===e.remote.remoteName);d==null||d.cancelWorkflow(o.workflow_run_id)}else y.warn(`No active chat session found for pull request ${e.id}`)}};qr(Og,"ID","CopilotRemoteAgentManager");let sS=Og;function wf(){if(typeof crypto.randomUUID=="function")return crypto.randomUUID.bind(crypto)();const i=new Uint8Array(16),e=[];for(let r=0;r<256;r++)e.push(r.toString(16).padStart(2,"0"));crypto.getRandomValues(i),i[6]=i[6]&15|64,i[8]=i[8]&63|128;let t=0,n="";return n+=e[i[t++]],n+=e[i[t++]],n+=e[i[t++]],n+=e[i[t++]],n+="-",n+=e[i[t++]],n+=e[i[t++]],n+="-",n+=e[i[t++]],n+=e[i[t++]],n+="-",n+=e[i[t++]],n+=e[i[t++]],n+="-",n+=e[i[t++]],n+=e[i[t++]],n+=e[i[t++]],n+=e[i[t++]],n+=e[i[t++]],n+=e[i[t++]],n}var oS=ti(65606),lS=Object.defineProperty,uS=(i,e,t)=>e in i?lS(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t,Ka=(i,e,t)=>uS(i,typeof e!="symbol"?e+"":e,t);const Id=class Da extends Np{constructor(e,t,n,r,a,o=Da.viewType,d,S){super(),this._telemetry=e,this._extensionUri=t,this.type=o,Ka(this,"_panel"),Ka(this,"_item"),Ka(this,"_folderRepositoryManager"),Ka(this,"_scrollPosition",{x:0,y:0}),Ka(this,"timeout"),Ka(this,"lastRefreshTime"),Ka(this,"_scheduledRefresh"),this._folderRepositoryManager=a,this._panel=d!=null?d:this._register(s.window.createWebviewPanel(o,r,n,{enableScripts:!0,retainContextWhenHidden:!0,localResourceRoots:[s.Uri.joinPath(t,"dist")],enableFindWidget:!0})),S&&(this._panel.iconPath={dark:s.Uri.joinPath(t,S.dark),light:s.Uri.joinPath(t,S.light)}),this._webview=this._panel.webview,super.initialize(),this._register(this._panel.onDidDispose(()=>this.dispose())),this._register(this._folderRepositoryManager.onDidChangeActiveIssue(C=>{if(this._folderRepositoryManager&&this._item){const $=this._item.equals(this._folderRepositoryManager.activeIssue);this._postMessage({command:"pr.update-checkout-status",isCurrentlyCheckedOut:$})}})),this._register(a.credentialStore.onDidUpgradeSession(()=>{this.updateItem(this._item)})),this._register(this._panel.onDidChangeViewState(C=>this.onDidChangeViewState(C))),this.lastRefreshTime=new Date,this.pollForUpdates(!0),this._register(s.workspace.onDidChangeConfiguration(C=>{C.affectsConfiguration(`${bt}.${Oa}`)&&this.pollForUpdates(this._panel.visible,!0)})),this._register({dispose:()=>clearTimeout(this.timeout)})}static async createOrShow(e,t,n,r,a=!1,o=!0,d){await Ms(n.context);const S=a?s.ViewColumn.Beside:s.window.activeTextEditor?s.window.activeTextEditor.viewColumn:s.ViewColumn.One;if(Da.currentPanel)Da.currentPanel._panel.reveal(S,!0);else{const C=`Issue #${r.number.toString()}`;Da.currentPanel=new Da(e,t,S||s.ViewColumn.Active,C,n,void 0,d,void 0)}await Da.currentPanel.update(n,r)}static refresh(){this.currentPanel&&this.currentPanel.refreshPanel()}setPanelTitle(e){try{this._panel.title=e}catch{}}getRefreshInterval(){return s.workspace.getConfiguration().get(`${bt}.${Oa}`)||60}onDidChangeViewState(e){e.webviewPanel.visible&&this.pollForUpdates(!!this._item,!0)}pollForUpdates(e,t=!1){clearTimeout(this.timeout);const n=async()=>{const o=this.lastRefreshTime;if(this.lastRefreshTime=await this._item.getLastUpdateTime(o),this.lastRefreshTime.getTime()>o.getTime())return this.refreshPanel()};t&&n();const a=1e3*(e||s.window.tabGroups.all.find(o=>{var d;return((d=o.activeTab)==null?void 0:d.input)instanceof s.TabInputWebview&&o.activeTab.input.viewType.endsWith(this.type)})?this.getRefreshInterval():5*60);this.timeout=setTimeout(async()=>{await n(),this.pollForUpdates(this._panel.visible)},a)}async refreshPanel(){this._panel&&this._panel.visible&&await this.update(this._folderRepositoryManager,this._item)}continueOnGitHub(){return pd()}getInitializeContext(e,t,n,r,a,o){var d;const S=r.hasWritePermission,C=S||a,$=t.item.labels.map(ne=>({...ne,displayName:Bo(ne.name)}));return{owner:t.remote.owner,repo:t.remote.repositoryName,number:t.number,title:t.title,titleHTML:t.titleHTML,url:t.html_url,createdAt:t.createdAt,body:t.body,bodyHTML:t.bodyHTML,labels:$,author:t.author,state:t.state,stateReason:t.stateReason,events:n,continueOnGitHub:this.continueOnGitHub(),canEdit:C,hasWritePermission:S,isIssue:!0,projectItems:t.item.projectItems,milestone:t.milestone,assignees:(d=t.assignees)!=null?d:[],isEnterprise:t.githubRepository.remote.isEnterprise,isDarkTheme:s.window.activeColorTheme.kind===s.ColorThemeKind.Dark,canAssignCopilot:o.find(ne=>cn[ne.login])!==void 0,canRequestCopilotReview:!1,reactions:t.item.reactions,isAuthor:t.author.login===e.login}}async updateItem(e){var t;try{const[n,r,a,o,d,S]=await Promise.all([this._folderRepositoryManager.resolveIssue(e.remote.owner,e.remote.repositoryName,e.number),e.getIssueTimelineEvents(),this._folderRepositoryManager.getPullRequestRepositoryAccessAndMergeMethods(e),e.canEdit(),this._folderRepositoryManager.getAssignableUsers(),this._folderRepositoryManager.getCurrentUser()]);if(!n)throw new Error(`Fail to resolve issue #${e.number} in ${e.remote.owner}/${e.remote.repositoryName}`);this._item=n,this.setPanelTitle(`Issue #${e.number.toString()}`),y.debug("pr.initialize",Da.ID),this._postMessage({command:"pr.initialize",pullrequest:this.getInitializeContext(S,n,r,a,o,(t=d[this._item.remote.remoteName])!=null?t:[])})}catch(n){s.window.showErrorMessage(`Error updating issue description: ${_e(n)}`)}}registerPrListeners(){}async update(e,t,n){return this._folderRepositoryManager!==e&&(this._folderRepositoryManager=e,this.registerPrListeners()),this._postMessage({command:"set-scroll",scrollPosition:this._scrollPosition}),(!this._item||this._item.number!==t.number||!this._panel.webview.html)&&(this._panel.webview.html=this.getHtmlForWebview(),this._postMessage({command:"pr.clear"})),n?s.window.withProgress({location:{viewId:n}},()=>this.updateItem(t)):this.updateItem(t)}async _onDidReceiveMessage(e){if(await super._onDidReceiveMessage(e)===this.MESSAGE_UNHANDLED)switch(e.command){case"alert":s.window.showErrorMessage(e.args);return;case"pr.close":return this.close(e);case"pr.submit":return this.submitReviewMessage(e);case"scroll":this._scrollPosition=e.args.scrollPosition;return;case"pr.edit-comment":return this.editComment(e);case"pr.delete-comment":return this.deleteComment(e);case"pr.edit-description":return this.editDescription(e);case"pr.edit-title":return this.editTitle(e);case"pr.refresh":this.refreshPanel();return;case"pr.add-labels":return this.addLabels(e);case"pr.remove-label":return this.removeLabel(e);case"pr.change-assignees":return this.changeAssignees(e);case"pr.remove-milestone":return this.removeMilestone(e);case"pr.add-milestone":return this.addMilestone(e);case"pr.change-projects":return this.changeProjects(e);case"pr.remove-project":return this.removeProject(e);case"pr.add-assignee-yourself":return this.addAssigneeYourself(e);case"pr.add-assignee-copilot":return this.addAssigneeCopilot(e);case"pr.copy-prlink":return this.copyItemLink();case"pr.copy-vscodedevlink":return this.copyVscodeDevLink();case"pr.openOnGitHub":return Za(this._item,this._telemetry);case"pr.debug":return this.webviewDebug(e);default:return this.MESSAGE_UNHANDLED}}async submitReviewMessage(e){const t=await this._item.createIssueComment(e.args),n={...t,event:Ht.Commented},a={events:await this._getTimeline(),reviewedEvent:n};return this.tryScheduleCopilotRefresh(t.body),this._replyMessage(e,a)}async tryScheduleCopilotRefresh(e,t){this._scheduledRefresh||(this._scheduledRefresh=this.doScheduleCopilotRefresh(e,t).finally(()=>{this._scheduledRefresh=void 0}))}async doScheduleCopilotRefresh(e,t){if(!cn[this._item.author.login]||!e.includes("@copilot")&&!e.includes("@Copilot")&&t!=="CHANGES_REQUESTED")return;const n=await this._getTimeline(),r=[250,500,1e3,2e3];for(const a of r){if(await new Promise(o=>setTimeout(o,a)),this._isDisposed)return;try{if((await this._getTimeline()).length>n.length){this.refreshPanel();return}}catch(o){y.warn(`Failed to fetch timeline during Copilot refresh retry: ${o}`,Da.ID)}}this._isDisposed||this.refreshPanel()}async addLabels(e){const t=s.window.createQuickPick();try{let n=[];t.busy=!0,t.canSelectMany=!0,t.show(),t.items=await Tg(this._folderRepositoryManager,this._item.item.labels,this._item.remote.owner,this._item.remote.repositoryName).then(d=>(n=d.newLabels,d.labelPicks)),t.selectedItems=t.items.filter(d=>d.picked),t.busy=!1;const r=Me(t.onDidAccept).then(()=>t.selectedItems),a=Me(t.onDidHide),o=await Promise.race([r,a]);if(t.busy=!0,t.enabled=!1,o){await this._item.setLabels(o.map(S=>S.name));const d=o.map(S=>n.find(C=>C.name===S.name));await this._replyMessage(e,{added:d})}}catch(n){s.window.showErrorMessage(_e(n))}finally{t.hide(),t.dispose()}}async removeLabel(e){try{await this._item.removeLabel(e.args),this._replyMessage(e,{})}catch(t){s.window.showErrorMessage(_e(t))}}webviewDebug(e){y.debug(e.args,Da.ID)}editDescription(e){this._item.edit({body:e.args.text}).then(t=>{this._replyMessage(e,{body:t.body,bodyHTML:t.bodyHTML})}).catch(t=>{this._throwError(e,t),s.window.showErrorMessage(`Editing description failed: ${_e(t)}`)})}editTitle(e){return this._item.edit({title:e.args.text}).then(t=>this._replyMessage(e,{titleHTML:t.titleHTML})).catch(t=>{this._throwError(e,t),s.window.showErrorMessage(`Editing title failed: ${_e(t)}`)})}_getTimeline(){return this._item.getIssueTimelineEvents()}async changeAssignees(e){var t;const n=s.window.createQuickPick();try{n.busy=!0,n.canSelectMany=!0,n.matchOnDescription=!0,n.show(),n.items=await Eg(this._folderRepositoryManager,void 0,this._item.remote.remoteName,(t=this._item.assignees)!=null?t:[],this._item),n.selectedItems=n.items.filter(d=>d.picked),n.busy=!1;const r=Me(n.onDidAccept).then(()=>n.selectedItems.filter(d=>d.user)),a=Me(n.onDidHide),o=await Promise.race([r,a]);if(n.busy=!0,n.enabled=!1,o){const d=o.map($=>$.user);await this._item.replaceAssignees(d);const S=await this._getTimeline(),C={assignees:d,events:S};await this._replyMessage(e,C)}}catch(r){s.window.showErrorMessage(_e(r))}finally{n.hide(),n.dispose()}}async addMilestone(e){return Cg(this._folderRepositoryManager,this._item.githubRepository,this._item.milestone,t=>this.updateMilestone(t,e))}async updateMilestone(e,t){if(!e)return this.removeMilestone(t);await this._item.updateMilestone(e.id),this._replyMessage(t,{added:e})}async removeMilestone(e){try{await this._item.updateMilestone("null"),this._replyMessage(e,{})}catch(t){s.window.showErrorMessage(_e(t))}}async changeProjects(e){var t;return Ng(this._folderRepositoryManager,this._item.githubRepository,(t=this._item.item.projectItems)==null?void 0:t.map(n=>n.project),n=>this.updateProjects(n,e))}async updateProjects(e,t){var n;let r=[];e&&(r=(n=await this._item.updateProjects(e))!=null?n:[]);const a={projectItems:r};return this._replyMessage(t,a)}async removeProject(e){return await this._item.removeProjects([e.args]),this._replyMessage(e,{})}async addAssigneeYourself(e){var t,n,r;try{const a=await this._folderRepositoryManager.getCurrentUser();if(!((t=this._item.assignees)==null?void 0:t.find(C=>C.login===a.login))){const C=((n=this._item.assignees)!=null?n:[]).concat(a);await this._item.replaceAssignees(C)}const d=await this._getTimeline(),S={assignees:(r=this._item.assignees)!=null?r:[],events:d};this._replyMessage(e,S)}catch(a){s.window.showErrorMessage(_e(a))}}async addAssigneeCopilot(e){var t,n;try{const r=(await this._folderRepositoryManager.getAssignableUsers())[this._item.remote.remoteName].find(d=>cn[d.login]);if(r){const d=((t=this._item.assignees)!=null?t:[]).concat(r);await this._item.replaceAssignees(d)}const a=await this._getTimeline(),o={assignees:(n=this._item.assignees)!=null?n:[],events:a};this._replyMessage(e,o)}catch(r){s.window.showErrorMessage(_e(r))}}async copyItemLink(){return s.env.clipboard.writeText(this._item.html_url)}async copyVscodeDevLink(){return s.env.clipboard.writeText(gd(this._item))}editCommentPromise(e,t){return this._item.editIssueComment(e,t)}editComment(e){this.editCommentPromise(e.args.comment,e.args.text).then(t=>{this._replyMessage(e,{body:t.body,bodyHTML:t.bodyHTML})}).catch(t=>{this._throwError(e,t),s.window.showErrorMessage(_e(t))})}deleteCommentPromise(e){return this._item.deleteIssueComment(e.id.toString())}deleteComment(e){s.window.showWarningMessage(s.l10n.t("Are you sure you want to delete this comment?"),{modal:!0},"Delete").then(t=>{t==="Delete"&&this.deleteCommentPromise(e.args).then(n=>{this._replyMessage(e,{})}).catch(n=>{this._throwError(e,n),s.window.showErrorMessage(_e(n))})})}async close(e){let t;e.args&&(t=await this._item.createIssueComment(e.args));const n=await this._item.close(),r={state:n.item.state.toUpperCase(),commentEvent:t?{...t,event:Ht.Commented}:void 0,closeEvent:n.closedEvent};this._replyMessage(e,r)}set _currentPanel(e){Da.currentPanel=e}dispose(){super.dispose(),this._currentPanel=void 0,this._webview=void 0}getHtmlForWebview(){const e=wf(),t=s.Uri.joinPath(this._extensionUri,"dist","webview-pr-description.js");return`<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<meta http-equiv="Content-Security-Policy" content="default-src 'none'; img-src vscode-resource: https:; media-src https:; script-src 'nonce-${e}'; style-src vscode-resource: 'unsafe-inline' http: https: data:;">

		<meta name="viewport" content="width=device-width, initial-scale=1.0">
	</head>
	<body class="${oS.platform}">
		<div id=app></div>
		<script nonce="${e}" src="${this._webview.asWebviewUri(t).toString()}"><\/script>
	</body>
</html>`}getCurrentTitle(){return this._panel.title}getCurrentItem(){return this._item}};Ka(Id,"ID","IssueOverviewPanel"),Ka(Id,"currentPanel"),Ka(Id,"viewType","IssueOverview");let co=Id;var vn;(i=>{function e(pe,Ne){const Ce=pe.find(De=>jr(De.reviewer)===Ne.login);return Ce==null?void 0:Ce.state}i.getCurrentUserReviewState=e;function t(pe,Ne){if(Ne&&Ne.state){const Ce=pe.find(De=>Ne.user.login===jr(De.reviewer));Ce?Ce.state=Ne.state:pe.push({reviewer:Ne.user,state:Ne.state})}}async function n(pe,Ne,Ce,De,He){const Ke={command:"pr.submitting-review",lastReviewType:Ce};pe.postMessage(Ke);try{const Ge=await He(Ne.body);t(pe.existingReviewers,Ge);const je=De?await pe.getTimeline():[],nt={command:"pr.append-review",reviewedEvent:Ge,events:je,reviewers:pe.existingReviewers};return await pe.postMessage(nt),Ge}catch(Ge){s.window.showErrorMessage(s.l10n.t("Submitting review failed. {0}",_e(Ge))),pe.throwError(void 0,`${_e(Ge)}`),await pe.postMessage({command:"pr.append-review"})}}i.doReviewCommand=n;async function r(pe,Ne,Ce,De){try{const He=await De(Ne.args);t(pe.existingReviewers,He);const Ke=Ce?await pe.getTimeline():[],Ge={reviewedEvent:He,events:Ke,reviewers:pe.existingReviewers};return pe.replyMessage(Ne,Ge),He}catch(He){s.window.showErrorMessage(s.l10n.t("Submitting review failed. {0}",_e(He))),pe.throwError(Ne,`${_e(He)}`)}}i.doReviewMessage=r;function a(pe,Ne){let Ce;const De=[],He=[];for(const Ke of pe.existingReviewers){let Ge=Ke.reviewer.id;Ge&&(Ke.state==="REQUESTED"||Ge===Ne.args)&&Ge===Ne.args&&(Ce=Ke)}Ce&&Ar(Ce.reviewer)?He.push(Ce.reviewer):Ce&&!Ar(Ce.reviewer)&&De.push(Ce.reviewer),pe.item.requestReview(De,He,!0).then(()=>{Ce&&(Ce.state="REQUESTED"),pe.replyMessage(Ne,{reviewers:pe.existingReviewers})})}i.reRequestReview=a;async function o(pe,Ne){var Ce;try{const De=(Ce=pe.folderRepositoryManager.repository.state.HEAD)==null?void 0:Ce.name;await pe.folderRepositoryManager.checkoutDefaultBranch(Ne.args,pe.item),De&&await pe.folderRepositoryManager.cleanupAfterPullRequest(De,pe.item)}finally{pe.replyMessage(Ne,{})}}i.checkoutDefaultBranch=o;async function d(pe,Ne,Ce,De){if(De&&!De())return await s.window.showErrorMessage(s.l10n.t("The pull request branch must be checked out to be updated."),{modal:!0}),pe.replyMessage(Ne,{});if(pe.folderRepositoryManager.repository.state.workingTreeChanges.length>0||pe.folderRepositoryManager.repository.state.indexChanges.length>0)return await s.window.showErrorMessage(s.l10n.t("The pull request branch cannot be updated when the there changed files in the working tree or index. Stash or commit all change and then try again."),{modal:!0}),pe.replyMessage(Ne,{});await pe.folderRepositoryManager.tryMergeBaseIntoHead(pe.item,!0)||pe.replyMessage(Ne,{});let Ke=Ln.Unknown,Ge=5;do Ke=(await pe.item.getMergeability()).mergeability,Ge--,await new Promise(nt=>setTimeout(nt,1e3));while(Ge>0&&Ke===Ln.Unknown);const je={events:await pe.getTimeline(),mergeable:Ke};await Ce(),pe.replyMessage(Ne,je)}i.updateBranch=d;async function S(pe,Ne){try{const Ce=await pe.item.setReadyForReview();pe.replyMessage(Ne,Ce)}catch(Ce){s.window.showErrorMessage(s.l10n.t("Unable to set pull request ready for review. {0}",_e(Ce))),pe.throwError(Ne,"")}}i.setReadyForReview=S;async function C(pe,Ne){try{const Ce=await pe.item.setReadyForReview();try{await pe.item.approve(pe.folderRepositoryManager.repository,"")}catch(De){s.window.showErrorMessage(`Pull request marked as ready for review, but failed to approve. ${_e(De)}`),pe.replyMessage(Ne,Ce);return}try{await pe.item.enableAutoMerge(Ne.args.mergeMethod)}catch(De){s.window.showErrorMessage(`Pull request marked as ready and approved, but failed to enable auto-merge. ${_e(De)}`),pe.replyMessage(Ne,Ce);return}pe.replyMessage(Ne,Ce)}catch(Ce){s.window.showErrorMessage(`Unable to mark pull request as ready for review. ${_e(Ce)}`),pe.throwError(Ne,"")}}i.setReadyForReviewAndMerge=C;async function $(pe,Ne){try{const Ce=await pe.item.convertToDraft();pe.replyMessage(Ne,Ce)}catch(Ce){s.window.showErrorMessage(s.l10n.t("Unable to convert pull request to draft. {0}",_e(Ce))),pe.throwError(Ne,"")}}i.setConvertToDraft=$;async function Y(pe){pe.postMessage({command:"pr.readying-for-review"});try{const Ce={isDraft:(await pe.item.setReadyForReview()).isDraft};await pe.postMessage({command:"pr.readied-for-review",result:Ce})}catch(Ne){s.window.showErrorMessage(`Unable to set pull request ready for review. ${_e(Ne)}`),pe.throwError(void 0,Ne.message)}}i.readyForReviewCommand=Y;async function ne(pe,Ne){pe.postMessage({command:"pr.readying-for-review"});try{const[Ce,De]=await Promise.all([pe.item.setReadyForReview(),pe.item.approve(pe.folderRepositoryManager.repository)]);await pe.item.enableAutoMerge(Ne.mergeMethod),t(pe.existingReviewers,De);const He={isDraft:Ce.isDraft,autoMerge:!0,reviewEvent:De,reviewers:pe.existingReviewers};await pe.postMessage({command:"pr.readied-for-review",result:He})}catch(Ce){s.window.showErrorMessage(`Unable to set pull request ready for review. ${_e(Ce)}`),pe.throwError(void 0,Ce.message)}}i.readyForReviewAndMergeCommand=ne;async function le(pe,Ne){const Ce=await pe.getBranchNameForPullRequest(Ne),De=[],He=await pe.getPullRequestRepositoryDefaultBranch(Ne);if(Ne.isResolved()){const Ge=Ne.head.ref,je=pe.findRepo(Nt=>Nt.remote.owner===Ne.head.owner&&Nt.remote.repositoryName===Ne.remote.repositoryName);!(He===Ne.head.ref)&&!Ne.isRemoteHeadDeleted&&De.push({label:s.l10n.t("Delete remote branch {0}",`${je==null?void 0:je.remote.remoteName}/${Ge}`),description:`${Ne.remote.normalizedHost}/${Ne.head.repositoryCloneUrl.owner}/${Ne.remote.repositoryName}`,type:"remoteHead",picked:!0})}if(Ce){const Ge=s.workspace.getConfiguration(bt).get(`${Ai}.${Xi}`);De.push({label:s.l10n.t("Delete local branch {0}",Ce.branch),type:"local",picked:!!Ge});const je=s.workspace.getConfiguration(bt).get(`${Ai}.${un}`);Ce.remote&&Ce.createdForPullRequest&&!Ce.remoteInUse&&De.push({label:s.l10n.t("Delete remote {0}, which is no longer used by any other branch",Ce.remote),type:"remote",picked:!!je})}if(s.env.remoteName==="codespaces"&&De.push({label:s.l10n.t("Suspend Codespace"),type:"suspend"}),!De.length)return s.window.showWarningMessage(s.l10n.t("There is no longer an upstream or local branch for Pull Request #{0}",Ne.number)),{isReply:!0,message:{cancelled:!0}};const Ke=await s.window.showQuickPick(De,{canPickMany:!0,ignoreFocusOut:!0});return Ke?{isReply:!1,message:{command:"pr.deleteBranch",branchTypes:await he(pe,Ne,He,Ce,Ke)}}:{isReply:!0,message:{cancelled:!0}}}i.deleteBranch=le;async function he(pe,Ne,Ce,De,He){var Ke;const Ge=Ne.equals(pe.activePullRequest)||((Ke=pe.repository.state.HEAD)==null?void 0:Ke.name)&&pe.repository.state.HEAD.name===(De==null?void 0:De.branch),je=[],nt=He.map(async Nt=>{switch(Nt.type){case"remoteHead":await pe.deleteBranch(Ne),je.push(Nt.type),await pe.repository.fetch({prune:!0}),pe.repository.rootUri.scheme===Bt.VscodeVfs&&await pe.repository.checkout(Ce);return;case"local":if(Ge){if(pe.repository.state.workingTreeChanges.length){const Et=s.l10n.t("Yes");if(await s.window.showWarningMessage(s.l10n.t("Your local changes will be lost, do you want to continue?"),{modal:!0},Et)===Et)await s.commands.executeCommand("git.cleanAll");else return}await pe.checkoutDefaultBranch(Ce,Ne)}return await pe.repository.deleteBranch(De.branch,!0),je.push(Nt.type);case"remote":return je.push(Nt.type),pe.repository.removeRemote(De.remote);case"suspend":return je.push(Nt.type),s.commands.executeCommand("github.codespaces.disconnectSuspend")}});return await Promise.all(nt),je}async function ke(pe,Ne){const Ce=await pe.getBranchNameForPullRequest(Ne),De=await pe.getPullRequestRepositoryDefaultBranch(Ne),He=s.workspace.getConfiguration(bt).get(`${Ai}.${Xi}`,!0),Ke=s.workspace.getConfiguration(bt).get(`${Ai}.${un}`,!0),Ge=[];Ne.isResolved()&&!(De===Ne.head.ref)&&!Ne.isRemoteHeadDeleted&&Ge.push({type:"remoteHead"}),Ce&&He&&Ge.push({type:"local"}),Ce&&Ce.remote&&Ce.createdForPullRequest&&!Ce.remoteInUse&&Ke&&Ge.push({type:"remote"}),await he(pe,Ne,De,Ce,Ge)}i.autoDeleteBranchesAfterMerge=ke})(vn||(vn={}));var fo=(i=>(i.Comment="comment",i.Approve="approve",i.RequestChanges="requestChanges",i))(fo||{}),xd=(i=>(i[i.None=0]="None",i[i.Available=1]="Available",i[i.ReviewedWithComments=2]="ReviewedWithComments",i[i.ReviewedWithoutComments=3]="ReviewedWithoutComments",i))(xd||{}),dS=Object.defineProperty,cS=(i,e,t)=>e in i?dS(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t,ma=(i,e,t)=>cS(i,typeof e!="symbol"?e+"":e,t);const ho=class In extends co{constructor(e,t,n,r,a,o){super(e,t,n,r,a,In.viewType,o,{light:"resources/icons/git-pull-request_webview.svg",dark:"resources/icons/dark/git-pull-request_webview.svg"}),ma(this,"_repositoryDefaultBranch"),ma(this,"_existingReviewers",[]),ma(this,"_teamsCount",0),ma(this,"_assignableUsers",{}),ma(this,"_prListeners",[]),ma(this,"_isUpdating",!1),ma(this,"generatingDescriptionCancellationToken"),this.registerPrListeners(),this.setVisibilityContext(),this._register(s.commands.registerCommand("pr.readyForReviewDescription",async()=>this.readyForReviewCommand())),this._register(s.commands.registerCommand("pr.readyForReviewAndMergeDescription",async d=>this.readyForReviewAndMergeCommand(d))),this._register(s.commands.registerCommand("review.approveDescription",d=>this.approvePullRequestCommand(d))),this._register(s.commands.registerCommand("review.commentDescription",d=>this.submitReviewCommand(d))),this._register(s.commands.registerCommand("review.requestChangesDescription",d=>this.requestChangesCommand(d))),this._register(s.commands.registerCommand("review.approveOnDotComDescription",()=>Za(this._item,this._telemetry))),this._register(s.commands.registerCommand("review.requestChangesOnDotComDescription",()=>Za(this._item,this._telemetry)))}static async createOrShow(e,t,n,r,a=!1,o=!0,d){e.sendTelemetryEvent("pr.openDescription",{isCopilot:r.author.login===fr?"true":"false"});const S=a?s.ViewColumn.Beside:s.window.activeTextEditor?s.window.activeTextEditor.viewColumn:s.ViewColumn.One;if(In.currentPanel)In.currentPanel._panel.reveal(S,o);else{const C=`Pull Request #${r.number.toString()}`;In.currentPanel=new In(e,t,S||s.ViewColumn.Active,C,n,d)}await In.currentPanel.update(n,r)}set _currentPanel(e){In.currentPanel=e}static refresh(){this.currentPanel&&this.currentPanel.refreshPanel()}static scrollToReview(){this.currentPanel&&this.currentPanel._postMessage({command:"pr.scrollToPendingReview"})}static getCurrentPullRequest(){var e;return(e=this.currentPanel)==null?void 0:e._item}registerPrListeners(){c(this._prListeners),this._prListeners.push(this._folderRepositoryManager.onDidChangeActivePullRequest(e=>{if(this._folderRepositoryManager&&this._item){const t=this._item.equals(this._folderRepositoryManager.activePullRequest);this._postMessage({command:"pr.update-checkout-status",isCurrentlyCheckedOut:t})}})),this._item&&this._prListeners.push(this._item.onDidChange(e=>{(e.state||e.comments)&&!this._isUpdating&&this.refreshPanel()}))}onDidChangeViewState(e){super.onDidChangeViewState(e),this.setVisibilityContext(),this._panel.visible&&this._item&&In._onVisible.fire(this._item)}setVisibilityContext(){return ht.setContext(Ft.PULL_REQUEST_DESCRIPTION_VISIBLE,this._panel.visible)}getCurrentUserReviewState(e,t){return vn.getCurrentUserReviewState(e,t)}getReviewContext(){return{item:this._item,folderRepositoryManager:this._folderRepositoryManager,existingReviewers:this._existingReviewers,postMessage:e=>this._postMessage(e),replyMessage:(e,t)=>this._replyMessage(e,t),throwError:(e,t)=>this._throwError(e,t),getTimeline:()=>this._getTimeline()}}isUpdateBranchWithGitHubEnabled(){return this._item.isActive||s.workspace.getConfiguration(bt).get("experimentalUpdateBranchWithGitHub",!1)}continueOnGitHub(){const e=!!this._item.base&&!!this._item.head&&!this._item.base.repositoryCloneUrl.equals(this._item.head.repositoryCloneUrl);return super.continueOnGitHub()&&e}preLoadInfoNotRequiredForOverview(e){e.getFileChangesInfo()}async updateItem(e){var t;if(this._item=e,this._isUpdating)throw new Error("Already updating pull request webview");this._isUpdating=!0;try{const[n,r,a,o,d,S,C,$,Y,ne,le,he,ke,pe,Ne,Ce,De]=await Promise.all([this._folderRepositoryManager.resolvePullRequest(e.remote.owner,e.remote.repositoryName,e.number),e.getTimelineEvents(),this._folderRepositoryManager.getPullRequestRepositoryDefaultBranch(e),e.getStatusChecks(),e.getReviewRequests(),this._folderRepositoryManager.getPullRequestRepositoryAccessAndMergeMethods(e),this._folderRepositoryManager.getBranchNameForPullRequest(e),this._folderRepositoryManager.getCurrentUser(e.githubRepository),e.canEdit(),this._folderRepositoryManager.getOrgTeamsCount(e.githubRepository),this._folderRepositoryManager.mergeQueueMethodForBranch(e.base.ref,e.remote.owner,e.remote.repositoryName),this._folderRepositoryManager.isHeadUpToDateWithBase(e),e.getMergeability(),this._folderRepositoryManager.getPreferredEmail(e),e.getCoAuthors(),e.validateDraftMode(),this._folderRepositoryManager.getAssignableUsers()]);if(!n)throw new Error(`Fail to resolve Pull Request #${e.number} in ${e.remote.owner}/${e.remote.repositoryName}`);this._item=n,this.registerPrListeners(),this._repositoryDefaultBranch=a,this._teamsCount=ne,this._assignableUsers=De,this.setPanelTitle(`Pull Request #${e.number.toString()}`);const He=e.equals(this._folderRepositoryManager.activePullRequest),Ke=S.mergeMethodsAvailability,Ge=Od(Ke);this._existingReviewers=rf(d,r,n.author);const je=this.isUpdateBranchWithGitHubEnabled(),nt=this.getCurrentUserReviewState(this._existingReviewers,$);y.debug("pr.initialize",In.ID);const Nt=(t=this._assignableUsers[e.remote.remoteName])!=null?t:[],Et=Nt.find(rt=>cn[rt.login]),ki=this._existingReviewers.some(rt=>!Ar(rt.reviewer)&&rt.reviewer.login===ed),Pi=this.getInitializeContext($,n,r,S,Y,Nt);this.preLoadInfoNotRequiredForOverview(n);const Be=s.workspace.getConfiguration(bt).get(Di,Zi).startsWith(Ii)?n.base.ref:a,ze={...Pi,canRequestCopilotReview:Et!==void 0&&!ki,isCurrentlyCheckedOut:He,isRemoteBaseDeleted:n.isRemoteBaseDeleted,base:`${n.base.owner}/${n.remote.repositoryName}:${n.base.ref}`,isRemoteHeadDeleted:n.isRemoteHeadDeleted,isLocalHeadDeleted:!C,head:n.head?`${n.head.owner}/${n.remote.repositoryName}:${n.head.ref}`:"",repositoryDefaultBranch:a,doneCheckoutBranch:Be,status:o[0],reviewRequirement:o[1],canUpdateBranch:n.item.viewerCanUpdate&&!he&&je,mergeable:ke.mergeability,reviewers:this._existingReviewers,isDraft:n.isDraft,mergeMethodsAvailability:Ke,defaultMergeMethod:Ge,hasReviewDraft:Ce,autoMerge:n.autoMerge,allowAutoMerge:n.allowAutoMerge,autoMergeMethod:n.autoMergeMethod,mergeQueueMethod:le,mergeQueueEntry:n.mergeQueueEntry,mergeCommitMeta:n.mergeCommitMeta,squashCommitMeta:n.squashCommitMeta,isIssue:!1,emailForCommit:pe,currentUserReviewState:nt,revertable:n.state===Li.Merged,isCopilotOnMyBehalf:await Rf(n,$,Ne),generateDescriptionTitle:this.getGenerateDescriptionTitle()};this._postMessage({command:"pr.initialize",pullrequest:ze}),n.isResolved()&&this._folderRepositoryManager.checkBranchUpToDate(n,!0)}catch(n){s.window.showErrorMessage(`Error updating pull request description: ${_e(n)}`)}finally{this._isUpdating=!1}}async update(e,t){const n=super.update(e,t,"pr:github");return this._folderRepositoryManager!==e&&this.registerPrListeners(),await n,In._onVisible.fire(t),n}async _onDidReceiveMessage(e){if(await super._onDidReceiveMessage(e)===this.MESSAGE_UNHANDLED)switch(e.command){case"pr.checkout":return this.checkoutPullRequest(e);case"pr.merge":return this.mergePullRequest(e);case"pr.change-email":return this.changeEmail(e);case"pr.deleteBranch":return this.deleteBranch(e);case"pr.readyForReview":return this.setReadyForReview(e);case"pr.readyForReviewAndMerge":return this.setReadyForReviewAndMerge(e);case"pr.convertToDraft":return this.setConvertToDraft(e);case"pr.approve":return this.approvePullRequestMessage(e);case"pr.request-changes":return this.requestChangesMessage(e);case"pr.checkout-default-branch":return this.checkoutDefaultBranch(e);case"pr.apply-patch":return this.applyPatch(e);case"pr.open-diff":return this.openDiff(e);case"pr.open-changes":return this.openChanges(e);case"pr.resolve-comment-thread":return this.resolveCommentThread(e);case"pr.checkMergeability":return this._replyMessage(e,await this._item.getMergeability());case"pr.change-reviewers":return this.changeReviewers(e);case"pr.update-automerge":return this.updateAutoMerge(e);case"pr.dequeue":return this.dequeue(e);case"pr.enqueue":return this.enqueue(e);case"pr.update-branch":return this.updateBranch(e);case"pr.gotoChangesSinceReview":return this.gotoChangesSinceReview(e);case"pr.re-request-review":return this.reRequestReview(e);case"pr.add-reviewer-copilot":return this.addReviewerCopilot(e);case"pr.revert":return this.revert(e);case"pr.open-session-log":return this.openSessionLog(e);case"pr.cancel-coding-agent":return this.cancelCodingAgent(e);case"pr.openCommitChanges":return this.openCommitChanges(e);case"pr.delete-review":return this.deleteReview(e);case"pr.generate-description":return this.generateDescription(e);case"pr.cancel-generate-description":return this.cancelGenerateDescription();case"pr.change-base-branch":return this.changeBaseBranch(e)}}gotoChangesSinceReview(e){return this._item.showChangesSinceReview?fn.openChanges(this._folderRepositoryManager,this._item):this._item.showChangesSinceReview=!0,this._replyMessage(e,{})}async changeReviewers(e){let t;try{t=await Rg(this._folderRepositoryManager,this._item.remote.remoteName,this._item.base.isInOrganization,this._teamsCount,this._item.author,this._existingReviewers,this._item.suggestedReviewers),t.busy=!1;const n=Me(t.onDidAccept).then(()=>t==null?void 0:t.selectedItems.filter(d=>d.user).map(d=>d.user)),r=Me(t.onDidHide),a=await Promise.race([n,r]);if(t.busy=!0,t.enabled=!1,a){const o=[],d=[];a.forEach(Y=>{(Ar(Y)?d:o).push(Y)});const S=[],C=[];this._existingReviewers.forEach(Y=>{let ne=Ar(Y.reviewer)?d:o,le=Ar(Y.reviewer)?C:S;ne.find(he=>he.id===Y.reviewer.id)||le.push(Y.reviewer)}),await this._item.requestReview(o,d),await this._item.deleteReviewRequest(S,C);const $=a.map(Y=>({reviewer:Y,state:"REQUESTED"}));this._existingReviewers=$,await this._replyMessage(e,{reviewers:$})}}catch(n){y.error(_e(n),In.ID),s.window.showErrorMessage(_e(n))}finally{t==null||t.hide(),t==null||t.dispose()}}async applyPatch(e){try{const t=e.args.comment,r=/```diff\n([\s\S]*)\n```/g.exec(t.body),a=s.Uri.joinPath(this._folderRepositoryManager.repository.rootUri,".git",`${t.id}.diff`),o=new TextEncoder;await s.workspace.fs.writeFile(a,o.encode(r[1])),await this._folderRepositoryManager.repository.apply(a.fsPath),await s.workspace.fs.delete(a),s.window.showInformationMessage("Patch applied!")}catch(t){y.error(`Applying patch failed: ${t}`,In.ID),s.window.showErrorMessage(`Applying patch failed: ${_e(t)}`)}}_getTimeline(){return this._item.getTimelineEvents()}async openDiff(e){try{const t=e.args.comment;return fn.openDiffFromComment(this._folderRepositoryManager,this._item,t)}catch(t){y.error(`Open diff view failed: ${_e(t)}`,In.ID)}}async openSessionLog(e){try{const t=lu.getResource(this._item.number,e.args.link.sessionIndex);return s.commands.executeCommand("vscode.open",t)}catch(t){y.error(`Open session log view failed: ${_e(t)}`,In.ID)}}async cancelCodingAgent(e){try{let t=!1;if(e.args.event!==Ht.CopilotStarted)return this._replyMessage(e,{success:!1,error:"Invalid event type"});{const a=await Mp(this._folderRepositoryManager.credentialStore,this._telemetry,this._item.remote.authProviderId);if(a){const o=(await a.getAllSessions(this._item.id))[0];o.state!=="completed"&&(t=await this._item.githubRepository.cancelWorkflow(o.workflow_run_id))}}let n=[];if(t)do n=await this._getTimeline();while(id(_w(n))!==Lr.Completed&&await new Promise(a=>setTimeout(()=>a(!0),2e3)));const r={events:n};this._replyMessage(e,r)}catch(t){y.error(`Cancelling coding agent failed: ${_e(t)}`,In.ID),s.window.showErrorMessage(s.l10n.t("Cannot cancel coding agent"));const n={events:[]};this._replyMessage(e,n)}}async openCommitChanges(e){try{const{commitSha:t}=e.args;await fn.openCommitChanges(this._extensionUri,this._item.githubRepository,t),this._replyMessage(e,{})}catch(t){y.error(`Failed to open commit changes: ${_e(t)}`,In.ID),s.window.showErrorMessage(s.l10n.t("Failed to open commit changes: {0}",_e(t)))}}async openChanges(e){var t;const n=((t=e==null?void 0:e.args)==null?void 0:t.openToTheSide)||!1;return fn.openChanges(this._folderRepositoryManager,this._item,n)}async resolveCommentThread(e){try{e.args.toResolve?await this._item.resolveReviewThread(e.args.threadId):await this._item.unresolveReviewThread(e.args.threadId);const t=await this._getTimeline();this._replyMessage(e,t)}catch(t){s.window.showErrorMessage(t),this._replyMessage(e,void 0)}}checkoutPullRequest(e){s.commands.executeCommand("pr.pick",this._item).then(()=>{const t=this._item.equals(this._folderRepositoryManager.activePullRequest);this._replyMessage(e,{isCurrentlyCheckedOut:t})},()=>{const t=this._item.equals(this._folderRepositoryManager.activePullRequest);this._replyMessage(e,{isCurrentlyCheckedOut:t})})}async mergePullRequest(e){const{title:t,description:n,method:r,email:a}=e.args;try{const o=await this._item.merge(this._folderRepositoryManager.repository,t,n,r,a);o.merged?s.workspace.getConfiguration(bt).get(Wi,!1)&&await vn.autoDeleteBranchesAfterMerge(this._folderRepositoryManager,this._item):s.window.showErrorMessage(`Merging pull request failed: ${o.message}`);const d={state:o.merged?Li.Merged:Li.Open,revertable:o.merged,events:o.timeline};this._replyMessage(e,d)}catch(o){s.window.showErrorMessage(`Unable to merge pull request. ${_e(o)}`),this._throwError(e,"")}}async changeEmail(e){const t=await X1(this._item.githubRepository,e.args);return t&&this._folderRepositoryManager.saveLastUsedEmail(t),this._replyMessage(e,t!=null?t:e.args)}async deleteBranch(e){const t=await vn.deleteBranch(this._folderRepositoryManager,this._item);t.isReply?this._replyMessage(e,t.message):(this.refreshPanel(),this._postMessage(t.message))}async setReadyForReview(e){return vn.setReadyForReview(this.getReviewContext(),e)}async setReadyForReviewAndMerge(e){return vn.setReadyForReviewAndMerge(this.getReviewContext(),e)}async setConvertToDraft(e){return vn.setConvertToDraft(this.getReviewContext(),e)}async readyForReviewCommand(){return vn.readyForReviewCommand(this.getReviewContext())}async readyForReviewAndMergeCommand(e){return vn.readyForReviewAndMergeCommand(this.getReviewContext(),e)}async checkoutDefaultBranch(e){return vn.checkoutDefaultBranch(this.getReviewContext(),e)}async doReviewCommand(e,t,n){const r=await vn.doReviewCommand(this.getReviewContext(),e,t,!0,n);r&&this.tryScheduleCopilotRefresh(r.body,r.state)}async doReviewMessage(e,t){const n=await vn.doReviewMessage(this.getReviewContext(),e,!0,t);n&&this.tryScheduleCopilotRefresh(n.body,n.state)}approvePullRequest(e){return this._item.approve(this._folderRepositoryManager.repository,e)}approvePullRequestMessage(e){return this.doReviewMessage(e,t=>this.approvePullRequest(t))}approvePullRequestCommand(e){return this.doReviewCommand(e,fo.Approve,t=>this.approvePullRequest(t))}requestChanges(e){return this._item.requestChanges(e)}requestChangesCommand(e){return this.doReviewCommand(e,fo.RequestChanges,t=>this.requestChanges(t))}requestChangesMessage(e){return this.doReviewMessage(e,t=>this.requestChanges(t))}submitReview(e){return this._item.submitReview(Tr.Comment,e)}submitReviewCommand(e){return this.doReviewCommand(e,fo.Comment,t=>this.submitReview(t))}submitReviewMessage(e){return this.doReviewMessage(e,t=>this.submitReview(t))}reRequestReview(e){return vn.reRequestReview(this.getReviewContext(),e)}async addReviewerCopilot(e){var t;try{if((t=this._assignableUsers[this._item.remote.remoteName])==null?void 0:t.find(r=>cn[r.login])){await this._item.requestReview([Lm],[]);const r=await this._item.getReviewRequests();this._existingReviewers=rf(r,await this._item.getTimelineEvents(),this._item.author);const a={reviewers:this._existingReviewers};this._replyMessage(e,a)}else this._throwError(e,"Copilot reviewer not found.")}catch(n){s.window.showErrorMessage(_e(n)),this._throwError(e,_e(n))}}async revert(e){await this._folderRepositoryManager.createPullRequestHelper.revert(this._telemetry,this._extensionUri,this._folderRepositoryManager,this._item,async t=>{const n={revertable:!t};return this._replyMessage(e,n)})}async updateAutoMerge(e){let t;!e.args.autoMerge&&!this._item.autoMerge?t={autoMerge:!1}:e.args.autoMerge===!1&&this._item.autoMerge?(await this._item.disableAutoMerge(),t={autoMerge:this._item.autoMerge}):(this._item.autoMerge&&e.args.autoMergeMethod!==this._item.autoMergeMethod&&await this._item.disableAutoMerge(),await this._item.enableAutoMerge(e.args.autoMergeMethod),t={autoMerge:this._item.autoMerge,autoMergeMethod:this._item.autoMergeMethod}),this._replyMessage(e,t)}async dequeue(e){const t=await this._item.dequeuePullRequest();this._replyMessage(e,t)}async enqueue(e){const t=await this._item.enqueuePullRequest();this._replyMessage(e,{mergeQueueEntry:t})}async updateBranch(e){return vn.updateBranch(this.getReviewContext(),e,()=>this.refreshPanel(),()=>this.isUpdateBranchWithGitHubEnabled())}editCommentPromise(e,t){return this._item.editReviewComment(e,t)}deleteCommentPromise(e){return this._item.deleteReviewComment(e.id.toString())}async deleteReview(e){try{const t=await this._item.deleteReview();await this._replyMessage(e,t)}catch(t){y.error(_e(t),In.ID),s.window.showErrorMessage(s.l10n.t("Deleting review failed. {0}",_e(t))),this._throwError(e,`${_e(t)}`)}}getGenerateDescriptionTitle(){const e=this._folderRepositoryManager.getTitleAndDescriptionProvider();return e?`Generate description with ${e.title}`:void 0}async generateDescription(e){this.generatingDescriptionCancellationToken&&this.generatingDescriptionCancellationToken.cancel(),this.generatingDescriptionCancellationToken=new s.CancellationTokenSource;try{const t=this._folderRepositoryManager.getTitleAndDescriptionProvider();if(!t)return this._replyMessage(e,{description:void 0});const[n,r]=await Promise.all([this._item.getCommits(),this._item.getRawFileChangesInfo()]),a=n.map(C=>C.commit.message),o=r.filter(C=>C.patch!==void 0).map(C=>{const $=s.Uri.joinPath(this._folderRepositoryManager.repository.rootUri,C.filename).toString(),Y=C.previous_filename?s.Uri.joinPath(this._folderRepositoryManager.repository.rootUri,C.previous_filename).toString():void 0;return{patch:C.patch,fileUri:$,previousFileUri:Y}}),d=await this._folderRepositoryManager.getPullRequestTemplateBody(this._item.remote.owner),S=await t.provider.provideTitleAndDescription({commitMessages:a,patches:o,issues:[],template:d},this.generatingDescriptionCancellationToken.token);return this.generatingDescriptionCancellationToken=void 0,this._replyMessage(e,{description:S==null?void 0:S.description})}catch(t){return y.error(`Error generating description: ${_e(t)}`,In.ID),this.generatingDescriptionCancellationToken=void 0,this._replyMessage(e,{description:void 0})}}async cancelGenerateDescription(){this.generatingDescriptionCancellationToken&&(this.generatingDescriptionCancellationToken.cancel(),this.generatingDescriptionCancellationToken=void 0)}async changeBaseBranch(e){const t=s.window.createQuickPick();let n=0;const r=async d=>{const S=++n;t.busy=!0;const C=await Ag(this._item.githubRepository,this._folderRepositoryManager,void 0,!0,d);S===n&&(t.items=C,t.busy=!1)},a=cf(r,300),o=t.onDidChangeValue(async d=>a(d));try{t.busy=!0,t.canSelectMany=!1,t.placeholder=s.l10n.t("Select a new base branch"),t.show(),await r(void 0),t.busy=!1;const d=Me(t.onDidAccept).then(()=>{var $;return($=t.selectedItems[0])==null?void 0:$.branch}),S=Me(t.onDidHide),C=await Promise.race([d,S]);if(t.busy=!0,t.enabled=!1,C)try{await this._item.updateBaseBranch(C);const $=await this._getTimeline(),Y={base:C,events:$};await this._replyMessage(e,Y)}catch($){y.error(_e($),In.ID),s.window.showErrorMessage(s.l10n.t("Changing base branch failed. {0}",_e($))),this._throwError(e,`${_e($)}`)}}catch(d){y.error(_e(d),In.ID),s.window.showErrorMessage(_e(d))}finally{t.hide(),o.dispose(),t.dispose()}}dispose(){super.dispose(),c(this._prListeners)}static dispose(){In._onVisible.dispose()}};ma(ho,"ID","PullRequestOverviewPanel"),ma(ho,"viewType",uf),ma(ho,"currentPanel"),ma(ho,"_onVisible",new s.EventEmitter),ma(ho,"onVisible",ho._onVisible.event);let rr=ho;function Od(i){const e=s.workspace.getConfiguration(bt).get(hi);return e&&i.hasOwnProperty(e)&&i[e]?e:["merge","squash","rebase"].find(n=>i[n])}var fS=Object.defineProperty,hS=(i,e,t)=>e in i?fS(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t,mo=(i,e,t)=>hS(i,typeof e!="symbol"?e+"":e,t);const kf=class um extends Rp{constructor(e,t,n,r){if(super(t,r),this.pullRequestModel=e,mo(this,"_pendingCommentThreadAdds",[]),mo(this,"_commentHandlerId"),mo(this,"_commentThreadCache",{}),mo(this,"_context"),mo(this,"_githubRepositories"),this._commentController=n,this._context=t.context,this._commentHandlerId=Ep(),Zn(this._commentHandlerId,this,t.repository),this.pullRequestModel.reviewThreadsCacheReady)this.initializeThreadsInOpenEditors().then(()=>{this.registerListeners()});else{const a=this.pullRequestModel.onDidChangeReviewThreads(async()=>{a.dispose(),await this.initializeThreadsInOpenEditors(),this.registerListeners()})}this._githubRepositories=this.githubReposForPullRequest(e)}registerListeners(){this._register(this.pullRequestModel.onDidChangeReviewThreads(e=>this.onDidChangeReviewThreads(e))),this._register(s.window.tabGroups.onDidChangeTabs(async e=>this.onDidChangeOpenTabs(e))),this._register(this.pullRequestModel.onDidChangePendingReviewState(e=>{for(const t in this._commentThreadCache)this._commentThreadCache[t].forEach(n=>{Ym(n,e)})})),this._register(s.window.onDidChangeActiveTextEditor(e=>{this.refreshContextKey(e)}))}refreshContextKey(e){if(!e)return;const t=e.document.uri;if(t.scheme!==Bt.Pr)return;const n=yn(t);!n||n.prNumber!==this.pullRequestModel.number||this.setContextKey(this.pullRequestModel.hasPendingReview)}async getPREditors(e){const t=[],n=r=>{const a=yn(r.uri);if(a&&a.prNumber===this.pullRequestModel.number)return r.editor?Promise.resolve(r.editor.document):(y.trace(`Opening text document for PR editor ${r.uri.toString()}`,um.ID),s.workspace.openTextDocument(r.uri))};for(const r of e){const a=[];r instanceof s.TabInputText?a.push({uri:r.uri}):r instanceof s.TabInputTextDiff?a.push({uri:r.original},{uri:r.modified}):a.push({uri:r.document.uri,editor:r}),t.push(...a.map(n).filter(o=>!!o))}return Promise.all(t)}getCommentThreadCacheKey(e,t){return`${e}-${t?"original":"modified"}`}async addThreadsForEditors(e){const t=this.pullRequestModel.reviewThreadsCache,n=B(t,a=>a.path),r=await this._folderRepoManager.getCurrentUser();for(const a of e){const{fileName:o,isBase:d}=yn(a.uri),S=this.getCommentThreadCacheKey(o,d);this._commentThreadCache[S]||n[o]&&(this._commentThreadCache[S]=n[o].filter(C=>(C.diffSide===Pn.LEFT&&d||C.diffSide===Pn.RIGHT&&!d)&&C.endLine!==null).map(C=>{const $=C.endLine-1,Y=C.subjectType===Va.FILE?void 0:eu(C.startLine-1,$,a.lineAt($).range.end.character);return tu(this._context,a.uri,Y,C,this._commentController,r,this._githubRepositories)}))}}async initializeThreadsInOpenEditors(){const e=await this.getPREditors(s.window.visibleTextEditors);return this.addThreadsForEditors(e)}allTabs(){return this.filterTabsToPrTabs(s.window.tabGroups.all.map(e=>e.tabs).flat())}filterTabsToPrTabs(e){return e.filter(t=>t.input instanceof s.TabInputText||t.input instanceof s.TabInputTextDiff).map(t=>t.input)}prDescriptionOpened(e){return e.some(t=>t.input instanceof s.TabInputWebview&&t.label.includes(`#${this.pullRequestModel.number}`)&&t.input.viewType.includes(uf))}async cleanClosedPrs(){const e=await this.getPREditors(this.allTabs()),t=this.prDescriptionOpened(s.window.tabGroups.all.map(n=>n.tabs).flat());e.length===0&&!t&&this.removeAllCommentsThreads()}async openAllTextDocuments(){const e=await fn.getChangeModels(this._folderRepoManager,this.pullRequestModel),t=[];for(const n of e)t.push(await s.workspace.openTextDocument(n.filePath));return t}async onDidChangeOpenTabs(e){const t=await this.getPREditors(this.filterTabsToPrTabs(e.opened));if(t.length)await this.addThreadsForEditors(t);else if(this.prDescriptionOpened(e.opened)){const n=await this.openAllTextDocuments();await this.addThreadsForEditors(n)}e.closed.length>0&&(await new Promise(n=>setTimeout(n,100)),await this.cleanClosedPrs())}async onDidChangeReviewThreads(e){for(const t of e.added){const n=t.path,r=this._pendingCommentThreadAdds.findIndex(d=>{const S=this._folderRepoManager.gitRelativeRootPath(d.uri.path)===t.path,C=d.range===void 0&&t.subjectType===Va.FILE||d.range&&d.range.end.line+1===t.endLine;return S&&C});let a;if(r>-1)a=this._pendingCommentThreadAdds[r],a.gitHubThreadId=t.id,a.comments=t.comments.map(d=>new Kn(this._context,d,a,this._githubRepositories)),Km(this._context,a,t,this._githubRepositories,void 0,!0),this._pendingCommentThreadAdds.splice(r,1);else{const S=(await this.getPREditors(s.window.visibleTextEditors)).find(C=>{const $=yn(C.uri),Y=t.diffSide===Pn.RIGHT&&!($!=null&&$.isBase)||t.diffSide===Pn.LEFT&&($==null?void 0:$.isBase);return($==null?void 0:$.fileName)===n&&Y});if(S){const C=t.endLine-1,$=t.subjectType===Va.FILE?void 0:eu(t.startLine-1,C,S.lineAt(C).range.end.character);a=tu(this._context,S.uri,$,t,this._commentController,await this._folderRepoManager.getCurrentUser(),this._githubRepositories)}}if(!a)return;const o=this.getCommentThreadCacheKey(t.path,t.diffSide===Pn.LEFT);this._commentThreadCache[o]?this._commentThreadCache[o].push(a):this._commentThreadCache[o]=[a]}for(const t of e.changed){const n=this.getCommentThreadCacheKey(t.path,t.diffSide===Pn.LEFT),r=this._commentThreadCache[n]?this._commentThreadCache[n].findIndex(a=>a.gitHubThreadId===t.id):-1;if(r>-1){const a=this._commentThreadCache[n][r];sd(this._context,a,t,this._githubRepositories)}}for(const t of e.removed){const n=this.getCommentThreadCacheKey(t.path,t.diffSide===Pn.LEFT),r=this._commentThreadCache[n].findIndex(a=>a.gitHubThreadId===t.id);if(r>-1){const a=this._commentThreadCache[n][r];this._commentThreadCache[n].splice(r,1),a.dispose()}}}onDidChangeActiveTextEditor(e){const t=s.window.tabGroups.activeTabGroup.activeTab,n=(t==null?void 0:t.input)instanceof s.TabInputText?t.input.uri:(t==null?void 0:t.input)instanceof s.TabInputTextDiff?t.input.original:void 0;if(e===void 0||!e.document.uri.authority.startsWith(um.PREFIX)||!n||n.scheme!==Bt.Pr)return;const r=yn(n);if(!(!r||r.prNumber!==this.pullRequestModel.number))return this.tryAddCopilotMention(e,this.pullRequestModel)}hasCommentThread(e){if(e.uri.scheme!==Bt.Pr)return!1;const t=yn(e.uri);return!(!t||t.prNumber!==this.pullRequestModel.number)}getCommentSide(e){const t=yn(e.uri);return t!=null&&t.isBase?Pn.LEFT:Pn.RIGHT}async createOrReplyComment(e,t,n,r){var a;const o=e.comments.length,d=n?!1:r!==void 0?r:this.pullRequestModel.hasPendingReview,S=await this.optimisticallyAddComment(e,t,d);try{if(o)await this.reply(e,t,n);else{const C=this._folderRepoManager.gitRelativeRootPath(e.uri.path),$=this.getCommentSide(e);this._pendingCommentThreadAdds.push(e),await Promise.all([this.pullRequestModel.createReviewThread(t,C,e.range?e.range.start.line+1:void 0,e.range?e.range.end.line+1:void 0,$,n),ad(e,await this._folderRepoManager.getCurrentUser(this.pullRequestModel.githubRepository),this._context)])}n&&await this.pullRequestModel.submitReview()}catch(C){(a=C.graphQLErrors)!=null&&a.length&&C.graphQLErrors[0].type==="NOT_FOUND"?s.window.showWarningMessage("The comment that you're replying to was deleted. Refresh to update.","Refresh").then($=>{$==="Refresh"&&this.pullRequestModel.githubRepository.getPullRequest(this.pullRequestModel.number)}):s.window.showErrorMessage(`Creating comment failed: ${C}`),e.comments=e.comments.map($=>($ instanceof ha&&$.id===S&&($.mode=s.CommentMode.Editing),$))}}reply(e,t,n){const r=e.comments[0];if(r instanceof Kn)return this.pullRequestModel.createCommentReply(t,r.rawComment.graphNodeId,n);throw new Error("Cannot respond to temporary comment")}async optimisticallyEditComment(e,t){const n=await this._folderRepoManager.getCurrentUser(this.pullRequestModel.githubRepository),r=new ha(e,t.body instanceof s.MarkdownString?t.body.value:t.body,!!t.label,n,t);return e.comments=e.comments.map(a=>a instanceof Kn&&a.commentId===t.commentId?r:a),r.id}async editComment(e,t){if(t instanceof Kn){const n=await this.optimisticallyEditComment(e,t);try{await this.pullRequestModel.editReviewComment(t.rawComment,t.body instanceof s.MarkdownString?t.body.value:t.body)}catch(r){s.window.showErrorMessage(`Editing comment failed ${r}`),e.comments=e.comments.map(a=>a instanceof ha&&a.id===n?new Kn(this._context,t.rawComment,e):a)}}else this.createOrReplyComment(e,t.body instanceof s.MarkdownString?t.body.value:t.body,!1)}async deleteComment(e,t){t instanceof Kn?await this.pullRequestModel.deleteReviewComment(t.commentId):e.comments=e.comments.filter(n=>!(n instanceof ha&&n.id===t.id)),await this.pullRequestModel.validateDraftMode()}async startReview(e,t){var n;const r=e.comments.length;let a;try{if(a=await this.optimisticallyAddComment(e,t,!0),r)await this.reply(e,t,!1);else{const o=this._folderRepoManager.gitRelativeRootPath(e.uri.path),d=this.getCommentSide(e);this._pendingCommentThreadAdds.push(e),await this.pullRequestModel.createReviewThread(t,o,e.range?e.range.start.line+1:void 0,e.range?e.range.end.line+1:void 0,d)}this.setContextKey(!0)}catch(o){s.window.showErrorMessage("Starting review failed. Any review comments may be lost.",{modal:!0,detail:(n=o==null?void 0:o.message)!=null?n:o}),e.comments=e.comments.map(d=>(d instanceof ha&&d.id===a&&(d.mode=s.CommentMode.Editing),d))}}async openReview(){await rr.createOrShow(this._telemetry,this._folderRepoManager.context.extensionUri,this._folderRepoManager,this.pullRequestModel),rr.scrollToReview(),this._folderRepoManager.telemetry.sendTelemetryEvent("pr.openDescription")}async optimisticallyAddComment(e,t,n){const r=await this._folderRepoManager.getCurrentUser(this.pullRequestModel.githubRepository),a=new ha(e,t,n,r);return this.updateCommentThreadComments(e,[...e.comments,a]),a.id}updateCommentThreadComments(e,t){e.comments=t,$o(e)}async createCommentOnResolve(e,t){const n=await this.pullRequestModel.getPendingReviewId();await this.createOrReplyComment(e,t,!n)}async resolveReviewThread(e,t){try{t&&await this.createCommentOnResolve(e,t),await this.pullRequestModel.resolveReviewThread(e.gitHubThreadId)}catch(n){s.window.showErrorMessage(`Resolving conversation failed: ${n}`)}}async unresolveReviewThread(e,t){try{t&&await this.createCommentOnResolve(e,t),await this.pullRequestModel.unresolveReviewThread(e.gitHubThreadId)}catch(n){s.window.showErrorMessage(`Unresolving conversation failed: ${n}`)}}async toggleReaction(e,t){if(e.parent.uri.scheme===Bt.Pr)try{e.reactions&&!e.reactions.find(n=>n.label===t.label&&!!n.authorHasReacted)?await this.pullRequestModel.addCommentReaction(e.rawComment.graphNodeId,t):await this.pullRequestModel.deleteCommentReaction(e.rawComment.graphNodeId,t)}catch(n){const r=_e(n);if(r.includes("does not have the correct permissions to execute `RemoveReaction`"))return;throw new Error(r)}}setContextKey(e){s.commands.executeCommand("setContext","prInDraft",e)}removeAllCommentsThreads(){Object.keys(this._commentThreadCache).forEach(e=>{c(this._commentThreadCache[e]),delete this._commentThreadCache[e]})}dispose(){super.dispose(),this.removeAllCommentsThreads(),Xt(this._commentHandlerId)}};mo(kf,"ID","PullRequestCommentController"),mo(kf,"PREFIX","github-browse");let Lg=kf;var mS=Object.defineProperty,pS=(i,e,t)=>e in i?mS(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t,Ld=(i,e,t)=>pS(i,typeof e!="symbol"?e+"":e,t);class gS extends f{constructor(e,t){super(),this.commentsController=e,this._telemetry=t,Ld(this,"_prCommentHandlers",{}),Ld(this,"_prCommentingRangeProviders",{}),Ld(this,"_activeChangeListeners",new Map),Ld(this,"resourceHints",{schemes:[Bt.Pr]}),this.commentsController.commentingRangeProvider=this,this.commentsController.reactionHandler=this.toggleReaction.bind(this)}async provideCommentingRanges(e,t){const n=e.uri,r=yn(n);return!r||!this._prCommentingRangeProviders[r.prNumber]?void 0:this._prCommentingRangeProviders[r.prNumber].provider.provideCommentingRanges.bind(this._prCommentingRangeProviders[r.prNumber].provider)(e,t)}async toggleReaction(e,t){const n=e.parent.uri,r=yn(n);return!r||!this._prCommentHandlers[r.prNumber]||!this._prCommentHandlers[r.prNumber].handler.toggleReaction?void 0:this._prCommentHandlers[r.prNumber].handler.toggleReaction.bind(this._prCommentHandlers[r.prNumber].handler)(e,t)}unregisterCommentController(e){this._prCommentHandlers[e]&&(this._prCommentHandlers[e].dispose(),delete this._prCommentHandlers[e])}registerCommentController(e,t,n){if(this._prCommentHandlers[e])return this._prCommentHandlers[e].refCount+=1,this._prCommentHandlers[e];this._activeChangeListeners.has(n)||this._activeChangeListeners.set(n,n.onDidChangeActivePullRequest(a=>{var o;a.old&&((o=this._prCommentHandlers[a.old.number])==null||o.dispose())}));const r=new Lg(t,n,this.commentsController,this._telemetry);return this._prCommentHandlers[e]={handler:r,refCount:1,dispose:()=>{this._prCommentHandlers[e]&&(this._prCommentHandlers[e].refCount-=1,this._prCommentHandlers[e].refCount===0&&(this._prCommentHandlers[e].handler.dispose(),delete this._prCommentHandlers[e]))}},this._prCommentHandlers[e]}registerCommentingRangeProvider(e,t){return this._prCommentingRangeProviders[e]?(this._prCommentingRangeProviders[e].refCount+=1,this._prCommentingRangeProviders[e]):(this._prCommentingRangeProviders[e]={provider:t,refCount:1,dispose:()=>{this._prCommentingRangeProviders[e]&&(this._prCommentingRangeProviders[e].refCount-=1,this._prCommentingRangeProviders[e].refCount===0&&delete this._prCommentingRangeProviders[e])}},this._prCommentingRangeProviders[e])}dispose(){super.dispose(),Object.keys(this._prCommentHandlers).forEach(e=>{this._prCommentHandlers[e].handler.dispose()}),this._prCommentingRangeProviders={},this._prCommentHandlers={}}}var vS=Object.defineProperty,yS=(i,e,t)=>e in i?vS(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t,ar=(i,e,t)=>yS(i,typeof e!="symbol"?e+"":e,t);const Ug=20,Bg="GraphQL";var pa=(i=>(i.Unknown="unknown",i.Admin="ADMIN",i.Maintain="MAINTAIN",i.Read="READ",i.Triage="TRIAGE",i.Write="WRITE",i))(pa||{}),tl=(i=>(i[i.None=0]="None",i[i.Try=1]="Try",i[i.Force=2]="Force",i))(tl||{}),qg=(i=>(i.Unprocessable="UNPROCESSABLE",i))(qg||{}),Qa=(i=>(i.NotCopilotIssue="NotCopilotIssue",i.InProgress="InProgress",i.Error="Error",i.Done="Done",i))(Qa||{});const $g=class Lb extends f{constructor(e,t,n,r,a,o=!1){super(),this._id=e,this.remote=t,this.rootUri=n,this._credentialStore=r,this.telemetry=a,ar(this,"_initialized",!1),ar(this,"_hub"),ar(this,"_metadata"),ar(this,"commentsController"),ar(this,"commentsHandler"),ar(this,"_pullRequestModelsByNumber",new(Zc())({maxAge:1e3*60*60*4,stale:!0,updateAgeOnGet:!0,dispose:(d,S)=>{c(S.disposables),S.model.dispose()}})),ar(this,"_issueModelsByNumber",new(Zc())({maxAge:1e3*60*60*4,stale:!0,updateAgeOnGet:!0,dispose:(d,S)=>{c(S.disposables),S.model.dispose()}})),ar(this,"_queriesSchema"),ar(this,"_areQueriesLimited",!1),ar(this,"_onDidAddPullRequest",this._register(new s.EventEmitter)),ar(this,"onDidAddPullRequest",this._onDidAddPullRequest.event),ar(this,"_onDidChangePullRequests",this._register(new s.EventEmitter)),ar(this,"onDidChangePullRequests",this._onDidChangePullRequests.event),ar(this,"query",async(d,S=!1,C)=>{var $,Y,ne;const le=this.authMatchesServer&&this.hub&&this.hub.graphql;if(!le){const ke=($=d.query.definitions[0].name)==null?void 0:$.value;return y.debug(`Not available for query: ${ke!=null?ke:"unknown"}`,Bg),{data:null,loading:!1,networkStatus:Hn.error,stale:!1}}let he;try{he=await le.query(d)}catch(ke){const pe=(Y=d.query.definitions[0].name)==null?void 0:Y.value,Ne=ke.graphQLErrors?ke.graphQLErrors:void 0;if(y.error(`Error querying GraphQL API (${pe}): ${ke.message}${Ne?`. ${Ne.map(Ce=>{var De;return(De=Ce.extensions)==null?void 0:De.code}).join(",")}`:""}`,this.id),C)return d.query=C.query,d.variables=C.variables,this.query(d,S);if(Ne&&Ne.length&&Ne.some(Ce=>{var De;return((De=Ce.extensions)==null?void 0:De.code)==="undefinedField"})&&!this._areQueriesLimited)this._areQueriesLimited=!0,this._queriesSchema=Ql(ru(),vp()),d.query=this.schema[d.query.definitions[0].name.value],he=await le.query(d);else if(!(S&&tf(ke)))if((ne=ke.message)!=null&&ne.includes("401 Unauthorized"))await this._credentialStore.recreate(s.l10n.t("Your authentication session has lost authorization. You need to sign in again to regain authorization.")),he=await le.query(d);else throw ke.graphQLErrors&&ke.graphQLErrors.length&&ke.graphQLErrors[0].message==="Resource not accessible by integration"&&await this.codespacesTokenError(d),ke}return he}),ar(this,"mutate",async(d,S)=>{var C;const $=this.authMatchesServer&&this.hub&&this.hub.graphql;if(!$)return y.debug(`Not available for query: ${d.context}`,Bg),{data:null};let Y;try{Y=await $.mutate(d)}catch(ne){if(S){if(d.mutation=S.mutation,(C=d.variables)!=null&&C.input)for(const le of S.deleteProps)delete d.variables.input[le];return this.mutate(d)}else ne.graphQLErrors&&ne.graphQLErrors.length&&ne.graphQLErrors[0].message==="Resource not accessible by integration"&&await this.codespacesTokenError(d);throw ne}return Y}),ar(this,"_repoAccessAndMergeMethods"),ar(this,"_branchHasMergeQueue",new Map),ar(this,"_useFallbackChecks",!1),this._queriesSchema=Ql(ru(),gp()),o||this.ensureCommentsController()}get areQueriesLimited(){return this._areQueriesLimited}get hub(){if(!this._hub)throw this._initialized?new rd:new Error("Call ensure() before accessing this property.");return this._hub}equals(e){return this.remote.equals(e.remote)}getExistingPullRequestModel(e){var t;return(t=this._pullRequestModelsByNumber.get(e))==null?void 0:t.model}getExistingIssueModel(e){var t;return(t=this._issueModelsByNumber.get(e))==null?void 0:t.model}get pullRequestModels(){return Array.from(this._pullRequestModelsByNumber.values().map(e=>e.model))}get issueModels(){return Array.from(this._issueModelsByNumber.values().map(e=>e.model))}async ensureCommentsController(){var e;try{if(await this.ensure(),this.commentsController)return;this.commentsController=s.comments.createCommentController(`${Lg.PREFIX}-${(e=this.remote.gitProtocol.normalizeUri())==null?void 0:e.authority}-${this.remote.remoteName}-${this.remote.owner}-${this.remote.repositoryName}`,`Pull Request (${this.remote.owner}/${this.remote.repositoryName})`),this.commentsHandler=new gS(this.commentsController,this.telemetry),this._register(this.commentsHandler),this._register(this.commentsController)}catch(t){console.log(t)}}dispose(){super.dispose(),this.commentsController=void 0,this.commentsHandler=void 0}get octokit(){return this.hub&&this.hub.octokit}get id(){return`${Lb.ID}+${this._id}`}get authMatchesServer(){return this.remote.githubServerType===En.GitHubDotCom&&this._credentialStore.isAuthenticated(Ni.github)?!0:!!(this.remote.githubServerType===En.Enterprise&&this._credentialStore.isAuthenticated(Ni.githubEnterprise))}async codespacesTokenError(e){var t;if(pd()&&((t=await this._metadata)!=null&&t.fork))throw this.telemetry.sendTelemetryErrorEvent("pr.codespacesTokenError",{action:e.context}),new Error(s.l10n.t("This action cannot be completed in a GitHub Codespace on a fork."))}get schema(){return this._queriesSchema}async getMetadataForRepo(e,t){var n;if(this._metadata&&this.remote.owner===e&&this.remote.repositoryName===t)return y.debug(`Using cached metadata for repo ${e}/${t}`,this.id),this._metadata;y.debug("Fetch metadata for repo - enter",this.id);const{octokit:r}=await this.ensure(),a=await r.call(r.api.repos.get,{owner:e,repo:t});return y.debug(`Fetch metadata for repo ${e}/${t} - done`,this.id),{...a.data,currentUser:await((n=this._hub)==null?void 0:n.currentUser)}}async getMetadata(){var e;if(this._metadata){const n=await this._metadata;return y.debug(`Using cached metadata ${(e=n.owner)==null?void 0:e.login}/${n.name}`,this.id),n}y.debug("Fetch metadata - enter",this.id);const{remote:t}=await this.ensure();return this._metadata=this.getMetadataForRepo(t.owner,t.repositoryName),y.debug(`Fetch metadata ${t.owner}/${t.repositoryName} - done`,this.id),this._metadata}async resolveRemote(){try{const{clone_url:e}=await this.getMetadata();this.remote=Is.remoteAsGitHub(Wo(this.remote.remoteName,e,this.remote.gitProtocol),this.remote.githubServerType)}catch(e){if(y.warn(`Unable to resolve remote: ${e}`),tf(e))return!1}return!0}async ensure(e=!1){this._initialized=!0;const t=this._hub;return this._credentialStore.isAuthenticated(this.remote.authProviderId)?e?this._hub=await this._credentialStore.getHubEnsureAdditionalScopes(this.remote.authProviderId):this._hub=this._credentialStore.getHub(this.remote.authProviderId):(await this._credentialStore.create(void 0,e),this._credentialStore.isAuthenticated(this.remote.authProviderId)||(this._hub=await this._credentialStore.showSignInNotification(this.remote.authProviderId))),t!==this._hub&&(this._areQueriesLimited||this._credentialStore.areScopesOld(this.remote.authProviderId)||this.remote.authProviderId===Ni.githubEnterprise?(this._areQueriesLimited=!0,this._queriesSchema=Ql(ru(),vp())):this._credentialStore.areScopesExtra(this.remote.authProviderId)?this._queriesSchema=Ql(ru(),Mk()):this._queriesSchema=Ql(ru(),gp())),this}async ensureAdditionalScopes(){return this.ensure(!0)}async getDefaultBranch(){const e=cp();if(e)return e;try{return(await this.getMetadata()).default_branch}catch(t){y.warn(`Fetching default branch failed: ${t}`,this.id)}return"master"}async getPullRequestTemplates(){try{y.debug("Fetch pull request templates - enter",this.id);const{query:e,remote:t,schema:n}=await this.ensure(),r=await e({query:n.PullRequestTemplates,variables:{owner:t.owner,name:t.repositoryName}});return y.debug("Fetch pull request templates - done",this.id),r.data.repository.pullRequestTemplates.map(a=>a.body)}catch{}}async getRepoAccessAndMergeMethods(e=!1){var t,n,r,a,o,d;try{if(!this._repoAccessAndMergeMethods||e){y.debug("Fetch repo permissions and available merge methods - enter",this.id);const S=await this.getMetadata();y.debug("Fetch repo permissions and available merge methods - done",this.id);const C=(n=(t=S.permissions)==null?void 0:t.push)!=null?n:!1;this._repoAccessAndMergeMethods={hasWritePermission:C,mergeMethodsAvailability:{merge:(r=S.allow_merge_commit)!=null?r:!1,squash:(a=S.allow_squash_merge)!=null?a:!1,rebase:(o=S.allow_rebase_merge)!=null?o:!1},viewerCanAutoMerge:(d=S.allow_auto_merge&&C)!=null?d:!1}}return this._repoAccessAndMergeMethods}catch(S){y.warn(`GitHubRepository> Fetching repo permissions and available merge methods failed: ${S}`)}return{hasWritePermission:!0,mergeMethodsAvailability:{merge:!0,squash:!0,rebase:!0},viewerCanAutoMerge:!1}}async mergeQueueMethodForBranch(e){var t,n;if(this._branchHasMergeQueue.has(e))return this._branchHasMergeQueue.get(e);try{y.debug("Fetch branch has merge queue - enter",this.id);const{query:r,remote:a,schema:o}=await this.ensure();if(!o.MergeQueueForBranch)return;const d=await r({query:o.MergeQueueForBranch,variables:{owner:a.owner,name:a.repositoryName,branch:e}});y.debug("Fetch branch has merge queue - done",this.id);const S=rp((n=(t=d.data.repository.mergeQueue)==null?void 0:t.configuration)==null?void 0:n.mergeMethod);return S&&this._branchHasMergeQueue.set(e,S),S}catch(r){y.error(`Fetching branch has merge queue failed: ${r}`,this.id)}}async commit(e,t,n){y.debug(`Committing files to branch ${e} - enter`,this.id);let r=!1;try{const{octokit:a,remote:o}=await this.ensure(),d=(await a.call(a.api.repos.getBranch,{owner:o.owner,repo:o.repositoryName,branch:e})).data.commit.sha,S=(await a.call(a.api.repos.getCommit,{owner:o.owner,repo:o.repositoryName,ref:d})).data.commit.tree.sha,C=[];for(const[ne,le]of n)C.push({path:ne.substring(1),mode:"100644",content:le.toString()});const $=(await a.call(a.api.git.createTree,{owner:o.owner,repo:o.repositoryName,base_tree:S,tree:C})).data.sha,Y=(await a.call(a.api.git.createCommit,{owner:o.owner,repo:o.repositoryName,message:t,tree:$,parents:[d]})).data.sha;await a.call(a.api.git.updateRef,{owner:o.owner,repo:o.repositoryName,ref:`heads/${e}`,sha:Y}),r=!0}catch(a){y.error(`Committing files to branch ${e} failed: ${a}`,this.id)}return y.debug(`Committing files to branch ${e} - done`,this.id),r}async getCommitParent(e){y.debug(`Fetch commit for ref ${e} - enter`,this.id);try{const{octokit:t,remote:n}=await this.ensure();return(await t.call(t.api.repos.getCommit,{owner:n.owner,repo:n.repositoryName,ref:e})).data.parents[0].sha}catch(t){y.error(`Fetching commit for ref ${e} failed: ${t}`,this.id)}y.debug(`Fetch commit for ref ${e} - done`,this.id)}async getAllPullRequests(e){let t;try{y.debug("Fetch all pull requests - enter",this.id);const n=await this.ensure();t=n.remote;const r=n.octokit,a=await r.call(r.api.pulls.list,{owner:t.owner,repo:t.repositoryName,per_page:Ug,page:e||1}),o=!!a.headers.link&&a.headers.link.indexOf('rel="next"')>-1;if(!a.data)return y.warn(`No result data for ${t.owner}/${t.repositoryName} Status: ${a.status}`),{items:[],hasMorePages:!1,totalCount:0};const d=a.data.map(S=>S.head.repo?this.createOrUpdatePullRequestModel(od(S,this)):(y.appendLine("The remote branch for this PR was already deleted.",this.id),null)).filter(S=>S!==null);return y.debug("Fetch all pull requests - done",this.id),{items:d,hasMorePages:o}}catch(n){if(y.error(`Fetching all pull requests failed: ${n}`,this.id),n.status===404)s.window.showWarningMessage(`Fetching all pull requests for remote '${t==null?void 0:t.remoteName}' failed, please check if the repository ${t==null?void 0:t.owner}/${t==null?void 0:t.repositoryName} is valid.`);else throw n}}async getPullRequestNumbers(){var e;let t;try{y.debug("Fetch pull request numbers - enter",this.id);const n=await this.ensure();t=n.remote;const{query:r,schema:a}=n,{data:o}=await r({query:a.PullRequestNumbers,variables:{owner:t.owner,name:t.repositoryName,first:100}});if(y.debug("Fetch pull request numbers - done",this.id),(e=o==null?void 0:o.repository)!=null&&e.pullRequests)return o.repository.pullRequests.nodes}catch(n){if(y.error(`Fetching pull request numbers failed: ${n}`,this.id),n.status===404)s.window.showWarningMessage(`Fetching pull request numbers for remote '${t==null?void 0:t.remoteName}' failed, please check if the repository ${t==null?void 0:t.owner}/${t==null?void 0:t.repositoryName} is valid.`);else throw n}}async getPullRequestForBranch(e,t){var n;let r;try{y.debug("Fetch pull requests for branch - enter",this.id);const a=await this.ensure();r=a.remote;const{query:o,schema:d}=a,{data:S}=await o({query:d.PullRequestForHead,variables:{owner:r.owner,name:r.repositoryName,headRefName:e}});if(y.debug("Fetch pull requests for branch - done",this.id),S!=null&&S.repository&&S.repository.pullRequests.nodes.length>0){const C=(await Promise.all(S.repository.pullRequests.nodes.map(Y=>iu(Y,this)))).filter(Y=>{var ne;return((ne=Y.head)==null?void 0:ne.repo.owner)===t});if(C.length===0)return;const $=(n=C.find(Y=>Y.state.toLowerCase()==="open"))!=null?n:C[0];return this.createOrUpdatePullRequestModel($)}}catch(a){y.error(`Fetching pull request for branch failed: ${a}`,this.id),a.status===404&&s.window.showWarningMessage(`Fetching pull request for branch for remote '${r==null?void 0:r.remoteName}' failed, please check if the repository ${r==null?void 0:r.owner}/${r==null?void 0:r.repositoryName} is valid.`)}}async canGetProjectsNow(){let{schema:e}=await this.ensure();return!!(e.GetRepoProjects&&e.GetOrgProjects)}async getOrgProjects(){y.debug("Fetch org projects - enter",this.id);let{query:e,remote:t,schema:n}=await this.ensure();const r=[];try{const{data:a}=await e({query:n.GetOrgProjects,variables:{owner:t.owner,after:null}});a&&a.organization.projectsV2&&a.organization.projectsV2.nodes&&a.organization.projectsV2.nodes.forEach(o=>{r.push(o)})}catch(a){return y.error(`Unable to fetch org projects: ${a}`,this.id),r}return y.debug("Fetch org projects - done",this.id),r}async getProjects(){var e;try{y.debug("Fetch projects - enter",this.id);let{query:t,remote:n,schema:r}=await this.ensure();if(!r.GetRepoProjects){const d=await this.ensureAdditionalScopes();t=d.query,n=d.remote,r=d.schema}const{data:a}=await t({query:r.GetRepoProjects,variables:{owner:n.owner,name:n.repositoryName}});y.debug("Fetch projects - done",this.id);const o=[];return a&&((e=a.repository)!=null&&e.projectsV2)&&a.repository.projectsV2.nodes&&a.repository.projectsV2.nodes.forEach(d=>{o.push(d)}),o}catch(t){y.error(`Unable to fetch projects: ${t}`,this.id);return}}async getMilestones(e=!1){var t;try{y.debug("Fetch milestones - enter",this.id);const{query:n,remote:r,schema:a}=await this.ensure(),o=["OPEN"];e&&o.push("CLOSED");const{data:d}=await n({query:a.GetMilestones,variables:{owner:r.owner,name:r.repositoryName,states:o}});y.debug("Fetch milestones - done",this.id);const S=[];return d&&((t=d.repository)!=null&&t.milestones)&&d.repository.milestones.nodes&&d.repository.milestones.nodes.forEach(C=>{const $=ud(C);$&&S.push($)}),S}catch(n){y.error(`Unable to fetch milestones: ${n}`,this.id);return}}async getLines(e,t,n,r){var a;y.debug("Fetch milestones - enter",this.id);const{query:o,remote:d,schema:S}=await this.ensure(),{data:C}=await o({query:S.GetFileContent,variables:{owner:d.owner,name:d.repositoryName,expression:`${e}:${t}`}});if((a=C.repository)!=null&&a.object.text)return C.repository.object.text.split(`
`).slice(n-1,r).join(`
`)}async getIssues(e,t){try{y.debug("Fetch issues with query - enter",this.id);const{query:n,schema:r}=await this.ensure(),{data:a}=await n({query:r.Issues,variables:{query:`${t} type:issue`}});y.debug("Fetch issues with query - done",this.id);const o=[];return a&&a.search.edges&&await Promise.all(a.search.edges.map(async d=>{d.node.id&&o.push(await sp(d.node,this))})),{items:o,hasMorePages:a.search.pageInfo.hasNextPage,totalCount:a.search.issueCount}}catch(n){y.error(`Unable to fetch issues with query: ${n}`,this.id);return}}async _getMaxItem(e){try{y.debug(`Fetch max ${e?"issue":"pull request"} - enter`,this.id);const{query:t,remote:n,schema:r}=await this.ensure(),{data:a}=await t({query:e?r.MaxIssue:r.MaxPullRequest,variables:{owner:n.owner,name:n.repositoryName}});return y.debug(`Fetch max ${e?"issue":"pull request"} - done`,this.id),a!=null&&a.repository&&a.repository.issues.edges.length===1?a.repository.issues.edges[0].node.number:void 0}catch(t){y.error(`Unable to fetch ${e?"issues":"pull requests"} with query: ${t}`,this.id);return}}async getMaxIssue(){return this._getMaxItem(!0)}async getMaxPullRequest(){return this._getMaxItem(!1)}async getViewerPermission(){try{y.debug("Fetch viewer permission - enter",this.id);const{query:e,remote:t,schema:n}=await this.ensure(),{data:r}=await e({query:n.GetViewerPermission,variables:{owner:t.owner,name:t.repositoryName}});return y.debug("Fetch viewer permission - done",this.id),pk(r)}catch(e){return y.error(`Unable to fetch viewer permission: ${e}`,this.id),"unknown"}}async getWorkflowRunsFromAction(e){const{octokit:t,remote:n}=await this.ensure(),r=new Date(e),a=`>=${r.getFullYear()}-${String(r.getMonth()+1).padStart(2,"0")}-${String(r.getDate()).padStart(2,"0")}`;return await nu(t.api.actions.listWorkflowRunsForRepo,{owner:n.owner,repo:n.repositoryName,event:"dynamic",created:a})}async getWorkflowJobs(e){const{octokit:t,remote:n}=await this.ensure();return(await t.call(t.api.actions.listJobsForWorkflowRun,{owner:n.owner,repo:n.repositoryName,run_id:e})).data.jobs}async fork(){try{y.debug("Fork repository",this.id);const{octokit:e,remote:t}=await this.ensure(),n=await e.call(e.api.repos.createFork,{owner:t.owner,repo:t.repositoryName});y.debug("Fork repository - done",this.id);const r=Date.now();let a=async()=>{try{return await e.call(e.api.repos.get,{owner:n.data.owner.login,repo:n.data.name}),y.appendLine("Fork ready",this.id),!0}catch{return y.appendLine("Fork not ready yet",this.id),!1}};for(;!await a()&&Date.now()-r<5e3;)await new Promise(o=>setTimeout(o,500));return n.data.clone_url}catch(e){y.error(`GitHubRepository> Forking repository failed: ${e}`,this.id);return}}async getRepositoryForkDetails(){try{y.debug("Fetch repository fork details - enter",this.id);const{query:e,remote:t,schema:n}=await this.ensure(),{data:r}=await e({query:n.GetRepositoryForkDetails,variables:{owner:t.owner,name:t.repositoryName}});return y.debug("Fetch repository fork details - done",this.id),r.repository}catch(e){y.error(`Unable to fetch repository fork details: ${e}`,this.id);return}}async getAuthenticatedUser(){return await this._credentialStore.getCurrentUser(this.remote.authProviderId)}async getAuthenticatedUserEmails(){try{y.debug("Fetch authenticated user emails - enter",this.id);const{octokit:e}=await this.ensure(),{data:t}=await e.call(e.api.users.listEmailsForAuthenticatedUser,{});y.debug("Fetch authenticated user emails - done",this.id);const n=t.some(r=>r.visibility==="private");return t.filter(r=>n?r.email.endsWith("@users.noreply.github.com"):r.verified).sort((r,a)=>+a.primary-+r.primary).map(r=>r.email)}catch(e){return y.error(`Unable to fetch authenticated user emails: ${e}`,this.id),[]}}createOrUpdatePullRequestModel(e,t=!1){var n;let r=(n=this._pullRequestModelsByNumber.get(e.number))==null?void 0:n.model;if(r)r.update(e);else{r=new fn(this._credentialStore,this.telemetry,this,this.remote,e);const a=r,o=[];o.push(r.onDidChange(d=>this._onPullRequestModelChanged(a,d))),this._pullRequestModelsByNumber.set(e.number,{model:r,disposables:o}),t||this._onDidAddPullRequest.fire(r)}return r}createOrUpdateIssueModel(e){var t;let n=(t=this._issueModelsByNumber.get(e.number))==null?void 0:t.model;if(n)n.update(e);else{n=new nr(this.telemetry,this,this.remote,e);const r=[];this._issueModelsByNumber.set(e.number,{model:n,disposables:r})}return n}_onPullRequestModelChanged(e,t){this._onDidChangePullRequests.fire([{model:e,event:t}])}async createPullRequest(e){try{y.debug("Create pull request - enter",this.id);const t=await this.getMetadata(),{mutate:n,schema:r}=await this.ensure(),{data:a}=await n({mutation:r.CreatePullRequest,variables:{input:{repositoryId:t.node_id,baseRefName:e.base,headRefName:e.head,title:e.title,body:e.body,draft:e.draft}}});if(y.debug("Create pull request - done",this.id),!a)throw new Error("Failed to create pull request.");return this.createOrUpdatePullRequestModel(await iu(a.createPullRequest.pullRequest,this))}catch(t){throw y.error(`Unable to create PR: ${t}`,this.id),t}}async revertPullRequest(e,t,n,r){try{y.debug("Revert pull request - enter",this.id);const{mutate:a,schema:o}=await this.ensure(),{data:d}=await a({mutation:o.RevertPullRequest,variables:{input:{pullRequestId:e,title:t,body:n,draft:r}}});if(y.debug("Revert pull request - done",this.id),!d)throw new Error("Failed to create revert pull request.");return this.createOrUpdatePullRequestModel(await iu(d.revertPullRequest.revertPullRequest,this))}catch(a){throw y.error(`Unable to create revert PR: ${a}`,this.id),a}}async getPullRequest(e,t=!1){if(t&&this._pullRequestModelsByNumber.has(e))return y.debug(`Using cached pull request model for ${e}`,this.id),this._pullRequestModelsByNumber.get(e).model;try{const{query:n,remote:r,schema:a}=await this.ensure();y.debug(`Fetch pull request ${r.owner}/${r.repositoryName} ${e} - enter`,this.id);const{data:o}=await n({query:a.PullRequest,variables:{owner:r.owner,name:r.repositoryName,number:e}},!0);if(o.repository===null){y.error("Unexpected null repository when getting PR",this.id);return}y.debug(`Fetch pull request ${e} - done`,this.id);const d=this.createOrUpdatePullRequestModel(await iu(o.repository.pullRequest,this));return await d.getLastUpdateTime(new Date(d.item.updatedAt)),d}catch(n){y.error(`Unable to fetch PR: ${n}`,this.id);return}}async getIssue(e,t=!1,n=!1){var r;if(n){const a=(r=this._issueModelsByNumber.get(e))==null?void 0:r.model;if(a)return y.debug(`Using cached issue model for ${e}`,this.id),a}try{y.debug(`Fetch issue ${e} - enter`,this.id);const{query:a,remote:o,schema:d}=await this.ensure(),{data:S}=await a({query:t?d.IssueWithComments:d.Issue,variables:{owner:o.owner,name:o.repositoryName,number:e}},!0);if(S.repository===null){y.error("Unexpected null repository when getting issue",this.id);return}y.debug(`Fetch issue ${e} - done`,this.id);const C=this.createOrUpdateIssueModel(await sp(S.repository.issue,this));return await C.getLastUpdateTime(new Date(C.item.updatedAt)),C}catch(a){y.error(`Unable to fetch issue: ${a}`,this.id);return}}async getFile(e,t){var n;const{octokit:r,remote:a}=await this.ensure();let o="",d;y.debug(`Fetch file ${e} - enter`,this.id);try{if(d=await r.call(r.api.repos.getContent,{owner:a.owner,repo:a.repositoryName,path:e,ref:t}),Array.isArray(d.data))throw new Error(`Unexpected array response when getting file ${e}`);o=(n=d.data.content)!=null?n:""}catch(C){if(y.error(`Unable to fetch file ${e}: ${C}`,this.id),C.status===404)return new Uint8Array(0);throw C}if(o===""&&d.data.encoding==="none"){y.debug(`Fetch blob file ${e} - enter`,this.id);const C=d.data.sha;d=await r.call(r.api.git.getBlob,{owner:a.owner,repo:a.repositoryName,file_sha:C}),o=d.data.content,y.debug(`Fetch blob file ${e} - done`,this.id)}const S=On.Buffer.from(o,d.data.encoding);return y.debug(`Fetch file ${e}, file length ${o.length} - done`,this.id),S}async hasBranch(e){var t,n,r;y.appendLine(`Fetch branch ${e} - enter`,this.id);const{query:a,remote:o,schema:d}=await this.ensure(),{data:S}=await a({query:d.GetBranch,variables:{owner:o.owner,name:o.repositoryName,qualifiedName:`refs/heads/${e}`}});return y.appendLine(`Fetch branch ${e} - done: ${((t=S.repository)==null?void 0:t.ref)!==null}`,this.id),(r=(n=S.repository)==null?void 0:n.ref)==null?void 0:r.target.oid}async listBranches(e,t,n){const{query:r,remote:a,schema:o}=await this.ensure();y.debug(`List branches for ${e}/${t} - enter`,this.id);let d=null,S=!1;const C=[],$=(await this.getMetadataForRepo(e,t)).default_branch,Y=new Date().getTime(),ne=s.workspace.getConfiguration(bt).get(Tt,5e3);do try{const{data:le}=await r({query:o.ListBranches,variables:{owner:a.owner,name:a.repositoryName,first:100,after:d,query:n||null}});if(C.push(...le.repository.refs.nodes.map(he=>he.name)),new Date().getTime()-Y>ne){y.warn(`List branches timeout hit after ${ne}ms.`,this.id);break}S=le.repository.refs.pageInfo.hasNextPage,d=le.repository.refs.pageInfo.endCursor}catch(le){throw y.debug(`List branches for ${e}/${t} failed`,this.id),le}while(S);return y.debug(`List branches for ${e}/${t} - done`,this.id),C.includes($)||C.unshift($),C}async deleteBranch(e){const{octokit:t}=await this.ensure();if(e.validatePullRequestModel("Unable to delete branch"))try{await t.call(t.api.git.deleteRef,{owner:e.head.repositoryCloneUrl.owner,repo:e.head.repositoryCloneUrl.repositoryName,ref:`heads/${e.head.ref}`})}catch(n){y.error(`Unable to delete branch: ${n}`,this.id);return}}async getMentionableUsers(){y.debug("Fetch mentionable users - enter",this.id);const{query:e,remote:t,schema:n}=await this.ensure();let r=null,a=!1;const o=[];do try{const d=await e({query:n.GetMentionableUsers,variables:{owner:t.owner,name:t.repositoryName,first:100,after:r}});if(d.data.repository===null)return y.error("Unexpected null repository when getting mentionable users",this.id),[];o.push(...d.data.repository.mentionableUsers.nodes.map(S=>ln(S,this))),a=d.data.repository.mentionableUsers.pageInfo.hasNextPage,r=d.data.repository.mentionableUsers.pageInfo.endCursor}catch(d){return y.debug(`Unable to fetch mentionable users: ${d}`,this.id),o}while(a);return o}async resolveUser(e){var t;y.debug(`Fetch user ${e}`,this.id);const{query:n,schema:r}=await this.ensure();try{const{data:a}=await n({query:r.GetUser,variables:{login:e}});return fk(a,this)}catch(a){(t=a.message)!=null&&t.startsWith("GraphQL error: Could not resolve to a User with the login of")||y.warn(a.message)}}async getAssignableUsers(){var e,t,n;y.debug("Fetch assignable users - enter",this.id);const{query:r,remote:a,schema:o}=await this.ensure();let d=null,S=!1;const C=[];do try{let $;if(o.GetSuggestedActors?$=await r({query:o.GetSuggestedActors,variables:{owner:a.owner,name:a.repositoryName,capabilities:["CAN_BE_ASSIGNED"],first:100,after:d}},!1,{query:o.GetAssignableUsers,variables:{owner:a.owner,name:a.repositoryName,first:100,after:d}}):$=await r({query:o.GetAssignableUsers,variables:{owner:a.owner,name:a.repositoryName,first:100,after:d}},!0),$.data.repository===null)return y.error("Unexpected null repository when getting assignable users",this.id),[];const Y=(n=(e=$.data.repository)==null?void 0:e.assignableUsers)!=null?n:(t=$.data.repository)==null?void 0:t.suggestedActors;C.push(...(Y==null?void 0:Y.nodes.map(ne=>ln(ne,this)))||[]),S=Y==null?void 0:Y.pageInfo.hasNextPage,d=Y==null?void 0:Y.pageInfo.endCursor}catch($){return y.debug(`Unable to fetch assignable users: ${$}`,this.id),$.graphQLErrors&&$.graphQLErrors.length>0&&$.graphQLErrors[0].type==="INSUFFICIENT_SCOPES"&&s.window.showWarningMessage(`GitHub user features will not work. ${$.graphQLErrors[0].message}`),C}while(S);return C}async cancelWorkflow(e){y.debug("Cancel workflow run - enter",this.id);const{octokit:t,remote:n}=await this.ensure();try{return(await t.call(t.api.actions.cancelWorkflowRun,{owner:n.owner,repo:n.repositoryName,run_id:e})).status===202}catch(r){return y.error(`Unable to cancel workflow run: ${r}`,this.id),!1}}async getOrgTeamsCount(){if(y.debug("Fetch Teams Count - enter",this.id),!this._credentialStore.isAuthenticatedWithAdditionalScopes(this.remote.authProviderId))return 0;const{query:e,remote:t,schema:n}=await this.ensureAdditionalScopes();try{const a=(await e({query:n.GetOrganizationTeamsCount,variables:{login:t.owner}})).data.organization.teams.totalCount;return y.debug("Fetch Teams Count - done",this.id),a}catch(r){return y.debug(`Unable to fetch teams Count: ${r}`,this.id),r.graphQLErrors&&r.graphQLErrors.length>0&&r.graphQLErrors[0].type==="INSUFFICIENT_SCOPES"&&s.window.showWarningMessage(`GitHub teams features will not work. ${r.graphQLErrors[0].message}`),0}}async getOrgTeams(e){if(y.debug("Fetch Teams - enter",this.id),e===0||e===1&&!this._credentialStore.isAuthenticatedWithAdditionalScopes(this.remote.authProviderId))return y.debug("Fetch Teams - exit without fetching teams",this.id),[];const{query:t,remote:n,schema:r}=await this.ensureAdditionalScopes();let a=null,o=!1;const d=[];do try{const S=await t({query:r.GetOrganizationTeams,variables:{login:n.owner,after:a,repoName:n.repositoryName}});S.data.organization.teams.nodes.forEach(C=>{const $={avatarUrl:to(C.avatarUrl,void 0,this.remote.isEnterprise),name:C.name,url:C.url,slug:C.slug,id:C.id,org:n.owner};d.push({...$,repositoryNames:C.repositories.nodes.map(Y=>Y.name)})}),o=S.data.organization.teams.pageInfo.hasNextPage,a=S.data.organization.teams.pageInfo.endCursor}catch(S){return y.debug(`Unable to fetch teams: ${S}`,this.id),S.graphQLErrors&&S.graphQLErrors.length>0&&S.graphQLErrors[0].type==="INSUFFICIENT_SCOPES"&&s.window.showWarningMessage(`GitHub teams features will not work. ${S.graphQLErrors[0].message}`),d}while(o);return y.debug("Fetch Teams - exit",this.id),d}async getPullRequestParticipants(e){y.debug("Fetch participants from a Pull Request",this.id);const{query:t,remote:n,schema:r}=await this.ensure(),a=[];try{const o=await t({query:r.GetParticipants,variables:{owner:n.owner,name:n.repositoryName,number:e,first:18}});if(o.data.repository===null)return y.error("Unexpected null repository when fetching participants",this.id),[];a.push(...o.data.repository.pullRequest.participants.nodes.map(d=>ln(d,this)))}catch(o){y.debug(`Unable to fetch participants from a PullRequest: ${o}`,this.id),o.graphQLErrors&&o.graphQLErrors.length>0&&o.graphQLErrors[0].type==="INSUFFICIENT_SCOPES"&&s.window.showWarningMessage(`GitHub user features will not work. ${o.graphQLErrors[0].message}`)}return a}async compareCommits(e,t){y.debug("Compare commits - enter",this.id);try{const{remote:n,octokit:r}=await this.ensure(),{data:a}=await r.call(r.api.repos.compareCommits,{repo:n.repositoryName,owner:n.owner,base:e,head:t});return y.debug("Compare commits - done",this.id),a}catch(n){y.error(`Unable to compare commits between ${e} and ${t}: ${n}`,this.id)}}isCurrentUser(e,t){return this._credentialStore.isCurrentUser(e,t)}async getStatusChecks(e){var t,n,r;y.debug("Get Status Checks - enter",this.id);const{query:a,remote:o,schema:d}=await this.ensure(),S=this._useFallbackChecks;let C;try{C=await a({query:S?d.GetChecksWithoutSuite:d.GetChecks,variables:{owner:o.owner,name:o.repositoryName,number:e}})}catch(he){if(tf(he)&&!S)return this._useFallbackChecks=!0,this.getStatusChecks(e);throw y.error(`Unable to fetch PR checks: ${he}`,this.id),he}if(C.data.repository===null||C.data.repository.pullRequest.commits.nodes===void 0||C.data.repository.pullRequest.commits.nodes.length===0)return y.error(`Unable to fetch PR checks: ${(t=C.errors)==null?void 0:t.map(he=>he.message).join(", ")}`,this.id),[null,null];const $=C.data.repository.pullRequest.commits.nodes[0].commit.statusCheckRollup,Y=$?{state:this.mapStateAsCheckState($.state),statuses:$.contexts.nodes.map(he=>{var ke,pe,Ne,Ce,De,He,Ke,Ge,je;return Cw(he)?{id:he.id,url:(pe=(ke=he.checkSuite)==null?void 0:ke.app)==null?void 0:pe.url,avatarUrl:((Ce=(Ne=he.checkSuite)==null?void 0:Ne.app)==null?void 0:Ce.logoUrl)&&to(he.checkSuite.app.logoUrl,void 0,this.remote.isEnterprise),state:this.mapStateAsCheckState(he.conclusion),description:he.title,context:he.name,workflowName:(He=(De=he.checkSuite)==null?void 0:De.workflowRun)==null?void 0:He.workflow.name,event:(Ge=(Ke=he.checkSuite)==null?void 0:Ke.workflowRun)==null?void 0:Ge.event,targetUrl:he.detailsUrl,isRequired:he.isRequired}:{id:he.id,url:(je=he.targetUrl)!=null?je:void 0,avatarUrl:he.avatarUrl?to(he.avatarUrl,void 0,this.remote.isEnterprise):void 0,state:this.mapStateAsCheckState(he.state),description:he.description,context:he.context,workflowName:void 0,event:void 0,targetUrl:he.targetUrl,isRequired:he.isRequired}})}:{state:Un.Success,statuses:[]};let ne=null;const le=(n=C.data.repository.pullRequest.baseRef)==null?void 0:n.refUpdateRule;if(le){const he=C.data.repository.pullRequest.url;for(const De of le.requiredStatusCheckContexts||[])Y.statuses.some(He=>He.context===De)||(Y.state=Un.Pending,Y.statuses.push({id:"",url:void 0,avatarUrl:void 0,state:Un.Pending,description:s.l10n.t("Waiting for status to be reported"),context:De,workflowName:void 0,event:void 0,targetUrl:he,isRequired:!0}));const ke=(r=le.requiredApprovingReviewCount)!=null?r:0,pe=C.data.repository.pullRequest.latestReviews.nodes.filter(De=>De.authorCanPushToRepository&&De.state==="APPROVED"),Ne=C.data.repository.pullRequest.reviewsRequestingChanges.nodes.filter(De=>De.authorCanPushToRepository);let Ce=Un.Success;pe.length<ke&&(Ce=Un.Failure,Ne.length&&(Ce=Un.Pending)),ke>0&&(ne={count:ke,approvals:pe.map(De=>De.author.login),requestedChanges:Ne.map(De=>De.author.login),state:Ce})}return y.debug("Get Status Checks - done",this.id),[Y.statuses.length?Y:null,ne]}mapStateAsCheckState(e){switch(e){case"EXPECTED":case"PENDING":case"ACTION_REQUIRED":case"STALE":return Un.Pending;case"ERROR":case"FAILURE":case"TIMED_OUT":case"STARTUP_FAILURE":return Un.Failure;case"SUCCESS":return Un.Success;case"NEUTRAL":case"SKIPPED":return Un.Neutral}return Un.Unknown}};ar($g,"ID","GitHubRepository");let Qn=$g;var bS=Object.defineProperty,wS=(i,e,t)=>e in i?bS(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t,_f=(i,e,t)=>wS(i,typeof e!="symbol"?e+"":e,t);const Hg=class $s{constructor(e,t){this.telemetry=e,this.errorOnFlood=t,_f(this,"bulkhead",og(140)),_f(this,"hasLoggedLowRateLimit",!1)}logAndLimit(e,t){if(this.bulkhead.executionSlots===0)if(y.error("API call count has exceeded 140 concurrent calls.",$s.ID),this.telemetry.sendTelemetryErrorEvent("pr.highApiCallRate"),this.errorOnFlood){s.window.showErrorMessage(s.l10n.t('The GitHub Pull Requests extension is making too many requests to GitHub. This indicates a bug in the extension. Please file an issue on GitHub and include the output from "GitHub Pull Request".'));return}else return t();const n=`Extension rate limit remaining: ${this.bulkhead.executionSlots}, ${e}`;return this.bulkhead.executionSlots<5?y.appendLine(n,$s.ID):y.debug(n,$s.ID),this.bulkhead.execute(()=>t())}async logRateLimit(e,t,n=!1){var r,a,o,d;let S;try{const Y=await t;S=(r=Y==null?void 0:Y.data)==null?void 0:r.rateLimit}catch{return}const C=e==null?void 0:e.startsWith("/search/");((a=S==null?void 0:S.limit)!=null?a:5e3)<5e3&&(C?((o=S==null?void 0:S.limit)!=null?o:30)<30&&y.appendLine(`Unexpectedly low SEARCH rate limit: ${S==null?void 0:S.limit}`,$s.ID):y.appendLine(`Unexpectedly low rate limit: ${S==null?void 0:S.limit}`,$s.ID));const $=`${n?"REST":"GraphQL"} Rate limit remaining: ${S==null?void 0:S.remaining}, cost: ${S==null?void 0:S.cost}, ${e}`;((d=S==null?void 0:S.remaining)!=null?d:1e3)<1e3&&!C?(this.hasLoggedLowRateLimit||(this.telemetry.sendTelemetryErrorEvent("pr.lowRateLimitRemaining"),this.hasLoggedLowRateLimit=!0),y.warn($,$s.ID)):y.debug($,$s.ID)}async logRestRateLimit(e,t){let n;try{n=await t}catch{return}const r={cost:-1,limit:Number(n.headers["x-ratelimit-limit"]),remaining:Number(n.headers["x-ratelimit-remaining"]),resetAt:""};this.logRateLimit(e,Promise.resolve({data:{rateLimit:r}}),!0)}};_f(Hg,"ID","RateLimit");let kS=Hg;class _S{constructor(e,t){this._graphql=e,this._rateLogger=t}query(e){var t;const n=(t=e.query.definitions[0].name)==null?void 0:t.value,r=this._rateLogger.logAndLimit(n,()=>this._graphql.query(e));if(r===void 0)throw new Error("API call count has exceeded a rate limit.");return this._rateLogger.logRateLimit(n,r),r}mutate(e){const t=e.context,n=this._rateLogger.logAndLimit(t,()=>this._graphql.mutate(e));if(n===void 0)throw new Error("API call count has exceeded a rate limit.");return this._rateLogger.logRateLimit(t,n),n}}class SS{constructor(e,t){this.api=e,this._rateLogger=t}call(e,...t){var n,r;const a=(r=(n=e.endpoint)==null?void 0:n.DEFAULTS)==null?void 0:r.url,o=this._rateLogger.logAndLimit(a,()=>e(...t));if(o===void 0)throw new Error("API call count has exceeded a rate limit.");return this._rateLogger.logRestRateLimit(a,o),o}}async function ES(i,e,t,n,r,a,o){y.debug(`Comparing commits for ${i.owner}/${i.repositoryName} with base ${t.repositoryCloneUrl.owner}:${r} and head ${n.repositoryCloneUrl.owner}:${n.sha}`,o);let d,S;const C=async $=>nu(e.api.pulls.listFiles,{owner:t.repositoryCloneUrl.owner,pull_number:a,repo:i.repositoryName},$);try{const{data:$}=await e.call(e.api.repos.compareCommits,{repo:i.repositoryName,owner:i.owner,base:`${t.repositoryCloneUrl.owner}:${r}`,head:`${n.repositoryCloneUrl.owner}:${n.sha}`}),Y=100;$.files&&$.files.length>=Y?(y.appendLine(`More than ${Y} files changed in #${a}`,o),d=await C()):d=$.files?$.files:[],S=$.merge_base_commit.sha}catch($){if($.message==="Server Error")d=await C(3),S=t.sha;else throw $}return{mergeBaseSha:S,files:d}}var RS=Object.defineProperty,NS=(i,e,t)=>e in i?RS(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t,po=(i,e,t)=>NS(i,typeof e!="symbol"?e+"":e,t);const Gg=class dm{constructor(e,t,n,r){this.pullRequest=e,this.folderRepoManager=t,this.change=n,this.sha=r,po(this,"_filePath"),po(this,"_parentFilePath"),po(this,"_viewed")}get filePath(){return this._filePath}get parentFilePath(){return this._parentFilePath}get status(){return this.change.status}get fileName(){return this.change.fileName}get blobUrl(){return this.change.blobUrl}get viewed(){return this._viewed}updateViewed(e){this._viewed!==e&&(this._viewed=e)}async diffHunks(){var e;let t=[];if(this.change instanceof Ps&&this.change.diffHunks)return this.change.diffHunks;if(this.status!==Yt.RENAME)try{const n=(e=this.sha)!=null?e:this.pullRequest.head.sha,r=await this.folderRepoManager.repository.diffBetween(this.pullRequest.base.sha,n,this.fileName);t=nf(r)}catch(n){y.error(`Failed to parse patch for outdated comments: ${n}`,dm.ID)}return t}async calculateChangedLinesCount(){try{const e=await this.diffHunks();let t=0,n=0;for(const r of e)for(const a of r.diffLines)a.type===Rn.Add?++t:a.type===Rn.Delete&&++n;return{added:t,removed:n}}catch(e){return y.warn(`Failed to calculate added/removed lines for ${this.fileName}: ${e}`,dm.ID),{added:0,removed:0}}}};po(Gg,"ID","FileChangeModel");let Sf=Gg;class Ef extends Sf{constructor(e,t,n,r,a,o,d){if(super(t,e,n,o),po(this,"_show"),this._filePath=r,this._parentFilePath=a,d)try{this.showBase()}catch{y.warn(`Unable to preload file content for ${r.fsPath} at commit ${o}`)}}async showBase(){if(!this._show&&this.change.status!==Yt.ADD){const e=this.change instanceof Ps||this.change instanceof qo?this.change.baseCommit:this.sha,t=s.Uri.joinPath(this.folderRepoManager.repository.rootUri,this.fileName).fsPath;this._show=this.folderRepoManager.repository.show(e,t)}return this._show}}class go extends Sf{constructor(e,t,n,r,a){super(t,e,n),this.change=n;const o=t.head.sha,d=n.status===Yt.RENAME?n.previousFileName:n.fileName,S=e.repository.rootUri.with({path:s.Uri.file(nl(e.repository.rootUri,n.fileName)).path}),C=e.repository.rootUri.with({path:s.Uri.file(nl(e.repository.rootUri,d)).path});this._filePath=r?n.status===Yt.DELETE?ga(S,void 0,void 0,"",!1,{base:!1},e.repository.rootUri):S:hs(S,t,n.baseCommit,o,n.fileName,!1,n.status,n.previousFileName),this._parentFilePath=r?ga(C,n.status===Yt.RENAME?n.previousFileName:n.fileName,void 0,n.status===Yt.ADD?"":a,!1,{base:!0},e.repository.rootUri):hs(C,t,n.baseCommit,o,n.fileName,!0,n.status,n.previousFileName)}get previousFileName(){return this.change.previousFileName}async isPartial(){let e=!1,t;if(this.change.patch===""&&(this.change.status===Yt.MODIFY||this.change.status===Yt.RENAME||this.change.status===Yt.ADD))return!0;this.change.status===Yt.DELETE||this.change.status===Yt.MODIFY?t=this.change.fileName:this.change.status===Yt.RENAME&&(t=this.change.previousFileName);try{t&&(await this.folderRepoManager.repository.getObjectDetails(this.change.baseCommit,t),e=!0)}catch{}return!e}get patch(){return this.change.patch}}class il extends Sf{constructor(e,t,n){super(n,e,t),this.change=t,po(this,"fileChangeResourceUri"),po(this,"childrenDisposables",[]);const r=n.head.sha,a=t.status===Yt.RENAME?t.previousFileName:t.fileName;this._filePath=hs(s.Uri.file(nl(e.repository.rootUri,t.fileName)),n,t.baseCommit,r,t.fileName,!1,t.status,t.previousFileName),this._parentFilePath=hs(s.Uri.file(nl(e.repository.rootUri,a)),n,t.baseCommit,r,t.fileName,!0,t.status,t.previousFileName)}get previousFileName(){return this.change.previousFileName}}var CS=Object.defineProperty,TS=(i,e,t)=>e in i?CS(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t,tn=(i,e,t)=>TS(i,typeof e!="symbol"?e+"":e,t);const Vg=50,jg=class Oi extends nr{constructor(e,t,n,r,a,o){super(t,n,r,a,!0),this.credentialStore=e,tn(this,"isDraft"),tn(this,"reviewers"),tn(this,"localBranchName"),tn(this,"mergeBase"),tn(this,"mergeQueueEntry"),tn(this,"conflicts"),tn(this,"suggestedReviewers"),tn(this,"hasChangesSinceLastReview"),tn(this,"_showChangesSinceReview"),tn(this,"_hasPendingReview",!1),tn(this,"_onDidChangePendingReviewState",this._register(new s.EventEmitter)),tn(this,"onDidChangePendingReviewState",this._onDidChangePendingReviewState.event),tn(this,"_reviewThreadsCache"),tn(this,"_reviewThreadsCacheInitialized",!1),tn(this,"_onDidChangeReviewThreads",this._register(new s.EventEmitter)),tn(this,"onDidChangeReviewThreads",this._onDidChangeReviewThreads.event),tn(this,"_fileChangeViewedState",{}),tn(this,"_viewedFiles",new Set),tn(this,"_unviewedFiles",new Set),tn(this,"_onDidChangeFileViewedState",this._register(new s.EventEmitter)),tn(this,"onDidChangeFileViewedState",this._onDidChangeFileViewedState.event),tn(this,"_onDidChangeChangesSinceReview",this._register(new s.EventEmitter)),tn(this,"onDidChangeChangesSinceReview",this._onDidChangeChangesSinceReview.event),tn(this,"_hasComments"),tn(this,"_comments"),tn(this,"_isActive"),tn(this,"isRemoteHeadDeleted"),tn(this,"head"),tn(this,"isRemoteBaseDeleted"),tn(this,"base"),tn(this,"_fileChanges",new Map),tn(this,"_rawFileChangesCache"),tn(this,"markFilesInProgressRefCount",new Map),this.isActive=!!o,this._showChangesSinceReview=!1,this.update(a)}get isActive(){return this._isActive}set isActive(e){this._isActive=e}clear(){this.comments=[],this._reviewThreadsCacheInitialized=!1,this._reviewThreadsCache=void 0}async initializeReviewThreadCache(){await this.getReviewThreads(),this._reviewThreadsCacheInitialized=!0}get reviewThreadsCache(){var e;return(e=this._reviewThreadsCache)!=null?e:[]}get reviewThreadsCacheReady(){return this._reviewThreadsCacheInitialized}get hasPendingReview(){return this._hasPendingReview}set hasPendingReview(e){this._hasPendingReview!==e&&(this._hasPendingReview=e,this._onDidChangePendingReviewState.fire(this._hasPendingReview))}get showChangesSinceReview(){return this._showChangesSinceReview}set showChangesSinceReview(e){this._showChangesSinceReview!==e&&(this._showChangesSinceReview=e,this._fileChanges.clear(),this._onDidChangeChangesSinceReview.fire())}get comments(){var e;return(e=this._comments)!=null?e:[]}set comments(e){this._comments=e,this._onDidChange.fire({comments:!0})}get fileChangeViewedState(){return this._fileChangeViewedState}stateToStateEnum(e){let t=Li.Closed;return e.toLowerCase()==="open"?t=Li.Open:(e.toLowerCase()==="merged"||this.item.merged)&&(t=Li.Merged),t}doUpdate(e){var t;const n=super.doUpdate(e);return this.isDraft!==e.isDraft&&(n.draft=!0,this.isDraft=e.isDraft),this.suggestedReviewers=e.suggestedReviewers,e.isRemoteHeadDeleted!=null&&(this.isRemoteHeadDeleted=e.isRemoteHeadDeleted),e.head&&(this.head=new gf(e.head.ref,e.head.label,e.head.sha,e.head.repo.cloneUrl,e.head.repo.owner,e.head.repo.name,e.head.repo.isInOrganization)),e.isRemoteBaseDeleted!=null&&(this.isRemoteBaseDeleted=e.isRemoteBaseDeleted),e.base&&(this.base=new gf(e.base.ref,e.base.label,e.base.sha,e.base.repo.cloneUrl,e.base.repo.owner,e.base.repo.name,e.base.repo.isInOrganization)),e.mergeQueueEntry!==void 0&&(this.mergeQueueEntry=(t=e.mergeQueueEntry)!=null?t:void 0),e.hasComments!==void 0&&(this._hasComments=e.hasComments),n}isResolved(){return!!this.head}validatePullRequestModel(e){if(this.head)return!0;const t=s.l10n.t("There is no upstream branch for Pull Request #{0}. View it on GitHub for more details",this.number);e?e+=`: ${t}`:e=t;const n=s.l10n.t("Open on GitHub");return s.window.showWarningMessage(e,n).then(r=>{r&&r===n&&s.commands.executeCommand("vscode.open",s.Uri.parse(this.html_url))}),!1}updateIssueInput(e){return{pullRequestId:e}}updateIssueSchema(e){return e.UpdatePullRequest}async approve(e,t){var n,r,a,o,d,S;let C,$,Y;return this.isActive?($=(n=e.state.HEAD)==null?void 0:n.commit,C=(a=(r=await this.githubRepository.getPullRequest(this.number))==null?void 0:r.head)==null?void 0:a.sha,Y=s.l10n.t("The remote head of the pull request branch has changed. Please pull the latest changes from the remote branch before approving.")):($=(o=this.head)==null?void 0:o.sha,C=(S=(d=await this.githubRepository.getPullRequest(this.number))==null?void 0:d.head)==null?void 0:S.sha,Y=s.l10n.t("The remote head of the pull request branch has changed. Please refresh the pull request before approving.")),!C||C!==$?Promise.reject(Y):(await this.getPendingReviewId()?this.submitReview(Tr.Approve,t):this.createReview(Tr.Approve,t)).then(le=>(this._telemetry.sendTelemetryEvent("pr.approve"),this._onDidChange.fire({comments:!0,timeline:!0}),le))}async requestChanges(e){const t=await this.getPendingReviewId()?await this.submitReview(Tr.RequestChanges,e):await this.createReview(Tr.RequestChanges,e);return this._telemetry.sendTelemetryEvent("pr.requestChanges"),this._onDidChange.fire({timeline:!0,comments:!0}),t}async merge(e,t,n,r,a){var o,d,S,C,$;y.debug(`Merging PR: ${this.number} method: ${r} for user: "${a}" - enter`,Oi.ID);const{mutate:Y,schema:ne}=await this.githubRepository.ensure(),le=(o=e.state.HEAD)==null?void 0:o.commit,he=(d=this.head)==null?void 0:d.sha,ke=e.state.workingTreeChanges.length>0;let pe=(S=this.head)==null?void 0:S.sha;if(this.isActive){if(pe=le,le!==he){const{ahead:Ce}=e.state.HEAD,De=s.l10n.t(`You have {0} unpushed commits on this pull request branch.

Would you like to proceed anyway?`,Ce!=null?Ce:"unknown"),He=s.l10n.t(`You have 1 unpushed commit on this pull request branch.

Would you like to proceed anyway?`);if(Ce&&await s.window.showWarningMessage(Ce>1?De:He,{modal:!0},s.l10n.t("Yes"))===void 0)return{merged:!1,message:s.l10n.t("unpushed changes")}}if(ke&&await s.window.showWarningMessage(s.l10n.t(`You have uncommitted changes on this pull request branch.

 Would you like to proceed anyway?`),{modal:!0},s.l10n.t("Yes"))===void 0)return{merged:!1,message:s.l10n.t("uncommitted changes")}}const Ne={pullRequestId:this.graphNodeId,commitHeadline:t,commitBody:n,expectedHeadOid:pe,authorEmail:a,mergeMethod:($=r==null?void 0:r.toUpperCase())!=null?$:(C=s.workspace.getConfiguration(bt).get(hi,"merge"))==null?void 0:C.toUpperCase()};return Y({mutation:ne.MergePullRequest,variables:{input:Ne}}).then(async Ce=>{var De,He;return y.debug(`Merging PR: ${this.number} - done`,Oi.ID),this._telemetry.sendTelemetryEvent("pr.merge.success"),this._onDidChange.fire({state:!0}),{merged:!0,message:"",timeline:await fd((He=(De=Ce.data)==null?void 0:De.mergePullRequest.pullRequest.timelineItems.nodes)!=null?He:[],await this.getCopilotTimelineEvents(),this.githubRepository)}}).catch(Ce=>{this._telemetry.sendTelemetryErrorEvent("pr.merge.failure");const De=Ce.graphQLErrors;if(De!=null&&De.length&&De.find(He=>{var Ke;return He.type===qg.Unprocessable&&((Ke=He.message)==null?void 0:Ke.includes("Head branch was modified"))}))return{merged:!1,message:s.l10n.t("Head branch was modified. Pull, review, then try again.")};throw Ce})}async close(){var e;const{octokit:t,remote:n}=await this.githubRepository.ensure(),r=await t.call(t.api.pulls.update,{owner:n.owner,repo:n.repositoryName,pull_number:this.number,state:"closed"});this._telemetry.sendTelemetryEvent("pr.close");const a=await this.githubRepository.getAuthenticatedUser();return this.state=this.stateToStateEnum(r.data.state),setTimeout(()=>this._onDidChange.fire({state:!0}),1500),{item:od(r.data,this.githubRepository),closedEvent:{createdAt:(e=r.data.closed_at)!=null?e:"",event:Ht.Closed,id:`${r.data.id}`,actor:{login:a.login,avatarUrl:a.avatarUrl,url:a.url}}}}async createReview(e,t){const{octokit:n,remote:r}=await this.githubRepository.ensure(),{data:a}=await n.call(n.api.pulls.createReview,{owner:r.owner,repo:r.repositoryName,pull_number:this.number,event:e,body:t});return this._onDidChange.fire({timeline:!0}),Xw(a,this.githubRepository)}async submitReview(e,t){var n;let r=await this.getPendingReviewId();const{mutate:a,schema:o}=await this.githubRepository.ensure();if(!r&&e===Tr.Comment&&(r=await this.startReview()),r){const{data:d}=await a({mutation:o.SubmitReview,variables:{id:r,event:e||Tr.Comment,body:t}});this.hasPendingReview=!1,await this.updateDraftModeContext();const S=dk(d.submitPullRequestReview.pullRequestReview,this.githubRepository),C=((n=this._reviewThreadsCache)!=null?n:[]).find($=>$.comments.length?$.comments[0].pullRequestReviewId===S.id:void 0);return C&&(C.comments=S.comments,C.viewerCanResolve=!0,this._onDidChangeReviewThreads.fire({added:[],changed:[C],removed:[]})),this._onDidChange.fire({timeline:!0,comments:!0}),S}else throw new Error(`Submitting review failed, no pending review for current pull request: ${this.number}.`)}async getPendingReviewId(){const{query:e,schema:t}=await this.githubRepository.ensure(),n=(await this.githubRepository.getAuthenticatedUser()).login;try{const{data:r}=await e({query:t.GetPendingReviewId,variables:{pullRequestId:this.item.graphNodeId,author:n}});return r.node.reviews.nodes.length>0?r.node.reviews.nodes[0].id:void 0}catch{return}}async getViewerLatestReviewCommit(){var e;y.debug("Fetch viewers latest review commit",nr.ID);const{query:t,remote:n,schema:r}=await this.githubRepository.ensure(),a=(await this.githubRepository.getAuthenticatedUser()).login;try{const{data:o}=await t({query:r.LatestReviewCommit,variables:{owner:n.owner,name:n.repositoryName,number:this.number,author:a}});o.repository===null&&y.error("Unexpected null repository while getting last review commit",Oi.ID);const d=(e=o.repository)==null?void 0:e.pullRequest.reviews.nodes[0];return d?{sha:d.commit.oid}:void 0}catch{return}}async deleteReview(){const e=await this.getPendingReviewId();if(!e)throw new Error(`No pending review found for pull request #${this.number}.`);const{mutate:t,schema:n}=await this.githubRepository.ensure(),{data:r}=await t({mutation:n.DeleteReview,variables:{input:{pullRequestReviewId:e}}}),{comments:a,databaseId:o}=r.deletePullRequestReview.pullRequestReview,d=a.nodes.map(Y=>Go(Y,!1,this.githubRepository)),S=new Set(d.map(Y=>Y.id)),C=[],$=[];this._reviewThreadsCache||(this._reviewThreadsCache=[]);for(let Y=this._reviewThreadsCache.length-1;Y>=0;Y--){const ne=this._reviewThreadsCache[Y],le=ne.comments.length;ne.comments=ne.comments.filter(he=>!S.has(he.id)),ne.comments.length===0&&le>0?(this._reviewThreadsCache.splice(Y,1),$.push(ne)):ne.comments.length!==le&&C.push(ne)}return(C.length>0||$.length>0)&&this._onDidChangeReviewThreads.fire({added:[],changed:C,removed:$}),this._comments&&(this.comments=this._comments.filter(Y=>!S.has(Y.id))),this.hasPendingReview=!1,await this.updateDraftModeContext(),this._onDidChange.fire({timeline:!0,comments:!0}),{deletedReviewId:o,deletedReviewComments:d}}async startReview(e){var t;const{mutate:n,schema:r}=await this.githubRepository.ensure(),{data:a}=await n({mutation:r.StartReview,variables:{input:{body:"",pullRequestId:this.item.graphNodeId,commitOID:e||((t=this.head)==null?void 0:t.sha)}}});if(!a)throw new Error("Failed to start review");return this.hasPendingReview=!0,a.addPullRequestReview.pullRequestReview.id}async createReviewThread(e,t,n,r,a,o){if(!this.validatePullRequestModel("Creating comment failed"))return;const d=await this.getPendingReviewId(),{mutate:S,schema:C}=await this.githubRepository.ensure(),{data:$}=await S({mutation:C.AddReviewThread,variables:{input:{path:t,body:e,pullRequestId:this.graphNodeId,pullRequestReviewId:d,startLine:n===r?void 0:n,line:r===void 0?0:r,side:a,subjectType:n===void 0||r===void 0?Va.FILE:Va.LINE}}},{mutation:C.LegacyAddReviewThread,deleteProps:["subjectType"]});if(!$)throw new Error("Creating review thread failed.");if(!$.addPullRequestReviewThread.thread)throw new Error("File has been deleted.");o||(this.hasPendingReview=!0,await this.updateDraftModeContext());const Y=$.addPullRequestReviewThread.thread,ne=ld(Y,this.githubRepository);return this._reviewThreadsCache||(this._reviewThreadsCache=[]),this._reviewThreadsCache.push(ne),this._onDidChangeReviewThreads.fire({added:[ne],changed:[],removed:[]}),this._onDidChange.fire({timeline:!0}),ne}async createCommentReply(e,t,n,r){var a,o;if(!this.validatePullRequestModel("Creating comment failed"))return;let d=await this.getPendingReviewId();d||(d=await this.startReview(r));const{mutate:S,schema:C}=await this.githubRepository.ensure(),{data:$}=await S({mutation:C.AddComment,variables:{input:{pullRequestReviewId:d,body:e,inReplyTo:t,commitOID:r||((a=this.head)==null?void 0:a.sha)}}});if(!$)throw new Error("Creating comment reply failed.");const{comment:Y}=$.addPullRequestReviewComment,ne=Go(Y,!1,this.githubRepository);n&&(ne.isDraft=!1);const le=(o=this._reviewThreadsCache)==null?void 0:o.find(he=>he.comments.some(ke=>ke.graphNodeId===t));return le&&(le.comments.push(ne),this._onDidChangeReviewThreads.fire({added:[],changed:[le],removed:[]})),this._onDidChange.fire({timeline:!0,comments:!0}),ne}async validateDraftMode(){const e=!!await this.getPendingReviewId();return e!==this.hasPendingReview&&(this.hasPendingReview=e),await this.updateDraftModeContext(),e}async updateDraftModeContext(){this.isActive&&await s.commands.executeCommand("setContext","reviewInDraftMode",this.hasPendingReview)}async getTimelineEvents(){var e,t;const n=async()=>{y.debug(`Fetch timeline events of PR #${this.number} - enter`,Oi.ID);const{query:$,remote:Y,schema:ne}=await this.githubRepository.ensure();try{const{data:le}=await $({query:ne.TimelineEvents,variables:{owner:Y.owner,name:Y.repositoryName,number:this.number}});return le.repository===null&&y.error("Unexpected null repository when fetching timeline",Oi.ID),le}catch(le){y.error(`Failed to get pull request timeline events: ${le}`,Oi.ID),console.log(le);return}},[r,a,o,d]=await Promise.all([n(),this.getViewerLatestReviewCommit(),(await this.githubRepository.getAuthenticatedUser()).login,this.getReviewThreads()]),S=(t=(e=r==null?void 0:r.repository)==null?void 0:e.pullRequest.timelineItems.nodes)!=null?t:[],C=await fd(S,await this.getCopilotTimelineEvents(!0),this.githubRepository);return this.addReviewTimelineEventComments(C,d),vk(C,a==null?void 0:a.sha,o,this.head),y.debug(`Fetch timeline events of PR #${this.number} - done`,Oi.ID),this.timelineEvents=C,C}async getActivityTimelineEvents(){var e,t;y.debug(`Fetch timeline events of PR #${this.number} - enter`,Oi.ID);const{query:n,remote:r,schema:a}=await this.githubRepository.ensure();try{const{data:o}=await n({query:a.PullRequestActivityTimelineEvents,variables:{owner:r.owner,name:r.repositoryName,number:this.number}});return o.repository===null&&y.error("Unexpected null repository when fetching timeline",Oi.ID),fd((t=(e=o.repository)==null?void 0:e.pullRequest.timelineItems.nodes)!=null?t:[],[],this.githubRepository)}catch(o){return y.error(`Failed to get pull request timeline events: ${o}`,Oi.ID),console.log(o),[]}}addReviewTimelineEventComments(e,t){const n=e.filter($=>$.event===Ht.Reviewed),r=t.reduce(($,Y)=>$.concat(Y.comments),[]),a=n.reduce(($,Y)=>($[Y.id]=Y,Y.comments=[],$),{}),o=r.reduce(($,Y)=>($[Y.id]=Y,$),{}),d=[];let S=r.length;for(;S-- >0;){const $=r[S];if(!$.inReplyToId){d.unshift($);continue}const Y=o[$.inReplyToId];Y.childComments=Y.childComments||[],Y.childComments=[$,...$.childComments||[],...Y.childComments]}d.forEach($=>{const Y=a[$.pullRequestReviewId];Y&&(Y.comments=Y.comments.concat($).concat($.childComments||[]))}),t.forEach($=>{if(!$.prReviewDatabaseId||!a[$.prReviewDatabaseId])return;const Y=a[$.prReviewDatabaseId];Y.reviewThread={threadId:$.id,canResolve:$.viewerCanResolve,canUnresolve:$.viewerCanUnresolve,isResolved:$.isResolved}});const C=n.filter($=>{var Y;return((Y=$.state)==null?void 0:Y.toLowerCase())==="pending"})[0];C&&(C.comments=r.filter($=>$.isDraft))}async editReviewComment(e,t){var n;const{mutate:r,schema:a}=await this.githubRepository.ensure();let o=(n=this._reviewThreadsCache)==null?void 0:n.find(C=>C.comments.some($=>$.graphNodeId===e.graphNodeId));if(!o)return this.editIssueComment(e,t);const{data:d}=await r({mutation:a.EditComment,variables:{input:{pullRequestReviewCommentId:e.graphNodeId,body:t}}});if(!d)throw new Error("Editing review comment failed.");const S=Go(d.updatePullRequestReviewComment.pullRequestReviewComment,!!e.isResolved,this.githubRepository);if(o){const C=o.comments.findIndex($=>$.graphNodeId===e.graphNodeId);o.comments.splice(C,1,S),this._onDidChangeReviewThreads.fire({added:[],changed:[o],removed:[]}),this._onDidChange.fire({timeline:!0})}return S}async deleteReviewComment(e){var t,n,r;try{const{octokit:a,remote:o}=await this.githubRepository.ensure(),d=Number(e),S=(n=(t=this._reviewThreadsCache)==null?void 0:t.findIndex(C=>C.comments.some($=>$.id===d)))!=null?n:-1;if(S===-1)this.deleteIssueComment(e);else if(await a.call(a.api.pulls.deleteReviewComment,{owner:o.owner,repo:o.repositoryName,comment_id:d}),S>-1){const C=this._reviewThreadsCache[S],$=C.comments.findIndex(Y=>Y.id===d);C.comments.splice($,1),C.comments.length===0?((r=this._reviewThreadsCache)==null||r.splice(S,1),this._onDidChangeReviewThreads.fire({added:[],changed:[],removed:[C]})):this._onDidChangeReviewThreads.fire({added:[],changed:[C],removed:[]}),this._onDidChange.fire({timeline:!0})}}catch(a){throw new Error(_e(a))}}async getFileContent(e,t,n){var r;y.debug("Fetch file content - enter",Qn.ID);const{query:a,remote:o,schema:d}=await this.githubRepository.ensure(),{data:S}=await a({query:d.GetFileContent,variables:{owner:e,name:o.repositoryName,expression:`${t}:${n}`}});if((r=S.repository)!=null&&r.object.text)return y.debug("Fetch file content - end",Qn.ID),S.repository.object.text}async compareBaseBranchForMerge(e,t,n,r){var a,o,d;const{octokit:S,remote:C}=await this.githubRepository.ensure(),$=await S.call(S.api.repos.compareCommits,{repo:C.repositoryName,owner:e,base:`${e}:${t}`,head:`${n}:${r}`});return(d=(o=(a=$==null?void 0:$.data)==null?void 0:a.files)==null?void 0:o.filter(Y=>Y!==void 0))!=null?d:[]}async getUpdateBranchFiles(e,t,n){if(this.item.mergeable===Ln.Conflict&&(!n.resolvedConflicts||n.resolvedConflicts.size===0))throw new Error("Pull Request has conflicts but no resolutions were provided.");const{octokit:r}=await this.githubRepository.ensure(),a=await this.compareBaseBranchForMerge(n.prHeadOwner,n.prHeadBranchName,n.prBaseOwner,e),o=(await r.call(r.api.repos.getCommit,{owner:n.prBaseOwner,repo:n.repositoryName,ref:e})).data.commit.tree.sha,d=await r.call(r.api.git.getTree,{owner:n.prBaseOwner,repo:n.repositoryName,tree_sha:o,recursive:"true"});return(await Promise.all(a.map(async C=>{var $,Y,ne,le;if(!C)return;const he=d.data.tree.find(Ge=>Ge.path===C.filename),ke=($=he==null?void 0:he.mode)!=null?$:"100644",Ne=(await r.call(r.api.git.getTree,{owner:n.prHeadOwner,repo:n.repositoryName,tree_sha:t,recursive:"true"})).data.tree.find(Ge=>Ge.path===C.filename),Ce=(Y=Ne==null?void 0:Ne.mode)!=null?Y:"100644";if(C.status==="removed")return{path:C.filename,sha:null,mode:(ne=Ne==null?void 0:Ne.mode)!=null?ne:"100644"};const De={path:C.filename,mode:ke},He=n.resolvedConflicts.get(C.filename);if((He==null?void 0:He.resolvedContents)!==void 0){if(C.status!=="modified")throw new Error(`Only modified file are supported for conflict resolution ${C.filename}: ${C.status}`);if(ke!==Ce)throw new Error(`Conflict resolution not supported for file with different modes ${C.filename}: ${ke} -> ${Ce}`);if(C.previous_filename)throw new Error("Conflict resolution not supported for renamed files");return De.content=He.resolvedContents,De}if((!C.previous_filename||!this._fileChanges.has(C.previous_filename))&&!this._fileChanges.has(C.filename))return De.sha=C.sha,De;const{data:Ke}=await r.call(r.api.repos.getContent,{owner:n.prHeadOwner,repo:n.repositoryName,path:(le=C==null?void 0:C.previous_filename)!=null?le:C.filename,ref:n.prHeadBranchName});if(C.status==="modified"&&C.patch&&Ke.content){const Ge=On.Buffer.from(Ke.content,"base64"),je=new TextDecoder().decode(Ge);De.content=jm(je,C.patch)}else throw y.error(`File ${C.filename} has status ${C.status} and can't be merged.`,Qn.ID),new Error(`File ${C.filename} has status ${C.status} and can't be merged,`);return De}))).filter(C=>C!==void 0)}async getLatestBaseCommitSha(){if(!this.base)throw new Error("Base branch not yet set.");const{octokit:t,remote:n}=await this.githubRepository.ensure();return(await t.call(t.api.repos.getBranch,{owner:n.owner,repo:n.repositoryName,branch:this.base.ref})).data.commit.sha}async updateBranch(e){if(this.item.mergeable===Ln.Conflict&&(!e.resolvedConflicts||e.resolvedConflicts.size===0))throw new Error("Pull Request has conflicts but no resolutions were provided.");y.debug(`Updating branch ${e.prHeadBranchName} to ${e.prBaseBranchName} - enter`,Qn.ID);try{const{octokit:t}=await this.githubRepository.ensure(),n=(await t.call(t.api.repos.getBranch,{owner:e.prHeadOwner,repo:e.repositoryName,branch:e.prHeadBranchName})).data.commit.sha,r=(await t.call(t.api.repos.getCommit,{owner:e.prHeadOwner,repo:e.repositoryName,ref:n})).data.commit.tree.sha,a=await this.getUpdateBranchFiles(e.latestPrBaseSha,r,e),o=(await t.call(t.api.git.createTree,{owner:e.prHeadOwner,repo:e.repositoryName,base_tree:r,tree:a})).data.sha;let d;e.prBaseOwner===e.prHeadOwner?d=`Merge branch \`${e.prBaseBranchName}\` into ${e.prHeadBranchName}`:d=`Merge branch \`${e.prBaseOwner}:${e.prBaseBranchName}\` into ${e.prHeadBranchName}`;const S=(await t.call(t.api.git.createCommit,{owner:e.prHeadOwner,repo:e.repositoryName,message:d,tree:o,parents:[n,e.latestPrBaseSha]})).data.sha;await t.call(t.api.git.updateRef,{owner:e.prHeadOwner,repo:e.repositoryName,ref:`heads/${e.prHeadBranchName}`,sha:S})}catch(t){return y.error(`Updating branch ${e.prHeadBranchName} to ${e.prBaseBranchName} failed: ${t}`,Qn.ID),!1}return y.debug(`Updating branch ${e.prHeadBranchName} to ${e.prBaseBranchName} - done`,Qn.ID),!0}async updateBaseBranch(e){var t;y.debug(`Updating base branch to ${e} - enter`,Oi.ID);try{const{mutate:n,schema:r}=await this.githubRepository.ensure(),{data:a}=await n({mutation:r.UpdatePullRequest,variables:{input:{pullRequestId:this.graphNodeId,baseRefName:e}}});if((t=a==null?void 0:a.updateIssue)!=null&&t.issue){const o=this.base.repositoryCloneUrl.toString()||"";this.base=new gf(e,`${this.base.owner}:${e}`,this.base.sha,o,this.base.owner,this.base.name,this.base.isInOrganization),this._onDidChange.fire({base:!0})}y.debug(`Updating base branch to ${e} - done`,Oi.ID)}catch(n){throw y.error(`Updating base branch to ${e} failed: ${n}`,Oi.ID),n}}async getReviewRequests(){var e;y.debug("Get Review Requests - enter",Oi.ID);const t=this.githubRepository,{remote:n,query:r,schema:a}=await t.ensure(),{data:o}=await r({query:this.credentialStore.isAuthenticatedWithAdditionalScopes(t.remote.authProviderId)?a.GetReviewRequestsAdditionalScopes:a.GetReviewRequests,variables:{number:this.number,owner:n.owner,name:n.repositoryName}});if(o.repository===null)return y.error("Unexpected null repository while getting review requests",Oi.ID),[];const d=nk(o,t);return(((e=this.reviewers)==null?void 0:e.length)!==d.length||this.reviewers.some(S=>!d.some(C=>C.id===S.id)))&&(this.reviewers=d,this._onDidChange.fire({reviewers:!0})),y.debug("Get Review Requests - done",Oi.ID),d}async requestReview(e,t,n=!1){var r;const{mutate:a,schema:o}=await this.githubRepository.ensure(),d={pullRequestId:this.graphNodeId,teamIds:t.map($=>$.id),userIds:e.filter($=>$.accountType!==ca.Bot).map($=>$.id),union:n};this.githubRepository.areQueriesLimited||(d.botIds=e.filter($=>$.accountType===ca.Bot).map($=>$.id));const{data:S}=await a({mutation:o.AddReviewers,variables:{input:d}});if(!(S!=null&&S.requestReviews)){y.error("Unexpected null repository while getting review requests",Oi.ID);return}const C=[...e,...t].filter($=>{var Y;return!((Y=this.reviewers)!=null&&Y.some(ne=>ne.id===$.id))});((r=this.reviewers)==null?void 0:r.length)!==C.length&&(this.reviewers?this.reviewers.push(...C):this.reviewers=C,this.reviewers=[...this.reviewers,...C],this._onDidChange.fire({reviewers:!0}))}async deleteReviewRequest(e,t){var n;if(e.length===0&&t.length===0)return;const{octokit:r,remote:a}=await this.githubRepository.ensure();await r.call(r.api.pulls.removeRequestedReviewers,{owner:a.owner,repo:a.repositoryName,pull_number:this.number,reviewers:e.map(o=>o.id),team_reviewers:t.map(o=>o.id)}),this.reviewers=((n=this.reviewers)==null?void 0:n.filter(o=>!e.some(d=>d.id===o.id)&&!t.some(d=>d.id===o.id)))||[],this._onDidChange.fire({reviewers:!0})}diffThreads(e,t){const n=[],r=[],a=[];t.forEach(o=>{const d=e.find(S=>S.id===o.id);d?Bu()(o,d)||r.push(o):n.push(o)}),e.forEach(o=>{t.find(d=>d.id===o.id)||a.push(o)}),(n.length>0||r.length>0||a.length>0)&&this._onDidChangeReviewThreads.fire({added:n,changed:r,removed:a})}async initializeReviewThreadCacheAndReviewComments(){const{remote:e}=await this.githubRepository.ensure(),t=await this.getRawReviewComments();this.setReviewThreadCacheFromRaw(t),this.comments=t.map(n=>n.comments.nodes.map(r=>Go(r,n.isResolved,this.githubRepository),e)).reduce((n,r)=>n.concat(r),[]).sort((n,r)=>n.createdAt>r.createdAt?1:-1)}setReviewThreadCacheFromRaw(e){var t;const n=e.map(a=>ld(a,this.githubRepository)),r=(t=this._reviewThreadsCache)!=null?t:[];return this._reviewThreadsCache=n,this.diffThreads(r,n),n}async getRawReviewComments(){y.debug(`Fetching review comments for PR #${this.number} - enter`,Oi.ID);const{remote:e,query:t,schema:n}=await this.githubRepository.ensure();let r=null,a=!1;const o=[];try{do{const{data:d}=await t({query:n.PullRequestComments,variables:{owner:e.owner,name:e.repositoryName,number:this.number,after:r}},!1,{query:n.LegacyPullRequestComments});o.push(...d.repository.pullRequest.reviewThreads.nodes),a=d.repository.pullRequest.reviewThreads.pageInfo.hasNextPage,r=d.repository.pullRequest.reviewThreads.pageInfo.endCursor}while(a&&o.length<1e3);return y.debug(`Fetching review comments for PR #${this.number} - exit`,Oi.ID),o}catch(d){return y.error(`Failed to get pull request review comments: ${d}`,Oi.ID),[]}}async getReviewThreads(){const e=await this.getRawReviewComments();return this.setReviewThreadCacheFromRaw(e)}async getCommits(){try{y.debug(`Fetch commits of PR #${this.number} - enter`,Oi.ID);const{remote:e,octokit:t}=await this.githubRepository.ensure(),n=await nu(t.api.pulls.listCommits,{pull_number:this.number,owner:e.owner,repo:e.repositoryName});return y.debug(`Fetch commits of PR #${this.number} - done`,Oi.ID),n}catch(e){return s.window.showErrorMessage(`Fetching commits failed: ${_e(e)}`),[]}}async getCommitChangedFiles(e){var t;try{y.debug(`Fetch file changes of commit ${e.sha} in PR #${this.number} - enter`,Oi.ID);const{octokit:n,remote:r}=await this.githubRepository.ensure(),a=await n.call(n.api.repos.getCommit,{owner:r.owner,repo:r.repositoryName,ref:e.sha});return y.debug(`Fetch file changes of commit ${e.sha} in PR #${this.number} - done`,Oi.ID),(t=a.data.files)!=null?t:[]}catch(n){return s.window.showErrorMessage(`Fetching commit file changes failed: ${_e(n)}`),[]}}async getCoAuthors(){var e;if(!cn[this.item.user.login])return[];const{octokit:t,remote:n}=await this.githubRepository.ensure(),a=(e=(await t.call(t.api.issues.listEventsForTimeline,{issue_number:this.number,owner:n.owner,repo:n.repositoryName,per_page:100})).data.find(o=>o.event==="copilot_work_started"))==null?void 0:e.actor;return a?[ln(a,this.githubRepository)]:[]}getUpdatesQuery(e){return e.LatestUpdates}async getStatusChecks(){return this.githubRepository.getStatusChecks(this.number)}static async openChanges(e,t,n){const r=await Oi.getChangeModels(e,t),a=[];for(const o of r)a.push([o.filePath,o.parentFilePath,o.filePath]);return e.telemetry.sendTelemetryEvent("pr.openChanges"),n&&(s.window.tabGroups.all.length<2&&await s.commands.executeCommand("workbench.action.splitEditor"),await s.commands.executeCommand("workbench.action.focusSecondEditorGroup")),s.commands.executeCommand("vscode.changes",s.l10n.t("Changes in Pull Request #{0}",t.number),a)}static async openCommitChanges(e,t,n){var r;try{const a=await t.getCommitParent(n);if(!a){s.window.showErrorMessage(s.l10n.t("Commit {0} has no parent",n.substring(0,7)));return}const o=await t.compareCommits(a,n);if(!(o!=null&&o.files)||o.files.length===0){Fo(e,n);return}const d=[];for(const S of o.files){const C=zg(S.filename,{commit:n,owner:t.remote.owner,repo:t.remote.repositoryName}),$=zg((r=S.previous_filename)!=null?r:S.filename,{commit:a,owner:t.remote.owner,repo:t.remote.repositoryName}),Y=Xl(S.status);Y===Yt.ADD?d.push([C,void 0,C]):Y===Yt.DELETE?d.push([C,$,void 0]):d.push([C,$,C])}return t.telemetry.sendTelemetryEvent("pr.openCommitChanges"),ht.executeCommand("vscode.changes",s.l10n.t("Changes in Commit {0}",n.substring(0,7)),d)}catch(a){const o=a instanceof Error?a.message:String(a);s.window.showErrorMessage(s.l10n.t("Failed to open commit changes: {0}",o))}}static async openDiffFromComment(e,t,n){const a=(await t.getFileChangesInfo()).find(S=>S.fileName===n.path||S.previousFileName===n.path);if(!a)throw new Error("Can't find matching file");const o=n.path.split("/"),d=n.diffHunks&&n.diffHunks.length>0?n.diffHunks[0].newLineNumber:void 0;this.openDiff(e,t,a,o[o.length-1],d)}static async openFirstDiff(e,t){const n=await t.getFileChangesInfo();if(!n.length)return;const r=n[0];this.openDiff(e,t,r,r.fileName)}static async openDiff(e,t,n,r,a){let o,d;if(t.equals(e.activePullRequest)){const S=s.Uri.file(W.resolve(e.repository.rootUri.fsPath,n.fileName));o=n.status===Yt.DELETE?ga(S,void 0,void 0,"",!1,{base:!1},e.repository.rootUri):S;const C=t.mergeBase||t.base.sha;d=ga(S,n.status===Yt.RENAME?n.previousFileName:n.fileName,void 0,n.status===Yt.ADD?"":C,!1,{base:!0},e.repository.rootUri)}else{const S=t.head.sha,C=n.status===Yt.RENAME?n.previousFileName:n.fileName;o=hs(s.Uri.file(nl(e.repository.rootUri,n.fileName)),t,n.baseCommit,S,n.fileName,!1,n.status,n.previousFileName),d=hs(s.Uri.file(nl(e.repository.rootUri,C)),t,n.baseCommit,S,n.fileName,!0,n.status,n.previousFileName)}s.commands.executeCommand("vscode.diff",d,o,`${r} (Pull Request)`,a?{selection:{start:{line:a,character:0},end:{line:a,character:0}}}:{})}get fileChanges(){return this._fileChanges}get rawFileChanges(){return this._rawFileChangesCache}async getFileChangesInfo(){this._fileChanges.clear();const e=await this.getRawFileChangesInfo(),t=this.mergeBase||this.base.sha,n=await Kw(e,t);return n.forEach(r=>{this._fileChanges.set(r.fileName,r)}),n}async getPatch(){const e=this.githubRepository,{octokit:t,remote:n}=await e.ensure(),{data:r}=await t.call(t.api.pulls.get,{owner:n.owner,repo:n.repositoryName,pull_number:this.number,mediaType:{format:"diff"}});if(typeof r=="string")return r;throw new Error("Expected diff data to be a string")}static async getChangeModels(e,t){var n;const r=((n=e.activePullRequest)==null?void 0:n.number)===t.number,a=t.fileChanges.size>0?t.fileChanges.values():await t.getFileChangesInfo(),o=[];for(const d of a){let S;d instanceof qo?S=new il(e,d,t):S=new go(e,t,d,r,t.mergeBase),o.push(S)}return o}async getRawFileChangesInfo(){var e;y.debug(`Fetch file changes, base, head and merge base of PR #${this.number} - enter`,Oi.ID);const t=this.githubRepository,{octokit:n,remote:r}=await t.ensure();if(!this.base){y.appendLine("No base branch found for PR, fetching it now",Oi.ID),y.trace(`Fetching from ${r.owner}/${r.repositoryName}. PR #${this.number}`,Oi.ID);const $=await n.call(n.api.pulls.get,{owner:r.owner,repo:r.repositoryName,pull_number:this.number});this.update(od($.data,t))}let a=this.base.sha;const o=await this.getViewerLatestReviewCommit(),d=this.hasChangesSinceLastReview;if(this.hasChangesSinceLastReview=o!==void 0&&((e=this.head)==null?void 0:e.sha)!==o.sha,this._showChangesSinceReview&&this.hasChangesSinceLastReview&&o!=null&&(a=o.sha),this.item.merged){y.appendLine("PR is merged, fetching all file changes",Oi.ID);const $=await nu(n.api.pulls.listFiles,{repo:r.repositoryName,owner:r.owner,pull_number:this.number});return this.mergeBase=this.base.sha,this._rawFileChangesCache=$,$}y.debug(`Comparing commits for ${r.owner}/${r.repositoryName} with base ${this.base.repositoryCloneUrl.owner}:${a} and head ${this.head.repositoryCloneUrl.owner}:${this.head.sha}`,Oi.ID);const{files:S,mergeBaseSha:C}=await ES(r,n,this.base,this.head,a,this.number,Oi.ID);return this.mergeBase=C,d!==void 0&&d!==this.hasChangesSinceLastReview&&this.hasChangesSinceLastReview&&this._showChangesSinceReview&&this._onDidChangeChangesSinceReview.fire(),y.debug(`Fetch file changes and merge base of PR #${this.number} - done, total files ${S.length} `,Oi.ID),this._rawFileChangesCache=S,S}get autoMerge(){return!!this.item.autoMerge}get autoMergeMethod(){return this.item.autoMergeMethod}get allowAutoMerge(){return!!this.item.allowAutoMerge}get mergeCommitMeta(){return this.item.mergeCommitMeta}get squashCommitMeta(){return this.item.squashCommitMeta}get hasComments(){return this._hasComments}async getMergeability(){var e,t,n,r,a;try{y.debug(`Fetch pull request mergeability ${this.number} - enter`,Oi.ID);const{query:o,remote:d,schema:S}=await this.githubRepository.ensure(),{data:C}=await o({query:S.PullRequestMergeability,variables:{owner:d.owner,name:d.repositoryName,number:this.number}});C.repository===null&&y.error("Unexpected null repository while getting mergeability",Oi.ID),y.debug(`Fetch pull request mergeability ${this.number} - done`,Oi.ID);const $=dd((e=C.repository)==null?void 0:e.pullRequest.mergeable,(t=C.repository)==null?void 0:t.pullRequest.mergeStateStatus);return this.item.mergeable=$,this.conflicts=(a=(r=(n=C.repository)==null?void 0:n.pullRequest.mergeRequirements)==null?void 0:r.conditions.find(Y=>Y.__typename==="PullRequestMergeConflictStateCondition"))==null?void 0:a.conflicts,this.update(this.item),{mergeability:$,conflicts:this.conflicts}}catch(o){return y.error(`Unable to fetch PR Mergeability: ${o}`,Oi.ID),{mergeability:Ln.Unknown}}}async setReadyForReview(){try{const{mutate:e,schema:t}=await this.githubRepository.ensure(),{data:n}=await e({mutation:t.ReadyForReview,variables:{input:{pullRequestId:this.graphNodeId}}});this._telemetry.sendTelemetryEvent("pr.readyForReview.success");const r={isDraft:n.markPullRequestReadyForReview.pullRequest.isDraft,mergeable:dd(n.markPullRequestReadyForReview.pullRequest.mergeable,n.markPullRequestReadyForReview.pullRequest.mergeStateStatus),allowAutoMerge:n.markPullRequestReadyForReview.pullRequest.viewerCanEnableAutoMerge||n.markPullRequestReadyForReview.pullRequest.viewerCanDisableAutoMerge};return this.item.isDraft=r.isDraft,this.item.mergeable=r.mergeable,this.item.allowAutoMerge=r.allowAutoMerge,this._onDidChange.fire({draft:!0}),r}catch(e){throw this._telemetry.sendTelemetryErrorEvent("pr.readyForReview.failure"),e}}async convertToDraft(){try{const{mutate:e,schema:t}=await this.githubRepository.ensure(),{data:n}=await e({mutation:t.ConvertToDraft,variables:{input:{pullRequestId:this.graphNodeId}}});this._telemetry.sendTelemetryEvent("pr.convertToDraft.success");const r={isDraft:n.convertPullRequestToDraft.pullRequest.isDraft,mergeable:dd(n.convertPullRequestToDraft.pullRequest.mergeable,n.convertPullRequestToDraft.pullRequest.mergeStateStatus)};return this.item.isDraft=r.isDraft,this.item.mergeable=r.mergeable,this._onDidChange.fire({draft:!0}),r}catch(e){throw this._telemetry.sendTelemetryErrorEvent("pr.convertToDraft.failure"),e}}updateCommentReactions(e,t){var n;const r=(n=this._reviewThreadsCache)==null?void 0:n.find(a=>a.comments.some(o=>o.graphNodeId===e));if(r){const a=r.comments.find(o=>o.graphNodeId===e);a&&(a.reactions=Ds(t),this._onDidChangeReviewThreads.fire({added:[],changed:[r],removed:[]}))}}async addCommentReaction(e,t){const n=hd().reduce((S,C)=>(S[C.label]=C.title,S),{}),{mutate:r,schema:a}=await this.githubRepository.ensure(),{data:o}=await r({mutation:a.AddReaction,variables:{input:{subjectId:e,content:n[t.label]}}});if(!o)throw new Error("Add comment reaction failed.");const d=o.addReaction.subject.reactionGroups;return this.updateCommentReactions(e,d),o}async deleteCommentReaction(e,t){const n=hd().reduce((S,C)=>(S[C.label]=C.title,S),{}),{mutate:r,schema:a}=await this.githubRepository.ensure(),{data:o}=await r({mutation:a.DeleteReaction,variables:{input:{subjectId:e,content:n[t.label]}}});if(!o)throw new Error("Delete comment reaction failed.");const d=o.removeReaction.subject.reactionGroups;return this.updateCommentReactions(e,d),o}undoOptimisticResolveState(e){e&&(e.isResolved=!e.isResolved,e.viewerCanResolve=!e.viewerCanResolve,e.viewerCanUnresolve=!e.viewerCanUnresolve,this._onDidChangeReviewThreads.fire({added:[],changed:[e],removed:[]}))}async resolveReviewThread(e){var t,n,r,a;const o=(t=this._reviewThreadsCache)==null?void 0:t.find(d=>d.id===e);try{y.debug("Resolve review thread - enter",Oi.ID);const{mutate:d,schema:S}=await this.githubRepository.ensure();o&&o.viewerCanResolve&&(o.isResolved=!0,o.viewerCanResolve=!1,o.viewerCanUnresolve=!0,this._onDidChangeReviewThreads.fire({added:[],changed:[o],removed:[]}));const{data:C}=await d({mutation:S.ResolveReviewThread,variables:{input:{threadId:e}}},{mutation:S.LegacyResolveReviewThread,deleteProps:[]});if(!C)throw this.undoOptimisticResolveState(o),new Error("Resolve review thread failed.");const $=(r=(n=this._reviewThreadsCache)==null?void 0:n.findIndex(Y=>Y.id===e))!=null?r:-1;if($>-1){const Y=ld(C.resolveReviewThread.thread,this.githubRepository);(a=this._reviewThreadsCache)==null||a.splice($,1,Y),this._onDidChangeReviewThreads.fire({added:[],changed:[Y],removed:[]})}y.debug("Resolve review thread - done",Oi.ID)}catch(d){y.error(`Resolve review thread failed: ${d}`,Oi.ID),this.undoOptimisticResolveState(o)}}async unresolveReviewThread(e){var t,n,r,a;const o=(t=this._reviewThreadsCache)==null?void 0:t.find(d=>d.id===e);try{y.debug("Unresolve review thread - enter",Oi.ID);const{mutate:d,schema:S}=await this.githubRepository.ensure();o&&o.viewerCanUnresolve&&(o.isResolved=!1,o.viewerCanUnresolve=!1,o.viewerCanResolve=!0,this._onDidChangeReviewThreads.fire({added:[],changed:[o],removed:[]}));const{data:C}=await d({mutation:S.UnresolveReviewThread,variables:{input:{threadId:e}}},{mutation:S.LegacyUnresolveReviewThread,deleteProps:[]});if(!C)throw this.undoOptimisticResolveState(o),new Error("Unresolve review thread failed.");const $=(r=(n=this._reviewThreadsCache)==null?void 0:n.findIndex(Y=>Y.id===e))!=null?r:-1;if($>-1){const Y=ld(C.unresolveReviewThread.thread,this.githubRepository);(a=this._reviewThreadsCache)==null||a.splice($,1,Y),this._onDidChangeReviewThreads.fire({added:[],changed:[Y],removed:[]})}y.debug("Unresolve review thread - done",Oi.ID)}catch(d){y.error(`Unresolve review thread failed: ${d}`,Oi.ID),this.undoOptimisticResolveState(o)}}async enableAutoMerge(e){try{const{mutate:t,schema:n}=await this.githubRepository.ensure(),{data:r}=await t({mutation:n.EnablePullRequestAutoMerge,variables:{input:{mergeMethod:e.toUpperCase(),pullRequestId:this.graphNodeId}}});if(!r)throw new Error("Enable auto-merge failed.");this.item.autoMerge=!0,this.item.autoMergeMethod=e}catch(t){if(t.message==='GraphQL error: ["Pull request Pull request is in clean status"]')s.window.showWarningMessage(s.l10n.t("Unable to enable auto-merge. Pull request status checks are already green."));else throw t}}async disableAutoMerge(){try{const{mutate:e,schema:t}=await this.githubRepository.ensure(),{data:n}=await e({mutation:t.DisablePullRequestAutoMerge,variables:{input:{pullRequestId:this.graphNodeId}}});if(!n)throw new Error("Disable auto-merge failed.");this.item.autoMerge=!1}catch(e){if(e.message==='GraphQL error: ["Pull request Pull request is in clean status"]')s.window.showWarningMessage(s.l10n.t("Unable to enable auto-merge. Pull request status checks are already green."));else throw e}}async dequeuePullRequest(){y.debug(`Dequeue pull request ${this.number} - enter`,Qn.ID);const{mutate:e,schema:t}=await this.githubRepository.ensure();if(!t.DequeuePullRequest)return!1;try{return await e({mutation:t.DequeuePullRequest,variables:{input:{id:this.graphNodeId}}}),y.debug(`Dequeue pull request ${this.number} - done`,Qn.ID),this.mergeQueueEntry=void 0,!0}catch(n){return y.error(`Dequeueing pull request failed: ${n}`,Qn.ID),!1}}async enqueuePullRequest(){var e;y.debug(`Enqueue pull request ${this.number} - enter`,Qn.ID);const{mutate:t,schema:n}=await this.githubRepository.ensure();if(n.EnqueuePullRequest)try{const{data:r}=await t({mutation:n.EnqueuePullRequest,variables:{input:{pullRequestId:this.graphNodeId}}});return y.debug(`Enqueue pull request ${this.number} - done`,Qn.ID),(e=np(r==null?void 0:r.enqueuePullRequest.mergeQueueEntry))!=null?e:void 0}catch(r){y.error(`Enqueuing pull request failed: ${r}`,Qn.ID)}}async initializePullRequestFileViewState(){const{query:e,schema:t,remote:n}=await this.githubRepository.ensure(),r=[];let a=null,o=!1;do{const{data:d}=await e({query:t.PullRequestFiles,variables:{owner:n.owner,name:n.repositoryName,number:this.number,after:a}});d.repository.pullRequest.files.nodes.forEach(S=>{this._fileChangeViewedState[S.path]!==S.viewerViewedState&&r.push({fileName:S.path,viewed:S.viewerViewedState}),this.setFileViewedState(S.path,S.viewerViewedState,!1)}),o=d.repository.pullRequest.files.pageInfo.hasNextPage,a=d.repository.pullRequest.files.pageInfo.endCursor}while(o);r.length&&this._onDidChangeFileViewedState.fire({changed:r})}updateMarkFilesInProgressRefCount(e,t){const n=[];for(const r of e){let a=this.markFilesInProgressRefCount.get(r)||0;t==="increment"?a++:a--,a===0?(this.markFilesInProgressRefCount.delete(r),n.push(r)):this.markFilesInProgressRefCount.set(r,a)}return n}async markFiles(e,t,n){const r=e.map(C=>X(this.githubRepository.rootUri.path,C,!1,"/")?C.substring(this.githubRepository.rootUri.path.length+1):C);this.updateMarkFilesInProgressRefCount(r,"increment");const{mutate:a}=await this.githubRepository.ensure(),o=this.graphNodeId,d=n==="viewed"?"markFileAsViewed":"unmarkFileAsViewed";for(let C=0;C<r.length;C+=Vg)try{const $=r.slice(C,C+Vg),Y=Tl()`mutation Batch${d}{
					${$.map((ne,le)=>`alias${le}: ${d}(
							input: {path: "${ne}", pullRequestId: "${o}"}
						) { clientMutationId }
						`)}
				}`;await a({mutation:Y})}catch($){y.error(`Error marking files as ${n}: ${$}`,Oi.ID)}this.updateMarkFilesInProgressRefCount(r,"decrement").forEach(C=>this.setFileViewedState(C,n==="viewed"?ea.VIEWED:ea.UNVIEWED,t))}async unmarkAllFilesAsViewed(){return this.markFiles(Array.from(this.fileChanges.keys()),!0,"unviewed")}setFileViewedState(e,t,n){const r=s.Uri.joinPath(this.githubRepository.rootUri,e),a=this.githubRepository.rootUri.scheme===Bt.VscodeVfs?r.path:r.fsPath;switch(t){case ea.DISMISSED:{this._viewedFiles.delete(a),this._unviewedFiles.delete(a);break}case ea.UNVIEWED:{this._viewedFiles.delete(a),this._unviewedFiles.add(a);break}case ea.VIEWED:this._viewedFiles.add(a),this._unviewedFiles.delete(a)}this._fileChangeViewedState[e]=t,n&&this._onDidChangeFileViewedState.fire({changed:[{fileName:e,viewed:t}]})}getViewedFileStates(){return{viewed:this._viewedFiles,unviewed:this._unviewedFiles}}};tn(jg,"ID","PullRequestModel");let fn=jg;async function Rf(i,e,t){return!cn[i.author.login]||(t||(t=await i.getCoAuthors()),!t||t.length===0)?!1:t.some(n=>n.login===e.login)}function ta(i){return JSON.parse(i)}function yn(i){if(i.query!=="")try{return JSON.parse(i.query)}catch{}}function AS(i){if(i.query!=="")try{return JSON.parse(i.query)}catch{}}function Nf(i){if(i.query!=="")try{return JSON.parse(i.query)}catch{}}function xs(i,e,t){return i.with({scheme:e,query:JSON.stringify(t)})}function MS(i){if(!(i.scheme!=="githubcommit"||i.query===""))try{return JSON.parse(i.query)}catch{}}function zg(i,e){return s.Uri.from({scheme:"githubcommit",path:`/${i}`,query:JSON.stringify(e)})}const PS=["image/png","image/gif","image/jpeg","image/webp","image/tiff","image/bmp"],Wg=[".aac",".avi",".bmp",".flv",".gif",".ico",".jpe",".jpeg",".jpg",".m1v",".m2a",".m2v",".m3a",".mid",".midi",".mk3d",".mks",".mkv",".mov",".movie",".mp2",".mp2a",".mp3",".mp4",".mp4a",".mp4v",".mpe",".mpeg",".mpg",".mpg4",".mpga",".oga",".ogg",".opus",".ogv",".png",".psd",".qt",".spx",".svg",".tga",".tif",".tiff",".wav",".webm",".webp",".wma",".wmv",".woff"],Kg=s.Uri.parse("data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==");async function Cf(i,e){try{const{commit:t,baseCommit:n,headCommit:r,isBase:a,path:o}=JSON.parse(i.query),d=W.extname(o);if(!Wg.includes(d))return;const S=i.scheme==="review"?t:a?n:r,C=W.join(e.rootUri.fsPath,o).replace(/\\/g,"/"),{object:$}=await e.getObjectDetails(S,C),{mimetype:Y}=await e.detectObjectType($);if(Y==="text/plain")return;if(PS.indexOf(Y)>-1){const ne=await e.buffer(S,C);return Ba.write(W.dirname(o),W.basename(o),ne,!1,e.rootUri)}}catch{return}}var wr;(i=>{const e="userIcons";function t(he){const ke=jr(he);if(he.avatarUrl){const pe=he.avatarUrl.split("").reduce((Ne,Ce)=>(Ne=(Ne<<5)-Ne+Ce.charCodeAt(0),Ne&Ne),0);return`${ke}_${Math.abs(pe)}.jpg`}return`${ke}.jpg`}function n(he){return s.Uri.joinPath(he.globalStorageUri,e)}function r(he,ke){return s.Uri.joinPath(n(he),t(ke))}function a(he){return s.Uri.joinPath(n(he),"cache.log")}async function o(he,ke,pe){await s.workspace.fs.createDirectory(n(he));const Ne=r(he,ke);return await s.workspace.fs.writeFile(Ne,pe),Ne}async function d(he,ke){try{const pe=r(he,ke);return s.workspace.fs.readFile(pe)}catch{return}}function S(he){return s.Uri.parse(`data:image/svg+xml;size:${he.byteLength};base64,${he.toString("base64")}`)}i.asImageDataURI=S;function C(he,ke){const pe=`<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M13.807 2.265C13.228 1.532 12.313 1.141 11.083 1.004C9.877 0.870002 8.821 1.038 8.139 1.769C8.09 1.822 8.043 1.877 8 1.933C7.957 1.877 7.91 1.822 7.861 1.769C7.179 1.038 6.123 0.870002 4.917 1.004C3.687 1.141 2.772 1.532 2.193 2.265C1.628 2.981 1.5 3.879 1.5 4.75C1.5 5.322 1.553 5.897 1.754 6.405L1.586 7.243L1.52 7.276C0.588 7.742 0 8.694 0 9.736V11C0 11.24 0.086 11.438 0.156 11.567C0.231 11.704 0.325 11.828 0.415 11.933C0.595 12.143 0.819 12.346 1.02 12.513C1.225 12.684 1.427 12.836 1.577 12.943C1.816 13.116 2.062 13.275 2.318 13.423C2.625 13.6 3.066 13.832 3.614 14.065C4.391 14.395 5.404 14.722 6.553 14.887C6.203 14.377 5.931 13.809 5.751 13.202C5.173 13.055 4.645 12.873 4.201 12.684C3.717 12.479 3.331 12.274 3.067 12.123L3.002 12.085V7.824L3.025 7.709C3.515 7.919 4.1 8 4.752 8C5.898 8 6.812 7.672 7.462 7.009C7.681 6.785 7.859 6.535 8.002 6.266C8.049 6.354 8.106 6.436 8.16 6.52C8.579 6.238 9.038 6.013 9.522 5.843C9.26 5.52 9.077 5.057 8.996 4.407C8.879 3.471 9.034 3.011 9.238 2.793C9.431 2.586 9.875 2.379 10.919 2.495C11.939 2.608 12.398 2.899 12.632 3.195C12.879 3.508 13.002 3.984 13.002 4.75C13.002 5.158 12.967 5.453 12.909 5.674C13.398 5.792 13.865 5.967 14.3 6.197C14.443 5.741 14.502 5.248 14.502 4.75C14.502 3.879 14.374 2.981 13.809 2.265H13.807ZM7.006 4.407C6.915 5.133 6.704 5.637 6.388 5.959C6.089 6.264 5.604 6.5 4.75 6.5C3.828 6.5 3.47 6.301 3.308 6.12C3.129 5.92 3 5.542 3 4.75C3 3.984 3.123 3.508 3.37 3.195C3.604 2.899 4.063 2.609 5.083 2.495C6.127 2.379 6.571 2.586 6.764 2.793C6.968 3.011 7.123 3.471 7.006 4.407Z" fill="${he}" />
<path d="M11.5 7C9.015 7 7 9.015 7 11.5C7 13.985 9.015 16 11.5 16C13.985 16 16 13.985 16 11.5C16 9.015 13.985 7 11.5 7ZM13.854 13.146L13.147 13.853L11.501 12.207L9.855 13.853L9.148 13.146L10.794 11.5L9.148 9.854L9.855 9.147L11.501 10.793L13.147 9.147L13.854 9.854L12.208 11.5L13.854 13.146Z" fill="${ke}" />
</svg>`,Ne=On.Buffer.from(pe);return S(Ne)}i.copilotErrorAsImageDataURI=C;function $(he,ke){const pe=`<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M13.807 2.265C13.228 1.532 12.313 1.141 11.083 1.004C9.877 0.870002 8.821 1.038 8.139 1.769C8.09 1.822 8.043 1.877 8 1.933C7.957 1.877 7.91 1.822 7.861 1.769C7.179 1.038 6.123 0.870002 4.917 1.004C3.687 1.141 2.772 1.532 2.193 2.265C1.628 2.981 1.5 3.879 1.5 4.75C1.5 5.322 1.553 5.897 1.754 6.405L1.586 7.243L1.52 7.276C0.588 7.742 0 8.694 0 9.736V11C0 11.24 0.086 11.438 0.156 11.567C0.231 11.704 0.325 11.828 0.415 11.933C0.595 12.143 0.819 12.346 1.02 12.513C1.225 12.684 1.427 12.836 1.577 12.943C1.816 13.116 2.062 13.275 2.318 13.423C2.625 13.6 3.066 13.832 3.614 14.065C4.391 14.395 5.404 14.722 6.553 14.887C6.203 14.377 5.931 13.809 5.751 13.202C5.173 13.055 4.645 12.873 4.201 12.684C3.717 12.479 3.331 12.274 3.067 12.123L3.002 12.085V7.824L3.025 7.709C3.515 7.919 4.1 8 4.752 8C5.898 8 6.812 7.672 7.462 7.009C7.681 6.785 7.859 6.535 8.002 6.266C8.049 6.354 8.106 6.436 8.16 6.52C8.579 6.238 9.038 6.013 9.522 5.843C9.26 5.52 9.077 5.057 8.996 4.407C8.879 3.471 9.034 3.011 9.238 2.793C9.431 2.586 9.875 2.379 10.919 2.495C11.939 2.608 12.398 2.899 12.632 3.195C12.879 3.508 13.002 3.984 13.002 4.75C13.002 5.158 12.967 5.453 12.909 5.674C13.398 5.792 13.865 5.967 14.3 6.197C14.443 5.741 14.502 5.248 14.502 4.75C14.502 3.879 14.374 2.981 13.809 2.265H13.807ZM7.006 4.407C6.915 5.133 6.704 5.637 6.388 5.959C6.089 6.264 5.604 6.5 4.75 6.5C3.828 6.5 3.47 6.301 3.308 6.12C3.129 5.92 3 5.542 3 4.75C3 3.984 3.123 3.508 3.37 3.195C3.604 2.899 4.063 2.609 5.083 2.495C6.127 2.379 6.571 2.586 6.764 2.793C6.968 3.011 7.123 3.471 7.006 4.407Z" fill="${he}" />
<path d="M11.5 7C9.015 7 7 9.015 7 11.5C7 13.985 9.015 16 11.5 16C13.985 16 16 13.985 16 11.5C16 9.015 13.985 7 11.5 7ZM11.5 14.25C10.963 14.25 10.445 14.105 10 13.844V14.5H9V12.5L9.5 12H11.5V13H10.536C10.823 13.16 11.155 13.25 11.5 13.25C12.177 13.25 12.805 12.907 13.137 12.354L13.994 12.87C13.481 13.722 12.525 14.25 11.5 14.25ZM14 10.5L13.5 11H11.5V10H12.464C12.177 9.84 11.845 9.75 11.5 9.75C10.823 9.75 10.195 10.093 9.863 10.646L9.006 10.13C9.519 9.278 10.475 8.75 11.5 8.75C12.037 8.75 12.555 8.895 13 9.156V8.5H14V10.5Z" fill="${ke}" />
</svg>`,Ne=On.Buffer.from(pe);return S(Ne)}i.copilotInProgressAsImageDataURI=$;function Y(he,ke){const pe=`<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M13.807 2.265C13.228 1.532 12.313 1.141 11.083 1.004C9.877 0.870002 8.821 1.038 8.139 1.769C8.09 1.822 8.043 1.877 8 1.933C7.957 1.877 7.91 1.822 7.861 1.769C7.179 1.038 6.123 0.870002 4.917 1.004C3.687 1.141 2.772 1.532 2.193 2.265C1.628 2.981 1.5 3.879 1.5 4.75C1.5 5.322 1.553 5.897 1.754 6.405L1.586 7.243L1.52 7.276C0.588 7.742 0 8.694 0 9.736V11C0 11.24 0.086 11.438 0.156 11.567C0.231 11.704 0.325 11.828 0.415 11.933C0.595 12.143 0.819 12.346 1.02 12.513C1.225 12.684 1.427 12.836 1.577 12.943C1.816 13.116 2.062 13.275 2.318 13.423C2.625 13.6 3.066 13.832 3.614 14.065C4.391 14.395 5.404 14.722 6.553 14.887C6.203 14.377 5.931 13.809 5.751 13.202C5.173 13.055 4.645 12.873 4.201 12.684C3.717 12.479 3.331 12.274 3.067 12.123L3.002 12.085V7.824L3.025 7.709C3.515 7.919 4.1 8 4.752 8C5.898 8 6.812 7.672 7.462 7.009C7.681 6.785 7.859 6.535 8.002 6.266C8.049 6.354 8.106 6.436 8.16 6.52C8.579 6.238 9.038 6.013 9.522 5.843C9.26 5.52 9.077 5.057 8.996 4.407C8.879 3.471 9.034 3.011 9.238 2.793C9.431 2.586 9.875 2.379 10.919 2.495C11.939 2.608 12.398 2.899 12.632 3.195C12.879 3.508 13.002 3.984 13.002 4.75C13.002 5.158 12.967 5.453 12.909 5.674C13.398 5.792 13.865 5.967 14.3 6.197C14.443 5.741 14.502 5.248 14.502 4.75C14.502 3.879 14.374 2.981 13.809 2.265H13.807ZM7.006 4.407C6.915 5.133 6.704 5.637 6.388 5.959C6.089 6.264 5.604 6.5 4.75 6.5C3.828 6.5 3.47 6.301 3.308 6.12C3.129 5.92 3 5.542 3 4.75C3 3.984 3.123 3.508 3.37 3.195C3.604 2.899 4.063 2.609 5.083 2.495C6.127 2.379 6.571 2.586 6.764 2.793C6.968 3.011 7.123 3.471 7.006 4.407Z" fill="${he}" />
<path d="M11.5 7C9.015 7 7 9.015 7 11.5C7 13.985 9.015 16 11.5 16C13.985 16 16 13.985 16 11.5C16 9.015 13.985 7 11.5 7ZM11.393 13.309L10.7 13.401L8.7 11.901L9.3 11.1L10.909 12.307L13.357 9.192L14.143 9.809L11.393 13.309Z" fill="${ke}" />
</svg>`,Ne=On.Buffer.from(pe);return S(Ne)}i.copilotSuccessAsImageDataURI=Y;function ne(he,ke){const pe=s.window.activeColorTheme.kind===s.ColorThemeKind.Dark?"#FFFFFF":"#000000",Ne=`<svg width="${he}" height="${ke}" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" fill="currentColor">
<path d="M16 7.992C16 3.58 12.416 0 8 0S0 3.58 0 7.992c0 2.43 1.104 4.62 2.832 6.09.016.016.032.016.032.032.144.112.288.224.448.336.08.048.144.111.224.175A7.98 7.98 0 0 0 8.016 16a7.98 7.98 0 0 0 4.48-1.375c.08-.048.144-.111.224-.16.144-.111.304-.223.448-.335.016-.016.032-.016.032-.032 1.696-1.487 2.8-3.676 2.8-6.106zm-8 7.001c-1.504 0-2.88-.48-4.016-1.279.016-.128.048-.255.08-.383a4.17 4.17 0 0 1 .416-.991c.176-.304.384-.576.64-.816.24-.24.528-.463.816-.639.304-.176.624-.304.976-.4A4.15 4.15 0 0 1 8 10.342a4.185 4.185 0 0 1 2.928 1.166c.368.368.656.8.864 1.295.112.288.192.592.24.911A7.03 7.03 0 0 1 8 14.993zm-2.448-7.4a2.49 2.49 0 0 1-.208-1.024c0-.351.064-.703.208-1.023.144-.32.336-.607.576-.847.24-.24.528-.431.848-.575.32-.144.672-.208 1.024-.208.368 0 .704.064 1.024.208.32.144.608.336.848.575.24.24.432.528.576.847.144.32.208.672.208 1.023 0 .368-.064.704-.208 1.023a2.84 2.84 0 0 1-.576.848 2.84 2.84 0 0 1-.848.575 2.715 2.715 0 0 1-2.064 0 2.84 2.84 0 0 1-.848-.575 2.526 2.526 0 0 1-.56-.848zm7.424 5.306c0-.032-.016-.048-.016-.08a5.22 5.22 0 0 0-.688-1.406 4.883 4.883 0 0 0-1.088-1.135 5.207 5.207 0 0 0-1.04-.608 2.82 2.82 0 0 0 .464-.383 4.2 4.2 0 0 0 .624-.784 3.624 3.624 0 0 0 .528-1.934 3.71 3.71 0 0 0-.288-1.47 3.799 3.799 0 0 0-.816-1.199 3.845 3.845 0 0 0-1.2-.8 3.72 3.72 0 0 0-1.472-.287 3.72 3.72 0 0 0-1.472.288 3.631 3.631 0 0 0-1.2.815 3.84 3.84 0 0 0-.8 1.199 3.71 3.71 0 0 0-.288 1.47c0 .352.048.688.144 1.007.096.336.224.64.4.927.16.288.384.544.624.784.144.144.304.271.48.383a5.12 5.12 0 0 0-1.04.624c-.416.32-.784.703-1.088 1.119a4.999 4.999 0 0 0-.688 1.406c-.016.032-.016.064-.016.08C1.776 11.636.992 9.91.992 7.992.992 4.14 4.144.991 8 .991s7.008 3.149 7.008 7.001a6.96 6.96 0 0 1-2.032 4.907z" fill="${pe}"/>
</svg>`,Ce=On.Buffer.from(Ne);return S(Ce)}async function le(he,ke,pe,Ne,Ce){let De;const He=a(he);try{const nt=await s.workspace.fs.readFile(He);De=JSON.parse(nt.toString())}catch{De=[]}const Ke=De.length,Ge=await Promise.all(ke.map(async nt=>{const Nt=nt.avatarUrl;if(Nt===void 0)return;let Et,ki=!1;try{const rt=await d(he,nt);if(!rt)throw new Error("Temporary state not initialized");Et=On.Buffer.from(rt)}catch{if(Ce)return;ki=!0;const pt=async()=>{var Ct;const ai=await _a()(Nt.toString());if(!ai.ok)throw new Error(`HTTP ${ai.status}: ${ai.statusText}`);if((Ct=ai.headers.get("content-type"))!=null&&Ct.startsWith("image/")){const Bi=await ai.arrayBuffer();await o(he,nt,new Uint8Array(Bi)),Et=On.Buffer.from(Bi)}};try{await pt()}catch{try{await pt()}catch(ai){const Bi=Ar(nt)?`${nt.org}/${nt.slug}`:nt.login||"unknown";return y.error(`Failed to fetch avatar after retry for user ${Bi}: ${ai}`,"avatarCirclesAsImageDataUris"),ne(Ne,pe)}}}if(!Et)return;if(ki){const rt=t(nt);De.push(rt)}const Pi=`data:image/jpeg;size:${Et.byteLength};base64,${Et.toString("base64")}`,Se=`<svg width="${Ne}" height="${pe}" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
		<image href="${Pi}" width="${Ne}" height="${pe}" style="clip-path: inset(0 0 0 0 round 50%);"/>
		</svg>`,Be=On.Buffer.from(Se);return S(Be)})),je=Math.max(ke.length,200);if(De.length>Ke&&Ke>0&&De.length>je){const nt=De.splice(0,50);await Promise.all(nt.map(async Nt=>{try{await s.workspace.fs.delete(s.Uri.joinPath(n(he),Nt))}catch(Et){y.error(`Failed to delete avatar from cache: ${Et}`,"avatarCirclesAsImageDataUris")}}))}return await s.workspace.fs.writeFile(He,On.Buffer.from(JSON.stringify(De))),Ge}i.avatarCirclesAsImageDataUris=le})(wr||(wr={}));function FS(i,e){return s.Uri.parse(W.posix.join(`commit~${e.substr(0,8)}`,i))}function ga(i,e,t,n,r,a,o){const d={path:e||i.path,ref:t,commit:n,base:a.base,isOutdated:r,rootPath:o.path};let S=i.path;return a.replaceFileExtension&&(S=`${S}.git`),i.with({scheme:"review",path:S,query:JSON.stringify(d)})}function Tf(i,e,t,n,r){const a={prNumber:e,fileName:t,status:n,previousFileName:r};return i.with({scheme:"filechange",query:JSON.stringify(a)})}function Qg(i){if(i.query!=="")try{return JSON.parse(i.query)}catch{}}function hs(i,e,t,n,r,a,o,d){const S={baseCommit:t,headCommit:n,isBase:a,fileName:r,prNumber:e.number,status:o,remoteName:e.githubRepository.remote.remoteName,previousFileName:d},C=i.path;return i.with({scheme:"pr",path:C,query:JSON.stringify(S)})}function Af(i){let e;return i instanceof fn?e=`${i.remote.url}:${i.number}`:typeof i=="string"?e=i:e=`${i.remote}:${i.prNumber}`,e}function Yg(i){const e=i.lastIndexOf(":");if(e===-1)return;const t=i.substring(0,e),n=i.substring(e+1),r=Number(n);if(!(!t||isNaN(r)||r<=0))return{remote:t,prNumber:r}}function uu(i,e){const t=Af(i),n={prIdentifier:t};return e!==void 0&&(n.showCopilot=e),s.Uri.parse(`PRNode:${t}`).with({scheme:"prnode",query:JSON.stringify(n)})}function Jg(i,e,t){const n={owner:i,repo:e,prNumber:t};return s.Uri.parse(`commitsnode:${i}/${e}/${t}`).with({scheme:"commitsnode",query:JSON.stringify(n)})}function DS(i){if(i.scheme==="commitsnode")try{return JSON.parse(i.query)}catch{return}}function Mf(i){return s.Uri.from({scheme:"notification",path:i.key})}function IS(i){if(i.scheme==="notification")try{return{key:i.path}}catch{}}function xS(i){const e={origin:i.originUri.toString()};return i.repoUriParams&&(e.origin=OS(i.repoUriParams).toString()),s.Uri.from({scheme:"newissue",path:"/NewIssue.md",query:JSON.stringify(e)})}function Ud(i){if(i.scheme==="newissue")try{const e=JSON.parse(i.query),t=s.Uri.parse(e.origin),n=Pf(t);return{originUri:t,repoUriParams:n}}catch{}}function OS(i){const e={folderManagerRootUri:i.repoRootUri.toString()};return s.Uri.from({scheme:"repo",path:`${i.owner}/${i.repo}`,query:JSON.stringify(e)})}function Pf(i){if(i.scheme!=="repo")return;const[e,t]=i.path.split("/");try{const n=JSON.parse(i.query),r=s.Uri.parse(n.folderManagerRootUri);return{owner:e,repo:t,repoRootUri:r}}catch{}}const LS=/^(?!-)(?!.*--)[a-zA-Z0-9-]+(?<!-)$/,US=/^[a-zA-Z0-9_.-]+$/;function Ff(i,e,t){if(!i||!e||!t)return!1;const n=Number(t);return!(isNaN(n)||n<=0||isNaN(Number(t))||i.length===0||e.length===0||!LS.test(i)||!US.test(e))}var du=(i=>(i.OpenIssueWebview="/open-issue-webview",i.OpenPullRequestWebview="/open-pull-request-webview",i.CheckoutPullRequest="/checkout-pull-request",i.OpenPullRequestChanges="/open-pull-request-changes",i))(du||{});async function Zg(i){const e=JSON.stringify(i);return s.env.asExternalUri(s.Uri.from({scheme:s.env.uriScheme,authority:jn,path:"/open-issue-webview",query:e}))}function BS(i){if(ve(i.authority,jn)===0&&i.path==="/open-issue-webview")try{const e=JSON.parse(i.query.split("&")[0]);return Ff(e.owner,e.repo,e.issueNumber)?e:void 0}catch{}}async function vo(i){const e=JSON.stringify(i);return s.env.asExternalUri(s.Uri.from({scheme:s.env.uriScheme,authority:jn,path:"/open-pull-request-webview",query:e}))}async function YF(i){const e=JSON.stringify(i);return vscode.env.asExternalUri(vscode.Uri.from({scheme:vscode.env.uriScheme,authority:EXTENSION_ID,path:"/open-pull-request-changes",query:e}))}function Xg(i){if(ve(i.authority,jn)===0&&!(i.path!=="/open-pull-request-webview"&&i.path!=="/checkout-pull-request"&&i.path!=="/open-pull-request-changes"))try{const t=new URLSearchParams(i.query).get("uri");if(t){const a=/^https?:\/\/github\.com\/(?<owner>[^\/]+)\/(?<repo>[^\/]+)\/pull\/(?<pullRequestNumber>\d+)$/.exec(t);if(a&&a.groups){const{owner:o,repo:d,pullRequestNumber:S}=a.groups,C={owner:o,repo:d,pullRequestNumber:parseInt(S,10)};return Ff(C.owner,C.repo,C.pullRequestNumber.toString())?C:void 0}}const n=JSON.parse(i.query.split("&")[0]);return Ff(n.owner,n.repo,n.pullRequestNumber)?n:void 0}catch{}}function ev(i){return s.Uri.from({scheme:"prquery",path:i.isCopilot?"copilot":void 0,query:i.remote?JSON.stringify({remote:i.remote}):void 0})}function qS(i){if(i.scheme==="prquery")try{return{remote:(i.query?JSON.parse(i.query):void 0).remote,isCopilot:i.path==="copilot"}}catch{}}var Bt=(i=>(i.File="file",i.Review="review",i.Pr="pr",i.PRNode="prnode",i.FileChange="filechange",i.GithubPr="githubpr",i.GitPr="gitpr",i.VscodeVfs="vscode-vfs",i.Comment="comment",i.MergeOutput="merge-output",i.Notification="notification",i.NewIssue="newissue",i.Repo="repo",i.Git="git",i.PRQuery="prquery",i.GitHubCommit="githubcommit",i.CommitsNode="commitsnode",i))(Bt||{});function nl(i,e){return i.scheme==="file"?W.resolve(i.fsPath,e):W.posix.resolve(i.path,e)}function cu(i){return!!i&&i.kind==="notification"}function fu(i){return i===void 0||i===0?0:i-1}function JF(i,e){for(let t=0;t<i.length;t++){const n=i[t];for(let r=0;r<n.diffLines.length;r++)if(n.diffLines[r].positionInHunk===e)return n.diffLines[r]}}function Bd(i,e,t){const n=Zl(i);let r=n.next(),a=0;for(;!r.done;){const o=r.value;if(!(o.oldLineNumber>e))if(o.oldLineNumber+o.oldLength-1<e)a+=o.newLength-o.oldLength;else{if(t===o.newLength)return a+=o.newLength-o.oldLength,e+a;for(const d of o.diffLines){if(d.oldLineNumber>e)return e+a;d.type===Rn.Add?a++:d.type===Rn.Delete&&a--}return e+a}r=n.next()}return e+a}function hu(i,e){const t=Zl(i);let n=t.next(),r=0;for(;!n.done;){const a=n.value;if(!(a.newLineNumber>e))if(a.newLineNumber+a.newLength-1<e)r+=a.oldLength-a.newLength;else{for(const o of a.diffLines)if(o.type===Rn.Add?r--:o.type===Rn.Delete&&r++,o.newLineNumber>e)return e+r;return e+r}n=t.next()}return e+r}function tv(i,e,t="GetCommentingRanges"){i.length===0&&y.debug("No commenting ranges: File contains no diffs.",t);const n=[];for(let r=0;r<i.length;r++){const a=i[r];let o,d;if(e){let S;for(let C=0;C<a.diffLines.length;C++){const $=a.diffLines[C];$.type===Rn.Delete?(o!==void 0||(o=fu($.oldLineNumber)),S=fu($.oldLineNumber)):o!==void 0&&S!==void 0&&(n.push(new s.Range(o,0,S,0)),o=void 0,S=void 0)}o!==void 0&&S!==void 0?(n.push(new s.Range(o,0,S,0)),o=void 0,S=void 0):n.length===0&&y.debug("No commenting ranges: Diff is in base and none of the diff hunks could be added.",t)}else a.newLineNumber?(o=fu(a.newLineNumber),d=fu(a.newLength),n.push(new s.Range(o,0,o+d,0))):y.debug("No commenting ranges: Diff is not base and newLineNumber is undefined.",t)}return y.debug(`Found ${n.length} commenting ranges.`,t),n}var $S=Object.defineProperty,HS=(i,e,t)=>e in i?$S(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t,yo=(i,e,t)=>HS(i,typeof e!="symbol"?e+"":e,t);class vr extends f{constructor(e){super(),this.parent=e,yo(this,"_children"),yo(this,"childrenDisposables",[]),yo(this,"label"),yo(this,"accessibilityInformation"),yo(this,"id"),yo(this,"description")}getParent(){if(this.parent instanceof vr)return this.parent}get children(){if(this._children&&this._children.length)return this._children}async reveal(e,t){try{await this.parent.reveal(e||this,t)}catch(n){y.error(n,"TreeNode")}}refresh(e){return this.parent.refresh(e)}async cachedChildren(){return this._children&&this._children.length?this._children:this.getChildren()}async getChildren(e=!0){return this._children&&this._children.length&&e&&c(this._children),[]}updateFromCheckboxChanged(e){}dispose(){super.dispose(),this.childrenDisposables&&c(this.childrenDisposables)}}class Df extends vr{constructor(e,t){super(e),yo(this,"label",""),this.label=t}getTreeItem(){return new s.TreeItem(this.label)}}var GS=Object.defineProperty,VS=(i,e,t)=>e in i?GS(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t,Pa=(i,e,t)=>VS(i,typeof e!="symbol"?e+"":e,t);function qd(i,e={}){const t=s.window.activeTextEditor,n={...e,viewColumn:s.ViewColumn.Active};return t&&t.document.uri.path===i.path&&(n.selection=t.selection),{command:"vscode.open",arguments:[i,n],title:"Open File"}}async function If(i,e,t,n,r){let a=await Cf(e,i.repository)||e,o=await Cf(t,i.repository)||t;(a.scheme==="data"||o.scheme==="data")&&(r===Yt.ADD&&(a=Kg),r===Yt.DELETE&&(o=Kg));const d=t.path.split("/");return{command:"vscode.diff",arguments:[a,o,`${d[d.length-1]} (Pull Request)`,n],title:"Open Changed File in pull request"}}class bo extends vr{constructor(e,t,n,r){var a;super(e),this.pullRequestManager=t,this.pullRequest=n,this.changeModel=r,Pa(this,"iconPath"),Pa(this,"fileChangeResourceUri"),Pa(this,"contextValue"),Pa(this,"command"),Pa(this,"opts"),Pa(this,"checkboxState");const o=(a=this.pullRequest.fileChangeViewedState[this.changeModel.fileName])!=null?a:ea.UNVIEWED;this.contextValue=`${Bt.FileChange}:${Yt[this.changeModel.status]}:${o===ea.VIEWED?"viewed":"unviewed"}`,this.label=W.basename(this.changeModel.fileName),this.iconPath=s.ThemeIcon.File,this.opts={},this.updateShowOptions(),this.fileChangeResourceUri=Tf(s.Uri.file(this.changeModel.fileName),this.pullRequest.number,this.changeModel.fileName,this.changeModel.status,this.changeModel.change instanceof Ps?this.changeModel.change.previousFileName:void 0),this.updateViewed(o),this.childrenDisposables.push(this.pullRequest.onDidChangeReviewThreads(d=>{[...d.added,...d.removed].some(S=>S.path===this.changeModel.fileName)&&this.updateShowOptions()})),this.childrenDisposables.push(this.pullRequest.onDidChangeFileViewedState(d=>{const S=d.changed.find(C=>C.fileName===this.changeModel.fileName&&C.viewed!==this.changeModel.viewed);S&&(this.updateViewed(S.viewed),this.refresh(this))})),this.accessibilityInformation={label:`${this.label} pull request diff`,role:"link"},this.description=this._getDescription()}get status(){return this.changeModel.status}get fileName(){return this.changeModel.fileName}get blobUrl(){return this.changeModel.blobUrl}get sha(){return this.changeModel.sha}get tooltip(){return this.resourceUri.fsPath}get resourceUri(){return this.changeModel.filePath.with({query:this.fileChangeResourceUri.query})}_getDescription(){return s.workspace.getConfiguration(bt).get(mt)==="flat"?!0:""}updateViewed(e){var t,n;this.changeModel.updateViewed(e),this.contextValue=`${Bt.FileChange}:${Yt[this.changeModel.status]}:${e===ea.VIEWED?"viewed":"unviewed"}`,this.checkboxState=e===ea.VIEWED?{state:s.TreeItemCheckboxState.Checked,tooltip:s.l10n.t("Mark File as Unviewed"),accessibilityInformation:{label:s.l10n.t("Mark file {0} as unviewed",(t=this.label)!=null?t:"")}}:{state:s.TreeItemCheckboxState.Unchecked,tooltip:s.l10n.t("Mark File as Viewed"),accessibilityInformation:{label:s.l10n.t("Mark file {0} as viewed",(n=this.label)!=null?n:"")}},this.pullRequestManager.setFileViewedContext()}async markFileAsViewed(e=!0){await this.pullRequest.markFiles([this.fileName],!e,"viewed"),this.pullRequestManager.setFileViewedContext()}async unmarkFileAsViewed(e=!0){await this.pullRequest.markFiles([this.fileName],!e,"unviewed"),this.pullRequestManager.setFileViewedContext()}updateFromCheckboxChanged(e){const t=e===s.TreeItemCheckboxState.Checked?ea.VIEWED:ea.UNVIEWED;this.updateViewed(t)}updateShowOptions(){var e,t;const n=this.pullRequest.reviewThreadsCache,a=(B(n,o=>o.path)[this.changeModel.fileName]||[]).filter(o=>!o.isOutdated);if(a.length){a.sort((S,C)=>S.endLine-C.endLine);const o=(e=a[0].startLine)!=null?e:a[0].originalStartLine,d=(t=a[0].endLine)!=null?t:a[0].originalEndLine;this.opts.selection=new s.Range(o,0,d,0)}else delete this.opts.selection}getTreeItem(){return this}openFileCommand(){return qd(this.changeModel.filePath)}async openDiff(e,t){var n;const r=await If(e,this.changeModel.parentFilePath,this.changeModel.filePath,{...this.opts,...t},this.changeModel.status);return s.commands.executeCommand(r.command,...(n=r.arguments)!=null?n:[])}}class xf extends bo{_getDescription(){let e=s.workspace.asRelativePath(W.dirname(this.changeModel.fileName),!1);return e==="."&&(e=""),e}constructor(e,t,n,r){super(e,t,n,r),this.fileChangeResourceUri=Tf(s.Uri.parse(r.blobUrl),r.pullRequest.number,r.fileName,r.status,r.previousFileName),this.command={command:"pr.openFileOnGitHub",title:"Open File on GitHub",arguments:[this]}}async openDiff(){return s.commands.executeCommand(this.command.command)}openFileCommand(){return this.command}}class $d extends bo{constructor(e,t,n,r){super(t,e,n,r),this.folderRepositoryManager=e}get comments(){return this.pullRequest.comments.filter(e=>e.path===this.changeModel.fileName&&e.position!==null)}async resolve(){this.status===Yt.ADD?this.command=qd(this.changeModel.filePath):this.command=await If(this.folderRepositoryManager,this.changeModel.parentFilePath,this.changeModel.filePath,void 0,this.changeModel.status)}}class wo extends bo{constructor(e,t,n,r,a,o){super(e,t,n,r),this.isCurrent=a,this._comments=o,Pa(this,"_useViewChangesCommand",!1)}get comments(){return this._comments?this._comments:this.pullRequest.comments.filter(e=>!this.sha||this.sha===this.pullRequest.head.sha?e.position&&e.path===this.changeModel.fileName:e.path===this.changeModel.fileName&&e.originalCommitId===this.sha)}useViewChangesCommand(){this._useViewChangesCommand=!0}async alternateCommand(){if(this.status===Yt.DELETE||this.status===Yt.ADD){const le=this.changeModel.parentFilePath.with({query:JSON.stringify({path:null,commit:null})});return{command:"vscode.diff",arguments:this.status===Yt.DELETE?[this.changeModel.parentFilePath,le,`${this.fileName}`,{}]:[le,this.changeModel.parentFilePath,`${this.fileName}`,{}],title:"Open Diff"}}const{path:e,ref:t,commit:n,rootPath:r}=ta(this.changeModel.filePath.query),a=`${n}^`,o={path:e,ref:t,commit:a,base:!0,isOutdated:!0,rootPath:r},d=this.changeModel.filePath.with({query:JSON.stringify(o)});let S=this.changeModel.filePath;this.isCurrent&&(S=this.pullRequestManager.repository.rootUri.with({path:W.posix.join(o.rootPath,o.path)}));const C={},$=this.pullRequest.reviewThreadsCache,ne=(B($,le=>le.path)[this.fileName]||[]).filter(le=>le.isOutdated).sort((le,he)=>le.endLine-he.endLine);return ne.length&&(C.selection=new s.Range(ne[0].originalStartLine,0,ne[0].originalEndLine,0)),{command:"vscode.diff",arguments:[d,S,`${this.fileName} from ${(n||"").substr(0,8)}`,C],title:"View Changes"}}async resolve(){this._useViewChangesCommand?this.command=await this.alternateCommand():s.workspace.getConfiguration(Cr,this.pullRequestManager.repository.rootUri).get(wn,!0)&&this.status!==Yt.ADD?this.command=await If(this.pullRequestManager,this.changeModel.parentFilePath,this.changeModel.filePath,this.opts,this.status):this.command=this.openFileCommand()}}class Hd extends vr{constructor(e,t,n,r,a,o,d){super(e),this.fileName=t,this.previousFileName=n,this.status=r,this.baseBranch=a,this.headBranch=o,this.isLocal=d,Pa(this,"iconPath"),Pa(this,"fileChangeResourceUri"),Pa(this,"tooltip"),Pa(this,"command");const S=d?Bt.GitPr:Bt.GithubPr;this.label=t,this.tooltip=t,this.iconPath=s.ThemeIcon.File,this.fileChangeResourceUri=s.Uri.file(t).with({scheme:S,query:JSON.stringify({status:r,fileName:t})});let C=xs(s.Uri.file(t),S,{fileName:t,branch:a}),$=xs(s.Uri.file(t),S,{fileName:t,branch:o});switch(r){case Yt.ADD:C=xs(s.Uri.file(t),S,{fileName:t,branch:a,isEmpty:!0});break;case Yt.RENAME:C=xs(s.Uri.file(n),S,{fileName:n,branch:a,isEmpty:!0});break;case Yt.DELETE:$=xs(s.Uri.file(t),S,{fileName:t,branch:o,isEmpty:!0});break}this.command={title:"Open Diff",command:"vscode.diff",arguments:[C,$,`${t} (Pull Request Preview)`]}}get resourceUri(){return s.Uri.file(this.fileName).with({query:this.fileChangeResourceUri.query})}getTreeItem(){return this}}function Of(i){return i.filter(e=>e instanceof wo)}var jS=Object.defineProperty,zS=(i,e,t)=>e in i?jS(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t,Fa=(i,e,t)=>zS(i,typeof e!="symbol"?e+"":e,t);const Lf=class Nr extends Rp{constructor(e,t,n,r,a,o){var d,S;super(t,o),this._reviewManager=e,this._repository=n,this._reviewModel=r,this._gitApi=a,Fa(this,"_commentHandlerId"),Fa(this,"_workspaceFileChangeCommentThreads",{}),Fa(this,"_reviewSchemeFileChangeCommentThreads",{}),Fa(this,"_obsoleteFileChangeCommentThreads",{}),Fa(this,"_visibleNormalTextEditors",[]),Fa(this,"_pendingCommentThreadAdds",[]),Fa(this,"_context"),Fa(this,"resourceHints",{schemes:[Bt.Review]}),Fa(this,"_commentContentChangedListener"),this._context=this._folderRepoManager.context,this._commentController=this._register(s.comments.createCommentController(`${Nr.PREFIX}-${(d=t.activePullRequest)==null?void 0:d.remote.owner}-${(S=t.activePullRequest)==null?void 0:S.remote.owner}-${t.activePullRequest.number}`,s.l10n.t("Pull Request ({0})",t.activePullRequest.title))),this._commentController.commentingRangeProvider=this,this._commentController.reactionHandler=this.toggleReaction.bind(this),this.updateResourcesWithCommentingRanges(),this._register(this._folderRepoManager.onDidChangeActivePullRequest(()=>this.updateResourcesWithCommentingRanges())),this._commentHandlerId=Ep(),Zn(this._commentHandlerId,this,n)}async initialize(){this._visibleNormalTextEditors=s.window.visibleTextEditors.filter(e=>e.document.uri.scheme!=="comment"),await this._folderRepoManager.activePullRequest.validateDraftMode(),await this.initializeCommentThreads(),await this.registerListeners()}async createOutdatedCommentThread(e,t){const n=t.comments[0].originalCommitId,r=s.Uri.file(W.join(`commit~${n.substr(0,8)}`,e)),a=ga(r,e,void 0,n,!0,{base:t.diffSide===Pn.LEFT},this._repository.rootUri),o=t.subjectType===Va.FILE?void 0:eu(t.originalStartLine-1,t.originalEndLine-1);return tu(this._context,a,o,t,this._commentController,await this._folderRepoManager.getCurrentUser(),this.githubReposForPullRequest(this._folderRepoManager.activePullRequest))}async createWorkspaceCommentThread(e,t,n){let r=n.startLine,a=n.endLine;const o=await this._repository.diffWithHEAD(t);o&&(r=Bd(o,r),a=Bd(o,a));let d;if(n.subjectType!==Va.FILE){const S=r-1,C=a-1;(S<0||C<0)&&y.error(`Mapped new position for workspace comment thread is invalid. Original: (${n.startLine}, ${n.endLine}) New: (${S}, ${C})`,Nr.ID),d=eu(S,C)}return tu(this._context,e,d,n,this._commentController,await this._folderRepoManager.getCurrentUser(),this.githubReposForPullRequest(this._folderRepoManager.activePullRequest))}async createReviewCommentThread(e,t,n){var r;if(!((r=this._folderRepoManager.activePullRequest)!=null&&r.mergeBase))throw new Error("Cannot create review comment thread without an active pull request base.");const a=ga(e,t,void 0,this._folderRepoManager.activePullRequest.mergeBase,!1,{base:!0},this._repository.rootUri),o=n.subjectType===Va.FILE?void 0:eu(n.startLine-1,n.endLine-1);return tu(this._context,a,o,n,this._commentController,await this._folderRepoManager.getCurrentUser(),this.githubReposForPullRequest(this._folderRepoManager.activePullRequest))}async doInitializeCommentThreads(e){for(const n in this._workspaceFileChangeCommentThreads)c(this._workspaceFileChangeCommentThreads[n]);this._workspaceFileChangeCommentThreads={};for(const n in this._reviewSchemeFileChangeCommentThreads)c(this._reviewSchemeFileChangeCommentThreads[n]);this._reviewSchemeFileChangeCommentThreads={};for(const n in this._obsoleteFileChangeCommentThreads)c(this._obsoleteFileChangeCommentThreads[n]);this._obsoleteFileChangeCommentThreads={};const t=B(e,n=>n.path);Object.keys(t).forEach(n=>{const r=t[n],a=r[0];if(a){const o=W.join(this._repository.rootUri.path,a.path).replace(/\\/g,"/"),d=this._repository.rootUri.with({path:o});let S=[],C=[],$=[];const Y=r.map(async ne=>{ne.isOutdated?$.push(await this.createOutdatedCommentThread(n,ne)):ne.diffSide===Pn.RIGHT?S.push(await this.createWorkspaceCommentThread(d,n,ne)):C.push(await this.createReviewCommentThread(d,n,ne))});Promise.all(Y),this._workspaceFileChangeCommentThreads[n]=S,this._reviewSchemeFileChangeCommentThreads[n]=C,this._obsoleteFileChangeCommentThreads[n]=$}}),this.updateResourcesWithCommentingRanges()}updateResourcesWithCommentingRanges(){var e,t;if(this._folderRepoManager.activePullRequest&&this._folderRepoManager.activePullRequest.fileChanges.size<30){for(const[n,r]of(t=(e=this._folderRepoManager.activePullRequest)==null?void 0:e.fileChanges.entries())!=null?t:[])if(r.status!==Yt.DELETE){const a=s.Uri.joinPath(this._folderRepoManager.repository.rootUri,n);y.trace(`Prefetching commenting ranges for ${a.toString()}`,Nr.ID),s.workspace.openTextDocument(a)}}}async initializeCommentThreads(){const e=this._folderRepoManager.activePullRequest;if(!(!e||!e.isResolved()))return this.doInitializeCommentThreads(e.reviewThreadsCache)}async registerListeners(){const e=this._folderRepoManager.activePullRequest;e&&(this._register(e.onDidChangePendingReviewState(t=>{[this._workspaceFileChangeCommentThreads,this._obsoleteFileChangeCommentThreads,this._reviewSchemeFileChangeCommentThreads].forEach(n=>{for(const r in n)n[r].forEach(a=>{Ym(a,t),$o(a)})})})),this._register(e.onDidChangeReviewThreads(async t=>{const n=this.githubReposForPullRequest(this._folderRepoManager.activePullRequest);for(const r of t.added){const{path:a}=r,o=await Ue(this._pendingCommentThreadAdds,async C=>{const $=this._folderRepoManager.gitRelativeRootPath(C.uri.path);if($!==r.path)return!1;const Y=await this.getContentDiff(C.uri,$);return(C.range?hu(Y,C.range.end.line):0)+1===r.endLine});let d;if(o>-1)d=this._pendingCommentThreadAdds[o],d.gitHubThreadId=r.id,d.comments=r.comments.map(C=>new Kn(this._context,C,d,n)),Km(this._context,d,r,n,void 0,!0),this._pendingCommentThreadAdds.splice(o,1);else{const C=W.join(this._repository.rootUri.path,a).replace(/\\/g,"/"),$=this._repository.rootUri.with({path:C});r.isOutdated?d=await this.createOutdatedCommentThread(a,r):r.diffSide===Pn.RIGHT?d=await this.createWorkspaceCommentThread($,a,r):d=await this.createReviewCommentThread($,a,r)}const S=r.isOutdated?this._obsoleteFileChangeCommentThreads:r.diffSide===Pn.RIGHT?this._workspaceFileChangeCommentThreads:this._reviewSchemeFileChangeCommentThreads;S[a]?S[a].push(d):S[a]=[d]}for(const r of t.changed){const a=this._findMatchingThread(r);if(a.index>-1){const o=a.threadMap[r.path][a.index];sd(this._context,o,r,n)}}for(const r of t.removed){const a=this._findMatchingThread(r);if(a.index>-1){const o=a.threadMap[r.path][a.index];a.threadMap[r.path].splice(a.index,1),o.dispose()}}this.updateResourcesWithCommentingRanges()})))}_findMatchingThread(e){var t,n,r,a;const o=e.isOutdated?this._obsoleteFileChangeCommentThreads:e.diffSide===Pn.RIGHT?this._workspaceFileChangeCommentThreads:this._reviewSchemeFileChangeCommentThreads;let d=(n=(t=o[e.path])==null?void 0:t.findIndex(S=>S.gitHubThreadId===e.id))!=null?n:-1;if(d===-1&&e.isOutdated&&(d=(a=(r=this._workspaceFileChangeCommentThreads[e.path])==null?void 0:r.findIndex(S=>S.gitHubThreadId===e.id))!=null?a:-1,d>-1)){const S=this._workspaceFileChangeCommentThreads[e.path].splice(d,1)[0];this._obsoleteFileChangeCommentThreads[e.path]||(this._obsoleteFileChangeCommentThreads[e.path]=[]),this._obsoleteFileChangeCommentThreads[e.path].push(S)}return{threadMap:o,index:d}}onDidChangeActiveTextEditor(e){var t;(t=this._commentContentChangedListener)==null||t.dispose(),this._commentContentChangedListener=void 0;const n=s.window.tabGroups.activeTabGroup.activeTab,r=(n==null?void 0:n.input)instanceof s.TabInputText?n.input.uri:(n==null?void 0:n.input)instanceof s.TabInputTextDiff?n.input.modified:void 0;if(e&&r&&e.document.uri.authority.startsWith(Nr.PREFIX)&&r.scheme===Bt.File&&this._folderRepoManager.activePullRequest&&r.toString().startsWith(this._repository.rootUri.toString())&&this.tryAddCopilotMention(e,this._folderRepoManager.activePullRequest),(e==null?void 0:e.document.uri.scheme)!==Bt.Comment)return;const a=()=>{e.document.getText().includes("```suggestion")?ht.setContext(Ft.ACTIVE_COMMENT_HAS_SUGGESTION,!0):ht.setContext(Ft.ACTIVE_COMMENT_HAS_SUGGESTION,!1)};this._commentContentChangedListener=s.workspace.onDidChangeTextDocument(o=>{o.document.uri.toString()===e.document.uri.toString()&&a()}),a()}updateCommentExpandState(e){const t=this._folderRepoManager.activePullRequest;if(!t)return;const n=this.githubReposForPullRequest(t);function r(S,C){if(C.size!==0)for(const $ of C.keys()){const Y=C.get($),ne=S[$];for(const le of ne){const he=Y.get(le.gitHubThreadId);sd(this._context,le,he,n,e)}}}const a=new Map,o=new Map,d=new Map;for(const S of t.reviewThreadsCache){let C;S.isOutdated?C=a:S.diffSide===Pn.RIGHT?C=d:C=o,C.has(S.path)||C.set(S.path,new Map),C.get(S.path).set(S.id,S)}r(this._obsoleteFileChangeCommentThreads,a),r(this._reviewSchemeFileChangeCommentThreads,o),r(this._workspaceFileChangeCommentThreads,d)}visibleEditorsEqual(e,t){if(e=e.filter(n=>n.document.uri.scheme!=="comment"),t=t.filter(n=>n.document.uri.scheme!=="comment"),e=q(e,n=>n.document.uri.toString()),t=q(t,n=>n.document.uri.toString()),e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(!t.find(a=>a.document.uri.toString()===e[n].document.uri.toString()))return!1;return!0}hasCommentThread(e){return e.uri.scheme===Bt.Review?!0:lp(this._repository,e.uri)?e.uri.scheme===this._repository.rootUri.scheme:!1}async provideCommentingRanges(e,t){let n=e.uri.query&&e.uri.query!==""?ta(e.uri.query):void 0;if(n){const a=this.findMatchedFileChangeForReviewDiffView(this._reviewModel.localFileChanges,e.uri);if(a)return y.debug("Found matched file for commenting ranges.",Nr.ID),{ranges:tv(await a.changeModel.diffHunks(),n.base,Nr.ID),enableFileComments:!0}}const r=md(this._gitApi,e.uri);if((r==null?void 0:r.rootUri.toString())!==this._repository.rootUri.toString()){e.uri.scheme!=="output"&&y.debug("No commenting ranges: File is not in the current repository.",Nr.ID);return}if(e.uri.scheme===this._repository.rootUri.scheme){if(!this._folderRepoManager.activePullRequest.isResolved()){y.debug("No commenting ranges: Active PR has not been resolved.",Nr.ID);return}const a=this._folderRepoManager.gitRelativeRootPath(e.uri.path),o=Of(this._reviewModel.localFileChanges).find(S=>S.fileName===a),d=[];if(o){const S=await o.changeModel.diffHunks();if(o.status===Yt.RENAME&&S.length===0)return y.debug("No commenting ranges: File was renamed with no diffs.",Nr.ID),{ranges:[],enableFileComments:!0};const C=await this.getContentDiff(e.uri,o.fileName);for(let $=0;$<S.length;$++){const Y=S[$],ne=Bd(C,Y.newLineNumber,e.lineCount),le=Bd(C,Y.newLineNumber+Y.newLength-1,e.lineCount);ne>0&&le>0&&d.push(new s.Range(ne-1,0,le-1,0))}d.length===0&&y.debug("No commenting ranges: File has diffs, but they could not be mapped to current lines.",Nr.ID)}else y.debug("No commenting ranges: File does not match any of the files in the review.",Nr.ID);return y.debug(`Providing ${d.length} commenting ranges for ${W.basename(e.uri.fsPath)}.`,Nr.ID),{ranges:d,enableFileComments:d.length>0}}else y.debug("No commenting ranges: File scheme differs from repository scheme.",Nr.ID)}async getContentDiff(e,t,n=!0){var r,a,o,d;const S=s.window.visibleTextEditors.find(C=>C.document.uri.toString()===e.toString());if(!((r=this._folderRepoManager.activePullRequest)!=null&&r.head))throw y.error("Failed to get content diff. Cannot get content diff without an active pull request head.",Nr.ID),new Error("Cannot get content diff without an active pull request head.");try{if(S&&S.document.isDirty&&s.workspace.getConfiguration("files",S.document.uri).get("autoSave")!=="afterDelay"){const C=S.document.getText(),Y=(await this._repository.getObjectDetails(this._folderRepoManager.activePullRequest.head.sha,t)).object,ne=await this._repository.hashObject(C);return await this._repository.diffBlobs(Y,ne)}else return await this._repository.diffWith(this._folderRepoManager.activePullRequest.head.sha,t)}catch(C){if(y.error(`Failed to get content diff. ${_e(C)}`,Nr.ID),(a=C.stderr)!=null&&a.includes("bad object")){if((o=this._repository.state.HEAD)!=null&&o.upstream&&n){const $=s.workspace.getConfiguration(bt).get(Nn,"pull");if(($==="pull"||$==="pullAndMergeBase"||$==="pullAndUpdateBase"||$===!0)&&s.workspace.getConfiguration(bt).get(ri,"prompt")==="always")try{return await this._repository.pull(),this.getContentDiff(e,t,!1)}catch{}else if((d=this._repository.state.HEAD)!=null&&d.commit)return this._repository.diffWith(this._repository.state.HEAD.commit,t)}this._folderRepoManager.activePullRequest.isOpen&&s.window.showErrorMessage(s.l10n.t("Unable to get comment locations for commit {0}. This commit is not available locally and there is no remote branch.",this._folderRepoManager.activePullRequest.head.sha)),y.warn(`Unable to get comment locations for commit ${this._folderRepoManager.activePullRequest.head.sha}. This commit is not available locally and there is no remote branch.`,Nr.ID)}throw C}}findMatchedFileChangeForReviewDiffView(e,t){const n=ta(t.query),r=e.filter(a=>{const o=a.changeModel;if(o instanceof il||o.fileName!==n.path&&!(o.change instanceof Ps&&o.change.previousFileName===n.path))return!1;if(o.filePath.scheme!=="review"&&o.sha===n.commit)return!0;const d=o.filePath.query?JSON.parse(o.filePath.query):void 0;if(d&&d.commit===n.commit)return!0;const S=o.parentFilePath.query?JSON.parse(o.parentFilePath.query):void 0;return!!(S&&S.commit===n.commit)});if(r&&r.length)return r[0]}getCommentSide(e){return e.uri.scheme===Bt.Review&&ta(e.uri.query).base?Pn.LEFT:Pn.RIGHT}async startReview(e,t){var n;const r=e.comments.length;let a;try{if(a=await this.optimisticallyAddComment(e,t,!0),r){const o=e.comments[0];if(o instanceof Kn)await this._folderRepoManager.activePullRequest.createCommentReply(t,o.rawComment.graphNodeId,!1);else throw new Error("Cannot reply to temporary comment")}else{const o=this._folderRepoManager.gitRelativeRootPath(e.uri.path),d=this.getCommentSide(e);this._pendingCommentThreadAdds.push(e);let S,C;if(e.range){if(d===Pn.RIGHT){const $=await this.getContentDiff(e.uri,o);S=hu($,e.range.start.line),C=hu($,e.range.end.line)}else S=e.range.start.line,C=e.range.end.line;S++,C++}await Promise.all([this._folderRepoManager.activePullRequest.createReviewThread(t,o,S,C,d),ad(e,await this._folderRepoManager.getCurrentUser(this._folderRepoManager.activePullRequest.githubRepository),this._context)])}}catch(o){s.window.showErrorMessage("Starting review failed. Any review comments may be lost.",{modal:!0,detail:(n=o==null?void 0:o.message)!=null?n:o}),e.comments=e.comments.map(d=>(d instanceof ha&&d.id===a&&(d.mode=s.CommentMode.Editing),d))}}async openReview(){await this._reviewManager.openDescription(),rr.scrollToReview()}async optimisticallyAddComment(e,t,n){const r=await this._folderRepoManager.getCurrentUser(),a=new ha(e,t,n,r);return this.updateCommentThreadComments(e,[...e.comments,a]),a.id}updateCommentThreadComments(e,t){e.comments=t,$o(e)}async optimisticallyEditComment(e,t){const n=await this._folderRepoManager.getCurrentUser(),r=new ha(e,t.body instanceof s.MarkdownString?t.body.value:t.body,!!t.label,n,t);return e.comments=e.comments.map(a=>a instanceof Kn&&a.commentId===t.commentId?r:a),r.id}async createOrReplyComment(e,t,n,r){var a;if(!this._folderRepoManager.activePullRequest)throw new Error("Cannot create comment without an active pull request.");const o=e.comments.length,d=n?!1:r!==void 0?r:this._folderRepoManager.activePullRequest.hasPendingReview,S=await this.optimisticallyAddComment(e,t,d);try{if(o){const C=e.comments[0];if(C instanceof Kn)await this._folderRepoManager.activePullRequest.createCommentReply(t,C.rawComment.graphNodeId,n);else throw new Error("Cannot reply to temporary comment")}else{const C=this._folderRepoManager.gitRelativeRootPath(e.uri.path);this._pendingCommentThreadAdds.push(e);const $=this.getCommentSide(e);let Y,ne;if(e.range){if($===Pn.RIGHT){const le=await this.getContentDiff(e.uri,C);Y=hu(le,e.range.start.line),ne=hu(le,e.range.end.line)}else Y=e.range.start.line,ne=e.range.end.line;Y++,ne++}await Promise.all([this._folderRepoManager.activePullRequest.createReviewThread(t,C,Y,ne,$,n),ad(e,await this._folderRepoManager.getCurrentUser(this._folderRepoManager.activePullRequest.githubRepository),this._context)])}n&&await this._folderRepoManager.activePullRequest.submitReview()}catch(C){(a=C.graphQLErrors)!=null&&a.length&&C.graphQLErrors[0].type==="NOT_FOUND"?s.window.showWarningMessage("The comment that you're replying to was deleted. Refresh to update.","Refresh").then($=>{$==="Refresh"&&this._reviewManager.updateComments()}):s.window.showErrorMessage(`Creating comment failed: ${C}`),e.comments=e.comments.map($=>($ instanceof ha&&$.id===S&&($.mode=s.CommentMode.Editing),$))}}async createSuggestionsFromChanges(e,t){const n=this._folderRepoManager.activePullRequest;if(!n)return;const r=this._folderRepoManager.gitRelativeRootPath(e.path),a=`\`\`\`suggestion
${t.suggestionContent}
\`\`\``;await n.createReviewThread(a,r,t.originalStartLine,t.originalStartLine+t.originalLineLength-1,Pn.RIGHT,!1)}async createCommentOnResolve(e,t){if(!this._folderRepoManager.activePullRequest)throw new Error("Cannot create comment on resolve without an active pull request.");const n=await this._folderRepoManager.activePullRequest.getPendingReviewId();await this.createOrReplyComment(e,t,!n)}async resolveReviewThread(e,t){try{t&&await this.createCommentOnResolve(e,t),await this._folderRepoManager.activePullRequest.resolveReviewThread(e.gitHubThreadId)}catch(n){s.window.showErrorMessage(`Resolving conversation failed: ${n}`)}}async unresolveReviewThread(e,t){try{t&&await this.createCommentOnResolve(e,t),await this._folderRepoManager.activePullRequest.unresolveReviewThread(e.gitHubThreadId)}catch(n){s.window.showErrorMessage(`Unresolving conversation failed: ${n}`)}}async editComment(e,t){if(t instanceof Kn){const n=await this.optimisticallyEditComment(e,t);try{if(!this._folderRepoManager.activePullRequest)throw new Error("Unable to find active pull request");await this._folderRepoManager.activePullRequest.editReviewComment(t.rawComment,t.body instanceof s.MarkdownString?t.body.value:t.body)}catch(r){s.window.showErrorMessage(_e(r)),e.comments=e.comments.map(a=>a instanceof ha&&a.id===n?new Kn(this._context,t.rawComment,e):a)}}}async deleteComment(e,t){try{if(!this._folderRepoManager.activePullRequest)throw new Error("Unable to find active pull request");t instanceof Kn?await this._folderRepoManager.activePullRequest.deleteReviewComment(t.commentId):e.comments=e.comments.filter(r=>!(r instanceof ha&&r.id===t.id)),e.comments.length===0?e.dispose():$o(e);const n=await this._folderRepoManager.activePullRequest.validateDraftMode();n!==this._folderRepoManager.activePullRequest.hasPendingReview&&(this._folderRepoManager.activePullRequest.hasPendingReview=n),this.update()}catch(n){throw new Error(_e(n))}}async update(){await this._folderRepoManager.activePullRequest.validateDraftMode()}async toggleReaction(e,t){try{if(!this._folderRepoManager.activePullRequest)throw new Error("Unable to find active pull request");e.reactions&&!e.reactions.find(n=>n.label===t.label&&!!n.authorHasReacted)?await this._folderRepoManager.activePullRequest.addCommentReaction(e.rawComment.graphNodeId,t):await this._folderRepoManager.activePullRequest.deleteCommentReaction(e.rawComment.graphNodeId,t)}catch(n){const r=_e(n);if(r.includes("does not have the correct permissions to execute `RemoveReaction`"))return;throw new Error(r)}}async applySuggestion(e){const t=e.parent.range,n=e.suggestion;if(n===void 0||!t)throw new Error("Comment doesn't contain a suggestion");const r=s.window.visibleTextEditors.find(a=>e.parent.uri.toString()===a.document.uri.toString());if(!r)throw new Error("Cannot find the editor to apply the suggestion to.");await r.edit(a=>{a.replace(t.with(void 0,r.document.lineAt(t.end.line).range.end),n)})}dispose(){super.dispose(),Xt(this._commentHandlerId)}};Fa(Lf,"ID","ReviewCommentController"),Fa(Lf,"PREFIX","github-review");let iv=Lf;var WS=Object.defineProperty,KS=(i,e,t)=>e in i?WS(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t,nv=(i,e,t)=>KS(i,typeof e!="symbol"?e+"":e,t);class QS{constructor(){nv(this,"_onDidChangeFile",new s.EventEmitter),nv(this,"onDidChangeFile",this._onDidChangeFile.event)}watch(e,t){return{dispose:()=>{}}}stat(e){return{type:s.FileType.File,ctime:0,mtime:new Date().getTime(),size:0}}readDirectory(e){return[]}createDirectory(e){}writeFile(e,t,n){}delete(e,t){}rename(e,t,n){}}class Uf extends QS{constructor(e,t){super(),this.gitAPI=e,this.credentialStore=t}async waitForRepos(e){y.appendLine("Waiting for repositories.","RepositoryFileSystemProvider");let t;const n=new Promise(o=>{t=this.gitAPI.onDidOpenRepository(()=>{y.appendLine("Found at least one repository.","RepositoryFileSystemProvider"),t==null||t.dispose(),t=void 0,o()})});let r;const a=new Promise(o=>{r=setTimeout(()=>{y.appendLine("Timed out while waiting for repositories.","RepositoryFileSystemProvider"),o()},e)});await Promise.race([n,a]),r&&clearTimeout(r),t&&t.dispose()}async waitForAuth(){if(!this.credentialStore.isAnyAuthenticated())return new Promise(e=>this.credentialStore.onDidGetSession(()=>e()))}async waitForAnyGitHubRepos(e){if(!e.folderManagers.some(t=>t.gitHubRepositories.length>0))return y.appendLine("Waiting for GitHub repositories.","RepositoryFileSystemProvider"),new Promise(t=>{const n=e.onDidChangeAnyGitHubRepository(()=>{y.appendLine("Found GitHub repositories.","RepositoryFileSystemProvider"),n.dispose(),t()})})}}var YS=Object.defineProperty,JS=(i,e,t)=>e in i?YS(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t,ZS=(i,e,t)=>JS(i,typeof e!="symbol"?e+"":e,t);class XS extends Uf{constructor(e,t,n){super(t,n),this.reposManagers=e,ZS(this,"_prFileChangeContentProviders",{})}registerTextDocumentContentProvider(e,t){return this._prFileChangeContentProviders[e]=t,{dispose:()=>{delete this._prFileChangeContentProviders[e]}}}resolveChanges(e,t,n,r){const a=t.equals(n.activePullRequest);return e.map(o=>o instanceof qo?new il(n,o,t):new go(n,t,o,a,r))}waitForGitHubRepos(e,t){return new Promise(n=>{const r=setTimeout(()=>{a.dispose(),n()},t),a=e.onDidLoadRepositories(o=>{o===gr.RepositoriesLoaded&&(clearTimeout(r),a.dispose(),n())})})}async tryRegisterNewProvider(e,t){await this.waitForAuth(),(this.gitAPI.state!=="initialized"||this.gitAPI.repositories.length===0)&&await this.waitForRepos(4e3);const n=this.reposManagers.getManagerForFile(e);if(!n)return;let r=n.findRepo(C=>C.remote.remoteName===t.remoteName);if(r||(await this.waitForGitHubRepos(n,1e4),r=n.findRepo(C=>C.remote.remoteName===t.remoteName)),!r)return;const a=await n.resolvePullRequest(r.remote.owner,r.remote.repositoryName,t.prNumber);if(!a)return;const o=await a.getFileChangesInfo(),d=a.mergeBase;if(!d)return;const S=this.resolveChanges(o,a,n,d);this.registerTextDocumentContentProvider(a.number,async C=>{const $=yn(C);if(!$)return"";const Y=S.find(ne=>ne.fileName===$.fileName);return Y?$f(n,a,$,Y):(y.error(`Cannot find content for document ${C.toString()}`,"PR"),"")})}async readFileWithProvider(e,t){const n=this._prFileChangeContentProviders[t];if(n){const r=await n(e);return typeof r=="string"?new TextEncoder().encode(r):r}}async readFile(e){var t;const n=yn(e);if(!n||n.prNumber===void 0)return new TextEncoder().encode("");const r=await this.readFileWithProvider(e,n.prNumber);return r||(await this.tryRegisterNewProvider(e,n),(t=await this.readFileWithProvider(e,n.prNumber))!=null?t:new TextEncoder().encode(""))}}let Bf;function qf(i){return!Bf&&i&&(Bf=new XS(i.reposManager,i.gitAPI,i.credentialStore)),Bf}async function $f(i,e,t,n){if(t.isBase&&n.status===Yt.ADD||!t.isBase&&n.status===Yt.DELETE)return"";const r=await n.diffHunks();let a=!1;if(n instanceof go&&(a=await n.isPartial()),n instanceof il||n instanceof go&&a)try{return t.isBase?e.githubRepository.getFile(n.previousFileName||n.fileName,t.baseCommit):e.githubRepository.getFile(n.fileName,t.headCommit)}catch(o){return y.error(`Fetching file content failed: ${o}`,"PR"),s.window.showWarningMessage("Opening this file locally failed. Would you like to view it on GitHub?","Open on GitHub").then(d=>{d==="Open on GitHub"&&n.blobUrl&&s.commands.executeCommand("vscode.open",s.Uri.parse(n.blobUrl))}),""}if(n instanceof go)if(n.status===Yt.ADD||n.status===Yt.DELETE)if(t.isBase){const d=[];for(let S=0;S<r.length;S++)for(let C=0;C<r[S].diffLines.length;C++){const $=r[S].diffLines[C];$.type===Rn.Add||($.type===Rn.Delete?d.push($.text):$.type===Rn.Control||d.push($.text))}return d.join(`
`)}else{const d=[];for(let S=0;S<r.length;S++)for(let C=0;C<r[S].diffLines.length;C++){const $=r[S].diffLines[C];$.type===Rn.Add?d.push($.text):$.type===Rn.Delete||$.type===Rn.Control||d.push($.text)}return d.join(`
`)}else{const d=n.status===Yt.RENAME?n.previousFileName:n.fileName,S=s.Uri.joinPath(i.repository.rootUri,d),C=await i.repository.show(t.baseCommit,S.fsPath);return t.isBase?C:jm(C,n.patch)}return""}var eE=Object.defineProperty,tE=(i,e,t)=>e in i?eE(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t,rv=(i,e,t)=>tE(i,typeof e!="symbol"?e+"":e,t);class iE{constructor(){rv(this,"_progress",Promise.resolve()),rv(this,"_endProgress",new s.EventEmitter)}get progress(){return this._progress}startProgress(){this.endProgress(),this._progress=new Promise(e=>{const t=this._endProgress.event(()=>{t.dispose(),e()})})}endProgress(){this._endProgress.fire()}}var nE=Object.defineProperty,rE=(i,e,t)=>e in i?nE(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t,Gd=(i,e,t)=>rE(i,typeof e!="symbol"?e+"":e,t);class aE{constructor(){Gd(this,"_localFileChanges"),Gd(this,"_onDidChangeLocalFileChanges",new s.EventEmitter),Gd(this,"onDidChangeLocalFileChanges",this._onDidChangeLocalFileChanges.event),Gd(this,"_obsoleteFileChanges",[])}get hasLocalFileChanges(){return!!this._localFileChanges}get localFileChanges(){var e;return(e=this._localFileChanges)!=null?e:[]}set localFileChanges(e){this._localFileChanges=e,this._onDidChangeLocalFileChanges.fire()}get obsoleteFileChanges(){return this._obsoleteFileChanges}set obsoleteFileChanges(e){this._obsoleteFileChanges=e}clear(){this.obsoleteFileChanges=[],this._localFileChanges=void 0}}class Vd{constructor(e,t){this.reviewManager=e,this.folderRepositoryManager=t}static getSettingsValue(){return s.workspace.getConfiguration(bt).get(Le)}static registerProvider(e,t){return s.window.registerTerminalLinkProvider(new Vd(e,t))}provideTerminalLinks(e,t){var n;const r=e.line.indexOf("https://github.com");if(r===-1)return[];const a=e.line.substring(r),o=new RegExp(/https:\/\/github\.com\/(.*)\/(.*)\/pull\/new\/(.*)/),d=a.match(o);if(d&&d.length===4){const S=d[1],C=d[2],$=d[3];if(this.folderRepositoryManager.gitHubRepositories.findIndex(ne=>ne.remote.owner===S&&ne.remote.repositoryName===C)>-1&&((n=this.reviewManager.repository.state.HEAD)==null?void 0:n.name)===$)return[{startIndex:r,length:e.line.length-r,tooltip:s.l10n.t("Create a Pull Request"),url:a}]}return[]}openLink(e){return s.env.openExternal(s.Uri.parse(e.url))}handleTerminalLink(e){const t=Vd.getSettingsValue();if(t==="github"){this.openLink(e);return}if(t==="vscode"){this.reviewManager.createPullRequest();return}const n="Yes",r="Don't Show Again";s.window.showInformationMessage("Do you want to create a pull request using the GitHub Pull Requests and Issues extension?",n,"No, continue to github.com",r).then(a=>{switch(a){case n:{this.reviewManager.createPullRequest();break}case r:{s.workspace.getConfiguration(bt).update(Le,"github",s.ConfigurationTarget.Global),this.openLink(e);break}default:this.openLink(e)}})}}var sE=Object.defineProperty,oE=(i,e,t)=>e in i?sE(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t,Yn=(i,e,t)=>oE(i,typeof e!="symbol"?e+"":e,t);const av=class Ub extends f{constructor(e,t,n,r,a,o,d,S,C,$,Y){super(),this._id=e,this._context=t,this._repository=n,this._folderRepoManager=r,this._telemetry=a,this.changesInPrDataProvider=o,this._pullRequestsTree=d,this._showPullRequest=S,this._activePrViewCoordinator=C,this._createPullRequestHelper=$,this._gitApi=Y,Yn(this,"_localToDispose",[]),Yn(this,"_reviewModel",new aE),Yn(this,"_lastCommitSha"),Yn(this,"_validateStatusInProgress"),Yn(this,"_reviewCommentController"),Yn(this,"_quickDiffProvider"),Yn(this,"_inMemGitHubContentProvider"),Yn(this,"_statusBarItem"),Yn(this,"_prNumber"),Yn(this,"_isShowingLastReviewChanges",!1),Yn(this,"_previousRepositoryState"),Yn(this,"_switchingToReviewMode"),Yn(this,"_changesSinceLastReviewProgress",new iE),Yn(this,"justSwitchedToReviewMode",!1),Yn(this,"_switchedToPullRequest"),Yn(this,"_isFirstLoad",!0),this._switchingToReviewMode=!1,this._previousRepositoryState={HEAD:n.state.HEAD,remotes:no(this._repository)},this._register(l(()=>c(this._localToDispose))),this.registerListeners(),Y.state==="initialized"&&this.updateState(!0)}get switchingToReviewMode(){return this._switchingToReviewMode}set switchingToReviewMode(e){this._switchingToReviewMode=e,e||this.updateState(!0)}registerListeners(){this._register(this._repository.state.onDidChange(e=>{const t=this._previousRepositoryState.HEAD,n=this._repository.state.HEAD;if(!t&&!n)return;let r;!t||!n?r=!1:r=t.upstream?n.upstream&&t.upstream.name===n.upstream.name&&t.upstream.remote===n.upstream.remote:!n.upstream;const a=r&&t.ahead===n.ahead&&t.behind===n.behind&&t.commit===n.commit&&t.name===n.name&&t.remote===n.remote&&t.type===n.type,o=no(this._repository),d=this._previousRepositoryState.remotes.length===o.length&&this._previousRepositoryState.remotes.every(S=>o.some(C=>S.equals(C)));(!a||!d)&&(this._previousRepositoryState={HEAD:this._repository.state.HEAD,remotes:o},this.updateState(!0)),t&&n&&this.updateBaseBranchMetadata(t,n)})),this._register(s.workspace.onDidChangeConfiguration(e=>{this.updateFocusedViewMode(),e.affectsConfiguration(`${bt}.${gt}`)&&this.validateStateAndResetPromise(!0,!1)})),this._register(this._folderRepoManager.onDidChangeActivePullRequest(e=>{this.updateFocusedViewMode(),this.registerQuickDiff()})),this._register(Vd.registerProvider(this,this._folderRepoManager))}async updateBaseBranchMetadata(e,t){var n;if(!e.commit||e.commit!==t.commit||!t.name||!e.name||e.name===t.name)return;let r=this._folderRepoManager.gitHubRepositories.find(a=>{var o;return a.remote.remoteName===((o=e.upstream)==null?void 0:o.remote)});if(r){const a=await r.getMetadata();return a.fork&&e.name===a.default_branch&&(r=(n=this._folderRepoManager.gitHubRepositories.find(o=>{var d,S,C;return o.remote.owner===((S=(d=a.parent)==null?void 0:d.owner)==null?void 0:S.login)&&o.remote.repositoryName===((C=a.parent)==null?void 0:C.name)}))!=null?n:r),pr.associateBaseBranchWithBranch(this.repository,t.name,{owner:r.remote.owner,repo:r.remote.repositoryName,branch:e.name})}}registerQuickDiff(){if(s.workspace.getConfiguration(bt).get(li)){this._quickDiffProvider&&(this._quickDiffProvider.dispose(),this._quickDiffProvider=void 0);const e=this._folderRepoManager.activePullRequest?s.l10n.t("GitHub pull request #{0}",this._folderRepoManager.activePullRequest.number):s.l10n.t("GitHub pull request");this._register(this._quickDiffProvider=s.window.registerQuickDiffProvider({scheme:"file"},{provideOriginalResource:t=>{const n=this.reviewModel.localFileChanges.find(r=>r.changeModel.filePath.toString()===t.toString());if(n)return n.changeModel.parentFilePath}},"github-pr",e,this.repository.rootUri))}}get statusBarItem(){return this._statusBarItem||(this._statusBarItem=s.window.createStatusBarItem("github.pullrequest.status",s.StatusBarAlignment.Left),this._statusBarItem.name=s.l10n.t("GitHub Active Pull Request")),this._statusBarItem}get repository(){return this._repository}get reviewModel(){return this._reviewModel}get id(){return`${Ub.ID}+${this._id}`}async updateState(e=!1,t=!0){if(!this.switchingToReviewMode)return this._validateStatusInProgress?(y.appendLine("Queuing additional validate state",this.id),this._validateStatusInProgress=this._validateStatusInProgress.then(async n=>await this.validateStatusAndSetContext(e,t)),this._validateStatusInProgress):(y.appendLine("Validate state in progress",this.id),this._validateStatusInProgress=this.validateStatusAndSetContext(e,t),this._validateStatusInProgress)}async validateStatusAndSetContext(e,t){let n;const r=new Promise(o=>{n=setTimeout(()=>{n&&(clearTimeout(n),n=void 0,y.error("Timeout occurred while validating state.",this.id),this._telemetry.sendTelemetryErrorEvent("pr.validateStateTimeout",{version:this._context.extension.packageJSON.version})),o()},12e4)}),a=new Promise(o=>{this.validateStateAndResetPromise(e,t).then(()=>{s.commands.executeCommand("setContext","github:stateValidated",!0).then(()=>{n&&(clearTimeout(n),n=void 0),o()})})});return Promise.race([a,r])}async offerIgnoreBranch(e){const t="githubPullRequest.showOfferIgnoreBranch";if(!this._context.workspaceState.get(t,!0))return!1;const r="githubPullRequest.offerIgnoreBranchTime",a=this._context.workspaceState.get(r,0),o=new Date().getTime();if(o-a<1e3*60*60*24)return!1;const{base:d}=await this._folderRepoManager.getPullRequestDefaults(e);if(d!==e)return!1;await this._context.workspaceState.update(r,o);const S=s.l10n.t("Ignore Pull Request"),C=s.l10n.t("Don't Show Again"),$=await s.window.showInformationMessage(s.l10n.t("There's a pull request associated with the default branch '{0}'. Do you want to ignore this Pull Request?",e),S,C);if($===S){y.appendLine(`Branch ${e} will now be ignored in ${gt}.`,this.id);const Y=s.workspace.getConfiguration(bt),ne=Y.get(gt,[]);return ne.push(e),await Y.update(gt,ne),!0}else if($===C)return await this._context.workspaceState.update(t,!1),!1;return!1}async getUpstreamUrlAndName(e){if(e.upstream)return y.debug(`Upstream for branch ${e.name} is ${e.upstream.remote}/${e.upstream.name}`,this.id),{remoteName:e.upstream.remote,upstreamBranchName:e.upstream.name,remoteUrl:void 0};try{const t=await this.repository.getConfig(`branch.${e.name}.remote`),n=await this.repository.getConfig(`branch.${e.name}.merge`);let r;return n&&(r=n.substring(11)),y.debug(`Upstream for branch ${e.name} is ${r} at ${t}`,this.id),{remoteUrl:t,upstreamBranchName:r,remoteName:void 0}}catch{return y.appendLine(`Failed to get upstream for branch ${e.name} from git config.`,this.id),{remoteUrl:void 0,upstreamBranchName:void 0,remoteName:void 0}}}async checkGitHubForPrBranch(e){try{let t;this._repository.state.HEAD&&e.name===this._repository.state.HEAD.name?t=this._repository.state.HEAD:t=e;const{remoteUrl:n,upstreamBranchName:r,remoteName:a}=await this.getUpstreamUrlAndName(t),o=await this._folderRepoManager.getMatchingPullRequestMetadataFromGitHub(t,a,n,r);if(o)return y.appendLine(`Found matching pull request metadata on GitHub for current branch ${e.name}. Repo: ${o.owner}/${o.repositoryName} PR: ${o.prNumber}`,this.id),await pr.associateBranchWithPullRequest(this._repository,o.model,e.name),o}catch(t){y.warn(`Failed to check GitHub for PR branch: ${t.message}`,this.id);return}}async resolvePullRequest(e,t){try{this._prNumber=e.prNumber;const{owner:n,repositoryName:r}=e;y.appendLine("Resolving pull request",this.id);let a=await this._folderRepoManager.resolvePullRequest(n,r,e.prNumber,t);if(!a||!a.isResolved()||!await a.githubRepository.hasBranch(a.base.name)){await this.clear(!0),this._prNumber=void 0,y.appendLine("This PR is no longer valid",this.id);return}return a}catch(n){y.appendLine(`Pull request cannot be resolved: ${n.message}`,this.id)}}async validateStateAndResetPromise(e,t){return this.validateState(e,t).then(()=>{this._validateStatusInProgress=void 0})}async validateState(e,t){var n,r,a,o,d;y.appendLine("Validating state...",this.id);const S=this._lastCommitSha;if(this._lastCommitSha=void 0,!await this._folderRepoManager.updateRepositories(!1))return;if(!this._repository.state.HEAD){await this.clear(!0);return}const C=this._repository.state.HEAD,$=s.workspace.getConfiguration(bt).get(gt),Y=(r=C.remote)!=null?r:(n=C.upstream)==null?void 0:n.remote;if($!=null&&$.find(Ke=>Ke===C.name)&&(Y==="origin"||!((o=await((a=this._folderRepoManager.gitHubRepositories.find(Ke=>Ke.remote.remoteName===Y))==null?void 0:a.getMetadata()))!=null&&o.fork))){y.appendLine(`Branch ${C.name} is ignored in ${gt}.`,this.id),await this.clear(!0);return}let ne=await this._folderRepoManager.getMatchingPullRequestMetadataForBranch();if(ne||(y.appendLine(`No matching pull request metadata found locally for current branch ${C.name}`,this.id),ne=await this.checkGitHubForPrBranch(C)),!ne){y.appendLine(`No matching pull request metadata found on GitHub for current branch ${C.name}`,this.id),await this.clear(!0);return}y.appendLine(`Found matching pull request metadata for current branch ${C.name}. Repo: ${ne.owner}/${ne.repositoryName} PR: ${ne.prNumber}`,this.id),y.appendLine(`current branch ${this._repository.state.HEAD.name} is associated with pull request #${ne.prNumber}`,this.id);const le=this._prNumber,he=this.justSwitchedToReviewMode&&le===ne.prNumber;let ke=await this.resolvePullRequest(ne,he);if(!ke){y.appendLine(`Unable to resolve PR #${ne.prNumber}`,this.id);return}if(y.appendLine(`Resolved PR #${ne.prNumber}, state is ${ke.state}`,this.id),ke.state!==Li.Open){const Ke=await this.checkGitHubForPrBranch(C);if(Ke&&(Ke==null?void 0:Ke.prNumber)!==ke.number){const Ge=await this.resolvePullRequest(Ke,!1);Ge&&(ke=Ge)}}const pe=C.commit!==S&&C.ahead===0&&C.behind===0;if(!this.justSwitchedToReviewMode&&le===ke.number&&!pe&&this._isShowingLastReviewChanges===ke.showChangesSinceReview)return;this._isShowingLastReviewChanges=ke.showChangesSinceReview,le!==ke.number&&this.clear(!1);const Ne=ur(),Ce=((d=this._switchedToPullRequest)==null?void 0:d.number)===ke.number;if(ke.isClosed&&!Ne.closed&&!Ce){y.appendLine("This PR is closed",this.id),await this.clear(!0);return}if(ke.isMerged&&!Ne.merged&&!Ce){y.appendLine("This PR is merged",this.id),await this.clear(!0);return}s.workspace.getConfiguration(bt).get(Dt,!1)||this.offerIgnoreBranch(C.name);const He=this._folderRepoManager.activePullRequest;this._folderRepoManager.activePullRequest=ke,this._lastCommitSha=ke.head.sha,this._isFirstLoad&&(this._isFirstLoad=!1,this._folderRepoManager.checkBranchUpToDate(ke,!0)),y.appendLine("Fetching pull request data",this.id),e||j(this._reviewModel.onDidChangeLocalFileChanges)(()=>{ke&&this._upgradePullRequestEditors(ke)}),this.initializePullRequestData(ke),await this.changesInPrDataProvider.addPrToView(this._folderRepoManager,ke,this._reviewModel,this.justSwitchedToReviewMode,this._changesSinceLastReviewProgress),y.appendLine("Register comments provider",this.id),await this.registerCommentController(),this._activePrViewCoordinator.setPullRequest(ke,this._folderRepoManager,this,He),this._localToDispose.push(ke.onDidChangeChangesSinceReview(async Ke=>{this._changesSinceLastReviewProgress.startProgress(),this.changesInPrDataProvider.refresh(),await this.updateComments(),await this.reopenNewReviewDiffs(),ke&&fn.openChanges(this._folderRepoManager,ke),this._changesSinceLastReviewProgress.endProgress()})),y.appendLine("Register in memory content provider",this.id),le!==ke.number&&await this.registerGitHubInMemContentProvider(),this.statusBarItem.text="$(git-pull-request) "+s.l10n.t("Pull Request #{0}",ke.number),this.statusBarItem.command={command:"pr.openDescription",title:s.l10n.t("View Pull Request Description"),arguments:[ke]},y.appendLine("Display pull request status bar indicator.",this.id),this.statusBarItem.show(),this.layout(ke,t,this.justSwitchedToReviewMode?!1:e),this.justSwitchedToReviewMode=!1}layout(e,t,n){const r=this._context.workspaceState.get(da);if(y.appendLine(`Using focus mode = ${r}.`,this.id),y.appendLine(`State validation silent = ${n}.`,this.id),y.appendLine(`PR show should show = ${this._showPullRequest.shouldShow}.`,this.id),(!n||this._showPullRequest.shouldShow)&&r)this._doFocusShow(e,t);else if(!this._showPullRequest.shouldShow&&r){const a=this._showPullRequest.onChangedShowValue(o=>{y.appendLine(`PR show value changed = ${o}.`,this.id),o&&this._doFocusShow(e,t),a.dispose()});this._localToDispose.push(a)}}async reopenNewReviewDiffs(){let e=!1;await Promise.all(s.window.tabGroups.all.map(t=>t.tabs.map(n=>{if(n.input instanceof s.TabInputTextDiff&&n.input.original.scheme===Bt.Review)for(const r of this._reviewModel.localFileChanges){const a=ta(n.input.original.query);if(r.fileName===a.path){e=!0,s.window.tabGroups.close(n).then(o=>r.openDiff(this._folderRepoManager,{preview:n.isPreview}));break}}return Promise.resolve(void 0)})).flat()),!e&&this._reviewModel.localFileChanges.length&&this._reviewModel.localFileChanges[0].openDiff(this._folderRepoManager,{preview:!0})}openDiff(){if(this._reviewModel.localFileChanges.length){let e=[];for(const n of this._reviewModel.localFileChanges)if(n.status===Yt.MODIFY)if(Wg.includes(W.extname(n.fileName)))e.push(n);else{e.unshift(n);break}(e.length?e[0]:this._reviewModel.localFileChanges[0]).openDiff(this._folderRepoManager)}}_openFirstDiff(){if(this._reviewModel.localFileChanges.length)this.openDiff();else{const e=this._reviewModel.onDidChangeLocalFileChanges(()=>{e.dispose(),this.openDiff()})}}_doFocusShow(e,t){if(s.workspace.getConfiguration(tt).get(ct)!=="never"&&e.hasComments&&ht.executeCommand("workbench.action.focusCommentsPanel"),this._activePrViewCoordinator.show(e),t){const r=s.workspace.getConfiguration(bt).get(ji);if(r&&e.fileChanges.size===0)return this.openDescription();if(r==="firstDiff")return this._openFirstDiff();if(r==="overview")return this.openDescription();if(r==="multiDiff")return e.fileChanges.size<400?fn.openChanges(this._folderRepoManager,e):this._openFirstDiff()}}async _closeOutdatedMultiDiffEditors(e){const t=s.l10n.t("Changes in Pull Request #{0}",e.number),n=[];for(const r of s.window.tabGroups.all)for(const a of r.tabs)a.input instanceof s.TabInputTextMultiDiff&&a.label.startsWith(t)&&(y.appendLine(`Closing outdated multidiff editor for PR #${e.number}`,this.id),n.push(Promise.resolve(s.window.tabGroups.close(a))));await Promise.all(n)}async _upgradePullRequestEditors(e){await this._closeOutdatedMultiDiffEditors(e);const t=new Set;await Promise.all(s.window.tabGroups.all.map(r=>r.tabs.map(a=>{if(a.input instanceof s.TabInputTextDiff&&a.input.original.scheme===Bt.Pr&&a.input.modified.scheme===Bt.Pr){const o=yn(a.input.original),d=yn(a.input.modified);if((o==null?void 0:o.prNumber)===e.number&&(d==null?void 0:d.prNumber)===e.number)return t.add([o,d]),s.window.tabGroups.close(a)}return Promise.resolve(void 0)})).flat());const n=[];if(t.size){for(const r of this.reviewModel.localFileChanges)for(const a of t)if(Array.isArray(a)){const o=a[1];if(r.fileName===o.fileName){n.push(r.openDiff(this._folderRepoManager,{preview:!1})),t.delete(a);break}}}return Promise.all(n)}async createSuggestionFromChange(e,t){if(!this._reviewModel.localFileChanges.find(a=>a.changeModel.filePath.toString()===e.uri.toString()))return;const r=[];for(const a of t){const o=e.getText(new s.Range(a.modifiedStartLineNumber-1,0,a.modifiedEndLineNumber-1,e.lineAt(a.modifiedEndLineNumber-1).range.end.character)),d=a.originalEndLineNumber<a.originalStartLineNumber?a.originalStartLineNumber:a.originalEndLineNumber;r.push({suggestionContent:o,originalLineLength:d-a.originalStartLineNumber+1,originalStartLine:a.originalStartLineNumber,diffLine:a})}await Promise.all(r.map(async a=>{var o;try{await((o=this._reviewCommentController)==null?void 0:o.createSuggestionsFromChanges(e.uri,a)),await s.commands.executeCommand("git.revertSelectedRanges",a.diffLine)}catch{s.window.showErrorMessage(s.l10n.t("The change is outside the commenting range."),{modal:!0})}}))}trimContextFromHunk(e){let t=e.oldLineNumber,n=e.oldLength,r=0;for(;r<e.diffLines.length;r++){const d=e.diffLines[r];if(d.type!==Rn.Control)if(d.type===Rn.Context)t++,n--;else break}let a=e.diffLines.length-1;for(;a>=0&&e.diffLines[a].type===Rn.Context;a--)n--;let o=e.diffLines.slice(r,a+1);o.every(d=>d.type===Rn.Add)&&(r>1?(r--,t--,n++):a<e.diffLines.length-1?(a++,n++):(r=1,a=e.diffLines.length-1),o=e.diffLines.slice(r,a+1)),e.diffLines=o,e.oldLength=n,e.oldLineNumber=t}convertDiffHunkToSuggestion(e){return this.trimContextFromHunk(e),{suggestionContent:e.diffLines.filter(t=>t.type===Rn.Add||t.type==Rn.Context).map(t=>t.text).join(`
`),originalLineLength:e.oldLength,originalStartLine:e.oldLineNumber}}async createSuggestionsFromChanges(e){const t=e.map(C=>C.toString());let n=!1,r=0;const a=[],o=async(C,$)=>{var Y;try{await((Y=this._reviewCommentController)==null?void 0:Y.createSuggestionsFromChanges(C.uri,this.convertDiffHunkToSuggestion($))),a.push(C.uri)}catch{n=!0}},d=async C=>{if(!(!t.includes(C.uri.toString())||C.status!==yt.MODIFIED))return nf(await this._folderRepoManager.repository.diffWithHEAD(C.uri.fsPath)).map($=>Ww($)).flat()},S=async(C,$)=>{const Y=await d(C);if(Y)if(r+=Y.length,$)await Promise.allSettled(Y.map(async ne=>o(C,ne)));else for(const ne of Y)await o(C,ne)};if(await s.window.withProgress({location:s.ProgressLocation.Window,title:"Converting changes to suggestions"},async()=>{let C=0;for(;a.length===0&&C<this._folderRepoManager.repository.state.workingTreeChanges.length;C++){const Y=this._folderRepoManager.repository.state.workingTreeChanges[C];await S(Y,!1)}const $=[];for(;C<this._folderRepoManager.repository.state.workingTreeChanges.length;C++){const Y=this._folderRepoManager.repository.state.workingTreeChanges[C];$.push(S(Y,!0))}await Promise.all($)}),n)a.length?s.window.showWarningMessage(s.l10n.t("Not all changes could be converted to suggestions."),{detail:s.l10n.t(`{0} of {1} changes converted. Some of the changes may be outside of commenting ranges.
Your changes are still available locally.`,a.length,r),modal:!0}):s.window.showWarningMessage(s.l10n.t("No changes could be converted to suggestions."),{detail:s.l10n.t("All of the changes are outside of commenting ranges."),modal:!0});else{const C=s.l10n.t("Reset all changes");s.window.showInformationMessage(s.l10n.t("All changes have been converted to suggestions."),{modal:!0,detail:s.l10n.t("Do you want to reset your local changes?")},C).then($=>{if($===C)return Promise.all(a.map(Y=>this._folderRepoManager.repository.checkout(Y.fsPath)))})}}async updateComments(){var e;const t=this._repository.state.HEAD;if(!t)return;const n=await this._folderRepoManager.getMatchingPullRequestMetadataForBranch();if(!n||!(t.upstream?t.upstream.remote:null)||this._prNumber===void 0||!this._folderRepoManager.activePullRequest)return;const a=await this._folderRepoManager.resolvePullRequest(n.owner,n.repositoryName,this._prNumber);if(!a||!a.isResolved()){y.warn("This PR is no longer valid",this.id);return}return await this._folderRepoManager.checkBranchUpToDate(a,!1),await this.initializePullRequestData(a),await((e=this._reviewCommentController)==null?void 0:e.update()),Promise.resolve(void 0)}async getLocalChangeNodes(e,t){const n=[],r=e.mergeBase||e.base.sha,a=e.head.sha;for(let o=0;o<t.length;o++){const d=t[o],S=W.join(this._repository.rootUri.path,d.fileName).replace(/\\/g,"/"),C=this._repository.rootUri.with({path:S}),$=d.status===Yt.DELETE?ga(C,void 0,void 0,"",!1,{base:!1},this._repository.rootUri):C,Y=ga(C,d.status===Yt.RENAME?d.previousFileName:d.fileName,void 0,d.status===Yt.ADD?"":r,!1,{base:!0},this._repository.rootUri),ne=new Ef(this._folderRepoManager,e,d,$,Y,a,t.length<20),le=new wo(this.changesInPrDataProvider,this._folderRepoManager,e,ne);n.push(le)}return n}async initializePullRequestData(e){try{const t=await e.getFileChangesInfo();this._reviewModel.localFileChanges=await this.getLocalChangeNodes(e,t),await Promise.all([e.initializeReviewThreadCacheAndReviewComments(),e.initializePullRequestFileViewState()]),this._folderRepoManager.setFileViewedContext();const n=e.comments.filter(o=>!o.position),r=B(n,o=>o.originalCommitId),a=[];for(const o in r){const d=r[o],S=B(d,C=>C.path);for(const C in S){const $=S[C],Y=s.Uri.file(W.join(`commit~${o.substr(0,8)}`,C)),ne=new Ef(this._folderRepoManager,e,{status:Yt.MODIFY,fileName:C,blobUrl:void 0},ga(Y,C,void 0,$[0].originalCommitId,!0,{base:!1},this._repository.rootUri),ga(Y,C,void 0,$[0].originalCommitId,!0,{base:!0},this._repository.rootUri),o),le=new wo(this.changesInPrDataProvider,this._folderRepoManager,e,ne,!1,$);a.push(le)}}return this._reviewModel.obsoleteFileChanges=a,Promise.resolve(void 0)}catch(t){y.error(`Failed to initialize PR data ${t}: ${t.message}`,this.id)}}async registerGitHubInMemContentProvider(){var e,t;try{(e=this._inMemGitHubContentProvider)==null||e.dispose(),this._inMemGitHubContentProvider=void 0;const n=this._folderRepoManager.activePullRequest;if(!n)return;const r=await n.getFileChangesInfo(),a=n.mergeBase;if(!a)return;const o=r.map(d=>d instanceof qo?new il(this._folderRepoManager,d,n):new go(this._folderRepoManager,n,d,!0,a));this._inMemGitHubContentProvider=(t=qf())==null?void 0:t.registerTextDocumentContentProvider(n.number,async d=>{const S=yn(d);if(!S)return"";const C=o.find($=>$.fileName===S.fileName);return C?$f(this._folderRepoManager,n,S,C):(y.error(`Cannot find content for document ${d.toString()}`,"PR"),"")})}catch(n){y.error(`Failed to register in mem content provider: ${n}`,this.id)}}async registerCommentController(){var e;if((e=this._folderRepoManager.activePullRequest)!=null&&e.reviewThreadsCacheReady&&this._reviewModel.hasLocalFileChanges)await this.doRegisterCommentController();else{const t=this._reviewModel.onDidChangeLocalFileChanges(async()=>{var n;(n=this._folderRepoManager.activePullRequest)!=null&&n.reviewThreadsCache&&this._reviewModel.hasLocalFileChanges&&(t&&t.dispose(),await this.doRegisterCommentController())})}}async doRegisterCommentController(){this._reviewCommentController||(this._reviewCommentController=new iv(this,this._folderRepoManager,this._repository,this._reviewModel,this._gitApi,this._telemetry),await this._reviewCommentController.initialize())}async switch(e){var t,n;y.appendLine(`Switch to Pull Request #${e.number} - start`,this.id),this.statusBarItem.text=s.l10n.t("{0} Switching to Review Mode","$(sync~spin)"),this.statusBarItem.command=void 0,this.statusBarItem.show(),this.switchingToReviewMode=!0,this._switchedToPullRequest=e;try{await s.window.withProgress({location:s.ProgressLocation.Notification},async a=>{await this._folderRepoManager.checkoutExistingPullRequestBranch(e,a)||await this._folderRepoManager.fetchAndCheckout(e,a)});const r=s.workspace.getConfiguration(bt).get(Nn,"pull");(r==="pullAndMergeBase"||r==="pullAndUpdateBase")&&await this._folderRepoManager.tryMergeBaseIntoHead(e,r==="pullAndUpdateBase")}catch(r){y.error(`Checkout failed #${JSON.stringify(r)}`,this.id),this.switchingToReviewMode=!1,r.message==="User aborted"||(r.gitErrorCode&&(r.gitErrorCode===oi.LocalChangesOverwritten||r.gitErrorCode===oi.DirtyWorkTree)?s.window.showErrorMessage(s.l10n.t("Your local changes would be overwritten by checkout, please commit your changes or stash them before you switch branches")):(t=r.stderr)!=null&&t.startsWith("fatal: couldn't find remote ref")&&r.gitCommand==="fetch"?s.window.showInformationMessage("The remote branch for this pull request has been deleted. The file contents may not match the remote."):s.window.showErrorMessage(`Error switching to pull request: ${_e(r)}`)),((n=this._folderRepoManager.activePullRequest)==null?void 0:n.number)===e.number?this.setStatusForPr(this._folderRepoManager.activePullRequest):this.statusBarItem.hide();return}try{this.statusBarItem.text="$(sync~spin) "+s.l10n.t("Fetching additional data: {0}",`pr/${e.number}`),this.statusBarItem.command=void 0,this.statusBarItem.show(),await this._folderRepoManager.fulfillPullRequestMissingInfo(e),this._upgradePullRequestEditors(e),this._telemetry.sendTelemetryEvent("pr.checkout"),y.appendLine(`Switch to Pull Request #${e.number} - done`,this.id)}finally{this.setStatusForPr(e),await this._repository.status()}}setStatusForPr(e){this.switchingToReviewMode=!1,this.justSwitchedToReviewMode=!0,this.statusBarItem.text=s.l10n.t("Pull Request #{0}",e.number),this.statusBarItem.command=void 0,this.statusBarItem.show()}async createPullRequest(e){const t=async n=>{if(!n)return;const r=s.workspace.getConfiguration(bt).get(ci,"openOverview");if(r==="openOverview"){const a=this.changesInPrDataProvider.getDescriptionNode(this._folderRepoManager);await yu(this._telemetry,n,a,this._folderRepoManager,!0)}else if(r.startsWith("checkoutDefaultBranch")){const a=await this._folderRepoManager.getPullRequestRepositoryDefaultBranch(n);a&&(r==="checkoutDefaultBranch"&&await this._folderRepoManager.checkoutDefaultBranch(a,void 0),r==="checkoutDefaultBranchAndShow"?(await ht.executeCommand("pr:github.focus"),await this._folderRepoManager.checkoutDefaultBranch(a,void 0),await this._pullRequestsTree.expandPullRequest(n)):r==="checkoutDefaultBranchAndCopy"&&await Promise.all([this._folderRepoManager.checkoutDefaultBranch(a,void 0),s.env.clipboard.writeText(n.html_url)]))}await this.updateState(!1,!1)};return this._createPullRequestHelper.create(this._telemetry,this._context.extensionUri,this._folderRepoManager,e,t)}async openDescription(){const e=this._folderRepoManager.activePullRequest;if(!e)return;const t=this.changesInPrDataProvider.getDescriptionNode(this._folderRepoManager);await yu(this._telemetry,e,t,this._folderRepoManager,!0)}get isCreatingPullRequest(){var e,t;return(t=(e=this._createPullRequestHelper)==null?void 0:e.isCreatingPullRequest)!=null?t:!1}async updateFocusedViewMode(){s.workspace.getConfiguration(bt).get(ji)?(s.commands.executeCommand("setContext",da,!0),await this._context.workspaceState.update(da,!0)):(s.commands.executeCommand("setContext",da,!1),this._context.workspaceState.update(da,!1))}async clear(e){var t,n;if(e){const r=this._folderRepoManager.activePullRequest;r&&this._activePrViewCoordinator.removePullRequest(r),this.changesInPrDataProvider&&await this.changesInPrDataProvider.removePrFromView(this._folderRepoManager),this._prNumber=void 0,this._folderRepoManager.activePullRequest=void 0,this._switchedToPullRequest=void 0,this._statusBarItem&&this._statusBarItem.hide(),this._reviewModel.clear(),c(this._localToDispose),r==null||r.clear(),this._folderRepoManager.setFileViewedContext()}(t=this._reviewCommentController)==null||t.dispose(),this._reviewCommentController=void 0,(n=this._inMemGitHubContentProvider)==null||n.dispose(),this._inMemGitHubContentProvider=void 0}async provideTextDocumentContent(e){const{path:t,commit:n,base:r}=ta(e.query);let a=Of(this._reviewModel.localFileChanges).filter(o=>o.fileName===t).filter(o=>o.sha===n||`${o.sha}^`===n);if(a.length){const o=a[0],d=n===o.sha?Rn.Delete:Rn.Add;return(await o.changeModel.diffHunks()).map(C=>C.diffLines.filter($=>$.type!==d).map($=>$.text)).reduce((C,$)=>C.concat(...$),[]).join(`
`)}if(a=Of(this._reviewModel.obsoleteFileChanges).filter(o=>o.fileName===t).filter(o=>o.sha===n||`${o.sha}^`===n),a.length){const o=a[0],d=n===o.sha?Rn.Delete:Rn.Add,S=[],C=B(o.comments,$=>String($.originalPosition));for(const $ in C){if(!C[$][0].diffHunks)continue;const Y=C[$][0].diffHunks.map(ne=>ne.diffLines.filter(le=>le.type!==d).map(le=>le.text)).reduce((ne,le)=>ne.concat(...le),[]);S.push(...Y)}return S.join(`
`)}else if(r&&n&&this._folderRepoManager.activePullRequest)return(await this._folderRepoManager.activePullRequest.githubRepository.getFile(t,n)).toString()}dispose(){super.dispose(),this.clear(!0)}static getReviewManagerForRepository(e,t,n){return e.find(r=>r._folderRepoManager.gitHubRepositories.some(a=>a.equals(t)&&(!n||r._folderRepoManager.repository===n)))}static getReviewManagerForFolderManager(e,t){return e.find(n=>n._folderRepoManager===t)}};Yn(av,"ID","Review");let ia=av;class lE{constructor(){Yn(this,"_shouldShow",!1),Yn(this,"_onChangedShowValue",new s.EventEmitter),Yn(this,"onChangedShowValue",this._onChangedShowValue.event)}get shouldShow(){return this._shouldShow}set shouldShow(e){const t=this._shouldShow;this._shouldShow=e,t!==this._shouldShow&&this._onChangedShowValue.fire(this._shouldShow)}}function Hf(i,e=!1){const t=i.length;let n=0,r="",a=0,o=16,d=0,S=0,C=0,$=0,Y=0;function ne(De,He){let Ke=0,Ge=0;for(;Ke<De||!He;){let je=i.charCodeAt(n);if(je>=48&&je<=57)Ge=Ge*16+je-48;else if(je>=65&&je<=70)Ge=Ge*16+je-65+10;else if(je>=97&&je<=102)Ge=Ge*16+je-97+10;else break;n++,Ke++}return Ke<De&&(Ge=-1),Ge}function le(De){n=De,r="",a=0,o=16,Y=0}function he(){let De=n;if(i.charCodeAt(n)===48)n++;else for(n++;n<i.length&&rl(i.charCodeAt(n));)n++;if(n<i.length&&i.charCodeAt(n)===46)if(n++,n<i.length&&rl(i.charCodeAt(n)))for(n++;n<i.length&&rl(i.charCodeAt(n));)n++;else return Y=3,i.substring(De,n);let He=n;if(n<i.length&&(i.charCodeAt(n)===69||i.charCodeAt(n)===101))if(n++,(n<i.length&&i.charCodeAt(n)===43||i.charCodeAt(n)===45)&&n++,n<i.length&&rl(i.charCodeAt(n))){for(n++;n<i.length&&rl(i.charCodeAt(n));)n++;He=n}else Y=3;return i.substring(De,He)}function ke(){let De="",He=n;for(;;){if(n>=t){De+=i.substring(He,n),Y=2;break}const Ke=i.charCodeAt(n);if(Ke===34){De+=i.substring(He,n),n++;break}if(Ke===92){if(De+=i.substring(He,n),n++,n>=t){Y=2;break}switch(i.charCodeAt(n++)){case 34:De+='"';break;case 92:De+="\\";break;case 47:De+="/";break;case 98:De+="\b";break;case 102:De+="\f";break;case 110:De+=`
`;break;case 114:De+="\r";break;case 116:De+="	";break;case 117:const je=ne(4,!0);je>=0?De+=String.fromCharCode(je):Y=4;break;default:Y=5}He=n;continue}if(Ke>=0&&Ke<=31)if(mu(Ke)){De+=i.substring(He,n),Y=2;break}else Y=6;n++}return De}function pe(){if(r="",Y=0,a=n,S=d,$=C,n>=t)return a=t,o=17;let De=i.charCodeAt(n);if(Gf(De)){do n++,r+=String.fromCharCode(De),De=i.charCodeAt(n);while(Gf(De));return o=15}if(mu(De))return n++,r+=String.fromCharCode(De),De===13&&i.charCodeAt(n)===10&&(n++,r+=`
`),d++,C=n,o=14;switch(De){case 123:return n++,o=1;case 125:return n++,o=2;case 91:return n++,o=3;case 93:return n++,o=4;case 58:return n++,o=6;case 44:return n++,o=5;case 34:return n++,r=ke(),o=10;case 47:const He=n-1;if(i.charCodeAt(n+1)===47){for(n+=2;n<t&&!mu(i.charCodeAt(n));)n++;return r=i.substring(He,n),o=12}if(i.charCodeAt(n+1)===42){n+=2;const Ke=t-1;let Ge=!1;for(;n<Ke;){const je=i.charCodeAt(n);if(je===42&&i.charCodeAt(n+1)===47){n+=2,Ge=!0;break}n++,mu(je)&&(je===13&&i.charCodeAt(n)===10&&n++,d++,C=n)}return Ge||(n++,Y=1),r=i.substring(He,n),o=13}return r+=String.fromCharCode(De),n++,o=16;case 45:if(r+=String.fromCharCode(De),n++,n===t||!rl(i.charCodeAt(n)))return o=16;case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return r+=he(),o=11;default:for(;n<t&&Ne(De);)n++,De=i.charCodeAt(n);if(a!==n){switch(r=i.substring(a,n),r){case"true":return o=8;case"false":return o=9;case"null":return o=7}return o=16}return r+=String.fromCharCode(De),n++,o=16}}function Ne(De){if(Gf(De)||mu(De))return!1;switch(De){case 125:case 93:case 123:case 91:case 34:case 58:case 44:case 47:return!1}return!0}function Ce(){let De;do De=pe();while(De>=12&&De<=15);return De}return{setPosition:le,getPosition:()=>n,scan:e?Ce:pe,getToken:()=>o,getTokenValue:()=>r,getTokenOffset:()=>a,getTokenLength:()=>n-a,getTokenStartLine:()=>S,getTokenStartCharacter:()=>a-$,getTokenError:()=>Y}}function Gf(i){return i===32||i===9}function mu(i){return i===10||i===13}function rl(i){return i>=48&&i<=57}var sv;(function(i){i[i.lineFeed=10]="lineFeed",i[i.carriageReturn=13]="carriageReturn",i[i.space=32]="space",i[i._0=48]="_0",i[i._1=49]="_1",i[i._2=50]="_2",i[i._3=51]="_3",i[i._4=52]="_4",i[i._5=53]="_5",i[i._6=54]="_6",i[i._7=55]="_7",i[i._8=56]="_8",i[i._9=57]="_9",i[i.a=97]="a",i[i.b=98]="b",i[i.c=99]="c",i[i.d=100]="d",i[i.e=101]="e",i[i.f=102]="f",i[i.g=103]="g",i[i.h=104]="h",i[i.i=105]="i",i[i.j=106]="j",i[i.k=107]="k",i[i.l=108]="l",i[i.m=109]="m",i[i.n=110]="n",i[i.o=111]="o",i[i.p=112]="p",i[i.q=113]="q",i[i.r=114]="r",i[i.s=115]="s",i[i.t=116]="t",i[i.u=117]="u",i[i.v=118]="v",i[i.w=119]="w",i[i.x=120]="x",i[i.y=121]="y",i[i.z=122]="z",i[i.A=65]="A",i[i.B=66]="B",i[i.C=67]="C",i[i.D=68]="D",i[i.E=69]="E",i[i.F=70]="F",i[i.G=71]="G",i[i.H=72]="H",i[i.I=73]="I",i[i.J=74]="J",i[i.K=75]="K",i[i.L=76]="L",i[i.M=77]="M",i[i.N=78]="N",i[i.O=79]="O",i[i.P=80]="P",i[i.Q=81]="Q",i[i.R=82]="R",i[i.S=83]="S",i[i.T=84]="T",i[i.U=85]="U",i[i.V=86]="V",i[i.W=87]="W",i[i.X=88]="X",i[i.Y=89]="Y",i[i.Z=90]="Z",i[i.asterisk=42]="asterisk",i[i.backslash=92]="backslash",i[i.closeBrace=125]="closeBrace",i[i.closeBracket=93]="closeBracket",i[i.colon=58]="colon",i[i.comma=44]="comma",i[i.dot=46]="dot",i[i.doubleQuote=34]="doubleQuote",i[i.minus=45]="minus",i[i.openBrace=123]="openBrace",i[i.openBracket=91]="openBracket",i[i.plus=43]="plus",i[i.slash=47]="slash",i[i.formFeed=12]="formFeed",i[i.tab=9]="tab"})(sv||(sv={}));const ZF=new Array(20).fill(0).map((i,e)=>" ".repeat(e)),al=200,XF={" ":{"\n":new Array(al).fill(0).map((i,e)=>`
`+" ".repeat(e)),"\r":new Array(al).fill(0).map((i,e)=>"\r"+" ".repeat(e)),"\r\n":new Array(al).fill(0).map((i,e)=>`\r
`+" ".repeat(e))},"	":{"\n":new Array(al).fill(0).map((i,e)=>`
`+"	".repeat(e)),"\r":new Array(al).fill(0).map((i,e)=>"\r"+"	".repeat(e)),"\r\n":new Array(al).fill(0).map((i,e)=>`\r
`+"	".repeat(e))}},eD=null;function tD(i,e,t){var Ke;let n,r,a,o,d;if(e){for(o=e.offset,d=o+e.length,a=o;a>0&&!ov(i,a-1);)a--;let Ge=d;for(;Ge<i.length&&!ov(i,Ge);)Ge++;r=i.substring(a,Ge),n=uE(r,t)}else r=i,n=0,a=0,o=0,d=i.length;const S=dE(t,i),C=supportedEols.includes(S);let $=0,Y=0,ne;t.insertSpaces?ne=(Ke=cachedSpaces[t.tabSize||4])!=null?Ke:sl(cachedSpaces[1],t.tabSize||4):ne="	";const le=ne==="	"?"	":" ";let he=createScanner(r,!1),ke=!1;function pe(){if($>1)return sl(S,$)+sl(ne,n+Y);const Ge=ne.length*(n+Y);return!C||Ge>cachedBreakLinesWithSpaces[le][S].length?S+sl(ne,n+Y):Ge<=0?S:cachedBreakLinesWithSpaces[le][S][Ge]}function Ne(){let Ge=he.scan();for($=0;Ge===15||Ge===14;)Ge===14&&t.keepLines?$+=1:Ge===14&&($=1),Ge=he.scan();return ke=Ge===16||he.getTokenError()!==0,Ge}const Ce=[];function De(Ge,je,nt){!ke&&(!e||je<d&&nt>o)&&i.substring(je,nt)!==Ge&&Ce.push({offset:je,length:nt-je,content:Ge})}let He=Ne();if(t.keepLines&&$>0&&De(sl(S,$),0,0),He!==17){let Ge=he.getTokenOffset()+a,je=ne.length*n<20&&t.insertSpaces?cachedSpaces[ne.length*n]:sl(ne,n);De(je,a,Ge)}for(;He!==17;){let Ge=he.getTokenOffset()+he.getTokenLength()+a,je=Ne(),nt="",Nt=!1;for(;$===0&&(je===12||je===13);){let ki=he.getTokenOffset()+a;De(cachedSpaces[1],Ge,ki),Ge=he.getTokenOffset()+he.getTokenLength()+a,Nt=je===12,nt=Nt?pe():"",je=Ne()}if(je===2)He!==1&&Y--,t.keepLines&&$>0||!t.keepLines&&He!==1?nt=pe():t.keepLines&&(nt=cachedSpaces[1]);else if(je===4)He!==3&&Y--,t.keepLines&&$>0||!t.keepLines&&He!==3?nt=pe():t.keepLines&&(nt=cachedSpaces[1]);else{switch(He){case 3:case 1:Y++,t.keepLines&&$>0||!t.keepLines?nt=pe():nt=cachedSpaces[1];break;case 5:t.keepLines&&$>0||!t.keepLines?nt=pe():nt=cachedSpaces[1];break;case 12:nt=pe();break;case 13:$>0?nt=pe():Nt||(nt=cachedSpaces[1]);break;case 6:t.keepLines&&$>0?nt=pe():Nt||(nt=cachedSpaces[1]);break;case 10:t.keepLines&&$>0?nt=pe():je===6&&!Nt&&(nt="");break;case 7:case 8:case 9:case 11:case 2:case 4:t.keepLines&&$>0?nt=pe():(je===12||je===13)&&!Nt?nt=cachedSpaces[1]:je!==5&&je!==17&&(ke=!0);break;case 16:ke=!0;break}$>0&&(je===12||je===13)&&(nt=pe())}je===17&&(t.keepLines&&$>0?nt=pe():nt=t.insertFinalNewline?S:"");const Et=he.getTokenOffset()+a;De(nt,Ge,Et),He=je}return Ce}function sl(i,e){let t="";for(let n=0;n<e;n++)t+=i;return t}function uE(i,e){let t=0,n=0;const r=e.tabSize||4;for(;t<i.length;){let a=i.charAt(t);if(a===cachedSpaces[1])n++;else if(a==="	")n+=r;else break;t++}return Math.floor(n/r)}function dE(i,e){for(let t=0;t<e.length;t++){const n=e.charAt(t);if(n==="\r")return t+1<e.length&&e.charAt(t+1)===`
`?`\r
`:"\r";if(n===`
`)return`
`}return i&&i.eol||`
`}function ov(i,e){return`\r
`.indexOf(i.charAt(e))!==-1}var pu;(function(i){i.DEFAULT={allowTrailingComma:!1}})(pu||(pu={}));function cE(i,e){const t=[],n=new Object;let r;const a={value:{},offset:0,length:0,type:"object",parent:void 0};let o=!1;function d(S,C,$,Y){a.value=S,a.offset=C,a.length=$,a.type=Y,a.colonOffset=void 0,r=a}try{jd(i,{onObjectBegin:(S,C)=>{if(e<=S)throw n;r=void 0,o=e>S,t.push("")},onObjectProperty:(S,C,$)=>{if(e<C||(d(S,C,$,"property"),t[t.length-1]=S,e<=C+$))throw n},onObjectEnd:(S,C)=>{if(e<=S)throw n;r=void 0,t.pop()},onArrayBegin:(S,C)=>{if(e<=S)throw n;r=void 0,t.push(0)},onArrayEnd:(S,C)=>{if(e<=S)throw n;r=void 0,t.pop()},onLiteralValue:(S,C,$)=>{if(e<C||(d(S,C,$,dv(S)),e<=C+$))throw n},onSeparator:(S,C,$)=>{if(e<=C)throw n;if(S===":"&&r&&r.type==="property")r.colonOffset=C,o=!1,r=void 0;else if(S===","){const Y=t[t.length-1];typeof Y=="number"?t[t.length-1]=Y+1:(o=!0,t[t.length-1]=""),r=void 0}}})}catch(S){if(S!==n)throw S}return{path:t,previousNode:r,isAtPropertyKey:o,matches:S=>{let C=0;for(let $=0;C<S.length&&$<t.length;$++)if(S[C]===t[$]||S[C]==="*")C++;else if(S[C]!=="**")return!1;return C===S.length}}}function fE(i,e=[],t=pu.DEFAULT){let n=null,r=[];const a=[];function o(S){Array.isArray(r)?r.push(S):n!==null&&(r[n]=S)}return jd(i,{onObjectBegin:()=>{const S={};o(S),a.push(r),r=S,n=null},onObjectProperty:S=>{n=S},onObjectEnd:()=>{r=a.pop()},onArrayBegin:()=>{const S=[];o(S),a.push(r),r=S,n=null},onArrayEnd:()=>{r=a.pop()},onLiteralValue:o,onError:(S,C,$)=>{e.push({error:S,offset:C,length:$})}},t),r[0]}function hE(i,e=[],t=pu.DEFAULT){let n={type:"array",offset:-1,length:-1,children:[],parent:void 0};function r(S){n.type==="property"&&(n.length=S-n.offset,n=n.parent)}function a(S){return n.children.push(S),S}jd(i,{onObjectBegin:S=>{n=a({type:"object",offset:S,length:-1,parent:n,children:[]})},onObjectProperty:(S,C,$)=>{n=a({type:"property",offset:C,length:-1,parent:n,children:[]}),n.children.push({type:"string",value:S,offset:C,length:$,parent:n})},onObjectEnd:(S,C)=>{r(S+C),n.length=S+C-n.offset,n=n.parent,r(S+C)},onArrayBegin:(S,C)=>{n=a({type:"array",offset:S,length:-1,parent:n,children:[]})},onArrayEnd:(S,C)=>{n.length=S+C-n.offset,n=n.parent,r(S+C)},onLiteralValue:(S,C,$)=>{a({type:dv(S),offset:C,length:$,parent:n,value:S}),r(C+$)},onSeparator:(S,C,$)=>{n.type==="property"&&(S===":"?n.colonOffset=C:S===","&&r(C))},onError:(S,C,$)=>{e.push({error:S,offset:C,length:$})}},t);const d=n.children[0];return d&&delete d.parent,d}function mE(i,e){if(!i)return;let t=i;for(let n of e)if(typeof n=="string"){if(t.type!=="object"||!Array.isArray(t.children))return;let r=!1;for(const a of t.children)if(Array.isArray(a.children)&&a.children[0].value===n&&a.children.length===2){t=a.children[1],r=!0;break}if(!r)return}else{const r=n;if(t.type!=="array"||r<0||!Array.isArray(t.children)||r>=t.children.length)return;t=t.children[r]}return t}function lv(i){if(!i.parent||!i.parent.children)return[];const e=lv(i.parent);if(i.parent.type==="property"){const t=i.parent.children[0].value;e.push(t)}else if(i.parent.type==="array"){const t=i.parent.children.indexOf(i);t!==-1&&e.push(t)}return e}function Vf(i){switch(i.type){case"array":return i.children.map(Vf);case"object":const e=Object.create(null);for(let t of i.children){const n=t.children[1];n&&(e[t.children[0].value]=Vf(n))}return e;case"null":case"string":case"number":case"boolean":return i.value;default:return}}function pE(i,e,t=!1){return e>=i.offset&&e<i.offset+i.length||t&&e===i.offset+i.length}function uv(i,e,t=!1){if(pE(i,e,t)){const n=i.children;if(Array.isArray(n))for(let r=0;r<n.length&&n[r].offset<=e;r++){const a=uv(n[r],e,t);if(a)return a}return i}}function jd(i,e,t=pu.DEFAULT){const n=Hf(i,!1),r=[];let a=0;function o(Be){return Be?()=>a===0&&Be(n.getTokenOffset(),n.getTokenLength(),n.getTokenStartLine(),n.getTokenStartCharacter()):()=>!0}function d(Be){return Be?ze=>a===0&&Be(ze,n.getTokenOffset(),n.getTokenLength(),n.getTokenStartLine(),n.getTokenStartCharacter()):()=>!0}function S(Be){return Be?ze=>a===0&&Be(ze,n.getTokenOffset(),n.getTokenLength(),n.getTokenStartLine(),n.getTokenStartCharacter(),()=>r.slice()):()=>!0}function C(Be){return Be?()=>{a>0?a++:Be(n.getTokenOffset(),n.getTokenLength(),n.getTokenStartLine(),n.getTokenStartCharacter(),()=>r.slice())===!1&&(a=1)}:()=>!0}function $(Be){return Be?()=>{a>0&&a--,a===0&&Be(n.getTokenOffset(),n.getTokenLength(),n.getTokenStartLine(),n.getTokenStartCharacter())}:()=>!0}const Y=C(e.onObjectBegin),ne=S(e.onObjectProperty),le=$(e.onObjectEnd),he=C(e.onArrayBegin),ke=$(e.onArrayEnd),pe=S(e.onLiteralValue),Ne=d(e.onSeparator),Ce=o(e.onComment),De=d(e.onError),He=t&&t.disallowComments,Ke=t&&t.allowTrailingComma;function Ge(){for(;;){const Be=n.scan();switch(n.getTokenError()){case 4:je(14);break;case 5:je(15);break;case 3:je(13);break;case 1:He||je(11);break;case 2:je(12);break;case 6:je(16);break}switch(Be){case 12:case 13:He?je(10):Ce();break;case 16:je(1);break;case 15:case 14:break;default:return Be}}}function je(Be,ze=[],rt=[]){if(De(Be),ze.length+rt.length>0){let pt=n.getToken();for(;pt!==17;){if(ze.indexOf(pt)!==-1){Ge();break}else if(rt.indexOf(pt)!==-1)break;pt=Ge()}}}function nt(Be){const ze=n.getTokenValue();return Be?pe(ze):(ne(ze),r.push(ze)),Ge(),!0}function Nt(){switch(n.getToken()){case 11:const Be=n.getTokenValue();let ze=Number(Be);isNaN(ze)&&(je(2),ze=0),pe(ze);break;case 7:pe(null);break;case 8:pe(!0);break;case 9:pe(!1);break;default:return!1}return Ge(),!0}function Et(){return n.getToken()!==10?(je(3,[],[2,5]),!1):(nt(!1),n.getToken()===6?(Ne(":"),Ge(),Se()||je(4,[],[2,5])):je(5,[],[2,5]),r.pop(),!0)}function ki(){Y(),Ge();let Be=!1;for(;n.getToken()!==2&&n.getToken()!==17;){if(n.getToken()===5){if(Be||je(4,[],[]),Ne(","),Ge(),n.getToken()===2&&Ke)break}else Be&&je(6,[],[]);Et()||je(4,[],[2,5]),Be=!0}return le(),n.getToken()!==2?je(7,[2],[]):Ge(),!0}function Pi(){he(),Ge();let Be=!0,ze=!1;for(;n.getToken()!==4&&n.getToken()!==17;){if(n.getToken()===5){if(ze||je(4,[],[]),Ne(","),Ge(),n.getToken()===4&&Ke)break}else ze&&je(6,[],[]);Be?(r.push(0),Be=!1):r[r.length-1]++,Se()||je(4,[],[4,5]),ze=!0}return ke(),Be||r.pop(),n.getToken()!==4?je(8,[4],[]):Ge(),!0}function Se(){switch(n.getToken()){case 3:return Pi();case 1:return ki();case 10:return nt(!0);default:return Nt()}}return Ge(),n.getToken()===17?t.allowEmptyContent?!0:(je(4,[],[]),!1):Se()?(n.getToken()!==17&&je(9,[],[]),!0):(je(4,[],[]),!1)}function gE(i,e){let t=Hf(i),n=[],r,a=0,o;do switch(o=t.getPosition(),r=t.scan(),r){case 12:case 13:case 17:a!==o&&n.push(i.substring(a,o)),e!==void 0&&n.push(t.getTokenValue().replace(/[^\r\n]/g,e)),a=t.getPosition();break}while(r!==17);return n.join("")}function dv(i){switch(typeof i){case"boolean":return"boolean";case"number":return"number";case"string":return"string";case"object":{if(i){if(Array.isArray(i))return"array"}else return"null";return"object"}default:return"null"}}function iD(i,e,t){return vE(i,e,void 0,t)}function vE(i,e,t,n){const r=e.slice(),a=[],o=parseTree(i,a);let d,S;for(;r.length>0&&(S=r.pop(),d=findNodeAtLocation(o,r),d===void 0&&t!==void 0);)typeof S=="string"?t={[S]:t}:t=[t];if(d)if(d.type==="object"&&typeof S=="string"&&Array.isArray(d.children)){const C=findNodeAtLocation(d,[S]);if(C!==void 0)if(t===void 0){if(!C.parent)throw new Error("Malformed AST");const $=d.children.indexOf(C.parent);let Y,ne=C.parent.offset+C.parent.length;if($>0){let le=d.children[$-1];Y=le.offset+le.length}else Y=d.offset+1,d.children.length>1&&(ne=d.children[1].offset);return ko(i,{offset:Y,length:ne-Y,content:""},n)}else return ko(i,{offset:C.offset,length:C.length,content:JSON.stringify(t)},n);else{if(t===void 0)return[];const $=`${JSON.stringify(S)}: ${JSON.stringify(t)}`,Y=n.getInsertionIndex?n.getInsertionIndex(d.children.map(le=>le.children[0].value)):d.children.length;let ne;if(Y>0){let le=d.children[Y-1];ne={offset:le.offset+le.length,length:0,content:","+$}}else d.children.length===0?ne={offset:d.offset+1,length:0,content:$}:ne={offset:d.offset+1,length:0,content:$+","};return ko(i,ne,n)}}else if(d.type==="array"&&typeof S=="number"&&Array.isArray(d.children)){const C=S;if(C===-1){const $=`${JSON.stringify(t)}`;let Y;if(d.children.length===0)Y={offset:d.offset+1,length:0,content:$};else{const ne=d.children[d.children.length-1];Y={offset:ne.offset+ne.length,length:0,content:","+$}}return ko(i,Y,n)}else if(t===void 0&&d.children.length>=0){const $=S,Y=d.children[$];let ne;if(d.children.length===1)ne={offset:d.offset+1,length:d.length-2,content:""};else if(d.children.length-1===$){let le=d.children[$-1],he=le.offset+le.length,ke=d.offset+d.length;ne={offset:he,length:ke-2-he,content:""}}else ne={offset:Y.offset,length:d.children[$+1].offset-Y.offset,content:""};return ko(i,ne,n)}else if(t!==void 0){let $;const Y=`${JSON.stringify(t)}`;if(!n.isArrayInsertion&&d.children.length>S){const ne=d.children[S];$={offset:ne.offset,length:ne.length,content:Y}}else if(d.children.length===0||S===0)$={offset:d.offset+1,length:0,content:d.children.length===0?Y:Y+","};else{const ne=S>d.children.length?d.children.length:S,le=d.children[ne-1];$={offset:le.offset+le.length,length:0,content:","+Y}}return ko(i,$,n)}else throw new Error(`Can not ${t===void 0?"remove":n.isArrayInsertion?"insert":"modify"} Array index ${C} as length is not sufficient`)}else throw new Error(`Can not add ${typeof S!="number"?"index":"property"} to parent of type ${d.type}`);else{if(t===void 0)throw new Error("Can not delete in empty document");return ko(i,{offset:o?o.offset:0,length:o?o.length:0,content:JSON.stringify(t)},n)}}function ko(i,e,t){if(!t.formattingOptions)return[e];let n=cv(i,e),r=e.offset,a=e.offset+e.content.length;if(e.length===0||e.content.length===0){for(;r>0&&!isEOL(n,r-1);)r--;for(;a<n.length&&!isEOL(n,a);)a++}const o=format(n,{offset:r,length:a-r},{...t.formattingOptions,keepLines:!1});for(let S=o.length-1;S>=0;S--){const C=o[S];n=cv(n,C),r=Math.min(r,C.offset),a=Math.max(a,C.offset+C.length),a+=C.content.length-C.length}const d=i.length-(n.length-a)-r;return[{offset:r,length:d,content:n.substring(r,a)}]}function cv(i,e){return i.substring(0,e.offset)+e.content+i.substring(e.offset+e.length)}function nD(i,e){return`\r
 	`.indexOf(i.charAt(e))!==-1}const rD=Hf;var fv;(function(i){i[i.None=0]="None",i[i.UnexpectedEndOfComment=1]="UnexpectedEndOfComment",i[i.UnexpectedEndOfString=2]="UnexpectedEndOfString",i[i.UnexpectedEndOfNumber=3]="UnexpectedEndOfNumber",i[i.InvalidUnicode=4]="InvalidUnicode",i[i.InvalidEscapeCharacter=5]="InvalidEscapeCharacter",i[i.InvalidCharacter=6]="InvalidCharacter"})(fv||(fv={}));var hv;(function(i){i[i.OpenBraceToken=1]="OpenBraceToken",i[i.CloseBraceToken=2]="CloseBraceToken",i[i.OpenBracketToken=3]="OpenBracketToken",i[i.CloseBracketToken=4]="CloseBracketToken",i[i.CommaToken=5]="CommaToken",i[i.ColonToken=6]="ColonToken",i[i.NullKeyword=7]="NullKeyword",i[i.TrueKeyword=8]="TrueKeyword",i[i.FalseKeyword=9]="FalseKeyword",i[i.StringLiteral=10]="StringLiteral",i[i.NumericLiteral=11]="NumericLiteral",i[i.LineCommentTrivia=12]="LineCommentTrivia",i[i.BlockCommentTrivia=13]="BlockCommentTrivia",i[i.LineBreakTrivia=14]="LineBreakTrivia",i[i.Trivia=15]="Trivia",i[i.Unknown=16]="Unknown",i[i.EOF=17]="EOF"})(hv||(hv={}));const aD=cE,yE=fE,sD=hE,oD=mE,lD=uv,uD=lv,dD=Vf,cD=jd,fD=gE;var mv;(function(i){i[i.InvalidSymbol=1]="InvalidSymbol",i[i.InvalidNumberFormat=2]="InvalidNumberFormat",i[i.PropertyNameExpected=3]="PropertyNameExpected",i[i.ValueExpected=4]="ValueExpected",i[i.ColonExpected=5]="ColonExpected",i[i.CommaExpected=6]="CommaExpected",i[i.CloseBraceExpected=7]="CloseBraceExpected",i[i.CloseBracketExpected=8]="CloseBracketExpected",i[i.EndOfFileExpected=9]="EndOfFileExpected",i[i.InvalidCommentToken=10]="InvalidCommentToken",i[i.UnexpectedEndOfComment=11]="UnexpectedEndOfComment",i[i.UnexpectedEndOfString=12]="UnexpectedEndOfString",i[i.UnexpectedEndOfNumber=13]="UnexpectedEndOfNumber",i[i.InvalidUnicode=14]="InvalidUnicode",i[i.InvalidEscapeCharacter=15]="InvalidEscapeCharacter",i[i.InvalidCharacter=16]="InvalidCharacter"})(mv||(mv={}));function hD(i){switch(i){case 1:return"InvalidSymbol";case 2:return"InvalidNumberFormat";case 3:return"PropertyNameExpected";case 4:return"ValueExpected";case 5:return"ColonExpected";case 6:return"CommaExpected";case 7:return"CloseBraceExpected";case 8:return"CloseBracketExpected";case 9:return"EndOfFileExpected";case 10:return"InvalidCommentToken";case 11:return"UnexpectedEndOfComment";case 12:return"UnexpectedEndOfString";case 13:return"UnexpectedEndOfNumber";case 14:return"InvalidUnicode";case 15:return"InvalidEscapeCharacter";case 16:return"InvalidCharacter"}return"<unknown ParseErrorCode>"}function mD(i,e,t){return formatter.format(i,e,t)}function pD(i,e,t,n){return edit.setProperty(i,e,t,n)}function gD(i,e){let t=e.slice(0).sort((r,a)=>{const o=r.offset-a.offset;return o===0?r.length-a.length:o}),n=i.length;for(let r=t.length-1;r>=0;r--){let a=t[r];if(a.offset+a.length<=n)i=edit.applyEdit(i,a);else throw new Error("Overlapping edit");n=a.offset}return i}async function bE(){let i=null;const e=s.workspace.getConfiguration(ot).get(Ut);if(e){const t=wE(e);t&&(i=await pv(t))}return i}async function pv(i){const t=new TextDecoder().decode(await s.workspace.fs.readFile(i));let n=yE(t);if(n.include)try{const r=s.Uri.joinPath(i,"..",n.include),a=await pv(r);n={...n,colors:{...a.colors||{},...n.colors||{}},tokenColors:[...a.tokenColors||[],...n.tokenColors||[]],semanticTokenColors:{...a.semanticTokenColors||{},...n.semanticTokenColors||{}}}}catch(r){console.warn(`Failed to load theme include file: ${r}`)}return n}function wE(i){for(const e of s.extensions.all){const t=e.packageJSON.contributes&&e.packageJSON.contributes.themes;if(!t)continue;const n=t.find(r=>r.label===i||r.id===i);if(n)return s.Uri.joinPath(e.extensionUri,n.path)}}function ol(i,e){var t,n;return(n=(t=i==null?void 0:i.colors)==null?void 0:t["icon.foreground"])!=null?n:e==="dark"?"#C5C5C5":"#424242"}function gv(i,e){var t,n;return(n=(t=i==null?void 0:i.colors)==null?void 0:t["list.warningForeground"])!=null?n:e==="dark"?"#CCA700":"#855F00"}function vv(i,e){var t,n;return(n=(t=i==null?void 0:i.colors)==null?void 0:t["list.errorForeground"])!=null?n:e==="dark"?"#F88070":"#B01011"}function yv(i,e){var t,n;return(n=(t=i==null?void 0:i.colors)==null?void 0:t["notebookStatusSuccessIcon.foreground"])!=null?n:e==="dark"?"#89D185":"#388A34"}var kE=Object.defineProperty,_E=(i,e,t)=>e in i?kE(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t,zd=(i,e,t)=>_E(i,typeof e!="symbol"?e+"":e,t);class ms extends vr{constructor(e,t){super(e),zd(this,"collapsibleState"),zd(this,"_children",[]),zd(this,"pathToChild",new Map),zd(this,"checkboxState"),this.label=t,this.collapsibleState=s.TreeItemCollapsibleState.Expanded}async getChildren(){return this._children}finalize(){this.trimTree(),this.sort()}trimTree(){if(this._children.length===0||(this._children.forEach(t=>{t instanceof ms&&t.trimTree()}),this._children.length!==1))return;const e=this._children[0];e instanceof ms&&(this.label=this.label+"/"+e.label,this.label.startsWith("/")&&(this.label=this.label.substr(1)),this._children=e._children,this._children.forEach(t=>{t.parent=this}))}sort(){if(this._children.length<=1)return;const e=[],t=[];this._children.forEach(n=>{n instanceof ms?(n.sort(),e.push(n)):t.push(n)}),e.sort((n,r)=>n.label<r.label?-1:1),t.sort((n,r)=>n.label<r.label?-1:1),this._children=[...e,...t]}addFile(e){const t=e.changeModel.fileName.split("/");this.addPathRecc(t,e)}addPathRecc(e,t){if(e.length<=0)return;if(e.length===1){t.parent=this,this._children.push(t);return}const n=e[0],r=e.slice(1);let a=this.pathToChild.get(n);a||(a=new ms(this,n),this.pathToChild.set(n,a),this._children.push(a)),a.addPathRecc(r,t)}allChildrenViewed(){for(const e of this._children)if(e instanceof ms){if(!e.allChildrenViewed())return!1}else if(e.checkboxState.state!==s.TreeItemCheckboxState.Checked)return!1;return!0}setCheckboxState(e){this.checkboxState=e?{state:s.TreeItemCheckboxState.Checked,tooltip:s.l10n.t("Mark all files unviewed"),accessibilityInformation:{label:s.l10n.t("Mark all files in folder {0} as unviewed",this.label)}}:{state:s.TreeItemCheckboxState.Unchecked,tooltip:s.l10n.t("Mark all files viewed"),accessibilityInformation:{label:s.l10n.t("Mark all files in folder {0} as viewed",this.label)}}}getTreeItem(){return this.setCheckboxState(this.allChildrenViewed()),this}}var SE=Object.defineProperty,EE=(i,e,t)=>e in i?SE(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t,gu=(i,e,t)=>EE(i,typeof e!="symbol"?e+"":e,t);const bv=class Nc extends vr{constructor(e,t,n,r,a,o){super(e),this._folderReposManager=t,this.pullRequestModel=n,this._isLocal=r,this._notificationProvider=a,this._prsTreeModel=o,gu(this,"_fileChanges"),gu(this,"_commentController"),gu(this,"_inMemPRContentProvider"),gu(this,"_command"),this.registerSinceReviewChange(),this.registerConfigurationChange(),this._register(this._folderReposManager.onDidChangeActivePullRequest(d=>{var S,C;(((S=d.new)==null?void 0:S.number)===this.pullRequestModel.number||((C=d.old)==null?void 0:C.number)===this.pullRequestModel.number)&&this.refresh(this)})),this._register(this._folderReposManager.themeWatcher.onDidChangeTheme(()=>{this.refresh(this)})),this.resolvePRCommentController()}get command(){return this._command}set command(e){this._command=e}get repository(){return this._folderReposManager.repository}async getChildren(){var e;super.getChildren(),y.debug(`Fetch children of PRNode #${this.pullRequestModel.number}`,Nc.ID);try{if(!this.pullRequestModel.isResolved())return[];[,this._fileChanges,,]=await Promise.all([this.pullRequestModel.initializePullRequestFileViewState(),this.resolveFileChangeNodes(),this._commentController?new Promise(r=>r()):this.resolvePRCommentController(),this.pullRequestModel.validateDraftMode()]),this._inMemPRContentProvider||(this._inMemPRContentProvider=(e=qf())==null?void 0:e.registerTextDocumentContentProvider(this.pullRequestModel.number,this.provideDocumentContent.bind(this)),this._inMemPRContentProvider&&this._register(this._inMemPRContentProvider));const t=[];if(s.workspace.getConfiguration(bt).get(mt)==="tree"){const r=new ms(this,"");this._fileChanges.forEach(a=>r.addFile(a)),r.finalize(),r.label===""?t.push(...r._children):t.push(r)}else t.push(...this._fileChanges);return this.pullRequestModel.showChangesSinceReview!==void 0&&this.reopenNewPrDiffs(this.pullRequestModel),this._children=t,this.pullRequestModel.reviewThreadsCacheReady||this.pullRequestModel.initializeReviewThreadCache(),t}catch(t){return y.error(`Error getting children ${t}: ${t.message}`,Nc.ID),[]}}registerSinceReviewChange(){this._register(this.pullRequestModel.onDidChangeChangesSinceReview(e=>{this.refresh(this)}))}registerConfigurationChange(){this._register(s.workspace.onDidChangeConfiguration(e=>{e.affectsConfiguration(`${bt}.${zi}`)&&this.refresh()}))}async reopenNewPrDiffs(e){let t=!1;s.window.tabGroups.all.map(n=>{n.tabs.map(r=>{if(r.input instanceof s.TabInputTextDiff&&r.input.original.scheme===Bt.Pr&&r.input.modified.scheme===Bt.Pr&&this._fileChanges)for(const a of this._fileChanges){const o=yn(r.input.original),d=yn(r.input.modified),S=yn(a.changeModel.filePath);if((o==null?void 0:o.prNumber)===e.number&&(d==null?void 0:d.prNumber)===e.number&&a.fileName===d.fileName&&(S==null?void 0:S.headCommit)!==d.headCommit){t=!0,s.window.tabGroups.close(r).then(C=>a.openDiff(this._folderReposManager,{preview:r.isPreview}));break}}})}),e.showChangesSinceReview&&!t&&this._fileChanges&&this._fileChanges.length&&!e.isActive&&this._fileChanges[0].openDiff(this._folderReposManager,{preview:!0})}async resolvePRCommentController(){this.pullRequestModel.equals(this._folderReposManager.activePullRequest)||(await this.pullRequestModel.githubRepository.ensureCommentsController(),this._commentController=this.pullRequestModel.githubRepository.commentsController,this._register(this.pullRequestModel.githubRepository.commentsHandler.registerCommentingRangeProvider(this.pullRequestModel.number,this)),this._register(this.pullRequestModel.githubRepository.commentsHandler.registerCommentController(this.pullRequestModel.number,this.pullRequestModel,this._folderReposManager)),this.registerListeners())}registerListeners(){this._register(this.pullRequestModel.onDidChangePendingReviewState(async e=>{e||(await this.getFileChanges()).forEach(t=>{t instanceof $d&&t.comments.forEach(n=>n.isDraft=e)})}))}async getFileChanges(e){return(!this._fileChanges||e)&&(this._fileChanges=await this.resolveFileChangeNodes()),this._fileChanges}async resolveFileChangeNodes(){if(!this.pullRequestModel.isResolved())return[];const e=[],t=this.pullRequestModel.equals(this._folderReposManager.activePullRequest);t&&this._folderReposManager.activePullRequest!==void 0&&this._folderReposManager.activePullRequest.fileChanges.size>0?(this.pullRequestModel=this._folderReposManager.activePullRequest,e.push(...this._folderReposManager.activePullRequest.fileChanges.values())):e.push(...await this.pullRequestModel.getFileChangesInfo());const n=this.pullRequestModel.mergeBase;return n?e.map(r=>{if(r instanceof qo){const d=new il(this._folderReposManager,r,this.pullRequestModel);return new xf(this,this._folderReposManager,this.pullRequestModel,d)}const a=new go(this._folderReposManager,this.pullRequestModel,r,t,n);return new $d(this._folderReposManager,this,this.pullRequestModel,a)}):[]}async _getIcon(){var e,t;const n=await this.pullRequestModel.copilotWorkingStatus(),r=this._folderReposManager.themeWatcher.themeData;if(n===Qa.NotCopilotIssue)return(e=(await wr.avatarCirclesAsImageDataUris(this._folderReposManager.context,[this.pullRequestModel.author],16,16))[0])!=null?e:new s.ThemeIcon("github");switch(n){case Qa.InProgress:return{light:wr.copilotInProgressAsImageDataURI(ol(r,"light"),gv(r,"light")),dark:wr.copilotInProgressAsImageDataURI(ol(r,"dark"),gv(r,"dark"))};case Qa.Done:return{light:wr.copilotSuccessAsImageDataURI(ol(r,"light"),yv(r,"light")),dark:wr.copilotSuccessAsImageDataURI(ol(r,"dark"),yv(r,"dark"))};case Qa.Error:return{light:wr.copilotErrorAsImageDataURI(ol(r,"light"),vv(r,"light")),dark:wr.copilotErrorAsImageDataURI(ol(r,"dark"),vv(r,"dark"))};default:return(t=(await wr.avatarCirclesAsImageDataUris(this._folderReposManager.context,[this.pullRequestModel.author],16,16))[0])!=null?t:new s.ThemeIcon("github")}}_getLabel(){const e=this.pullRequestModel.equals(this._folderReposManager.activePullRequest),{title:t,number:n,author:r,isDraft:a}=this.pullRequestModel;let o="";e&&(o+="$(check) "),s.workspace.getConfiguration(bt).get(zi,!1)&&(o+=`#${n}: `);let d=t.length>50?`${t.substring(0,50)}...`:t;return cn[r.login]&&(d=d.replace("[WIP]","")),o+=d.replace(/\$\([a-zA-Z0-9~-]+\)/g,"\\$&"),a&&(o=`_${o}_`),o}async getTreeItem(){var e,t;const n=this.pullRequestModel.equals(this._folderReposManager.activePullRequest),{title:r,number:a,author:o,isDraft:d,html_url:S}=this.pullRequestModel,C=(e=o.specialDisplayName)!=null?e:o.login,$=this._notificationProvider.hasNotification(this.pullRequestModel)||this._prsTreeModel.hasCopilotNotification(this.pullRequestModel.remote.owner,this.pullRequestModel.remote.repositoryName,this.pullRequestModel.number),Y={label:new s.MarkdownString(this._getLabel(),!0)},ne=`by @${C}`,le={title:s.l10n.t("View Pull Request Description"),command:"pr.openDescription",arguments:[this]};return{label:Y,id:`${this.parent instanceof vr?(t=this.parent.id)!=null?t:this.parent.label:""}${S}${this._isLocal?this.pullRequestModel.localBranchName:""}`,description:ne,collapsibleState:1,contextValue:"pullrequest"+(this._isLocal?":local":"")+(n?":active":":nonactive")+($?":notification":"")+(this.pullRequestModel.item.isRemoteHeadDeleted&&!this._isLocal||!this._folderReposManager.isPullRequestAssociatedWithOpenRepository(this.pullRequestModel)?"":":hasHeadRef"),iconPath:await this._getIcon(),accessibilityInformation:{label:`${d?"Draft ":""}Pull request number ${a}: ${r} by ${C}`},resourceUri:uu(this.pullRequestModel,this.parent instanceof na&&this.parent.isCopilot?!0:void 0),command:le}}async provideCommentingRanges(e,t){if(e.uri.scheme===Bt.Pr){const n=yn(e.uri);if(!n||n.prNumber!==this.pullRequestModel.number)return;const r=(await this.getFileChanges()).find(a=>a.changeModel.fileName===n.fileName);return!r||r instanceof xf?void 0:{ranges:tv(await r.changeModel.diffHunks(),n.isBase,Nc.ID),enableFileComments:!0}}}async provideDocumentContent(e){var t;const n=yn(e);if(!n)return"";const r=(t=(await this.getFileChanges()).find(a=>a.changeModel.fileName===n.fileName))==null?void 0:t.changeModel;return r?$f(this._folderReposManager,this.pullRequestModel,n,r):(y.appendLine(`Can not find content for document ${e.toString()}`,"PR"),"")}dispose(){super.dispose(),this._commentController=void 0}};gu(bv,"ID","PRNode");let yr=bv;var RE=Object.defineProperty,NE=(i,e,t)=>e in i?RE(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t,zr=(i,e,t)=>NE(i,typeof e!="symbol"?e+"":e,t),ll=(i=>(i[i.Empty=0]="Empty",i[i.More=1]="More",i[i.TryOtherRemotes=2]="TryOtherRemotes",i[i.Login=3]="Login",i[i.LoginEnterprise=4]="LoginEnterprise",i[i.NoRemotes=5]="NoRemotes",i[i.NoMatchingRemotes=6]="NoMatchingRemotes",i[i.ConfigureRemotes=7]="ConfigureRemotes",i))(ll||{});class Os extends vr{constructor(e,t,n){switch(super(e),zr(this,"collapsibleState"),zr(this,"iconPath"),zr(this,"type"),zr(this,"command"),this.type=t,this.collapsibleState=s.TreeItemCollapsibleState.None,t){case 0:this.label=s.l10n.t("0 pull requests in this category");break;case 1:this.label=s.l10n.t("Load more"),this.command={title:s.l10n.t("Load more"),command:"pr.loadMore",arguments:[n]};break;case 2:this.label=s.l10n.t("Continue fetching from other remotes"),this.command={title:s.l10n.t("Load more"),command:"pr.loadMore",arguments:[n]};break;case 3:this.label=s.l10n.t("Sign in"),this.command={title:s.l10n.t("Sign in"),command:"pr.signinAndRefreshList",arguments:[]};break;case 4:this.label=s.l10n.t("Sign in with GitHub Enterprise..."),this.command={title:"Sign in",command:"pr.signinAndRefreshList",arguments:[]};break;case 5:this.label=s.l10n.t("No GitHub repositories found.");break;case 6:this.label=s.l10n.t("No remotes match the current setting.");break;case 7:this.label=s.l10n.t("Configure remotes..."),this.command={title:s.l10n.t("Configure remotes"),command:"pr.configureRemotes",arguments:[]};break;default:break}}getTreeItem(){return this}}var Ya;(i=>{let e;(n=>{n.LOCAL="Local Pull Request Branches",n.ALL="All Open"})(e=i.Queries||(i.Queries={}));let t;(n=>{n.DEFAULT="default"})(t=i.Values||(i.Values={}))})(Ya||(Ya={}));function jf(i){return i.label===Ya.Queries.LOCAL&&i.query===Ya.Values.DEFAULT}function zf(i){return i.label===Ya.Queries.ALL&&i.query===Ya.Values.DEFAULT}class na extends vr{constructor(e,t,n,r,a,o,d,S,C){var $,Y;switch(super(e),this.folderRepoManager=t,this._telemetry=n,this.type=r,this._notificationProvider=a,this._prsTreeModel=o,this._copilotManager=d,this._categoryQuery=C,zr(this,"collapsibleState"),zr(this,"prs"),zr(this,"fetchNextPage",!1),zr(this,"repositoryPageInformation",new Map),zr(this,"contextValue"),zr(this,"resourceUri"),zr(this,"tooltip"),zr(this,"isCopilot"),zr(this,"_repo"),zr(this,"_firstLoad"),this.prs=new Map,this.isCopilot=!!C&&Gp(C),this.type){case on.All:this.label=s.l10n.t("All Open");break;case on.Query:this.label=S;break;case on.LocalPullRequest:this.label=s.l10n.t("Local Pull Request Branches");break;default:this.label="";break}this.id=e instanceof vr?`${($=e.id)!=null?$:e.label}/${this.label}`:this.label,s.workspace.getConfiguration(bt).get(rs,!1)?this.collapsibleState=s.TreeItemCollapsibleState.Collapsed:this._prsTreeModel.expandedQueries===void 0&&this.type===on.All?this.collapsibleState=s.TreeItemCollapsibleState.Expanded:this.collapsibleState=(Y=this._prsTreeModel.expandedQueries)!=null&&Y.has(this.id)?s.TreeItemCollapsibleState.Expanded:s.TreeItemCollapsibleState.Collapsed,this._categoryQuery&&(this.contextValue=this.isCopilot?"copilot-query":"query"),this.isCopilot?this.tooltip=s.l10n.t("Pull requests you asked the coding agent to create"):this.type===on.LocalPullRequest?this.tooltip=s.l10n.t("Pull requests for branches you have locally"):this.type===on.All?this.tooltip=s.l10n.t("All open pull requests in the current repository"):C?this.tooltip=new s.MarkdownString(s.l10n.t("Pull requests for query: `{0}`",C)):this.tooltip=this.label}get repo(){return this._repo}_getDescription(){if(!this.isCopilot||!this._repo)return;const e=this._prsTreeModel.getCopilotCounts(this._repo.owner,this._repo.repositoryName);if(e.total!==0)return e.error>0?e.inProgress>0?s.l10n.t("{0} in progress, {1} with errors",e.inProgress,e.error):s.l10n.t("{0} with errors",e.error):e.inProgress>0?s.l10n.t("{0} in progress",e.inProgress):s.l10n.t("done working on {0}",e.total)}async expandPullRequest(e,t=!0){if(!this._children&&t&&(await this.getChildren(),t=!1),this._children){for(const n of this._children)if(n instanceof yr&&n.pullRequestModel.equals(e))return this.reveal(n,{expand:!0,select:!0}),!0;if(t)return await this.getChildren(),await this.expandPullRequest(e,!1)}return!1}async getChildren(e=!0){if(await super.getChildren(e),!e&&this._children)return this._children;const t=!this._firstLoad;return t&&(this._firstLoad=this.doGetChildren(),!this._prsTreeModel.hasLoaded)?(this._firstLoad.then(()=>this.refresh(this)),[]):t?this._firstLoad:this.doGetChildren()}async doGetChildren(){let e=!1,t=!1,n=!1;const r=this.fetchNextPage;if(this.fetchNextPage=!1,this.type===on.LocalPullRequest)try{this.prs.clear(),(await this._prsTreeModel.getLocalPullRequests(this.folderRepoManager)).items.forEach(a=>this.prs.set(a.id,a))}catch(a){s.window.showErrorMessage(s.l10n.t("Fetching local pull requests failed: {0}",_e(a))),n=a instanceof rd}else try{let a;switch(this.type){case on.All:a=await this._prsTreeModel.getAllPullRequests(this.folderRepoManager,r);break;case on.Query:a=await this._prsTreeModel.getPullRequestsForQuery(this.folderRepoManager,r,this._categoryQuery);break}r||this.prs.clear(),a.items.forEach(o=>this.prs.set(o.id,o)),e=a.hasMorePages,t=a.hasUnsearchedRepositories}catch(a){if(!(this.isCopilot&&a.response.status===422&&a.message.includes("the users do not exist"))){const o=_e(a),d=[];o.includes("Bad credentials")&&d.push(s.l10n.t("Login again")),s.window.showErrorMessage(s.l10n.t("Fetching pull requests failed: {0}",_e(a)),...d).then(S=>{S&&S===d[0]&&this.folderRepoManager.credentialStore.recreate(s.l10n.t("Your login session is no longer valid."))}),n=a instanceof rd}}if(this.prs.size>0){const a=Array.from(this.prs.values()).map(o=>new yr(this,this.folderRepoManager,o,this.type===on.LocalPullRequest,this._notificationProvider,this._prsTreeModel));return e?a.push(new Os(this,1,this)):t&&a.push(new Os(this,2,this)),this._children=a,a}else{const a=n?3:0,o=[new Os(this,a)];return this._children=o,o}}async getTreeItem(){if(this.description=this._getDescription(),this._repo||(this._repo=await of(this.folderRepoManager,this._categoryQuery)),this.resourceUri=ev({remote:this._repo,isCopilot:this.isCopilot}),this._categoryQuery){const e=this.isCopilot&&this._repo&&this._prsTreeModel.getCopilotNotificationsCount(this._repo.owner,this._repo.repositoryName)>0;this.contextValue=this.isCopilot?e?"copilot-query-with-notifications":"copilot-query":"query"}return this}}var CE=Object.defineProperty,TE=(i,e,t)=>e in i?CE(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t,Wd=(i,e,t)=>TE(i,typeof e!="symbol"?e+"":e,t);class AE extends vr{constructor(e,t,n,r,a){var o;super(e),this.pullRequestManager=t,this.pullRequest=n,this.commit=r,this.isCurrent=a,Wd(this,"sha"),Wd(this,"collapsibleState"),Wd(this,"iconPath"),Wd(this,"contextValue"),this.label=r.commit.message,this.sha=r.sha,this.collapsibleState=s.TreeItemCollapsibleState.Collapsed,this.contextValue="commit",this.description=(o=r.commit.author)!=null&&o.date?re(r.commit.author.date):void 0}async getTreeItem(){if(this.commit.author){const e={id:this.commit.author.node_id,login:this.commit.author.login,url:this.commit.author.url,avatarUrl:this.commit.author.avatar_url,accountType:this.commit.author.type};this.iconPath=(await wr.avatarCirclesAsImageDataUris(this.pullRequestManager.context,[e],16,16))[0]}return this}async getChildren(){var e;super.getChildren();const t=(e=await this.pullRequest.getCommitChangedFiles(this.commit))!=null?e:[];if(t.length===0)return[new Df(this,"No changed files")];const n=t.map(o=>{const d=o.filename,S=FS(d,this.commit.sha),C=new Ef(this.pullRequestManager,this.pullRequest,{status:Xl(o.status),fileName:d,blobUrl:void 0},ga(S,d,void 0,this.commit.sha,!0,{base:!1},this.pullRequestManager.repository.rootUri),ga(S,d,void 0,this.commit.sha,!0,{base:!0},this.pullRequestManager.repository.rootUri),this.commit.sha),$=new wo(this,this.pullRequestManager,this.pullRequest,C,this.isCurrent);return $.useViewChangesCommand(),$});let r=[];if(s.workspace.getConfiguration(bt).get(mt)==="tree"){const o=new ms(this,"");n.forEach(d=>o.addFile(d)),o.finalize(),o.label===""?r.push(...o._children):r.push(o)}else r=n;return this._children=r,r}}var ME=Object.defineProperty,PE=(i,e,t)=>e in i?ME(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t,vu=(i,e,t)=>PE(i,typeof e!="symbol"?e+"":e,t);class FE extends vr{constructor(e,t,n){super(e),vu(this,"collapsibleState"),vu(this,"resourceUri"),vu(this,"_folderRepoManager"),vu(this,"_pr"),vu(this,"tooltip"),this.label=s.l10n.t("Commits"),this._pr=n,this._folderRepoManager=t,this.collapsibleState=s.TreeItemCollapsibleState.Collapsed,this.resourceUri=Jg(n.remote.owner,n.remote.repositoryName,n.number),this.tooltip=s.l10n.t("Commits"),this.childrenDisposables=[],this.childrenDisposables.push(this._pr.onDidChangeReviewThreads(()=>{y.appendLine("Review threads have changed, refreshing Commits node",M),this.refresh(this)})),this.childrenDisposables.push(this._pr.onDidChange(r=>{r.comments&&(y.appendLine("Comments have changed, refreshing Commits node",M),this.refresh(this))}))}getTreeItem(){return this}async getChildren(){super.getChildren();try{y.appendLine("Getting children for Commits node",M);const e=await this._pr.getCommits();return this._children=e.map((t,n)=>{var r;return new AE(this,this._folderRepoManager,this._pr,t,n===e.length-1&&((r=this._folderRepoManager.repository.state.HEAD)==null?void 0:r.commit)===t.sha)}),y.appendLine("Got all children for Commits node",M),this._children}catch{return[]}}}var DE=Object.defineProperty,IE=(i,e,t)=>e in i?DE(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t,Wf=(i,e,t)=>IE(i,typeof e!="symbol"?e+"":e,t);class xE extends vr{constructor(e,t,n){super(e),this._reviewModel=t,Wf(this,"label",s.l10n.t("Files")),Wf(this,"collapsibleState"),Wf(this,"directories",[]),this.collapsibleState=s.TreeItemCollapsibleState.Expanded,this.childrenDisposables=[],this.childrenDisposables.push(this._reviewModel.onDidChangeLocalFileChanges(()=>{y.appendLine("Local files have changed, refreshing Files node",M),this.refresh(this)})),this.childrenDisposables.push(n.onDidChangeReviewThreads(()=>{y.appendLine("Review threads have changed, refreshing Files node",M),this.refresh(this)})),this.childrenDisposables.push(n.onDidChange(r=>{r.comments&&(y.appendLine("Comments have changed, refreshing Files node",M),this.refresh(this))})),this.childrenDisposables.push(n.onDidChangeFileViewedState(()=>{y.appendLine("File viewed state has changed, refreshing Files node",M),this.refresh(this)})),this.childrenDisposables.push(s.workspace.onDidChangeConfiguration(r=>{r.affectsConfiguration(`${bt}.${ni}`)&&(y.appendLine("Hide viewed files setting has changed, refreshing Files node",M),this.refresh(this))}))}getTreeItem(){return this}async getChildren(){if(super.getChildren(!1),y.appendLine("Getting children for Files node",M),!this._reviewModel.hasLocalFileChanges)return new Promise(o=>{const d=this._reviewModel.onDidChangeLocalFileChanges(()=>{o([]),d.dispose()})});if(this._reviewModel.localFileChanges.length===0)return[new Df(this,s.l10n.t("No changed files"))];let e;const t=s.workspace.getConfiguration(bt).get(mt),n=s.workspace.getConfiguration(bt).get(ni,!1),r=n?this._reviewModel.localFileChanges.filter(o=>o.changeModel.viewed!==ea.VIEWED):this._reviewModel.localFileChanges;if(r.length===0&&n)return[new Df(this,s.l10n.t("All files viewed"))];const a=new ms(this,"");if(r.forEach(o=>a.addFile(o)),a.finalize(),a.label===""?this.directories=a._children:this.directories=[a],t==="tree")e=this.directories;else{const o=[...r];o.sort((d,S)=>ve(d.fileChangeResourceUri.toString(),S.fileChangeResourceUri.toString())),e=o}return y.appendLine("Got all children for Files node",M),this._children=e,e}}var OE=Object.defineProperty,LE=(i,e,t)=>e in i?OE(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t,ps=(i,e,t)=>LE(i,typeof e!="symbol"?e+"":e,t);class Ja extends vr{constructor(e,t,n,r,a){super(e),this.parent=e,this.pullRequestModel=t,this._pullRequestManager=n,this._reviewModel=r,this._progress=a,ps(this,"_filesCategoryNode"),ps(this,"_commitsCategoryNode"),ps(this,"command"),ps(this,"contextValue"),ps(this,"tooltip"),ps(this,"iconPath"),ps(this,"collapsibleState",s.TreeItemCollapsibleState.Expanded),ps(this,"isLocal"),ps(this,"repository"),this.isLocal=!0,this.repository=n.repository,this.label=t.title,this.command={title:s.l10n.t("View Pull Request Description"),command:"pr.openDescription",arguments:[this]},this.tooltip=s.l10n.t("Description of pull request #{0}",t.number),this.accessibilityInformation={label:s.l10n.t("Pull request page of pull request number {0}",t.number),role:"button"},this.getTreeItem(),this._register(s.window.onDidChangeActiveTextEditor(o=>{var d;if(s.workspace.getConfiguration(bt).get(Ot)){const S=(d=s.window.tabGroups.activeTabGroup.activeTab)==null?void 0:d.input;if(S instanceof s.TabInputTextDiff&&S.original.scheme===Bt.Review&&S.modified.scheme!==Bt.Review&&S.original.path.startsWith("/commit"))return;const C=o==null?void 0:o.document.uri.toString();this.revealActiveEditorInTree(C)}})),this._register(this.parent.view.onDidChangeVisibility(o=>{var d;const S=(d=s.window.activeTextEditor)==null?void 0:d.document.uri.toString();this.revealActiveEditorInTree(S)})),this._register(this.pullRequestModel.onDidChange(o=>{(o.title||o.state)&&this.refresh()}))}revealActiveEditorInTree(e){if(this.parent.view.visible&&e){const t=this._reviewModel.localFileChanges.find(n=>n.changeModel.filePath.toString()===e);t&&this.reveal(t,{select:!0})}}async getChildren(){return await this._progress.progress,(!this._filesCategoryNode||!this._commitsCategoryNode)&&(y.appendLine(`Creating file and commit nodes for PR #${this.pullRequestModel.number}`,M),this._filesCategoryNode=new xE(this.parent,this._reviewModel,this.pullRequestModel),this._commitsCategoryNode=new FE(this.parent,this._pullRequestManager,this.pullRequestModel)),this._children=[this._filesCategoryNode,this._commitsCategoryNode],this._children}setLabel(){this.label=this.pullRequestModel.title,this.label.length>50&&(this.tooltip=this.label,this.label=`${this.label.substring(0,50)}...`)}async getTreeItem(){var e;return this.setLabel(),this.iconPath=(await wr.avatarCirclesAsImageDataUris(this._pullRequestManager.context,[this.pullRequestModel.author],16,16))[0],this.description=void 0,(e=this.parent.children)!=null&&e.length&&this.parent.children.length>1&&(this.parent.children.every(n=>n instanceof Ja&&n.pullRequestModel.remote.owner===this.pullRequestModel.remote.owner)?this.description=this.pullRequestModel.remote.repositoryName:this.description=`${this.pullRequestModel.remote.owner}/${this.pullRequestModel.remote.repositoryName}`),this.updateContextValue(),this}updateContextValue(){const e=this.pullRequestModel.equals(this._pullRequestManager.activePullRequest);this.contextValue="description"+(e?":active":":nonactive")+(this.pullRequestModel.hasChangesSinceLastReview?":hasChangesSinceReview":"")+(this.pullRequestModel.showChangesSinceReview?":showingChangesSinceReview":":showingAllChanges")+(this.pullRequestModel.item.isRemoteHeadDeleted&&!this.isLocal||!this._pullRequestManager.isPullRequestAssociatedWithOpenRepository(this.pullRequestModel)?"":":hasHeadRef")}}var UE=ti(48287).Buffer;function Kd(i,e){if(e)return e instanceof yr?e.pullRequestModel:e;if(!i.activePullRequest)throw s.window.showErrorMessage(s.l10n.t("Unable to find current pull request.")),new Error("Unable to find current pull request.");return i.activePullRequest}async function yu(i,e,t,n,r,a=!0){const o=Kd(n,e);r&&(t==null||t.reveal(t,{select:!0,focus:!0})),o instanceof fn?await rr.createOrShow(i,n.context.extensionUri,n,o,void 0,a):(await co.createOrShow(i,n.context.extensionUri,n,o),i.sendTelemetryEvent("issue.openDescription"))}async function Za(i,e){i instanceof yr||i instanceof Ja?s.commands.executeCommand("vscode.open",s.Uri.parse(i.pullRequestModel.html_url)):cu(i)?s.commands.executeCommand("vscode.open",s.Uri.parse(i.model.html_url)):s.commands.executeCommand("vscode.open",s.Uri.parse(i.html_url)),e.sendTelemetryEvent("pr.openInGitHub")}async function BE(){const i=s.window.tabGroups,e=i.all.map(t=>t.tabs).flat();for(const t of e){const n=t.input instanceof s.TabInputTextDiff?t.input.original.scheme:t.input instanceof s.TabInputText?t.input.uri.scheme:void 0;(n&&n===Bt.Pr||n===Bt.Review)&&await i.close(t)}}function bu(i){return!!i.pullRequest}function qE(i){return!!i.pullRequestDetails}function $E(i,e,t,n,r,a,o,d){const S="RegisterCommands";i.subscriptions.push(s.commands.registerCommand("pr.openPullRequestOnGitHub",async Se=>{if(Se)Za(Se,n);else{const Be=e.folderManagers.map(ze=>ze.activePullRequest).filter(ze=>!!ze);if(Be.length>=1){const ze=await Ma(Be,rt=>({label:rt.html_url}));ze&&Za(ze,n)}}})),i.subscriptions.push(s.commands.registerCommand("notification.openOnGitHub",async Se=>{Se&&Za(Se,n)})),i.subscriptions.push(s.commands.registerCommand("pr.openAllDiffs",async()=>{const Se=e.folderManagers.filter(pt=>pt.activePullRequest).map(pt=>({activePr:pt.activePullRequest,folderManager:pt})),Be=Se.length>=1?await Ma(Se,pt=>({label:pt.activePr.html_url})):Se[0];if(!Be)return;const{folderManager:ze}=Be,rt=ia.getReviewManagerForFolderManager(t.reviewManagers,ze);rt&&rt.reviewModel.localFileChanges.forEach(pt=>pt.openDiff(ze,{preview:!1}))})),i.subscriptions.push(s.commands.registerCommand("pr.openFileOnGitHub",async Se=>{if(!(Se instanceof xf&&!await s.window.showInformationMessage(s.l10n.t("{0} can't be opened locally. Do you want to open it on GitHub?",Se.changeModel.fileName),s.l10n.t("Open")))&&Se.changeModel.blobUrl)return s.commands.executeCommand("vscode.open",s.Uri.parse(Se.changeModel.blobUrl))})),i.subscriptions.push(s.commands.registerCommand("pr.copyCommitHash",Se=>{s.env.clipboard.writeText(Se.sha)})),i.subscriptions.push(s.commands.registerCommand("pr.revealFileInOS",Se=>{let Be=Se;if(!Be){for(const rt of t.reviewManagers){const Ct=rt.changesInPrDataProvider.view.selection.find(ai=>ai instanceof wo);if(Ct){Be=Ct;break}}if(!Be){const pt=d.view.selection.find(Ct=>Ct instanceof $d);pt&&(Be=pt)}}if(!Be)return;const ze=e.getManagerForIssueModel(Be.pullRequest);if(ze){const rt=s.Uri.joinPath(ze.repository.rootUri,Be.changeModel.fileName);s.commands.executeCommand("revealFileInOS",rt)}})),i.subscriptions.push(s.commands.registerCommand("pr.openOriginalFile",async Se=>{const Be=e.getManagerForIssueModel(Se.pullRequest);if(Be){const ze=await Cf(Se.changeModel.parentFilePath,Be.repository);s.commands.executeCommand("vscode.open",ze||Se.changeModel.parentFilePath)}})),i.subscriptions.push(s.commands.registerCommand("pr.openModifiedFile",Se=>{let Be;const ze=s.window.tabGroups.activeTabGroup.activeTab;Se?Be=Se.changeModel.filePath:(ze==null?void 0:ze.input)instanceof s.TabInputTextDiff&&(Be=ze.input.modified),Be&&s.commands.executeCommand("vscode.open",Be,ze==null?void 0:ze.group.viewColumn)}));async function C(Se){var Be;if(Se&&!(Se instanceof s.Uri)){const ze=e.getManagerForIssueModel(Se.pullRequest);return ze?Se.openDiff(ze):void 0}else if(Se||s.window.activeTextEditor){const ze=Se instanceof s.Uri?s.window.visibleTextEditors.find(bn=>bn.document.uri.toString()===Se.toString()):s.window.activeTextEditor,rt=ze.visibleRanges,pt=e.getManagerForFile(ze.document.uri);if(!(pt!=null&&pt.activePullRequest))return;const Ct=ia.getReviewManagerForFolderManager(t.reviewManagers,pt);if(!Ct)return;const ai=Ct.reviewModel.localFileChanges.find(bn=>bn.resourceUri.with({query:""}).toString()===ze.document.uri.toString());await(ai==null?void 0:ai.openDiff(pt));const Bi=(Be=s.window.tabGroups.activeTabGroup.activeTab)==null?void 0:Be.input,$i=Bi instanceof s.TabInputTextDiff&&Bi.modified.toString()===ze.document.uri.toString()?s.window.activeTextEditor:void 0;$i&&$i.revealRange(rt[0])}}i.subscriptions.push(s.commands.registerCommand("pr.openDiffView",Se=>C(Se))),i.subscriptions.push(s.commands.registerCommand("pr.openDiffViewFromEditor",Se=>C(Se))),i.subscriptions.push(s.commands.registerCommand("pr.deleteLocalBranch",async Se=>{var Be;const ze=e.getManagerForIssueModel(Se.pullRequestModel);if(!ze)return;const rt=Kd(ze,Se),pt="Delete Unmerged Branch";let Ct=null;try{await ze.deleteLocalPullRequest(rt)}catch(ai){if(ai.gitErrorCode===oi.BranchNotFullyMerged){if(await s.window.showErrorMessage(s.l10n.t("The local branch '{0}' is not fully merged. Are you sure you want to delete it?",(Be=rt.localBranchName)!=null?Be:"unknown branch"),pt)!==pt)return;try{await ze.deleteLocalPullRequest(rt,!0)}catch($i){Ct=$i}}else Ct=ai}Ct?(n.sendTelemetryErrorEvent("pr.deleteLocalPullRequest.failure"),await s.window.showErrorMessage(`Deleting local pull request branch failed: ${Ct}`)):n.sendTelemetryEvent("pr.deleteLocalPullRequest.success")}));function $(Se){if(Se){const Be=s.Uri.file(Se).toString();for(const ze of t.reviewManagers)if(ze.repository.rootUri.toString()===Be)return ze}return Ma(t.reviewManagers,Be=>({label:W.basename(Be.repository.rootUri.fsPath)}),{placeHolder:s.l10n.t("Choose a repository to create a pull request in"),ignoreFocusOut:!0})}function Y(Se){return!!(Se!=null&&Se.rootUri)}i.subscriptions.push(s.commands.registerCommand("pr.create",async Se=>{var Be,ze;Y(Se)?(Be=await $(Se.rootUri.fsPath))==null||Be.createPullRequest():(ze=await $(Se==null?void 0:Se.repoPath))==null||ze.createPullRequest(Se==null?void 0:Se.compareBranch)})),i.subscriptions.push(s.commands.registerCommand("pr.pushAndCreate",async Se=>{var Be;if(Y(Se)){const ze=await $(Se.rootUri.fsPath),rt=e.getManagerForFile(Se.rootUri);let pt=!0;if(rt!=null&&rt.activePullRequest){const Ct=s.l10n.t("Push");if(await s.window.showInformationMessage(s.l10n.t("You already have a pull request for this branch. Do you want to push your changes to the remote branch?"),{modal:!0},Ct)!==Ct)return;pt=!1}ze&&((Be=Se.state.HEAD)!=null&&Be.upstream&&await Se.push(),pt&&ze.createPullRequest())}})),i.subscriptions.push(s.commands.registerCommand("pr.pick",async Se=>{if(Se===void 0)return y.error("Unexpectedly received undefined when picking a PR.",S),s.window.showErrorMessage(s.l10n.t("No pull request was selected to checkout, please try again."));let Be,ze;Se instanceof yr||Se instanceof Ja?(Be=Se.pullRequestModel,ze=Se.repository):Be=Se;const rt=e.getManagerForIssueModel(Be);if(!rt)return s.window.showErrorMessage(s.l10n.t("Unable to find repository for this pull request."));const pt=Se instanceof fn;return t.switchToPr(rt,Be,ze,pt)}));const ne=async Se=>{var Be;if(!Se)return;const ze=(Be=e.getManagerForRepository(Se.owner,Se.repo))!=null?Be:e.folderManagers[0];if(!ze)return;const rt=await ze.resolvePullRequest(Se.owner,Se.repo,Se.number,!0);if(rt)return{folderManager:ze,pr:rt}},le=async(Se,Be,ze)=>{let rt;try{if(rt=await ze.getPatch(),!rt.trim()){s.window.showErrorMessage(s.l10n.t("No patch data available for pull request #{0}",ze.number.toString()));return}const pt=W.join(Be.repository.rootUri.fsPath,".git",`pr-${ze.number}.patch`),Ct=new TextEncoder,ai=s.Uri.file(pt);await s.workspace.fs.writeFile(ai,Ct.encode(rt));try{await Be.repository.apply(pt,!1),Se.report({message:s.l10n.t("Successfully applied changes from pull request #{0}",ze.number.toString()),increment:100})}finally{await s.workspace.fs.delete(ai)}}catch(pt){const Ct=_e(pt);y.error(`Failed to apply PR changes: ${Ct}`,"Commands");const ai=s.l10n.t("Copy git apply");if(await s.window.showErrorMessage(s.l10n.t("Failed to apply changes from pull request: {0}",Ct),ai)===ai)if(rt){const $i=`git apply --3way <<'EOF'
${rt}
EOF`;await s.env.clipboard.writeText($i),s.window.showInformationMessage(s.l10n.t("Git apply command copied to clipboard"))}else s.window.showErrorMessage(s.l10n.t("Unable to copy git apply command - patch content is not available"))}};function he(Se){return!!Se.path}function ke(Se){const Be=Se.startsWith("/")?Se.substring(1):Se;if(!Number.isNaN(Number(Be)))return Number(Be);const ze=Number(UE.from(Be,"base64").toString("utf8"));if(!Number.isNaN(ze))return ze}i.subscriptions.push(s.commands.registerCommand("pr.checkoutFromDescription",async Se=>{if(!Se)return s.window.showErrorMessage(s.l10n.t("No pull request context provided for checkout."));if(he(Se)){const{path:ze}=Se,rt=ke(ze);if(!rt)return s.window.showErrorMessage(s.l10n.t("No pull request number found in context path."));const pt=e.folderManagers[0],Ct=await pt.fetchById(pt.gitHubRepositories[0],Number(rt));return Ct?t.switchToPr(pt,Ct,pt.repository,!0):s.window.showErrorMessage(s.l10n.t("Unable to find pull request #{0}",rt.toString()))}const Be=await ne(Se);return Be?t.switchToPr(Be.folderManager,Be.pr,Be.folderManager.repository,!0):s.window.showErrorMessage(s.l10n.t("Unable to resolve pull request for checkout."))})),i.subscriptions.push(s.commands.registerCommand("pr.applyChangesFromDescription",async Se=>{if(!Se)return s.window.showErrorMessage(s.l10n.t("No pull request context provided for applying changes."));if(he(Se)){const{path:Be}=Se,ze=ke(Be);if(!ze)return s.window.showErrorMessage(s.l10n.t("Unable to parse pull request number."));await s.window.withProgress({location:s.ProgressLocation.Notification,title:s.l10n.t("Applying changes from pull request #{0}",ze.toString()),cancellable:!1},async rt=>{rt.report({increment:30});const pt=e.folderManagers[0],Ct=await pt.fetchById(pt.gitHubRepositories[0],Number(ze));return Ct?le(rt,pt,Ct):s.window.showErrorMessage(s.l10n.t("Unable to find pull request #{0}",ze.toString()))});return}await s.window.withProgress({location:s.ProgressLocation.Notification,title:s.l10n.t("Applying changes from pull request"),cancellable:!1},async Be=>{Be.report({increment:30});const ze=await ne(Se);return ze?le(Be,ze.folderManager,ze.pr):s.window.showErrorMessage(s.l10n.t("Unable to resolve pull request for applying changes."))})})),i.subscriptions.push(s.commands.registerCommand("pr.openChanges",async Se=>{if(Se===void 0)return y.error("Unexpectedly received undefined when picking a PR.",S),s.window.showErrorMessage(s.l10n.t("No pull request was selected to checkout, please try again."));let Be;if(Se instanceof yr||Se instanceof Ja)Be=Se.pullRequestModel;else if(Se instanceof fn)Be=Se;else if(bu(Se))Be=Se.pullRequest;else if(qE(Se)){const rt=await ne({owner:Se.pullRequestDetails.repository.owner.login,repo:Se.pullRequestDetails.repository.name,number:Se.pullRequestDetails.number,preventDefaultContextMenuItems:!0});Be=rt==null?void 0:rt.pr}else if(he(Se)){const{path:rt}=Se,pt=ke(rt);if(!pt)return s.window.showErrorMessage(s.l10n.t("No pull request number found in context path."));const Ct=e.folderManagers[0],ai=await Ct.fetchById(Ct.gitHubRepositories[0],Number(pt));if(!ai)return s.window.showErrorMessage(s.l10n.t("Unable to find pull request #{0}",pt.toString()));Be=ai}else{const rt=await ne(Se);Be=rt==null?void 0:rt.pr}if(!Be)return s.window.showErrorMessage(s.l10n.t("No pull request found to open changes."));const ze=e.getManagerForIssueModel(Be);if(ze)return fn.openChanges(ze,Be)}));let pe=!1;i.subscriptions.push(s.commands.registerCommand("pr.checkoutFromReadonlyFile",async()=>{var Se,Be;const ze=(Se=s.window.activeTextEditor)==null?void 0:Se.document.uri;if((ze==null?void 0:ze.scheme)!==Bt.Pr)return;const rt=yn(ze);if(rt===void 0)return;let pt;const Ct=e.folderManagers.find(Bi=>(pt=Bi.gitHubRepositories.find($i=>$i.remote.remoteName===rt.remoteName),!!pt));if(!Ct||!pt)return;const ai=await s.window.withProgress({location:s.ProgressLocation.Window},()=>Ct.fetchById(pt,Number(rt.prNumber)));if(ai&&!pe){pe=!0;try{await((Be=ia.getReviewManagerForFolderManager(t.reviewManagers,Ct))==null?void 0:Be.switch(ai))}catch(Bi){s.window.showErrorMessage(s.l10n.t("Unable to check out pull request from read-only file: {0}",Bi instanceof Error?Bi.message:"unknown"))}pe=!1}}));const Ne=async(Se,Be,ze=!1)=>{if(Se===void 0)return y.error("Unexpectedly received undefined when picking a PR.",S),s.window.showErrorMessage(s.l10n.t("No pull request was selected to checkout, please try again."));let rt;return Se instanceof yr||Se instanceof Ja?rt=Se.pullRequestModel:rt=Se,ze&&!rt.head?s.window.showErrorMessage(s.l10n.t("Unable to checkout pull request: missing head branch information.")):s.env.openExternal(s.Uri.parse(Be(rt)))};i.subscriptions.push(s.commands.registerCommand("pr.pickOnVscodeDev",async Se=>Ne(Se,gd))),i.subscriptions.push(s.commands.registerCommand("pr.pickOnCodespaces",async Se=>Ne(Se,hp,!0))),i.subscriptions.push(s.commands.registerCommand("pr.checkoutOnVscodeDevFromDescription",async Se=>{if(!Se)return s.window.showErrorMessage(s.l10n.t("No pull request context provided for checkout."));const Be=await ne(Se);return Be?s.env.openExternal(s.Uri.parse(gd(Be.pr))):s.window.showErrorMessage(s.l10n.t("Unable to resolve pull request for checkout."))})),i.subscriptions.push(s.commands.registerCommand("pr.checkoutOnCodespacesFromDescription",async Se=>{if(!Se)return s.window.showErrorMessage(s.l10n.t("No pull request context provided for checkout."));const Be=await ne(Se);return Be?Be.pr.head?s.env.openExternal(s.Uri.parse(hp(Be.pr))):s.window.showErrorMessage(s.l10n.t("Unable to checkout pull request: missing head branch information.")):s.window.showErrorMessage(s.l10n.t("Unable to resolve pull request for checkout."))})),i.subscriptions.push(s.commands.registerCommand("pr.openSessionLogFromDescription",async Se=>{if(!Se)return s.window.showErrorMessage(s.l10n.t("No pull request context provided for checkout."));const Be=lu.getResource(Se.pullNumber,Se.sessionIndex);return s.commands.executeCommand("vscode.open",Be)})),i.subscriptions.push(s.commands.registerCommand("pr.exit",async Se=>{let Be;if(Se instanceof yr||Se instanceof Ja?Be=Se.pullRequestModel:Se===void 0?Be=await Ma(e.folderManagers.map(rt=>rt.activePullRequest).filter(rt=>!!rt),rt=>({label:`${rt.number}: ${rt.title}`}),{placeHolder:s.l10n.t("Choose the pull request to exit")}):Be=Se,!Be)return;const ze=Se instanceof fn;return n.sendTelemetryEvent("pr.exit",{fromDescription:ze.toString()}),s.window.withProgress({location:s.ProgressLocation.SourceControl,title:s.l10n.t("Exiting Pull Request")},async()=>{var rt;const pt=await Be.githubRepository.getDefaultBranch(),Ct=e.getManagerForIssueModel(Be);if(Ct){const ai=(rt=Ct.repository.state.HEAD)==null?void 0:rt.name;await Ct.checkoutDefaultBranch(pt,Be),ai&&await Ct.cleanupAfterPullRequest(ai,Be)}})})),i.subscriptions.push(s.commands.registerCommand("pr.merge",async Se=>{const Be=e.getManagerForIssueModel(Se==null?void 0:Se.pullRequestModel);if(!Be)return;const ze=Kd(Be,Se);if(ze.base&&ze.head&&!ze.base.repositoryCloneUrl.equals(ze.head.repositoryCloneUrl)&&pd())return Za(ze,n);const Ct=s.l10n.t("Yes");return s.window.showWarningMessage(s.l10n.t("Are you sure you want to merge this pull request on GitHub?"),{modal:!0},Ct).then(async ai=>{let Bi;if(ai===Ct)try{return Bi=await ze.merge(Be.repository),Bi}catch($i){return s.window.showErrorMessage(`Unable to merge pull request. ${_e($i)}`),Bi}})})),i.subscriptions.push(s.commands.registerCommand("pr.dismissNotification",Se=>{Se instanceof yr&&(a.markPrNotificationsAsRead(Se.pullRequestModel),o.clearCopilotNotification(Se.pullRequestModel.remote.owner,Se.pullRequestModel.remote.repositoryName,Se.pullRequestModel.number))})),i.subscriptions.push(s.commands.registerCommand("pr.markAllCopilotNotificationsAsRead",Se=>{Se instanceof na&&Se.isCopilot&&Se.repo&&o.clearAllCopilotNotifications(Se.repo.owner,Se.repo.repositoryName)}));async function Ce(Se){var Be,ze;let rt;if(Se)Se instanceof Ja||Se instanceof yr?rt=Se.pullRequestModel:bu(Se)?rt=Se.pullRequest:rt=Se;else{const Bi=e.folderManagers.map($i=>$i.activePullRequest).filter($i=>!!$i);Bi.length>=1&&(rt=await Ma(Bi,$i=>({label:$i.title})))}if(!rt){y.appendLine("No pull request found.",S);return}const pt=(Be=e.getManagerForIssueModel(rt))!=null?Be:e.folderManagers[0];let Ct;if(Se instanceof yr)Ct=Se;else if(rt instanceof fn&&((ze=pt.activePullRequest)!=null&&ze.equals(rt))){const Bi=ia.getReviewManagerForFolderManager(t.reviewManagers,pt);if(!Bi)return;Ct=Bi.changesInPrDataProvider.getDescriptionNode(pt)}const ai=!(Se instanceof yr);await yu(n,rt,Ct,pt,ai,!(Se instanceof Ja))}async function De(Se){const Be=bu(Se)?Se.pullRequest:await ne({owner:Se.pullRequestDetails.repository.owner.login,repo:Se.pullRequestDetails.repository.name,number:Se.pullRequestDetails.number,preventDefaultContextMenuItems:!0}).then(rt=>rt==null?void 0:rt.pr);if(!Be){y.warn("No pull request found in chat session",S);return}const ze=e.getManagerForRepository(Be.githubRepository.remote.owner,Be.githubRepository.remote.repositoryName);return ze?t.switchToPr(ze,Be,ze.repository,!1):(y.warn(`No folder manager found for pull request ${Be.number}`,S),s.window.showErrorMessage(s.l10n.t("Unable to find repository for pull request #{0}",Be.number.toString())))}async function He(Se){const Be=bu(Se)?Se.pullRequest:await ne({owner:Se.pullRequestDetails.repository.owner.login,repo:Se.pullRequestDetails.repository.name,number:Se.pullRequestDetails.number,preventDefaultContextMenuItems:!0}).then(ze=>ze==null?void 0:ze.pr);if(!Be){y.warn("No pull request found in chat session",S);return}await Be.close(),r.refreshChatSessions()}async function Ke(Se){const Be=bu(Se)?Se.pullRequest:await ne({owner:Se.pullRequestDetails.repository.owner.login,repo:Se.pullRequestDetails.repository.name,number:Se.pullRequestDetails.number,preventDefaultContextMenuItems:!0}).then(ze=>ze==null?void 0:ze.pr);if(!Be){y.warn("No pull request found in chat session",S);return}r.cancelMostRecentChatSession(Be)}i.subscriptions.push(s.commands.registerCommand("pr.checkoutChatSessionPullRequest",De)),i.subscriptions.push(s.commands.registerCommand("pr.closeChatSessionPullRequest",He)),i.subscriptions.push(s.commands.registerCommand("pr.cancelCodingAgent",Ke)),i.subscriptions.push(s.commands.registerCommand("pr.openDescription",Ce)),i.subscriptions.push(s.commands.registerCommand("issue.openDescription",Ce)),i.subscriptions.push(s.commands.registerCommand("pr.refreshDescription",async()=>{rr.currentPanel&&rr.refresh()})),i.subscriptions.push(s.commands.registerCommand("pr.focusDescriptionInput",async()=>{rr.currentPanel&&rr.scrollToReview()})),i.subscriptions.push(s.commands.registerCommand("pr.openDescriptionToTheSide",async Se=>{const Be=e.getManagerForIssueModel(Se.pullRequestModel);if(!Be)return;const ze=Se.pullRequestModel,rt=Kd(Be,ze);Se.reveal(Se,{select:!0,focus:!0}),rr.createOrShow(n,i.extensionUri,Be,rt,!0),n.sendTelemetryEvent("pr.openDescriptionToTheSide")})),i.subscriptions.push(s.commands.registerCommand("pr.showDiffSinceLastReview",async Se=>{Se.pullRequestModel.showChangesSinceReview=!0})),i.subscriptions.push(s.commands.registerCommand("pr.showDiffAll",async Se=>{Se.pullRequestModel.showChangesSinceReview=!1})),i.subscriptions.push(s.commands.registerCommand("pr.signin",async()=>{await e.authenticate()})),i.subscriptions.push(s.commands.registerCommand("pr.signinNoEnterprise",async()=>{await e.authenticate(!1)})),i.subscriptions.push(s.commands.registerCommand("pr.signinenterprise",async()=>{await e.authenticate(!0)})),i.subscriptions.push(s.commands.registerCommand("pr.deleteLocalBranchesNRemotes",async()=>{for(const Se of e.folderManagers)await Se.deleteLocalBranchesNRemotes()})),i.subscriptions.push(s.commands.registerCommand("pr.signinAndRefreshList",async()=>{await e.authenticate()&&s.commands.executeCommand("pr.refreshList")})),i.subscriptions.push(s.commands.registerCommand("pr.configureRemotes",async()=>s.commands.executeCommand("workbench.action.openSettings",`@ext:${jn} remotes`))),i.subscriptions.push(s.commands.registerCommand("pr.startReview",async Se=>{n.sendTelemetryEvent("pr.startReview");const Be=Wt(Se.thread);Be&&Be.startReview(Se.thread,Se.text)})),i.subscriptions.push(s.commands.registerCommand("pr.openReview",async Se=>{n.sendTelemetryEvent("pr.openReview");const Be=Wt(Se);Be&&await Be.openReview(Se)}));function Ge(Se){let Be,ze="";return Se instanceof Kn?Be=Se.parent:Lt.is(Se)||ef.is(Se==null?void 0:Se.thread)?Be=Se.thread:Be=Se,{thread:Be,text:ze}}const je=async(Se,Be,ze)=>{if(Be?n.sendTelemetryEvent("pr.resolveReviewThread"):n.sendTelemetryEvent("pr.unresolveReviewThread"),!Se){const ai=Gn();if(!ai){s.window.showErrorMessage(s.l10n.t("No active comment thread found"));return}Se=ai.commentController.activeCommentThread}const{thread:rt,text:pt}=Ge(Se),Ct=Wt(rt);Ct&&(Be?await Ct.resolveReviewThread(rt,pt):(await Ct.unresolveReviewThread(rt,pt),ze&&rt.reveal(void 0,{focus:s.CommentThreadFocus.Reply})))};i.subscriptions.push(s.commands.registerCommand("pr.resolveReviewThread",async Se=>je(Se,!0))),i.subscriptions.push(s.commands.registerCommand("pr.unresolveReviewThread",Se=>je(Se,!1,!1))),i.subscriptions.push(s.commands.registerCommand("pr.unresolveReviewThreadFromView",Se=>je(Se,!1,!0)));const nt=Se=>{const{path:Be,rootPath:ze}=ta(Se.query),rt=s.workspace.workspaceFolders[0];return s.Uri.joinPath(s.Uri.file(ze),Be).with({scheme:rt.uri.scheme,authority:rt.uri.authority})};i.subscriptions.push(s.commands.registerCommand("pr.diffOutdatedCommentWithHead",async Se=>{n.sendTelemetryEvent("pr.diffOutdatedCommentWithHead");const Be={};Be.selection=Se.range;const ze=W.basename(Se.uri.fsPath),{commit:rt}=ta(Se.uri.query);s.commands.executeCommand("vscode.diff",Se.uri,nt(Se.uri),`${ze} from ${(rt||"").substr(0,8)} diffed with HEAD`,Be)})),i.subscriptions.push(s.commands.registerCommand("pr.createComment",async Se=>{n.sendTelemetryEvent("pr.createComment");const Be=Wt(Se.thread);Be&&Be.createOrReplyComment(Se.thread,Se.text,!1)})),i.subscriptions.push(s.commands.registerCommand("pr.createSingleComment",async Se=>{n.sendTelemetryEvent("pr.createSingleComment");const Be=Wt(Se.thread);Be&&Be.createOrReplyComment(Se.thread,Se.text,!0)})),i.subscriptions.push(s.commands.registerCommand("pr.makeSuggestion",async Se=>{var Be,ze;let rt;if(Se===void 0?rt=(Be=Gn())==null?void 0:Be.commentController.activeCommentThread:rt=Se instanceof Kn?Se.parent:Se==null?void 0:Se.thread,!(rt!=null&&rt.range))return;const pt=rt,Ct=((ze=s.window.activeTextEditor)==null?void 0:ze.document.uri.scheme)===Bt.Comment?s.window.activeTextEditor:s.window.visibleTextEditors.find(bn=>bn.document.uri.scheme===Bt.Comment&&bn.document.uri.query==="");if(!Ct){y.error("No comment editor visible for making a suggestion.",S),s.window.showErrorMessage(s.l10n.t("No available comment editor to make a suggestion in."));return}const ai=s.window.visibleTextEditors.find(bn=>bn.document.uri.toString()===pt.uri.toString()),Bi=ai==null?void 0:ai.document.getText(new s.Range(pt.range.start.line,0,pt.range.end.line,ai.document.lineAt(pt.range.end.line).text.length)),$i=Ct.document.lineAt(Ct.selection.end.line).range.end;return Ct.edit(bn=>{bn.insert($i,`
\`\`\`suggestion
${Bi}
\`\`\``)})})),i.subscriptions.push(s.commands.registerCommand("pr.editComment",async Se=>{n.sendTelemetryEvent("pr.editComment"),Se.startEdit()})),i.subscriptions.push(s.commands.registerCommand("pr.editQuery",Se=>{if(n.sendTelemetryEvent("pr.editQuery"),Se.label!==void 0)return xi(bt,Se.label)})),i.subscriptions.push(s.commands.registerCommand("pr.cancelEditComment",async Se=>{n.sendTelemetryEvent("pr.cancelEditComment"),Se.cancelEdit()})),i.subscriptions.push(s.commands.registerCommand("pr.saveComment",async Se=>{n.sendTelemetryEvent("pr.saveComment");const Be=Wt(Se.parent);Be&&await Be.editComment(Se.parent,Se)})),i.subscriptions.push(s.commands.registerCommand("pr.deleteComment",async Se=>{n.sendTelemetryEvent("pr.deleteComment");const Be=s.l10n.t("Delete");if(await s.window.showWarningMessage(s.l10n.t("Are you sure you want to delete this comment?"),{modal:!0},Be)===Be){const rt=Wt(Se.parent);rt&&await rt.deleteComment(Se.parent,Se)}})),i.subscriptions.push(s.commands.registerCommand("review.openFile",Se=>{var Be;const ze=Se instanceof wo?Se.openFileCommand():qd(Se);s.commands.executeCommand(ze.command,...(Be=ze.arguments)!=null?Be:[])})),i.subscriptions.push(s.commands.registerCommand("review.openLocalFile",Se=>{var Be,ze;const rt=Se!=null?Se:(Be=s.window.activeTextEditor)==null?void 0:Be.document.uri;if(!rt)return;const pt=nt(rt),Ct=s.window.visibleTextEditors.find(Bi=>Bi.document.uri.toString()===rt.toString()),ai=qd(pt,Ct?{selection:Ct.selection}:void 0);s.commands.executeCommand(ai.command,...(ze=ai.arguments)!=null?ze:[])})),i.subscriptions.push(s.commands.registerCommand("review.createSuggestionsFromChanges",async(Se,...Be)=>{let ze;const rt=Se;if(rt.resourceStates?ze=rt.resourceStates.map(ai=>ai.resourceUri):(ze=[Se.resourceUri],Be&&ze.push(...Be.map(Bi=>Bi.resourceUri))),ze.length===0)return;const pt=e.getManagerForFile(ze[0]);if(!pt||!pt.activePullRequest)return;const Ct=ia.getReviewManagerForFolderManager(t.reviewManagers,pt);return Ct==null?void 0:Ct.createSuggestionsFromChanges(ze)})),i.subscriptions.push(s.commands.registerDiffInformationCommand("review.createSuggestionFromChange",async Se=>{const Be=s.window.tabGroups.activeTabGroup.activeTab,ze=Be==null?void 0:Be.input;if(!(ze instanceof s.TabInputTextDiff))return s.window.showErrorMessage(s.l10n.t("Current editor isn't a diff editor."));if(ze.original.scheme!==Bt.Git)return s.window.showErrorMessage(s.l10n.t("Converting changes to suggestions can only be done from a git diff, not a pull request diff"),{modal:!0});const rt=s.window.visibleTextEditors.find($i=>$i.document.uri.toString()===ze.modified.toString());if(!rt)return s.window.showErrorMessage(s.l10n.t("Unexpectedly unable to find the current modified editor."));const pt=e.getManagerForFile(ze.modified);if(!pt||!pt.activePullRequest)return;const Ct=rt.selection,ai=Se.filter($i=>!!Ct.intersection(new s.Selection($i.modifiedStartLineNumber-1,0,$i.modifiedEndLineNumber-1,100)));if(ai.length===0)return s.window.showErrorMessage(s.l10n.t("No modified lines selected."));const Bi=ia.getReviewManagerForFolderManager(t.reviewManagers,pt);return Bi==null?void 0:Bi.createSuggestionFromChange(rt.document,ai)})),i.subscriptions.push(s.commands.registerCommand("pr.refreshChanges",Se=>{t.reviewManagers.forEach(Be=>{s.window.withProgress({location:{viewId:"prStatus:github"}},async()=>{await Promise.all([Be.repository.pull(!1),Be.updateComments()])})})})),i.subscriptions.push(s.commands.registerCommand("pr.setFileListLayoutAsTree",Se=>{s.workspace.getConfiguration(bt).update(mt,"tree",!0)})),i.subscriptions.push(s.commands.registerCommand("pr.setFileListLayoutAsFlat",Se=>{s.workspace.getConfiguration(bt).update(mt,"flat",!0)})),i.subscriptions.push(s.commands.registerCommand("pr.toggleHideViewedFiles",Se=>{const Be=s.workspace.getConfiguration(bt),ze=Be.get(ni,!1);Be.update(ni,!ze,s.ConfigurationTarget.Global)})),i.subscriptions.push(s.commands.registerCommand("pr.refreshPullRequest",Se=>{var Be;const ze=e.getManagerForIssueModel(Se.pullRequestModel);ze&&Se.pullRequestModel.equals(ze==null?void 0:ze.activePullRequest)&&((Be=ia.getReviewManagerForFolderManager(t.reviewManagers,ze))==null||Be.updateComments()),rr.refresh()}));const Nt=(Se,Be)=>{var ze;if(Be.scheme===Bt.Pr){const rt=yn(Be);if(rt)for(const pt of(ze=Se==null?void 0:Se.gitHubRepositories)!=null?ze:[]){const Ct=Number(rt.prNumber);return pt.getExistingPullRequestModel(Ct)}}else return Se==null?void 0:Se.activePullRequest};i.subscriptions.push(s.commands.registerCommand("pr.markFileAsViewed",async Se=>{var Be;try{if(Se===void 0&&(Se=(Be=s.window.activeTextEditor)==null?void 0:Be.document.uri),Se instanceof bo)await Se.markFileAsViewed(!1);else if(Se){const ze=s.window.tabGroups.activeTabGroup.activeTab;if(ze){let Ct;ze.input instanceof s.TabInputTextDiff?Ct=ze.input.modified:ze.input instanceof s.TabInputText&&(Ct=ze.input.uri),Ct&&Se.toString()===Ct.toString()&&s.window.tabGroups.close(ze)}const rt=e.getManagerForFile(Se),pt=Nt(rt,Se);await(pt==null?void 0:pt.markFiles([Se.path],!0,"viewed")),rt==null||rt.setFileViewedContext()}}catch(ze){s.window.showErrorMessage(`Marked file as viewed failed: ${ze}`)}})),i.subscriptions.push(s.commands.registerCommand("pr.unmarkFileAsViewed",async Se=>{var Be;try{if(Se===void 0&&(Se=(Be=s.window.activeTextEditor)==null?void 0:Be.document.uri),Se instanceof bo)Se.unmarkFileAsViewed(!1);else if(Se){const ze=e.getManagerForFile(Se),rt=Nt(ze,Se);await(rt==null?void 0:rt.markFiles([Se.path],!0,"unviewed")),ze==null||ze.setFileViewedContext()}}catch(ze){s.window.showErrorMessage(`Marked file as not viewed failed: ${ze}`)}})),i.subscriptions.push(s.commands.registerCommand("pr.resetViewedFiles",async()=>{try{return e.folderManagers.map(async Se=>{var Be;await((Be=Se.activePullRequest)==null?void 0:Be.unmarkAllFilesAsViewed()),Se.setFileViewedContext()})}catch(Se){s.window.showErrorMessage(`Marked file as not viewed failed: ${Se}`)}})),i.subscriptions.push(s.commands.registerCommand("pr.collapseAllComments",()=>s.commands.executeCommand("workbench.action.collapseAllComments"))),i.subscriptions.push(s.commands.registerCommand("pr.copyCommentLink",Se=>{if(Se instanceof Kn)return s.env.clipboard.writeText(Se.rawComment.htmlUrl)})),i.subscriptions.push(s.commands.registerCommand("pr.copyVscodeDevPrLink",async Se=>{var Be;let ze;if(Se)ze=await((Be=e.getManagerForRepository(Se.owner,Se.repo))==null?void 0:Be.resolvePullRequest(Se.owner,Se.repo,Se.number,!0));else{const rt=e.folderManagers.map(pt=>pt.activePullRequest).filter(pt=>!!pt);ze=await Ma(rt,pt=>({label:`${pt.number}: ${pt.title}`}),{placeHolder:s.l10n.t("Pull request to create a link for")})}if(ze)return s.env.clipboard.writeText(gd(ze))})),i.subscriptions.push(s.commands.registerCommand("pr.copyPrLink",async Se=>{var Be;let ze;if(Se&&(ze=await((Be=e.getManagerForRepository(Se.owner,Se.repo))==null?void 0:Be.resolvePullRequest(Se.owner,Se.repo,Se.number,!0))),ze)return s.env.clipboard.writeText(ze.html_url)}));function Et(Se,Be,ze){const rt=/^#?(\d*)$/,pt=Se.match(rt);if(pt&&pt.length===2&&!Number.isNaN(Number(pt[1]))){const Bi=Number(pt[1]);if(Bi>0)return{isValid:!0,prNumber:Bi}}const Ct=Se.match(ja),ai=Fs(Ct);return ai&&ai.issueNumber&&ai.issueNumber>0?ai.owner&&ai.name&&(ai.owner!==Be||ai.name!==ze)?{isValid:!1,errorMessage:s.l10n.t("Repository in URL does not match the selected repository")}:{isValid:!0,prNumber:ai.issueNumber}:{isValid:!1,errorMessage:s.l10n.t("Value must be a pull request number or GitHub URL")}}i.subscriptions.push(s.commands.registerCommand("pr.checkoutByNumber",async()=>{var Se,Be,ze;const rt=[];for(const $i of e.folderManagers){const bn=await $i.getActiveGitHubRemotes(await $i.getGitHubRemotes()),Rl=$i.gitHubRepositories.filter(hn=>bn.find(ya=>ya.remoteName===hn.remote.remoteName));rt.push(...Rl.map(hn=>({manager:$i,repo:hn})))}const pt=await Ma(rt,$i=>({label:`${$i.repo.remote.owner}/${$i.repo.remote.repositoryName}`}),{placeHolder:s.l10n.t("Which GitHub repository do you want to checkout the pull request from?")});if(!pt)return;const Ct=s.window.createQuickPick();Ct.placeholder=s.l10n.t("Enter a pull request number/URL or select from the list"),Ct.matchOnDescription=!0,Ct.matchOnDetail=!0,Ct.show(),Ct.busy=!0;let ai,Bi;try{const $i=await pt.repo.getPullRequestNumbers();if(!$i)return s.window.showErrorMessage(s.l10n.t("Failed to fetch pull requests"));const Rl=$i.sort((Mn,aa)=>aa.number-Mn.number).map(Mn=>({label:`#${Mn.number} ${Mn.title}`,description:`by @${Mn.author.login}`,prNumber:Mn.number}));Ct.items=Rl,Ct.busy=!1;const hn=await new Promise(Mn=>{ai=Ct.onDidAccept(()=>{let aa,bs;Ct.value&&(aa=Ct.value),Ct.selectedItems.length>0&&(bs=Ct.selectedItems[0]),Mn({selectedItem:bs,selectedString:aa})}),Bi=Ct.onDidHide(()=>Mn({selectedItem:void 0,selectedString:void 0}))});if(!hn.selectedItem&&!hn.selectedString)return;Ct.busy=!0;let ya;if(hn.selectedString){const Mn=Et(hn.selectedString,pt.repo.remote.owner,pt.repo.remote.repositoryName);if(!Mn.isValid)return s.window.showErrorMessage(Mn.errorMessage||s.l10n.t("Invalid pull request number or URL"));const aa=(Se=hn.selectedItem)==null?void 0:Se.prNumber;if(aa!==void 0){const bs=Mn.prNumber.toString(),No=aa.toString();No.length>bs.length&&No.startsWith(bs)&&(Mn.prNumber=aa)}ya=await pt.manager.fetchById(pt.repo,Mn.prNumber)}else(Be=hn.selectedItem)!=null&&Be.prNumber&&(ya=await pt.manager.fetchById(pt.repo,hn.selectedItem.prNumber));if(ya)return(ze=ia.getReviewManagerForFolderManager(t.reviewManagers,pt.manager))==null?void 0:ze.switch(ya)}catch($i){s.window.showErrorMessage(s.l10n.t("Failed to fetch pull requests: {0}",_e($i)))}finally{ai==null||ai.dispose(),Bi==null||Bi.dispose(),Ct.hide(),Ct.dispose()}}));function ki(){const Se=[];return e.folderManagers.forEach(Be=>{Se.push(...Be.gitHubRepositories)}),Ma(Se,Be=>({label:`${Be.remote.owner}/${Be.remote.repositoryName}`}),{placeHolder:s.l10n.t("Which GitHub repository do you want to open?")})}i.subscriptions.push(s.commands.registerCommand("pr.openPullsWebsite",async()=>{const Se=await ki();Se&&s.env.openExternal(wk(Se))})),i.subscriptions.push(s.commands.registerCommand("issues.openIssuesWebsite",async()=>{const Se=await ki();Se&&s.env.openExternal(kk(Se))})),i.subscriptions.push(s.commands.registerCommand("pr.applySuggestion",async Se=>{n.sendTelemetryEvent("pr.applySuggestion");const Be=Wt(Se.parent);Be instanceof iv&&Be.applySuggestion(Se)})),i.subscriptions.push(s.commands.registerCommand("githubpr.remoteAgent",async Se=>await r.commandImpl(Se))),i.subscriptions.push(s.commands.registerCommand("pr.applySuggestionWithCopilot",async Se=>{n.sendTelemetryEvent("pr.applySuggestionWithCopilot");const Be=Se.parent;Be.collapsibleState=s.CommentThreadCollapsibleState.Collapsed;const ze=Se.body instanceof s.MarkdownString?Se.body.value:Se.body;await s.commands.executeCommand("vscode.editorChat.start",{initialRange:Be.range,message:ze,autoSend:!0})})),i.subscriptions.push(s.commands.registerCommand("pr.addFileComment",async()=>s.commands.executeCommand("workbench.action.addComment",{fileComment:!0}))),i.subscriptions.push(s.commands.registerCommand("pr.toggleEditorCommentingOn",async()=>{ht.executeCommand("workbench.action.toggleCommenting")})),i.subscriptions.push(s.commands.registerCommand("pr.toggleEditorCommentingOff",async()=>{ht.executeCommand("workbench.action.toggleCommenting")})),i.subscriptions.push(s.commands.registerCommand("review.diffWithPrHead",async Se=>{const Be=Se.fileName;let ze=hs(Se.resourceUri,Se.pullRequest,Se.pullRequest.base.sha,Se.pullRequest.head.sha,Se.fileName,!0,Se.status),rt=hs(Se.resourceUri,Se.pullRequest,Se.pullRequest.base.sha,Se.pullRequest.head.sha,Se.fileName,!1,Se.status);return s.commands.executeCommand("vscode.diff",ze,rt,`${Be} (Pull Request Compare Base with Head)`)})),i.subscriptions.push(s.commands.registerCommand("review.diffLocalWithPrHead",async Se=>{const Be=Se.fileName;let ze=hs(Se.resourceUri,Se.pullRequest,Se.pullRequest.base.sha,Se.pullRequest.head.sha,Se.fileName,!1,Se.status);return s.commands.executeCommand("vscode.diff",ze,Se.resourceUri,`${Be} (Pull Request Compare Head with Local)`)}));async function Pi(Se,Be){const ze=s.window.tabGroups.activeTabGroup.activeTab,rt=ze==null?void 0:ze.input;if(!(rt instanceof s.TabInputTextDiff))return s.window.showErrorMessage(s.l10n.t("Current editor isn't a diff editor."));const pt=s.window.visibleTextEditors.find(hn=>hn.document.uri.toString()===rt.modified.toString());if(!pt)return s.window.showErrorMessage(s.l10n.t("Unexpectedly unable to find the current modified editor."));const Ct=pt.document.uri;if(rt.original.scheme!==Bt.Review&&rt.original.scheme!==Bt.Pr)return s.window.showErrorMessage(s.l10n.t("Current file isn't a pull request diff."));const ai=pt.selection.active,Bi=Be?Se:Se.reverse();for(const hn of Bi){const ya=hn.modifiedEndLineNumber>hn.modifiedStartLineNumber?hn.modifiedEndLineNumber:hn.modifiedStartLineNumber+1,Mn=new s.Range(hn.modifiedStartLineNumber?hn.modifiedStartLineNumber-1:hn.modifiedStartLineNumber,0,ya,0);if(Be&&ai.line+1<hn.modifiedStartLineNumber){pt.revealRange(Mn),pt.selection=new s.Selection(Mn.start,Mn.start);return}else if(!Be&&ai.line+1>hn.modifiedStartLineNumber){pt.revealRange(Mn),pt.selection=new s.Selection(Mn.start,Mn.start);return}}if(rt.original.scheme===Bt.Pr)return s.window.showInformationMessage(s.l10n.t("No more diffs in this file. Check out the pull request to use this command across files."));const $i=e.getManagerForFile(Ct);if(!$i)return s.window.showErrorMessage(s.l10n.t("Unable to find a repository for pull request."));const bn=ia.getReviewManagerForFolderManager(t.reviewManagers,$i);if(!bn)return s.window.showErrorMessage(s.l10n.t("Cannot find active pull request."));if(!bn.reviewModel.hasLocalFileChanges||bn.reviewModel.localFileChanges.length===0)return s.window.showWarningMessage(s.l10n.t("Pull request data is not yet complete, please try again in a moment."));for(let hn=0;hn<bn.reviewModel.localFileChanges.length;hn++){const ya=Be?hn:bn.reviewModel.localFileChanges.length-1-hn;if(bn.reviewModel.localFileChanges[ya].changeModel.filePath.toString()===Ct.toString()){const aa=Be?ya+1:ya-1;if(bn.reviewModel.localFileChanges.length>aa){if(await bn.reviewModel.localFileChanges[aa].openDiff($i),!Be){const bs=s.window.visibleTextEditors.find(No=>No.document.uri.toString()===bn.reviewModel.localFileChanges[aa].changeModel.filePath.toString());if(bs){const No=await bn.reviewModel.localFileChanges[aa].changeModel.diffHunks(),Co=No[No.length-1],Fb=Co.newLineNumber+Co.newLength,lF=Fb>Co.newLineNumber?Fb:Co.newLineNumber+1,lm=new s.Range(Co.newLineNumber?Co.newLineNumber-1:Co.newLineNumber,0,lF,0);bs.revealRange(lm),bs.selection=new s.Selection(lm.start,lm.start)}}return}}}const Rl=Be?s.l10n.t("Go to first diff"):s.l10n.t("Go to last diff");return s.window.showInformationMessage(s.l10n.t("There are no more diffs in this pull request."),Rl).then(hn=>{if(hn===Rl)return bn.reviewModel.localFileChanges[Be?0:bn.reviewModel.localFileChanges.length-1].openDiff($i)})}i.subscriptions.push(s.commands.registerDiffInformationCommand("pr.goToNextDiffInPr",async Se=>{Pi(Se,!0)})),i.subscriptions.push(s.commands.registerDiffInformationCommand("pr.goToPreviousDiffInPr",async Se=>{Pi(Se,!1)})),i.subscriptions.push(s.commands.registerCommand("pr.refreshComments",async()=>{for(const Se of e.folderManagers)for(const Be of Se.gitHubRepositories)for(const ze of Be.pullRequestModels)ze.isResolved()&&ze.reviewThreadsCacheReady&&ze.initializeReviewThreadCache()})),i.subscriptions.push(s.commands.registerCommand("pr.closeRelatedEditors",BE)),i.subscriptions.push(s.commands.registerCommand("review.copyPrLink",async()=>{const Se=e.folderManagers.map(ze=>ze.activePullRequest).filter(ze=>!!ze),Be=await Ma(Se,ze=>({label:`${ze.number}: ${ze.title}`}),{placeHolder:s.l10n.t("Pull request to create a link for")});if(Be)return s.env.clipboard.writeText(Be.html_url)})),i.subscriptions.push(s.commands.registerCommand("pr.refreshChatSessions",async()=>{r.refreshChatSessions()})),i.subscriptions.push(s.commands.registerCommand("pr.preferredCodingAgentGitHubRemote",async()=>{await r.promptAndUpdatePreferredGitHubRemote()})),i.subscriptions.push(s.commands.registerCommand("pr.resetCodingAgentPreferences",async()=>{await r.resetCodingAgentPreferences()}))}function HE(i,e){const t=i.rootUri.fsPath;for(const n of e.repositories)if(n.rootUri.toString()!==i.rootUri.toString()){for(const r of n.state.submodules)if(s.Uri.joinPath(n.rootUri,r.path).fsPath===t)return!0}return!1}let wu;const GE={};function VE(i){wu=i.globalState}const Kf=(i,e)=>{if(!wu)throw new Error("Persistent store not initialized.");return wu.get(i+":"+e,GE)},Qf=(i,e,t)=>{if(!wu)throw new Error("Persistent store not initialized.");return wu.update(i+":"+e,t)};var ul=ti(41566),jE=Object.defineProperty,zE=(i,e,t)=>e in i?jE(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t,Yf=(i,e,t)=>zE(i,typeof e!="symbol"?e+"":e,t);class WE extends f{constructor(e){super(),this.baseReporter=e,Yf(this,"sharedProperties",{}),e&&this._register(e)}sendTelemetryEvent(e,t,n){var r;(r=this.baseReporter)==null||r.sendTelemetryEvent(e,{...this.sharedProperties,...t},n)}sendTelemetryErrorEvent(e,t,n){var r;(r=this.baseReporter)==null||r.sendTelemetryErrorEvent(e,{...this.sharedProperties,...t})}setSharedProperty(e,t){this.sharedProperties[e]=t}postEvent(e,t){const n={};for(const[r,a]of t)n[r]=a;this.sendTelemetryEvent(e,n)}}function KE(){switch(s.env.uriScheme){case"vscode":return ul.Z7.Public;case"vscode-insiders":return ul.Z7.Insiders;case"vscode-exploration":return ul.Z7.Internal;case"code-oss":return ul.Z7.Team;default:return ul.Z7.Public}}class QE{constructor(){Yf(this,"initializePromise",Promise.resolve()),Yf(this,"initialFetch",Promise.resolve())}isFlightEnabled(e){return!1}isCachedFlightEnabled(e){return Promise.resolve(!1)}isFlightEnabledAsync(e){return Promise.resolve(!1)}getTreatmentVariable(e,t){}getTreatmentVariableAsync(e,t){return Promise.resolve(void 0)}}async function YE(i,e){const t=i.extension.id,n=i.extension.packageJSON.name,r=i.extension.packageJSON.version,a=KE();return n==="vscode-pull-request-github"?(0,ul.M$)(t,r,a,e,i.globalState):new QE}var ku=ti(65606);function Qd(){return typeof navigator=="object"&&"userAgent"in navigator?navigator.userAgent:typeof ku=="object"&&ku.version!==void 0?`Node.js/${ku.version.substr(1)} (${ku.platform}; ${ku.arch})`:"<environment undetectable>"}function Jf(i,e,t,n){if(typeof t!="function")throw new Error("method for before hook must be a function");return n||(n={}),Array.isArray(e)?e.reverse().reduce((r,a)=>Jf.bind(null,i,a,r,n),t)():Promise.resolve().then(()=>i.registry[e]?i.registry[e].reduce((r,a)=>a.hook.bind(null,r,n),t)():t(n))}function JE(i,e,t,n){const r=n;i.registry[t]||(i.registry[t]=[]),e==="before"&&(n=(a,o)=>Promise.resolve().then(r.bind(null,o)).then(a.bind(null,o))),e==="after"&&(n=(a,o)=>{let d;return Promise.resolve().then(a.bind(null,o)).then(S=>(d=S,r(d,o))).then(()=>d)}),e==="error"&&(n=(a,o)=>Promise.resolve().then(a.bind(null,o)).catch(d=>r(d,o))),i.registry[t].push({hook:n,orig:r})}function ZE(i,e,t){if(!i.registry[e])return;const n=i.registry[e].map(r=>r.orig).indexOf(t);n!==-1&&i.registry[e].splice(n,1)}const wv=Function.bind,kv=wv.bind(wv);function _v(i,e,t){const n=kv(ZE,null).apply(null,t?[e,t]:[e]);i.api={remove:n},i.remove=n,["before","error","after","wrap"].forEach(r=>{const a=t?[e,r,t]:[e,r];i[r]=i.api[r]=kv(JE,null).apply(null,a)})}function XE(){const i=Symbol("Singular"),e={registry:{}},t=Jf.bind(null,e,i);return _v(t,e,i),t}function eR(){const i={registry:{}},e=Jf.bind(null,i);return _v(e,i),e}const tR={Singular:XE,Collection:eR};var iR="0.0.0-development",nR=`octokit-endpoint.js/${iR} ${Qd()}`,rR={method:"GET",baseUrl:"https://api.github.com",headers:{accept:"application/vnd.github.v3+json","user-agent":nR},mediaType:{format:""}};function aR(i){return i?Object.keys(i).reduce((e,t)=>(e[t.toLowerCase()]=i[t],e),{}):{}}function sR(i){if(typeof i!="object"||i===null||Object.prototype.toString.call(i)!=="[object Object]")return!1;const e=Object.getPrototypeOf(i);if(e===null)return!0;const t=Object.prototype.hasOwnProperty.call(e,"constructor")&&e.constructor;return typeof t=="function"&&t instanceof t&&Function.prototype.call(t)===Function.prototype.call(i)}function Sv(i,e){const t=Object.assign({},i);return Object.keys(e).forEach(n=>{sR(e[n])?n in i?t[n]=Sv(i[n],e[n]):Object.assign(t,{[n]:e[n]}):Object.assign(t,{[n]:e[n]})}),t}function Ev(i){for(const e in i)i[e]===void 0&&delete i[e];return i}function Zf(i,e,t){var r;if(typeof e=="string"){let[a,o]=e.split(" ");t=Object.assign(o?{method:a,url:o}:{url:a},t)}else t=Object.assign({},e);t.headers=aR(t.headers),Ev(t),Ev(t.headers);const n=Sv(i||{},t);return t.url==="/graphql"&&(i&&((r=i.mediaType.previews)!=null&&r.length)&&(n.mediaType.previews=i.mediaType.previews.filter(a=>!n.mediaType.previews.includes(a)).concat(n.mediaType.previews)),n.mediaType.previews=(n.mediaType.previews||[]).map(a=>a.replace(/-preview/,""))),n}function oR(i,e){const t=/\?/.test(i)?"&":"?",n=Object.keys(e);return n.length===0?i:i+t+n.map(r=>r==="q"?"q="+e.q.split("+").map(encodeURIComponent).join("+"):`${r}=${encodeURIComponent(e[r])}`).join("&")}var lR=/\{[^{}}]+\}/g;function uR(i){return i.replace(/(?:^\W+)|(?:(?<!\W)\W+$)/g,"").split(/,/)}function dR(i){const e=i.match(lR);return e?e.map(uR).reduce((t,n)=>t.concat(n),[]):[]}function Rv(i,e){const t={__proto__:null};for(const n of Object.keys(i))e.indexOf(n)===-1&&(t[n]=i[n]);return t}function Nv(i){return i.split(/(%[0-9A-Fa-f]{2})/g).map(function(e){return/%[0-9A-Fa-f]/.test(e)||(e=encodeURI(e).replace(/%5B/g,"[").replace(/%5D/g,"]")),e}).join("")}function dl(i){return encodeURIComponent(i).replace(/[!'()*]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function _u(i,e,t){return e=i==="+"||i==="#"?Nv(e):dl(e),t?dl(t)+"="+e:e}function cl(i){return i!=null}function Xf(i){return i===";"||i==="&"||i==="?"}function cR(i,e,t,n){var r=i[t],a=[];if(cl(r)&&r!=="")if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")r=r.toString(),n&&n!=="*"&&(r=r.substring(0,parseInt(n,10))),a.push(_u(e,r,Xf(e)?t:""));else if(n==="*")Array.isArray(r)?r.filter(cl).forEach(function(o){a.push(_u(e,o,Xf(e)?t:""))}):Object.keys(r).forEach(function(o){cl(r[o])&&a.push(_u(e,r[o],o))});else{const o=[];Array.isArray(r)?r.filter(cl).forEach(function(d){o.push(_u(e,d))}):Object.keys(r).forEach(function(d){cl(r[d])&&(o.push(dl(d)),o.push(_u(e,r[d].toString())))}),Xf(e)?a.push(dl(t)+"="+o.join(",")):o.length!==0&&a.push(o.join(","))}else e===";"?cl(r)&&a.push(dl(t)):r===""&&(e==="&"||e==="?")?a.push(dl(t)+"="):r===""&&a.push("");return a}function fR(i){return{expand:hR.bind(null,i)}}function hR(i,e){var t=["+","#",".","/",";","?","&"];return i=i.replace(/\{([^\{\}]+)\}|([^\{\}]+)/g,function(n,r,a){if(r){let d="";const S=[];if(t.indexOf(r.charAt(0))!==-1&&(d=r.charAt(0),r=r.substr(1)),r.split(/,/g).forEach(function(C){var $=/([^:\*]*)(?::(\d+)|(\*))?/.exec(C);S.push(cR(e,d,$[1],$[2]||$[3]))}),d&&d!=="+"){var o=",";return d==="?"?o="&":d!=="#"&&(o=d),(S.length!==0?d:"")+S.join(o)}else return S.join(",")}else return Nv(a)}),i==="/"?i:i.replace(/\/$/,"")}function Cv(i){var $;let e=i.method.toUpperCase(),t=(i.url||"/").replace(/:([a-z]\w+)/g,"{$1}"),n=Object.assign({},i.headers),r,a=Rv(i,["method","baseUrl","url","headers","request","mediaType"]);const o=dR(t);t=fR(t).expand(a),/^http/.test(t)||(t=i.baseUrl+t);const d=Object.keys(i).filter(Y=>o.includes(Y)).concat("baseUrl"),S=Rv(a,d);if(!/application\/octet-stream/i.test(n.accept)&&(i.mediaType.format&&(n.accept=n.accept.split(/,/).map(Y=>Y.replace(/application\/vnd(\.\w+)(\.v3)?(\.\w+)?(\+json)?$/,`application/vnd$1$2.${i.mediaType.format}`)).join(",")),t.endsWith("/graphql")&&($=i.mediaType.previews)!=null&&$.length)){const Y=n.accept.match(/(?<![\w-])[\w-]+(?=-preview)/g)||[];n.accept=Y.concat(i.mediaType.previews).map(ne=>{const le=i.mediaType.format?`.${i.mediaType.format}`:"+json";return`application/vnd.github.${ne}-preview${le}`}).join(",")}return["GET","HEAD"].includes(e)?t=oR(t,S):"data"in S?r=S.data:Object.keys(S).length&&(r=S),!n["content-type"]&&typeof r!="undefined"&&(n["content-type"]="application/json; charset=utf-8"),["PATCH","PUT"].includes(e)&&typeof r=="undefined"&&(r=""),Object.assign({method:e,url:t,headers:n},typeof r!="undefined"?{body:r}:null,i.request?{request:i.request}:null)}function mR(i,e,t){return Cv(Zf(i,e,t))}function Tv(i,e){const t=Zf(i,e),n=mR.bind(null,t);return Object.assign(n,{DEFAULTS:t,defaults:Tv.bind(null,t),merge:Zf.bind(null,t),parse:Cv})}var pR=Tv(null,rR),gR=ti(6773);class Yd extends Error{constructor(t,n,r){super(t);At(this,"name");At(this,"status");At(this,"request");At(this,"response");this.name="HttpError",this.status=Number.parseInt(n),Number.isNaN(this.status)&&(this.status=0),"response"in r&&(this.response=r.response);const a=Object.assign({},r.request);r.request.headers.authorization&&(a.headers=Object.assign({},r.request.headers,{authorization:r.request.headers.authorization.replace(/(?<! ) .*$/," [REDACTED]")})),a.url=a.url.replace(/\bclient_secret=\w+/g,"client_secret=[REDACTED]").replace(/\baccess_token=\w+/g,"access_token=[REDACTED]"),this.request=a}}var vR="10.0.3",yR={headers:{"user-agent":`octokit-request.js/${vR} ${Qd()}`}};function bR(i){if(typeof i!="object"||i===null||Object.prototype.toString.call(i)!=="[object Object]")return!1;const e=Object.getPrototypeOf(i);if(e===null)return!0;const t=Object.prototype.hasOwnProperty.call(e,"constructor")&&e.constructor;return typeof t=="function"&&t instanceof t&&Function.prototype.call(t)===Function.prototype.call(i)}async function Av(i){var Y,ne,le,he,ke;const e=((Y=i.request)==null?void 0:Y.fetch)||globalThis.fetch;if(!e)throw new Error("fetch is not set. Please pass a fetch implementation as new Octokit({ request: { fetch }}). Learn more at https://github.com/octokit/octokit.js/#fetch-missing");const t=((ne=i.request)==null?void 0:ne.log)||console,n=((le=i.request)==null?void 0:le.parseSuccessResponseBody)!==!1,r=bR(i.body)||Array.isArray(i.body)?JSON.stringify(i.body):i.body,a=Object.fromEntries(Object.entries(i.headers).map(([pe,Ne])=>[pe,String(Ne)]));let o;try{o=await e(i.url,{method:i.method,body:r,redirect:(he=i.request)==null?void 0:he.redirect,headers:a,signal:(ke=i.request)==null?void 0:ke.signal,...i.body&&{duplex:"half"}})}catch(pe){let Ne="Unknown Error";if(pe instanceof Error){if(pe.name==="AbortError")throw pe.status=500,pe;Ne=pe.message,pe.name==="TypeError"&&"cause"in pe&&(pe.cause instanceof Error?Ne=pe.cause.message:typeof pe.cause=="string"&&(Ne=pe.cause))}const Ce=new Yd(Ne,500,{request:i});throw Ce.cause=pe,Ce}const d=o.status,S=o.url,C={};for(const[pe,Ne]of o.headers)C[pe]=Ne;const $={url:S,status:d,headers:C,data:""};if("deprecation"in C){const pe=C.link&&C.link.match(/<([^<>]+)>; rel="deprecation"/),Ne=pe&&pe.pop();t.warn(`[@octokit/request] "${i.method} ${i.url}" is deprecated. It is scheduled to be removed on ${C.sunset}${Ne?`. See ${Ne}`:""}`)}if(d===204||d===205)return $;if(i.method==="HEAD"){if(d<400)return $;throw new Yd(o.statusText,d,{response:$,request:i})}if(d===304)throw $.data=await eh(o),new Yd("Not modified",d,{response:$,request:i});if(d>=400)throw $.data=await eh(o),new Yd(kR($.data),d,{response:$,request:i});return $.data=n?await eh(o):o.body,$}async function eh(i){var n;const e=i.headers.get("content-type");if(!e)return i.text().catch(()=>"");const t=(0,gR.xL)(e);if(wR(t)){let r="";try{return r=await i.text(),JSON.parse(r)}catch{return r}}else return t.type.startsWith("text/")||((n=t.parameters.charset)==null?void 0:n.toLowerCase())==="utf-8"?i.text().catch(()=>""):i.arrayBuffer().catch(()=>new ArrayBuffer(0))}function wR(i){return i.type==="application/json"||i.type==="application/scim+json"}function kR(i){if(typeof i=="string")return i;if(i instanceof ArrayBuffer)return"Unknown error";if("message"in i){const e="documentation_url"in i?` - ${i.documentation_url}`:"";return Array.isArray(i.errors)?`${i.message}: ${i.errors.map(t=>JSON.stringify(t)).join(", ")}${e}`:`${i.message}${e}`}return`Unknown error: ${JSON.stringify(i)}`}function th(i,e){const t=i.defaults(e);return Object.assign(function(r,a){const o=t.merge(r,a);if(!o.request||!o.request.hook)return Av(t.parse(o));const d=(S,C)=>Av(t.parse(t.merge(S,C)));return Object.assign(d,{endpoint:t,defaults:th.bind(null,t)}),o.request.hook(d,o)},{endpoint:t,defaults:th.bind(null,t)})}var ih=th(pR,yR),_R="0.0.0-development";function SR(i){return`Request failed due to following response errors:
`+i.errors.map(e=>` - ${e.message}`).join(`
`)}var ER=class extends Error{constructor(e,t,n){super(SR(n));At(this,"name","GraphqlResponseError");At(this,"errors");At(this,"data");this.request=e,this.headers=t,this.response=n,this.errors=n.errors,this.data=n.data,Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}},RR=["method","baseUrl","url","headers","request","query","mediaType","operationName"],NR=["query","method","url"],Mv=/\/api\/v3\/?$/;function CR(i,e,t){if(t){if(typeof e=="string"&&"query"in t)return Promise.reject(new Error('[@octokit/graphql] "query" cannot be used as variable name'));for(const o in t)if(NR.includes(o))return Promise.reject(new Error(`[@octokit/graphql] "${o}" cannot be used as variable name`))}const n=typeof e=="string"?Object.assign({query:e},t):e,r=Object.keys(n).reduce((o,d)=>RR.includes(d)?(o[d]=n[d],o):(o.variables||(o.variables={}),o.variables[d]=n[d],o),{}),a=n.baseUrl||i.endpoint.DEFAULTS.baseUrl;return Mv.test(a)&&(r.url=a.replace(Mv,"/api/graphql")),i(r).then(o=>{if(o.data.errors){const d={};for(const S of Object.keys(o.headers))d[S]=o.headers[S];throw new ER(r,d,o.data)}return o.data.data})}function nh(i,e){const t=i.defaults(e);return Object.assign((r,a)=>CR(t,r,a),{defaults:nh.bind(null,t),endpoint:t.endpoint})}var vD=nh(ih,{headers:{"user-agent":`octokit-graphql.js/${_R} ${Qd()}`},method:"POST",url:"/graphql"});function TR(i){return nh(i,{method:"POST",url:"/graphql"})}var rh="(?:[a-zA-Z0-9_-]+)",Pv="\\.",Fv=new RegExp(`^${rh}${Pv}${rh}${Pv}${rh}$`),AR=Fv.test.bind(Fv);async function MR(i){const e=AR(i),t=i.startsWith("v1.")||i.startsWith("ghs_"),n=i.startsWith("ghu_");return{type:"token",token:i,tokenType:e?"app":t?"installation":n?"user-to-server":"oauth"}}function PR(i){return i.split(/\./).length===3?`bearer ${i}`:`token ${i}`}async function FR(i,e,t,n){const r=e.endpoint.merge(t,n);return r.headers.authorization=PR(i),e(r)}var DR=function(e){if(!e)throw new Error("[@octokit/auth-token] No token passed to createTokenAuth");if(typeof e!="string")throw new Error("[@octokit/auth-token] Token passed to createTokenAuth is not a string");return e=e.replace(/^(token|bearer) +/i,""),Object.assign(MR.bind(null,e),{hook:FR.bind(null,e)})};const Dv="7.0.3",Iv=()=>{},IR=console.warn.bind(console),xR=console.error.bind(console);function OR(i={}){return typeof i.debug!="function"&&(i.debug=Iv),typeof i.info!="function"&&(i.info=Iv),typeof i.warn!="function"&&(i.warn=IR),typeof i.error!="function"&&(i.error=xR),i}const xv=`octokit-core.js/${Dv} ${Qd()}`;class ah{constructor(e={}){At(this,"request");At(this,"graphql");At(this,"log");At(this,"hook");At(this,"auth");const t=new tR.Collection,n={baseUrl:ih.endpoint.DEFAULTS.baseUrl,headers:{},request:Object.assign({},e.request,{hook:t.bind(null,"request")}),mediaType:{previews:[],format:""}};if(n.headers["user-agent"]=e.userAgent?`${e.userAgent} ${xv}`:xv,e.baseUrl&&(n.baseUrl=e.baseUrl),e.previews&&(n.mediaType.previews=e.previews),e.timeZone&&(n.headers["time-zone"]=e.timeZone),this.request=ih.defaults(n),this.graphql=TR(this.request).defaults(n),this.log=OR(e.log),this.hook=t,e.authStrategy){const{authStrategy:a,...o}=e,d=a(Object.assign({request:this.request,log:this.log,octokit:this,octokitOptions:o},e.auth));t.wrap("request",d.hook),this.auth=d}else if(!e.auth)this.auth=async()=>({type:"unauthenticated"});else{const a=DR(e.auth);t.wrap("request",a.hook),this.auth=a}const r=this.constructor;for(let a=0;a<r.plugins.length;++a)Object.assign(this,r.plugins[a](this,e))}static defaults(e){return class extends this{constructor(...n){const r=n[0]||{};if(typeof e=="function"){super(e(r));return}super(Object.assign({},e,r,r.userAgent&&e.userAgent?{userAgent:`${r.userAgent} ${e.userAgent}`}:null))}}}static plugin(...e){var r;const t=this.plugins;return r=class extends this{},At(r,"plugins",t.concat(e.filter(a=>!t.includes(a)))),r}}At(ah,"VERSION",Dv),At(ah,"plugins",[]);const LR="6.0.0";function Ov(i){i.hook.wrap("request",(e,t)=>{i.log.debug("request",t);const n=Date.now(),r=i.request.endpoint.parse(t),a=r.url.replace(t.baseUrl,"");return e(t).then(o=>{const d=o.headers["x-github-request-id"];return i.log.info(`${r.method} ${a} - ${o.status} with id ${d} in ${Date.now()-n}ms`),o}).catch(o=>{var S;const d=((S=o.response)==null?void 0:S.headers["x-github-request-id"])||"UNKNOWN";throw i.log.error(`${r.method} ${a} - ${o.status} with id ${d} in ${Date.now()-n}ms`),o})})}Ov.VERSION=LR;var UR="0.0.0-development";function BR(i){if(!i.data)return{...i,data:[]};if(!(("total_count"in i.data||"total_commits"in i.data)&&!("url"in i.data)))return i;const t=i.data.incomplete_results,n=i.data.repository_selection,r=i.data.total_count,a=i.data.total_commits;delete i.data.incomplete_results,delete i.data.repository_selection,delete i.data.total_count,delete i.data.total_commits;const o=Object.keys(i.data)[0],d=i.data[o];return i.data=d,typeof t!="undefined"&&(i.data.incomplete_results=t),typeof n!="undefined"&&(i.data.repository_selection=n),i.data.total_count=r,i.data.total_commits=a,i}function sh(i,e,t){const n=typeof e=="function"?e.endpoint(t):i.request.endpoint(e,t),r=typeof e=="function"?e:i.request,a=n.method,o=n.headers;let d=n.url;return{[Symbol.asyncIterator]:()=>({async next(){if(!d)return{done:!0};try{const S=await r({method:a,url:d,headers:o}),C=BR(S);if(d=((C.headers.link||"").match(/<([^<>]+)>;\s*rel="next"/)||[])[1],!d&&"total_commits"in C.data){const $=new URL(C.url),Y=$.searchParams,ne=parseInt(Y.get("page")||"1",10),le=parseInt(Y.get("per_page")||"250",10);ne*le<C.data.total_commits&&(Y.set("page",String(ne+1)),d=$.toString())}return{value:C}}catch(S){if(S.status!==409)throw S;return d="",{value:{status:200,headers:{},data:[]}}}}})}}function Lv(i,e,t,n){return typeof t=="function"&&(n=t,t=void 0),Uv(i,[],sh(i,e,t)[Symbol.asyncIterator](),n)}function Uv(i,e,t,n){return t.next().then(r=>{if(r.done)return e;let a=!1;function o(){a=!0}return e=e.concat(n?n(r.value,o):r.value.data),a?e:Uv(i,e,t,n)})}var yD=Object.assign(Lv,{iterator:sh}),qR=null;function bD(i){return typeof i=="string"?qR.includes(i):!1}function Bv(i){return{paginate:Object.assign(Lv.bind(null,i),{iterator:sh.bind(null,i)})}}Bv.VERSION=UR;const qv="16.0.0";var $R={actions:{addCustomLabelsToSelfHostedRunnerForOrg:["POST /orgs/{org}/actions/runners/{runner_id}/labels"],addCustomLabelsToSelfHostedRunnerForRepo:["POST /repos/{owner}/{repo}/actions/runners/{runner_id}/labels"],addRepoAccessToSelfHostedRunnerGroupInOrg:["PUT /orgs/{org}/actions/runner-groups/{runner_group_id}/repositories/{repository_id}"],addSelectedRepoToOrgSecret:["PUT /orgs/{org}/actions/secrets/{secret_name}/repositories/{repository_id}"],addSelectedRepoToOrgVariable:["PUT /orgs/{org}/actions/variables/{name}/repositories/{repository_id}"],approveWorkflowRun:["POST /repos/{owner}/{repo}/actions/runs/{run_id}/approve"],cancelWorkflowRun:["POST /repos/{owner}/{repo}/actions/runs/{run_id}/cancel"],createEnvironmentVariable:["POST /repos/{owner}/{repo}/environments/{environment_name}/variables"],createHostedRunnerForOrg:["POST /orgs/{org}/actions/hosted-runners"],createOrUpdateEnvironmentSecret:["PUT /repos/{owner}/{repo}/environments/{environment_name}/secrets/{secret_name}"],createOrUpdateOrgSecret:["PUT /orgs/{org}/actions/secrets/{secret_name}"],createOrUpdateRepoSecret:["PUT /repos/{owner}/{repo}/actions/secrets/{secret_name}"],createOrgVariable:["POST /orgs/{org}/actions/variables"],createRegistrationTokenForOrg:["POST /orgs/{org}/actions/runners/registration-token"],createRegistrationTokenForRepo:["POST /repos/{owner}/{repo}/actions/runners/registration-token"],createRemoveTokenForOrg:["POST /orgs/{org}/actions/runners/remove-token"],createRemoveTokenForRepo:["POST /repos/{owner}/{repo}/actions/runners/remove-token"],createRepoVariable:["POST /repos/{owner}/{repo}/actions/variables"],createWorkflowDispatch:["POST /repos/{owner}/{repo}/actions/workflows/{workflow_id}/dispatches"],deleteActionsCacheById:["DELETE /repos/{owner}/{repo}/actions/caches/{cache_id}"],deleteActionsCacheByKey:["DELETE /repos/{owner}/{repo}/actions/caches{?key,ref}"],deleteArtifact:["DELETE /repos/{owner}/{repo}/actions/artifacts/{artifact_id}"],deleteEnvironmentSecret:["DELETE /repos/{owner}/{repo}/environments/{environment_name}/secrets/{secret_name}"],deleteEnvironmentVariable:["DELETE /repos/{owner}/{repo}/environments/{environment_name}/variables/{name}"],deleteHostedRunnerForOrg:["DELETE /orgs/{org}/actions/hosted-runners/{hosted_runner_id}"],deleteOrgSecret:["DELETE /orgs/{org}/actions/secrets/{secret_name}"],deleteOrgVariable:["DELETE /orgs/{org}/actions/variables/{name}"],deleteRepoSecret:["DELETE /repos/{owner}/{repo}/actions/secrets/{secret_name}"],deleteRepoVariable:["DELETE /repos/{owner}/{repo}/actions/variables/{name}"],deleteSelfHostedRunnerFromOrg:["DELETE /orgs/{org}/actions/runners/{runner_id}"],deleteSelfHostedRunnerFromRepo:["DELETE /repos/{owner}/{repo}/actions/runners/{runner_id}"],deleteWorkflowRun:["DELETE /repos/{owner}/{repo}/actions/runs/{run_id}"],deleteWorkflowRunLogs:["DELETE /repos/{owner}/{repo}/actions/runs/{run_id}/logs"],disableSelectedRepositoryGithubActionsOrganization:["DELETE /orgs/{org}/actions/permissions/repositories/{repository_id}"],disableWorkflow:["PUT /repos/{owner}/{repo}/actions/workflows/{workflow_id}/disable"],downloadArtifact:["GET /repos/{owner}/{repo}/actions/artifacts/{artifact_id}/{archive_format}"],downloadJobLogsForWorkflowRun:["GET /repos/{owner}/{repo}/actions/jobs/{job_id}/logs"],downloadWorkflowRunAttemptLogs:["GET /repos/{owner}/{repo}/actions/runs/{run_id}/attempts/{attempt_number}/logs"],downloadWorkflowRunLogs:["GET /repos/{owner}/{repo}/actions/runs/{run_id}/logs"],enableSelectedRepositoryGithubActionsOrganization:["PUT /orgs/{org}/actions/permissions/repositories/{repository_id}"],enableWorkflow:["PUT /repos/{owner}/{repo}/actions/workflows/{workflow_id}/enable"],forceCancelWorkflowRun:["POST /repos/{owner}/{repo}/actions/runs/{run_id}/force-cancel"],generateRunnerJitconfigForOrg:["POST /orgs/{org}/actions/runners/generate-jitconfig"],generateRunnerJitconfigForRepo:["POST /repos/{owner}/{repo}/actions/runners/generate-jitconfig"],getActionsCacheList:["GET /repos/{owner}/{repo}/actions/caches"],getActionsCacheUsage:["GET /repos/{owner}/{repo}/actions/cache/usage"],getActionsCacheUsageByRepoForOrg:["GET /orgs/{org}/actions/cache/usage-by-repository"],getActionsCacheUsageForOrg:["GET /orgs/{org}/actions/cache/usage"],getAllowedActionsOrganization:["GET /orgs/{org}/actions/permissions/selected-actions"],getAllowedActionsRepository:["GET /repos/{owner}/{repo}/actions/permissions/selected-actions"],getArtifact:["GET /repos/{owner}/{repo}/actions/artifacts/{artifact_id}"],getCustomOidcSubClaimForRepo:["GET /repos/{owner}/{repo}/actions/oidc/customization/sub"],getEnvironmentPublicKey:["GET /repos/{owner}/{repo}/environments/{environment_name}/secrets/public-key"],getEnvironmentSecret:["GET /repos/{owner}/{repo}/environments/{environment_name}/secrets/{secret_name}"],getEnvironmentVariable:["GET /repos/{owner}/{repo}/environments/{environment_name}/variables/{name}"],getGithubActionsDefaultWorkflowPermissionsOrganization:["GET /orgs/{org}/actions/permissions/workflow"],getGithubActionsDefaultWorkflowPermissionsRepository:["GET /repos/{owner}/{repo}/actions/permissions/workflow"],getGithubActionsPermissionsOrganization:["GET /orgs/{org}/actions/permissions"],getGithubActionsPermissionsRepository:["GET /repos/{owner}/{repo}/actions/permissions"],getHostedRunnerForOrg:["GET /orgs/{org}/actions/hosted-runners/{hosted_runner_id}"],getHostedRunnersGithubOwnedImagesForOrg:["GET /orgs/{org}/actions/hosted-runners/images/github-owned"],getHostedRunnersLimitsForOrg:["GET /orgs/{org}/actions/hosted-runners/limits"],getHostedRunnersMachineSpecsForOrg:["GET /orgs/{org}/actions/hosted-runners/machine-sizes"],getHostedRunnersPartnerImagesForOrg:["GET /orgs/{org}/actions/hosted-runners/images/partner"],getHostedRunnersPlatformsForOrg:["GET /orgs/{org}/actions/hosted-runners/platforms"],getJobForWorkflowRun:["GET /repos/{owner}/{repo}/actions/jobs/{job_id}"],getOrgPublicKey:["GET /orgs/{org}/actions/secrets/public-key"],getOrgSecret:["GET /orgs/{org}/actions/secrets/{secret_name}"],getOrgVariable:["GET /orgs/{org}/actions/variables/{name}"],getPendingDeploymentsForRun:["GET /repos/{owner}/{repo}/actions/runs/{run_id}/pending_deployments"],getRepoPermissions:["GET /repos/{owner}/{repo}/actions/permissions",{},{renamed:["actions","getGithubActionsPermissionsRepository"]}],getRepoPublicKey:["GET /repos/{owner}/{repo}/actions/secrets/public-key"],getRepoSecret:["GET /repos/{owner}/{repo}/actions/secrets/{secret_name}"],getRepoVariable:["GET /repos/{owner}/{repo}/actions/variables/{name}"],getReviewsForRun:["GET /repos/{owner}/{repo}/actions/runs/{run_id}/approvals"],getSelfHostedRunnerForOrg:["GET /orgs/{org}/actions/runners/{runner_id}"],getSelfHostedRunnerForRepo:["GET /repos/{owner}/{repo}/actions/runners/{runner_id}"],getWorkflow:["GET /repos/{owner}/{repo}/actions/workflows/{workflow_id}"],getWorkflowAccessToRepository:["GET /repos/{owner}/{repo}/actions/permissions/access"],getWorkflowRun:["GET /repos/{owner}/{repo}/actions/runs/{run_id}"],getWorkflowRunAttempt:["GET /repos/{owner}/{repo}/actions/runs/{run_id}/attempts/{attempt_number}"],getWorkflowRunUsage:["GET /repos/{owner}/{repo}/actions/runs/{run_id}/timing"],getWorkflowUsage:["GET /repos/{owner}/{repo}/actions/workflows/{workflow_id}/timing"],listArtifactsForRepo:["GET /repos/{owner}/{repo}/actions/artifacts"],listEnvironmentSecrets:["GET /repos/{owner}/{repo}/environments/{environment_name}/secrets"],listEnvironmentVariables:["GET /repos/{owner}/{repo}/environments/{environment_name}/variables"],listGithubHostedRunnersInGroupForOrg:["GET /orgs/{org}/actions/runner-groups/{runner_group_id}/hosted-runners"],listHostedRunnersForOrg:["GET /orgs/{org}/actions/hosted-runners"],listJobsForWorkflowRun:["GET /repos/{owner}/{repo}/actions/runs/{run_id}/jobs"],listJobsForWorkflowRunAttempt:["GET /repos/{owner}/{repo}/actions/runs/{run_id}/attempts/{attempt_number}/jobs"],listLabelsForSelfHostedRunnerForOrg:["GET /orgs/{org}/actions/runners/{runner_id}/labels"],listLabelsForSelfHostedRunnerForRepo:["GET /repos/{owner}/{repo}/actions/runners/{runner_id}/labels"],listOrgSecrets:["GET /orgs/{org}/actions/secrets"],listOrgVariables:["GET /orgs/{org}/actions/variables"],listRepoOrganizationSecrets:["GET /repos/{owner}/{repo}/actions/organization-secrets"],listRepoOrganizationVariables:["GET /repos/{owner}/{repo}/actions/organization-variables"],listRepoSecrets:["GET /repos/{owner}/{repo}/actions/secrets"],listRepoVariables:["GET /repos/{owner}/{repo}/actions/variables"],listRepoWorkflows:["GET /repos/{owner}/{repo}/actions/workflows"],listRunnerApplicationsForOrg:["GET /orgs/{org}/actions/runners/downloads"],listRunnerApplicationsForRepo:["GET /repos/{owner}/{repo}/actions/runners/downloads"],listSelectedReposForOrgSecret:["GET /orgs/{org}/actions/secrets/{secret_name}/repositories"],listSelectedReposForOrgVariable:["GET /orgs/{org}/actions/variables/{name}/repositories"],listSelectedRepositoriesEnabledGithubActionsOrganization:["GET /orgs/{org}/actions/permissions/repositories"],listSelfHostedRunnersForOrg:["GET /orgs/{org}/actions/runners"],listSelfHostedRunnersForRepo:["GET /repos/{owner}/{repo}/actions/runners"],listWorkflowRunArtifacts:["GET /repos/{owner}/{repo}/actions/runs/{run_id}/artifacts"],listWorkflowRuns:["GET /repos/{owner}/{repo}/actions/workflows/{workflow_id}/runs"],listWorkflowRunsForRepo:["GET /repos/{owner}/{repo}/actions/runs"],reRunJobForWorkflowRun:["POST /repos/{owner}/{repo}/actions/jobs/{job_id}/rerun"],reRunWorkflow:["POST /repos/{owner}/{repo}/actions/runs/{run_id}/rerun"],reRunWorkflowFailedJobs:["POST /repos/{owner}/{repo}/actions/runs/{run_id}/rerun-failed-jobs"],removeAllCustomLabelsFromSelfHostedRunnerForOrg:["DELETE /orgs/{org}/actions/runners/{runner_id}/labels"],removeAllCustomLabelsFromSelfHostedRunnerForRepo:["DELETE /repos/{owner}/{repo}/actions/runners/{runner_id}/labels"],removeCustomLabelFromSelfHostedRunnerForOrg:["DELETE /orgs/{org}/actions/runners/{runner_id}/labels/{name}"],removeCustomLabelFromSelfHostedRunnerForRepo:["DELETE /repos/{owner}/{repo}/actions/runners/{runner_id}/labels/{name}"],removeSelectedRepoFromOrgSecret:["DELETE /orgs/{org}/actions/secrets/{secret_name}/repositories/{repository_id}"],removeSelectedRepoFromOrgVariable:["DELETE /orgs/{org}/actions/variables/{name}/repositories/{repository_id}"],reviewCustomGatesForRun:["POST /repos/{owner}/{repo}/actions/runs/{run_id}/deployment_protection_rule"],reviewPendingDeploymentsForRun:["POST /repos/{owner}/{repo}/actions/runs/{run_id}/pending_deployments"],setAllowedActionsOrganization:["PUT /orgs/{org}/actions/permissions/selected-actions"],setAllowedActionsRepository:["PUT /repos/{owner}/{repo}/actions/permissions/selected-actions"],setCustomLabelsForSelfHostedRunnerForOrg:["PUT /orgs/{org}/actions/runners/{runner_id}/labels"],setCustomLabelsForSelfHostedRunnerForRepo:["PUT /repos/{owner}/{repo}/actions/runners/{runner_id}/labels"],setCustomOidcSubClaimForRepo:["PUT /repos/{owner}/{repo}/actions/oidc/customization/sub"],setGithubActionsDefaultWorkflowPermissionsOrganization:["PUT /orgs/{org}/actions/permissions/workflow"],setGithubActionsDefaultWorkflowPermissionsRepository:["PUT /repos/{owner}/{repo}/actions/permissions/workflow"],setGithubActionsPermissionsOrganization:["PUT /orgs/{org}/actions/permissions"],setGithubActionsPermissionsRepository:["PUT /repos/{owner}/{repo}/actions/permissions"],setSelectedReposForOrgSecret:["PUT /orgs/{org}/actions/secrets/{secret_name}/repositories"],setSelectedReposForOrgVariable:["PUT /orgs/{org}/actions/variables/{name}/repositories"],setSelectedRepositoriesEnabledGithubActionsOrganization:["PUT /orgs/{org}/actions/permissions/repositories"],setWorkflowAccessToRepository:["PUT /repos/{owner}/{repo}/actions/permissions/access"],updateEnvironmentVariable:["PATCH /repos/{owner}/{repo}/environments/{environment_name}/variables/{name}"],updateHostedRunnerForOrg:["PATCH /orgs/{org}/actions/hosted-runners/{hosted_runner_id}"],updateOrgVariable:["PATCH /orgs/{org}/actions/variables/{name}"],updateRepoVariable:["PATCH /repos/{owner}/{repo}/actions/variables/{name}"]},activity:{checkRepoIsStarredByAuthenticatedUser:["GET /user/starred/{owner}/{repo}"],deleteRepoSubscription:["DELETE /repos/{owner}/{repo}/subscription"],deleteThreadSubscription:["DELETE /notifications/threads/{thread_id}/subscription"],getFeeds:["GET /feeds"],getRepoSubscription:["GET /repos/{owner}/{repo}/subscription"],getThread:["GET /notifications/threads/{thread_id}"],getThreadSubscriptionForAuthenticatedUser:["GET /notifications/threads/{thread_id}/subscription"],listEventsForAuthenticatedUser:["GET /users/{username}/events"],listNotificationsForAuthenticatedUser:["GET /notifications"],listOrgEventsForAuthenticatedUser:["GET /users/{username}/events/orgs/{org}"],listPublicEvents:["GET /events"],listPublicEventsForRepoNetwork:["GET /networks/{owner}/{repo}/events"],listPublicEventsForUser:["GET /users/{username}/events/public"],listPublicOrgEvents:["GET /orgs/{org}/events"],listReceivedEventsForUser:["GET /users/{username}/received_events"],listReceivedPublicEventsForUser:["GET /users/{username}/received_events/public"],listRepoEvents:["GET /repos/{owner}/{repo}/events"],listRepoNotificationsForAuthenticatedUser:["GET /repos/{owner}/{repo}/notifications"],listReposStarredByAuthenticatedUser:["GET /user/starred"],listReposStarredByUser:["GET /users/{username}/starred"],listReposWatchedByUser:["GET /users/{username}/subscriptions"],listStargazersForRepo:["GET /repos/{owner}/{repo}/stargazers"],listWatchedReposForAuthenticatedUser:["GET /user/subscriptions"],listWatchersForRepo:["GET /repos/{owner}/{repo}/subscribers"],markNotificationsAsRead:["PUT /notifications"],markRepoNotificationsAsRead:["PUT /repos/{owner}/{repo}/notifications"],markThreadAsDone:["DELETE /notifications/threads/{thread_id}"],markThreadAsRead:["PATCH /notifications/threads/{thread_id}"],setRepoSubscription:["PUT /repos/{owner}/{repo}/subscription"],setThreadSubscription:["PUT /notifications/threads/{thread_id}/subscription"],starRepoForAuthenticatedUser:["PUT /user/starred/{owner}/{repo}"],unstarRepoForAuthenticatedUser:["DELETE /user/starred/{owner}/{repo}"]},apps:{addRepoToInstallation:["PUT /user/installations/{installation_id}/repositories/{repository_id}",{},{renamed:["apps","addRepoToInstallationForAuthenticatedUser"]}],addRepoToInstallationForAuthenticatedUser:["PUT /user/installations/{installation_id}/repositories/{repository_id}"],checkToken:["POST /applications/{client_id}/token"],createFromManifest:["POST /app-manifests/{code}/conversions"],createInstallationAccessToken:["POST /app/installations/{installation_id}/access_tokens"],deleteAuthorization:["DELETE /applications/{client_id}/grant"],deleteInstallation:["DELETE /app/installations/{installation_id}"],deleteToken:["DELETE /applications/{client_id}/token"],getAuthenticated:["GET /app"],getBySlug:["GET /apps/{app_slug}"],getInstallation:["GET /app/installations/{installation_id}"],getOrgInstallation:["GET /orgs/{org}/installation"],getRepoInstallation:["GET /repos/{owner}/{repo}/installation"],getSubscriptionPlanForAccount:["GET /marketplace_listing/accounts/{account_id}"],getSubscriptionPlanForAccountStubbed:["GET /marketplace_listing/stubbed/accounts/{account_id}"],getUserInstallation:["GET /users/{username}/installation"],getWebhookConfigForApp:["GET /app/hook/config"],getWebhookDelivery:["GET /app/hook/deliveries/{delivery_id}"],listAccountsForPlan:["GET /marketplace_listing/plans/{plan_id}/accounts"],listAccountsForPlanStubbed:["GET /marketplace_listing/stubbed/plans/{plan_id}/accounts"],listInstallationReposForAuthenticatedUser:["GET /user/installations/{installation_id}/repositories"],listInstallationRequestsForAuthenticatedApp:["GET /app/installation-requests"],listInstallations:["GET /app/installations"],listInstallationsForAuthenticatedUser:["GET /user/installations"],listPlans:["GET /marketplace_listing/plans"],listPlansStubbed:["GET /marketplace_listing/stubbed/plans"],listReposAccessibleToInstallation:["GET /installation/repositories"],listSubscriptionsForAuthenticatedUser:["GET /user/marketplace_purchases"],listSubscriptionsForAuthenticatedUserStubbed:["GET /user/marketplace_purchases/stubbed"],listWebhookDeliveries:["GET /app/hook/deliveries"],redeliverWebhookDelivery:["POST /app/hook/deliveries/{delivery_id}/attempts"],removeRepoFromInstallation:["DELETE /user/installations/{installation_id}/repositories/{repository_id}",{},{renamed:["apps","removeRepoFromInstallationForAuthenticatedUser"]}],removeRepoFromInstallationForAuthenticatedUser:["DELETE /user/installations/{installation_id}/repositories/{repository_id}"],resetToken:["PATCH /applications/{client_id}/token"],revokeInstallationAccessToken:["DELETE /installation/token"],scopeToken:["POST /applications/{client_id}/token/scoped"],suspendInstallation:["PUT /app/installations/{installation_id}/suspended"],unsuspendInstallation:["DELETE /app/installations/{installation_id}/suspended"],updateWebhookConfigForApp:["PATCH /app/hook/config"]},billing:{getGithubActionsBillingOrg:["GET /orgs/{org}/settings/billing/actions"],getGithubActionsBillingUser:["GET /users/{username}/settings/billing/actions"],getGithubBillingUsageReportOrg:["GET /organizations/{org}/settings/billing/usage"],getGithubBillingUsageReportUser:["GET /users/{username}/settings/billing/usage"],getGithubPackagesBillingOrg:["GET /orgs/{org}/settings/billing/packages"],getGithubPackagesBillingUser:["GET /users/{username}/settings/billing/packages"],getSharedStorageBillingOrg:["GET /orgs/{org}/settings/billing/shared-storage"],getSharedStorageBillingUser:["GET /users/{username}/settings/billing/shared-storage"]},campaigns:{createCampaign:["POST /orgs/{org}/campaigns"],deleteCampaign:["DELETE /orgs/{org}/campaigns/{campaign_number}"],getCampaignSummary:["GET /orgs/{org}/campaigns/{campaign_number}"],listOrgCampaigns:["GET /orgs/{org}/campaigns"],updateCampaign:["PATCH /orgs/{org}/campaigns/{campaign_number}"]},checks:{create:["POST /repos/{owner}/{repo}/check-runs"],createSuite:["POST /repos/{owner}/{repo}/check-suites"],get:["GET /repos/{owner}/{repo}/check-runs/{check_run_id}"],getSuite:["GET /repos/{owner}/{repo}/check-suites/{check_suite_id}"],listAnnotations:["GET /repos/{owner}/{repo}/check-runs/{check_run_id}/annotations"],listForRef:["GET /repos/{owner}/{repo}/commits/{ref}/check-runs"],listForSuite:["GET /repos/{owner}/{repo}/check-suites/{check_suite_id}/check-runs"],listSuitesForRef:["GET /repos/{owner}/{repo}/commits/{ref}/check-suites"],rerequestRun:["POST /repos/{owner}/{repo}/check-runs/{check_run_id}/rerequest"],rerequestSuite:["POST /repos/{owner}/{repo}/check-suites/{check_suite_id}/rerequest"],setSuitesPreferences:["PATCH /repos/{owner}/{repo}/check-suites/preferences"],update:["PATCH /repos/{owner}/{repo}/check-runs/{check_run_id}"]},codeScanning:{commitAutofix:["POST /repos/{owner}/{repo}/code-scanning/alerts/{alert_number}/autofix/commits"],createAutofix:["POST /repos/{owner}/{repo}/code-scanning/alerts/{alert_number}/autofix"],createVariantAnalysis:["POST /repos/{owner}/{repo}/code-scanning/codeql/variant-analyses"],deleteAnalysis:["DELETE /repos/{owner}/{repo}/code-scanning/analyses/{analysis_id}{?confirm_delete}"],deleteCodeqlDatabase:["DELETE /repos/{owner}/{repo}/code-scanning/codeql/databases/{language}"],getAlert:["GET /repos/{owner}/{repo}/code-scanning/alerts/{alert_number}",{},{renamedParameters:{alert_id:"alert_number"}}],getAnalysis:["GET /repos/{owner}/{repo}/code-scanning/analyses/{analysis_id}"],getAutofix:["GET /repos/{owner}/{repo}/code-scanning/alerts/{alert_number}/autofix"],getCodeqlDatabase:["GET /repos/{owner}/{repo}/code-scanning/codeql/databases/{language}"],getDefaultSetup:["GET /repos/{owner}/{repo}/code-scanning/default-setup"],getSarif:["GET /repos/{owner}/{repo}/code-scanning/sarifs/{sarif_id}"],getVariantAnalysis:["GET /repos/{owner}/{repo}/code-scanning/codeql/variant-analyses/{codeql_variant_analysis_id}"],getVariantAnalysisRepoTask:["GET /repos/{owner}/{repo}/code-scanning/codeql/variant-analyses/{codeql_variant_analysis_id}/repos/{repo_owner}/{repo_name}"],listAlertInstances:["GET /repos/{owner}/{repo}/code-scanning/alerts/{alert_number}/instances"],listAlertsForOrg:["GET /orgs/{org}/code-scanning/alerts"],listAlertsForRepo:["GET /repos/{owner}/{repo}/code-scanning/alerts"],listAlertsInstances:["GET /repos/{owner}/{repo}/code-scanning/alerts/{alert_number}/instances",{},{renamed:["codeScanning","listAlertInstances"]}],listCodeqlDatabases:["GET /repos/{owner}/{repo}/code-scanning/codeql/databases"],listRecentAnalyses:["GET /repos/{owner}/{repo}/code-scanning/analyses"],updateAlert:["PATCH /repos/{owner}/{repo}/code-scanning/alerts/{alert_number}"],updateDefaultSetup:["PATCH /repos/{owner}/{repo}/code-scanning/default-setup"],uploadSarif:["POST /repos/{owner}/{repo}/code-scanning/sarifs"]},codeSecurity:{attachConfiguration:["POST /orgs/{org}/code-security/configurations/{configuration_id}/attach"],attachEnterpriseConfiguration:["POST /enterprises/{enterprise}/code-security/configurations/{configuration_id}/attach"],createConfiguration:["POST /orgs/{org}/code-security/configurations"],createConfigurationForEnterprise:["POST /enterprises/{enterprise}/code-security/configurations"],deleteConfiguration:["DELETE /orgs/{org}/code-security/configurations/{configuration_id}"],deleteConfigurationForEnterprise:["DELETE /enterprises/{enterprise}/code-security/configurations/{configuration_id}"],detachConfiguration:["DELETE /orgs/{org}/code-security/configurations/detach"],getConfiguration:["GET /orgs/{org}/code-security/configurations/{configuration_id}"],getConfigurationForRepository:["GET /repos/{owner}/{repo}/code-security-configuration"],getConfigurationsForEnterprise:["GET /enterprises/{enterprise}/code-security/configurations"],getConfigurationsForOrg:["GET /orgs/{org}/code-security/configurations"],getDefaultConfigurations:["GET /orgs/{org}/code-security/configurations/defaults"],getDefaultConfigurationsForEnterprise:["GET /enterprises/{enterprise}/code-security/configurations/defaults"],getRepositoriesForConfiguration:["GET /orgs/{org}/code-security/configurations/{configuration_id}/repositories"],getRepositoriesForEnterpriseConfiguration:["GET /enterprises/{enterprise}/code-security/configurations/{configuration_id}/repositories"],getSingleConfigurationForEnterprise:["GET /enterprises/{enterprise}/code-security/configurations/{configuration_id}"],setConfigurationAsDefault:["PUT /orgs/{org}/code-security/configurations/{configuration_id}/defaults"],setConfigurationAsDefaultForEnterprise:["PUT /enterprises/{enterprise}/code-security/configurations/{configuration_id}/defaults"],updateConfiguration:["PATCH /orgs/{org}/code-security/configurations/{configuration_id}"],updateEnterpriseConfiguration:["PATCH /enterprises/{enterprise}/code-security/configurations/{configuration_id}"]},codesOfConduct:{getAllCodesOfConduct:["GET /codes_of_conduct"],getConductCode:["GET /codes_of_conduct/{key}"]},codespaces:{addRepositoryForSecretForAuthenticatedUser:["PUT /user/codespaces/secrets/{secret_name}/repositories/{repository_id}"],addSelectedRepoToOrgSecret:["PUT /orgs/{org}/codespaces/secrets/{secret_name}/repositories/{repository_id}"],checkPermissionsForDevcontainer:["GET /repos/{owner}/{repo}/codespaces/permissions_check"],codespaceMachinesForAuthenticatedUser:["GET /user/codespaces/{codespace_name}/machines"],createForAuthenticatedUser:["POST /user/codespaces"],createOrUpdateOrgSecret:["PUT /orgs/{org}/codespaces/secrets/{secret_name}"],createOrUpdateRepoSecret:["PUT /repos/{owner}/{repo}/codespaces/secrets/{secret_name}"],createOrUpdateSecretForAuthenticatedUser:["PUT /user/codespaces/secrets/{secret_name}"],createWithPrForAuthenticatedUser:["POST /repos/{owner}/{repo}/pulls/{pull_number}/codespaces"],createWithRepoForAuthenticatedUser:["POST /repos/{owner}/{repo}/codespaces"],deleteForAuthenticatedUser:["DELETE /user/codespaces/{codespace_name}"],deleteFromOrganization:["DELETE /orgs/{org}/members/{username}/codespaces/{codespace_name}"],deleteOrgSecret:["DELETE /orgs/{org}/codespaces/secrets/{secret_name}"],deleteRepoSecret:["DELETE /repos/{owner}/{repo}/codespaces/secrets/{secret_name}"],deleteSecretForAuthenticatedUser:["DELETE /user/codespaces/secrets/{secret_name}"],exportForAuthenticatedUser:["POST /user/codespaces/{codespace_name}/exports"],getCodespacesForUserInOrg:["GET /orgs/{org}/members/{username}/codespaces"],getExportDetailsForAuthenticatedUser:["GET /user/codespaces/{codespace_name}/exports/{export_id}"],getForAuthenticatedUser:["GET /user/codespaces/{codespace_name}"],getOrgPublicKey:["GET /orgs/{org}/codespaces/secrets/public-key"],getOrgSecret:["GET /orgs/{org}/codespaces/secrets/{secret_name}"],getPublicKeyForAuthenticatedUser:["GET /user/codespaces/secrets/public-key"],getRepoPublicKey:["GET /repos/{owner}/{repo}/codespaces/secrets/public-key"],getRepoSecret:["GET /repos/{owner}/{repo}/codespaces/secrets/{secret_name}"],getSecretForAuthenticatedUser:["GET /user/codespaces/secrets/{secret_name}"],listDevcontainersInRepositoryForAuthenticatedUser:["GET /repos/{owner}/{repo}/codespaces/devcontainers"],listForAuthenticatedUser:["GET /user/codespaces"],listInOrganization:["GET /orgs/{org}/codespaces",{},{renamedParameters:{org_id:"org"}}],listInRepositoryForAuthenticatedUser:["GET /repos/{owner}/{repo}/codespaces"],listOrgSecrets:["GET /orgs/{org}/codespaces/secrets"],listRepoSecrets:["GET /repos/{owner}/{repo}/codespaces/secrets"],listRepositoriesForSecretForAuthenticatedUser:["GET /user/codespaces/secrets/{secret_name}/repositories"],listSecretsForAuthenticatedUser:["GET /user/codespaces/secrets"],listSelectedReposForOrgSecret:["GET /orgs/{org}/codespaces/secrets/{secret_name}/repositories"],preFlightWithRepoForAuthenticatedUser:["GET /repos/{owner}/{repo}/codespaces/new"],publishForAuthenticatedUser:["POST /user/codespaces/{codespace_name}/publish"],removeRepositoryForSecretForAuthenticatedUser:["DELETE /user/codespaces/secrets/{secret_name}/repositories/{repository_id}"],removeSelectedRepoFromOrgSecret:["DELETE /orgs/{org}/codespaces/secrets/{secret_name}/repositories/{repository_id}"],repoMachinesForAuthenticatedUser:["GET /repos/{owner}/{repo}/codespaces/machines"],setRepositoriesForSecretForAuthenticatedUser:["PUT /user/codespaces/secrets/{secret_name}/repositories"],setSelectedReposForOrgSecret:["PUT /orgs/{org}/codespaces/secrets/{secret_name}/repositories"],startForAuthenticatedUser:["POST /user/codespaces/{codespace_name}/start"],stopForAuthenticatedUser:["POST /user/codespaces/{codespace_name}/stop"],stopInOrganization:["POST /orgs/{org}/members/{username}/codespaces/{codespace_name}/stop"],updateForAuthenticatedUser:["PATCH /user/codespaces/{codespace_name}"]},copilot:{addCopilotSeatsForTeams:["POST /orgs/{org}/copilot/billing/selected_teams"],addCopilotSeatsForUsers:["POST /orgs/{org}/copilot/billing/selected_users"],cancelCopilotSeatAssignmentForTeams:["DELETE /orgs/{org}/copilot/billing/selected_teams"],cancelCopilotSeatAssignmentForUsers:["DELETE /orgs/{org}/copilot/billing/selected_users"],copilotMetricsForOrganization:["GET /orgs/{org}/copilot/metrics"],copilotMetricsForTeam:["GET /orgs/{org}/team/{team_slug}/copilot/metrics"],getCopilotOrganizationDetails:["GET /orgs/{org}/copilot/billing"],getCopilotSeatDetailsForUser:["GET /orgs/{org}/members/{username}/copilot"],listCopilotSeats:["GET /orgs/{org}/copilot/billing/seats"]},credentials:{revoke:["POST /credentials/revoke"]},dependabot:{addSelectedRepoToOrgSecret:["PUT /orgs/{org}/dependabot/secrets/{secret_name}/repositories/{repository_id}"],createOrUpdateOrgSecret:["PUT /orgs/{org}/dependabot/secrets/{secret_name}"],createOrUpdateRepoSecret:["PUT /repos/{owner}/{repo}/dependabot/secrets/{secret_name}"],deleteOrgSecret:["DELETE /orgs/{org}/dependabot/secrets/{secret_name}"],deleteRepoSecret:["DELETE /repos/{owner}/{repo}/dependabot/secrets/{secret_name}"],getAlert:["GET /repos/{owner}/{repo}/dependabot/alerts/{alert_number}"],getOrgPublicKey:["GET /orgs/{org}/dependabot/secrets/public-key"],getOrgSecret:["GET /orgs/{org}/dependabot/secrets/{secret_name}"],getRepoPublicKey:["GET /repos/{owner}/{repo}/dependabot/secrets/public-key"],getRepoSecret:["GET /repos/{owner}/{repo}/dependabot/secrets/{secret_name}"],listAlertsForEnterprise:["GET /enterprises/{enterprise}/dependabot/alerts"],listAlertsForOrg:["GET /orgs/{org}/dependabot/alerts"],listAlertsForRepo:["GET /repos/{owner}/{repo}/dependabot/alerts"],listOrgSecrets:["GET /orgs/{org}/dependabot/secrets"],listRepoSecrets:["GET /repos/{owner}/{repo}/dependabot/secrets"],listSelectedReposForOrgSecret:["GET /orgs/{org}/dependabot/secrets/{secret_name}/repositories"],removeSelectedRepoFromOrgSecret:["DELETE /orgs/{org}/dependabot/secrets/{secret_name}/repositories/{repository_id}"],setSelectedReposForOrgSecret:["PUT /orgs/{org}/dependabot/secrets/{secret_name}/repositories"],updateAlert:["PATCH /repos/{owner}/{repo}/dependabot/alerts/{alert_number}"]},dependencyGraph:{createRepositorySnapshot:["POST /repos/{owner}/{repo}/dependency-graph/snapshots"],diffRange:["GET /repos/{owner}/{repo}/dependency-graph/compare/{basehead}"],exportSbom:["GET /repos/{owner}/{repo}/dependency-graph/sbom"]},emojis:{get:["GET /emojis"]},gists:{checkIsStarred:["GET /gists/{gist_id}/star"],create:["POST /gists"],createComment:["POST /gists/{gist_id}/comments"],delete:["DELETE /gists/{gist_id}"],deleteComment:["DELETE /gists/{gist_id}/comments/{comment_id}"],fork:["POST /gists/{gist_id}/forks"],get:["GET /gists/{gist_id}"],getComment:["GET /gists/{gist_id}/comments/{comment_id}"],getRevision:["GET /gists/{gist_id}/{sha}"],list:["GET /gists"],listComments:["GET /gists/{gist_id}/comments"],listCommits:["GET /gists/{gist_id}/commits"],listForUser:["GET /users/{username}/gists"],listForks:["GET /gists/{gist_id}/forks"],listPublic:["GET /gists/public"],listStarred:["GET /gists/starred"],star:["PUT /gists/{gist_id}/star"],unstar:["DELETE /gists/{gist_id}/star"],update:["PATCH /gists/{gist_id}"],updateComment:["PATCH /gists/{gist_id}/comments/{comment_id}"]},git:{createBlob:["POST /repos/{owner}/{repo}/git/blobs"],createCommit:["POST /repos/{owner}/{repo}/git/commits"],createRef:["POST /repos/{owner}/{repo}/git/refs"],createTag:["POST /repos/{owner}/{repo}/git/tags"],createTree:["POST /repos/{owner}/{repo}/git/trees"],deleteRef:["DELETE /repos/{owner}/{repo}/git/refs/{ref}"],getBlob:["GET /repos/{owner}/{repo}/git/blobs/{file_sha}"],getCommit:["GET /repos/{owner}/{repo}/git/commits/{commit_sha}"],getRef:["GET /repos/{owner}/{repo}/git/ref/{ref}"],getTag:["GET /repos/{owner}/{repo}/git/tags/{tag_sha}"],getTree:["GET /repos/{owner}/{repo}/git/trees/{tree_sha}"],listMatchingRefs:["GET /repos/{owner}/{repo}/git/matching-refs/{ref}"],updateRef:["PATCH /repos/{owner}/{repo}/git/refs/{ref}"]},gitignore:{getAllTemplates:["GET /gitignore/templates"],getTemplate:["GET /gitignore/templates/{name}"]},hostedCompute:{createNetworkConfigurationForOrg:["POST /orgs/{org}/settings/network-configurations"],deleteNetworkConfigurationFromOrg:["DELETE /orgs/{org}/settings/network-configurations/{network_configuration_id}"],getNetworkConfigurationForOrg:["GET /orgs/{org}/settings/network-configurations/{network_configuration_id}"],getNetworkSettingsForOrg:["GET /orgs/{org}/settings/network-settings/{network_settings_id}"],listNetworkConfigurationsForOrg:["GET /orgs/{org}/settings/network-configurations"],updateNetworkConfigurationForOrg:["PATCH /orgs/{org}/settings/network-configurations/{network_configuration_id}"]},interactions:{getRestrictionsForAuthenticatedUser:["GET /user/interaction-limits"],getRestrictionsForOrg:["GET /orgs/{org}/interaction-limits"],getRestrictionsForRepo:["GET /repos/{owner}/{repo}/interaction-limits"],getRestrictionsForYourPublicRepos:["GET /user/interaction-limits",{},{renamed:["interactions","getRestrictionsForAuthenticatedUser"]}],removeRestrictionsForAuthenticatedUser:["DELETE /user/interaction-limits"],removeRestrictionsForOrg:["DELETE /orgs/{org}/interaction-limits"],removeRestrictionsForRepo:["DELETE /repos/{owner}/{repo}/interaction-limits"],removeRestrictionsForYourPublicRepos:["DELETE /user/interaction-limits",{},{renamed:["interactions","removeRestrictionsForAuthenticatedUser"]}],setRestrictionsForAuthenticatedUser:["PUT /user/interaction-limits"],setRestrictionsForOrg:["PUT /orgs/{org}/interaction-limits"],setRestrictionsForRepo:["PUT /repos/{owner}/{repo}/interaction-limits"],setRestrictionsForYourPublicRepos:["PUT /user/interaction-limits",{},{renamed:["interactions","setRestrictionsForAuthenticatedUser"]}]},issues:{addAssignees:["POST /repos/{owner}/{repo}/issues/{issue_number}/assignees"],addLabels:["POST /repos/{owner}/{repo}/issues/{issue_number}/labels"],addSubIssue:["POST /repos/{owner}/{repo}/issues/{issue_number}/sub_issues"],checkUserCanBeAssigned:["GET /repos/{owner}/{repo}/assignees/{assignee}"],checkUserCanBeAssignedToIssue:["GET /repos/{owner}/{repo}/issues/{issue_number}/assignees/{assignee}"],create:["POST /repos/{owner}/{repo}/issues"],createComment:["POST /repos/{owner}/{repo}/issues/{issue_number}/comments"],createLabel:["POST /repos/{owner}/{repo}/labels"],createMilestone:["POST /repos/{owner}/{repo}/milestones"],deleteComment:["DELETE /repos/{owner}/{repo}/issues/comments/{comment_id}"],deleteLabel:["DELETE /repos/{owner}/{repo}/labels/{name}"],deleteMilestone:["DELETE /repos/{owner}/{repo}/milestones/{milestone_number}"],get:["GET /repos/{owner}/{repo}/issues/{issue_number}"],getComment:["GET /repos/{owner}/{repo}/issues/comments/{comment_id}"],getEvent:["GET /repos/{owner}/{repo}/issues/events/{event_id}"],getLabel:["GET /repos/{owner}/{repo}/labels/{name}"],getMilestone:["GET /repos/{owner}/{repo}/milestones/{milestone_number}"],list:["GET /issues"],listAssignees:["GET /repos/{owner}/{repo}/assignees"],listComments:["GET /repos/{owner}/{repo}/issues/{issue_number}/comments"],listCommentsForRepo:["GET /repos/{owner}/{repo}/issues/comments"],listEvents:["GET /repos/{owner}/{repo}/issues/{issue_number}/events"],listEventsForRepo:["GET /repos/{owner}/{repo}/issues/events"],listEventsForTimeline:["GET /repos/{owner}/{repo}/issues/{issue_number}/timeline"],listForAuthenticatedUser:["GET /user/issues"],listForOrg:["GET /orgs/{org}/issues"],listForRepo:["GET /repos/{owner}/{repo}/issues"],listLabelsForMilestone:["GET /repos/{owner}/{repo}/milestones/{milestone_number}/labels"],listLabelsForRepo:["GET /repos/{owner}/{repo}/labels"],listLabelsOnIssue:["GET /repos/{owner}/{repo}/issues/{issue_number}/labels"],listMilestones:["GET /repos/{owner}/{repo}/milestones"],listSubIssues:["GET /repos/{owner}/{repo}/issues/{issue_number}/sub_issues"],lock:["PUT /repos/{owner}/{repo}/issues/{issue_number}/lock"],removeAllLabels:["DELETE /repos/{owner}/{repo}/issues/{issue_number}/labels"],removeAssignees:["DELETE /repos/{owner}/{repo}/issues/{issue_number}/assignees"],removeLabel:["DELETE /repos/{owner}/{repo}/issues/{issue_number}/labels/{name}"],removeSubIssue:["DELETE /repos/{owner}/{repo}/issues/{issue_number}/sub_issue"],reprioritizeSubIssue:["PATCH /repos/{owner}/{repo}/issues/{issue_number}/sub_issues/priority"],setLabels:["PUT /repos/{owner}/{repo}/issues/{issue_number}/labels"],unlock:["DELETE /repos/{owner}/{repo}/issues/{issue_number}/lock"],update:["PATCH /repos/{owner}/{repo}/issues/{issue_number}"],updateComment:["PATCH /repos/{owner}/{repo}/issues/comments/{comment_id}"],updateLabel:["PATCH /repos/{owner}/{repo}/labels/{name}"],updateMilestone:["PATCH /repos/{owner}/{repo}/milestones/{milestone_number}"]},licenses:{get:["GET /licenses/{license}"],getAllCommonlyUsed:["GET /licenses"],getForRepo:["GET /repos/{owner}/{repo}/license"]},markdown:{render:["POST /markdown"],renderRaw:["POST /markdown/raw",{headers:{"content-type":"text/plain; charset=utf-8"}}]},meta:{get:["GET /meta"],getAllVersions:["GET /versions"],getOctocat:["GET /octocat"],getZen:["GET /zen"],root:["GET /"]},migrations:{deleteArchiveForAuthenticatedUser:["DELETE /user/migrations/{migration_id}/archive"],deleteArchiveForOrg:["DELETE /orgs/{org}/migrations/{migration_id}/archive"],downloadArchiveForOrg:["GET /orgs/{org}/migrations/{migration_id}/archive"],getArchiveForAuthenticatedUser:["GET /user/migrations/{migration_id}/archive"],getStatusForAuthenticatedUser:["GET /user/migrations/{migration_id}"],getStatusForOrg:["GET /orgs/{org}/migrations/{migration_id}"],listForAuthenticatedUser:["GET /user/migrations"],listForOrg:["GET /orgs/{org}/migrations"],listReposForAuthenticatedUser:["GET /user/migrations/{migration_id}/repositories"],listReposForOrg:["GET /orgs/{org}/migrations/{migration_id}/repositories"],listReposForUser:["GET /user/migrations/{migration_id}/repositories",{},{renamed:["migrations","listReposForAuthenticatedUser"]}],startForAuthenticatedUser:["POST /user/migrations"],startForOrg:["POST /orgs/{org}/migrations"],unlockRepoForAuthenticatedUser:["DELETE /user/migrations/{migration_id}/repos/{repo_name}/lock"],unlockRepoForOrg:["DELETE /orgs/{org}/migrations/{migration_id}/repos/{repo_name}/lock"]},oidc:{getOidcCustomSubTemplateForOrg:["GET /orgs/{org}/actions/oidc/customization/sub"],updateOidcCustomSubTemplateForOrg:["PUT /orgs/{org}/actions/oidc/customization/sub"]},orgs:{addSecurityManagerTeam:["PUT /orgs/{org}/security-managers/teams/{team_slug}",{},{deprecated:"octokit.rest.orgs.addSecurityManagerTeam() is deprecated, see https://docs.github.com/rest/orgs/security-managers#add-a-security-manager-team"}],assignTeamToOrgRole:["PUT /orgs/{org}/organization-roles/teams/{team_slug}/{role_id}"],assignUserToOrgRole:["PUT /orgs/{org}/organization-roles/users/{username}/{role_id}"],blockUser:["PUT /orgs/{org}/blocks/{username}"],cancelInvitation:["DELETE /orgs/{org}/invitations/{invitation_id}"],checkBlockedUser:["GET /orgs/{org}/blocks/{username}"],checkMembershipForUser:["GET /orgs/{org}/members/{username}"],checkPublicMembershipForUser:["GET /orgs/{org}/public_members/{username}"],convertMemberToOutsideCollaborator:["PUT /orgs/{org}/outside_collaborators/{username}"],createInvitation:["POST /orgs/{org}/invitations"],createIssueType:["POST /orgs/{org}/issue-types"],createOrUpdateCustomProperties:["PATCH /orgs/{org}/properties/schema"],createOrUpdateCustomPropertiesValuesForRepos:["PATCH /orgs/{org}/properties/values"],createOrUpdateCustomProperty:["PUT /orgs/{org}/properties/schema/{custom_property_name}"],createWebhook:["POST /orgs/{org}/hooks"],delete:["DELETE /orgs/{org}"],deleteIssueType:["DELETE /orgs/{org}/issue-types/{issue_type_id}"],deleteWebhook:["DELETE /orgs/{org}/hooks/{hook_id}"],enableOrDisableSecurityProductOnAllOrgRepos:["POST /orgs/{org}/{security_product}/{enablement}",{},{deprecated:"octokit.rest.orgs.enableOrDisableSecurityProductOnAllOrgRepos() is deprecated, see https://docs.github.com/rest/orgs/orgs#enable-or-disable-a-security-feature-for-an-organization"}],get:["GET /orgs/{org}"],getAllCustomProperties:["GET /orgs/{org}/properties/schema"],getCustomProperty:["GET /orgs/{org}/properties/schema/{custom_property_name}"],getMembershipForAuthenticatedUser:["GET /user/memberships/orgs/{org}"],getMembershipForUser:["GET /orgs/{org}/memberships/{username}"],getOrgRole:["GET /orgs/{org}/organization-roles/{role_id}"],getOrgRulesetHistory:["GET /orgs/{org}/rulesets/{ruleset_id}/history"],getOrgRulesetVersion:["GET /orgs/{org}/rulesets/{ruleset_id}/history/{version_id}"],getWebhook:["GET /orgs/{org}/hooks/{hook_id}"],getWebhookConfigForOrg:["GET /orgs/{org}/hooks/{hook_id}/config"],getWebhookDelivery:["GET /orgs/{org}/hooks/{hook_id}/deliveries/{delivery_id}"],list:["GET /organizations"],listAppInstallations:["GET /orgs/{org}/installations"],listAttestations:["GET /orgs/{org}/attestations/{subject_digest}"],listBlockedUsers:["GET /orgs/{org}/blocks"],listCustomPropertiesValuesForRepos:["GET /orgs/{org}/properties/values"],listFailedInvitations:["GET /orgs/{org}/failed_invitations"],listForAuthenticatedUser:["GET /user/orgs"],listForUser:["GET /users/{username}/orgs"],listInvitationTeams:["GET /orgs/{org}/invitations/{invitation_id}/teams"],listIssueTypes:["GET /orgs/{org}/issue-types"],listMembers:["GET /orgs/{org}/members"],listMembershipsForAuthenticatedUser:["GET /user/memberships/orgs"],listOrgRoleTeams:["GET /orgs/{org}/organization-roles/{role_id}/teams"],listOrgRoleUsers:["GET /orgs/{org}/organization-roles/{role_id}/users"],listOrgRoles:["GET /orgs/{org}/organization-roles"],listOrganizationFineGrainedPermissions:["GET /orgs/{org}/organization-fine-grained-permissions"],listOutsideCollaborators:["GET /orgs/{org}/outside_collaborators"],listPatGrantRepositories:["GET /orgs/{org}/personal-access-tokens/{pat_id}/repositories"],listPatGrantRequestRepositories:["GET /orgs/{org}/personal-access-token-requests/{pat_request_id}/repositories"],listPatGrantRequests:["GET /orgs/{org}/personal-access-token-requests"],listPatGrants:["GET /orgs/{org}/personal-access-tokens"],listPendingInvitations:["GET /orgs/{org}/invitations"],listPublicMembers:["GET /orgs/{org}/public_members"],listSecurityManagerTeams:["GET /orgs/{org}/security-managers",{},{deprecated:"octokit.rest.orgs.listSecurityManagerTeams() is deprecated, see https://docs.github.com/rest/orgs/security-managers#list-security-manager-teams"}],listWebhookDeliveries:["GET /orgs/{org}/hooks/{hook_id}/deliveries"],listWebhooks:["GET /orgs/{org}/hooks"],pingWebhook:["POST /orgs/{org}/hooks/{hook_id}/pings"],redeliverWebhookDelivery:["POST /orgs/{org}/hooks/{hook_id}/deliveries/{delivery_id}/attempts"],removeCustomProperty:["DELETE /orgs/{org}/properties/schema/{custom_property_name}"],removeMember:["DELETE /orgs/{org}/members/{username}"],removeMembershipForUser:["DELETE /orgs/{org}/memberships/{username}"],removeOutsideCollaborator:["DELETE /orgs/{org}/outside_collaborators/{username}"],removePublicMembershipForAuthenticatedUser:["DELETE /orgs/{org}/public_members/{username}"],removeSecurityManagerTeam:["DELETE /orgs/{org}/security-managers/teams/{team_slug}",{},{deprecated:"octokit.rest.orgs.removeSecurityManagerTeam() is deprecated, see https://docs.github.com/rest/orgs/security-managers#remove-a-security-manager-team"}],reviewPatGrantRequest:["POST /orgs/{org}/personal-access-token-requests/{pat_request_id}"],reviewPatGrantRequestsInBulk:["POST /orgs/{org}/personal-access-token-requests"],revokeAllOrgRolesTeam:["DELETE /orgs/{org}/organization-roles/teams/{team_slug}"],revokeAllOrgRolesUser:["DELETE /orgs/{org}/organization-roles/users/{username}"],revokeOrgRoleTeam:["DELETE /orgs/{org}/organization-roles/teams/{team_slug}/{role_id}"],revokeOrgRoleUser:["DELETE /orgs/{org}/organization-roles/users/{username}/{role_id}"],setMembershipForUser:["PUT /orgs/{org}/memberships/{username}"],setPublicMembershipForAuthenticatedUser:["PUT /orgs/{org}/public_members/{username}"],unblockUser:["DELETE /orgs/{org}/blocks/{username}"],update:["PATCH /orgs/{org}"],updateIssueType:["PUT /orgs/{org}/issue-types/{issue_type_id}"],updateMembershipForAuthenticatedUser:["PATCH /user/memberships/orgs/{org}"],updatePatAccess:["POST /orgs/{org}/personal-access-tokens/{pat_id}"],updatePatAccesses:["POST /orgs/{org}/personal-access-tokens"],updateWebhook:["PATCH /orgs/{org}/hooks/{hook_id}"],updateWebhookConfigForOrg:["PATCH /orgs/{org}/hooks/{hook_id}/config"]},packages:{deletePackageForAuthenticatedUser:["DELETE /user/packages/{package_type}/{package_name}"],deletePackageForOrg:["DELETE /orgs/{org}/packages/{package_type}/{package_name}"],deletePackageForUser:["DELETE /users/{username}/packages/{package_type}/{package_name}"],deletePackageVersionForAuthenticatedUser:["DELETE /user/packages/{package_type}/{package_name}/versions/{package_version_id}"],deletePackageVersionForOrg:["DELETE /orgs/{org}/packages/{package_type}/{package_name}/versions/{package_version_id}"],deletePackageVersionForUser:["DELETE /users/{username}/packages/{package_type}/{package_name}/versions/{package_version_id}"],getAllPackageVersionsForAPackageOwnedByAnOrg:["GET /orgs/{org}/packages/{package_type}/{package_name}/versions",{},{renamed:["packages","getAllPackageVersionsForPackageOwnedByOrg"]}],getAllPackageVersionsForAPackageOwnedByTheAuthenticatedUser:["GET /user/packages/{package_type}/{package_name}/versions",{},{renamed:["packages","getAllPackageVersionsForPackageOwnedByAuthenticatedUser"]}],getAllPackageVersionsForPackageOwnedByAuthenticatedUser:["GET /user/packages/{package_type}/{package_name}/versions"],getAllPackageVersionsForPackageOwnedByOrg:["GET /orgs/{org}/packages/{package_type}/{package_name}/versions"],getAllPackageVersionsForPackageOwnedByUser:["GET /users/{username}/packages/{package_type}/{package_name}/versions"],getPackageForAuthenticatedUser:["GET /user/packages/{package_type}/{package_name}"],getPackageForOrganization:["GET /orgs/{org}/packages/{package_type}/{package_name}"],getPackageForUser:["GET /users/{username}/packages/{package_type}/{package_name}"],getPackageVersionForAuthenticatedUser:["GET /user/packages/{package_type}/{package_name}/versions/{package_version_id}"],getPackageVersionForOrganization:["GET /orgs/{org}/packages/{package_type}/{package_name}/versions/{package_version_id}"],getPackageVersionForUser:["GET /users/{username}/packages/{package_type}/{package_name}/versions/{package_version_id}"],listDockerMigrationConflictingPackagesForAuthenticatedUser:["GET /user/docker/conflicts"],listDockerMigrationConflictingPackagesForOrganization:["GET /orgs/{org}/docker/conflicts"],listDockerMigrationConflictingPackagesForUser:["GET /users/{username}/docker/conflicts"],listPackagesForAuthenticatedUser:["GET /user/packages"],listPackagesForOrganization:["GET /orgs/{org}/packages"],listPackagesForUser:["GET /users/{username}/packages"],restorePackageForAuthenticatedUser:["POST /user/packages/{package_type}/{package_name}/restore{?token}"],restorePackageForOrg:["POST /orgs/{org}/packages/{package_type}/{package_name}/restore{?token}"],restorePackageForUser:["POST /users/{username}/packages/{package_type}/{package_name}/restore{?token}"],restorePackageVersionForAuthenticatedUser:["POST /user/packages/{package_type}/{package_name}/versions/{package_version_id}/restore"],restorePackageVersionForOrg:["POST /orgs/{org}/packages/{package_type}/{package_name}/versions/{package_version_id}/restore"],restorePackageVersionForUser:["POST /users/{username}/packages/{package_type}/{package_name}/versions/{package_version_id}/restore"]},privateRegistries:{createOrgPrivateRegistry:["POST /orgs/{org}/private-registries"],deleteOrgPrivateRegistry:["DELETE /orgs/{org}/private-registries/{secret_name}"],getOrgPrivateRegistry:["GET /orgs/{org}/private-registries/{secret_name}"],getOrgPublicKey:["GET /orgs/{org}/private-registries/public-key"],listOrgPrivateRegistries:["GET /orgs/{org}/private-registries"],updateOrgPrivateRegistry:["PATCH /orgs/{org}/private-registries/{secret_name}"]},pulls:{checkIfMerged:["GET /repos/{owner}/{repo}/pulls/{pull_number}/merge"],create:["POST /repos/{owner}/{repo}/pulls"],createReplyForReviewComment:["POST /repos/{owner}/{repo}/pulls/{pull_number}/comments/{comment_id}/replies"],createReview:["POST /repos/{owner}/{repo}/pulls/{pull_number}/reviews"],createReviewComment:["POST /repos/{owner}/{repo}/pulls/{pull_number}/comments"],deletePendingReview:["DELETE /repos/{owner}/{repo}/pulls/{pull_number}/reviews/{review_id}"],deleteReviewComment:["DELETE /repos/{owner}/{repo}/pulls/comments/{comment_id}"],dismissReview:["PUT /repos/{owner}/{repo}/pulls/{pull_number}/reviews/{review_id}/dismissals"],get:["GET /repos/{owner}/{repo}/pulls/{pull_number}"],getReview:["GET /repos/{owner}/{repo}/pulls/{pull_number}/reviews/{review_id}"],getReviewComment:["GET /repos/{owner}/{repo}/pulls/comments/{comment_id}"],list:["GET /repos/{owner}/{repo}/pulls"],listCommentsForReview:["GET /repos/{owner}/{repo}/pulls/{pull_number}/reviews/{review_id}/comments"],listCommits:["GET /repos/{owner}/{repo}/pulls/{pull_number}/commits"],listFiles:["GET /repos/{owner}/{repo}/pulls/{pull_number}/files"],listRequestedReviewers:["GET /repos/{owner}/{repo}/pulls/{pull_number}/requested_reviewers"],listReviewComments:["GET /repos/{owner}/{repo}/pulls/{pull_number}/comments"],listReviewCommentsForRepo:["GET /repos/{owner}/{repo}/pulls/comments"],listReviews:["GET /repos/{owner}/{repo}/pulls/{pull_number}/reviews"],merge:["PUT /repos/{owner}/{repo}/pulls/{pull_number}/merge"],removeRequestedReviewers:["DELETE /repos/{owner}/{repo}/pulls/{pull_number}/requested_reviewers"],requestReviewers:["POST /repos/{owner}/{repo}/pulls/{pull_number}/requested_reviewers"],submitReview:["POST /repos/{owner}/{repo}/pulls/{pull_number}/reviews/{review_id}/events"],update:["PATCH /repos/{owner}/{repo}/pulls/{pull_number}"],updateBranch:["PUT /repos/{owner}/{repo}/pulls/{pull_number}/update-branch"],updateReview:["PUT /repos/{owner}/{repo}/pulls/{pull_number}/reviews/{review_id}"],updateReviewComment:["PATCH /repos/{owner}/{repo}/pulls/comments/{comment_id}"]},rateLimit:{get:["GET /rate_limit"]},reactions:{createForCommitComment:["POST /repos/{owner}/{repo}/comments/{comment_id}/reactions"],createForIssue:["POST /repos/{owner}/{repo}/issues/{issue_number}/reactions"],createForIssueComment:["POST /repos/{owner}/{repo}/issues/comments/{comment_id}/reactions"],createForPullRequestReviewComment:["POST /repos/{owner}/{repo}/pulls/comments/{comment_id}/reactions"],createForRelease:["POST /repos/{owner}/{repo}/releases/{release_id}/reactions"],createForTeamDiscussionCommentInOrg:["POST /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments/{comment_number}/reactions"],createForTeamDiscussionInOrg:["POST /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/reactions"],deleteForCommitComment:["DELETE /repos/{owner}/{repo}/comments/{comment_id}/reactions/{reaction_id}"],deleteForIssue:["DELETE /repos/{owner}/{repo}/issues/{issue_number}/reactions/{reaction_id}"],deleteForIssueComment:["DELETE /repos/{owner}/{repo}/issues/comments/{comment_id}/reactions/{reaction_id}"],deleteForPullRequestComment:["DELETE /repos/{owner}/{repo}/pulls/comments/{comment_id}/reactions/{reaction_id}"],deleteForRelease:["DELETE /repos/{owner}/{repo}/releases/{release_id}/reactions/{reaction_id}"],deleteForTeamDiscussion:["DELETE /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/reactions/{reaction_id}"],deleteForTeamDiscussionComment:["DELETE /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments/{comment_number}/reactions/{reaction_id}"],listForCommitComment:["GET /repos/{owner}/{repo}/comments/{comment_id}/reactions"],listForIssue:["GET /repos/{owner}/{repo}/issues/{issue_number}/reactions"],listForIssueComment:["GET /repos/{owner}/{repo}/issues/comments/{comment_id}/reactions"],listForPullRequestReviewComment:["GET /repos/{owner}/{repo}/pulls/comments/{comment_id}/reactions"],listForRelease:["GET /repos/{owner}/{repo}/releases/{release_id}/reactions"],listForTeamDiscussionCommentInOrg:["GET /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments/{comment_number}/reactions"],listForTeamDiscussionInOrg:["GET /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/reactions"]},repos:{acceptInvitation:["PATCH /user/repository_invitations/{invitation_id}",{},{renamed:["repos","acceptInvitationForAuthenticatedUser"]}],acceptInvitationForAuthenticatedUser:["PATCH /user/repository_invitations/{invitation_id}"],addAppAccessRestrictions:["POST /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/apps",{},{mapToData:"apps"}],addCollaborator:["PUT /repos/{owner}/{repo}/collaborators/{username}"],addStatusCheckContexts:["POST /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks/contexts",{},{mapToData:"contexts"}],addTeamAccessRestrictions:["POST /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/teams",{},{mapToData:"teams"}],addUserAccessRestrictions:["POST /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/users",{},{mapToData:"users"}],cancelPagesDeployment:["POST /repos/{owner}/{repo}/pages/deployments/{pages_deployment_id}/cancel"],checkAutomatedSecurityFixes:["GET /repos/{owner}/{repo}/automated-security-fixes"],checkCollaborator:["GET /repos/{owner}/{repo}/collaborators/{username}"],checkPrivateVulnerabilityReporting:["GET /repos/{owner}/{repo}/private-vulnerability-reporting"],checkVulnerabilityAlerts:["GET /repos/{owner}/{repo}/vulnerability-alerts"],codeownersErrors:["GET /repos/{owner}/{repo}/codeowners/errors"],compareCommits:["GET /repos/{owner}/{repo}/compare/{base}...{head}"],compareCommitsWithBasehead:["GET /repos/{owner}/{repo}/compare/{basehead}"],createAttestation:["POST /repos/{owner}/{repo}/attestations"],createAutolink:["POST /repos/{owner}/{repo}/autolinks"],createCommitComment:["POST /repos/{owner}/{repo}/commits/{commit_sha}/comments"],createCommitSignatureProtection:["POST /repos/{owner}/{repo}/branches/{branch}/protection/required_signatures"],createCommitStatus:["POST /repos/{owner}/{repo}/statuses/{sha}"],createDeployKey:["POST /repos/{owner}/{repo}/keys"],createDeployment:["POST /repos/{owner}/{repo}/deployments"],createDeploymentBranchPolicy:["POST /repos/{owner}/{repo}/environments/{environment_name}/deployment-branch-policies"],createDeploymentProtectionRule:["POST /repos/{owner}/{repo}/environments/{environment_name}/deployment_protection_rules"],createDeploymentStatus:["POST /repos/{owner}/{repo}/deployments/{deployment_id}/statuses"],createDispatchEvent:["POST /repos/{owner}/{repo}/dispatches"],createForAuthenticatedUser:["POST /user/repos"],createFork:["POST /repos/{owner}/{repo}/forks"],createInOrg:["POST /orgs/{org}/repos"],createOrUpdateCustomPropertiesValues:["PATCH /repos/{owner}/{repo}/properties/values"],createOrUpdateEnvironment:["PUT /repos/{owner}/{repo}/environments/{environment_name}"],createOrUpdateFileContents:["PUT /repos/{owner}/{repo}/contents/{path}"],createOrgRuleset:["POST /orgs/{org}/rulesets"],createPagesDeployment:["POST /repos/{owner}/{repo}/pages/deployments"],createPagesSite:["POST /repos/{owner}/{repo}/pages"],createRelease:["POST /repos/{owner}/{repo}/releases"],createRepoRuleset:["POST /repos/{owner}/{repo}/rulesets"],createUsingTemplate:["POST /repos/{template_owner}/{template_repo}/generate"],createWebhook:["POST /repos/{owner}/{repo}/hooks"],declineInvitation:["DELETE /user/repository_invitations/{invitation_id}",{},{renamed:["repos","declineInvitationForAuthenticatedUser"]}],declineInvitationForAuthenticatedUser:["DELETE /user/repository_invitations/{invitation_id}"],delete:["DELETE /repos/{owner}/{repo}"],deleteAccessRestrictions:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/restrictions"],deleteAdminBranchProtection:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/enforce_admins"],deleteAnEnvironment:["DELETE /repos/{owner}/{repo}/environments/{environment_name}"],deleteAutolink:["DELETE /repos/{owner}/{repo}/autolinks/{autolink_id}"],deleteBranchProtection:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection"],deleteCommitComment:["DELETE /repos/{owner}/{repo}/comments/{comment_id}"],deleteCommitSignatureProtection:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/required_signatures"],deleteDeployKey:["DELETE /repos/{owner}/{repo}/keys/{key_id}"],deleteDeployment:["DELETE /repos/{owner}/{repo}/deployments/{deployment_id}"],deleteDeploymentBranchPolicy:["DELETE /repos/{owner}/{repo}/environments/{environment_name}/deployment-branch-policies/{branch_policy_id}"],deleteFile:["DELETE /repos/{owner}/{repo}/contents/{path}"],deleteInvitation:["DELETE /repos/{owner}/{repo}/invitations/{invitation_id}"],deleteOrgRuleset:["DELETE /orgs/{org}/rulesets/{ruleset_id}"],deletePagesSite:["DELETE /repos/{owner}/{repo}/pages"],deletePullRequestReviewProtection:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/required_pull_request_reviews"],deleteRelease:["DELETE /repos/{owner}/{repo}/releases/{release_id}"],deleteReleaseAsset:["DELETE /repos/{owner}/{repo}/releases/assets/{asset_id}"],deleteRepoRuleset:["DELETE /repos/{owner}/{repo}/rulesets/{ruleset_id}"],deleteWebhook:["DELETE /repos/{owner}/{repo}/hooks/{hook_id}"],disableAutomatedSecurityFixes:["DELETE /repos/{owner}/{repo}/automated-security-fixes"],disableDeploymentProtectionRule:["DELETE /repos/{owner}/{repo}/environments/{environment_name}/deployment_protection_rules/{protection_rule_id}"],disablePrivateVulnerabilityReporting:["DELETE /repos/{owner}/{repo}/private-vulnerability-reporting"],disableVulnerabilityAlerts:["DELETE /repos/{owner}/{repo}/vulnerability-alerts"],downloadArchive:["GET /repos/{owner}/{repo}/zipball/{ref}",{},{renamed:["repos","downloadZipballArchive"]}],downloadTarballArchive:["GET /repos/{owner}/{repo}/tarball/{ref}"],downloadZipballArchive:["GET /repos/{owner}/{repo}/zipball/{ref}"],enableAutomatedSecurityFixes:["PUT /repos/{owner}/{repo}/automated-security-fixes"],enablePrivateVulnerabilityReporting:["PUT /repos/{owner}/{repo}/private-vulnerability-reporting"],enableVulnerabilityAlerts:["PUT /repos/{owner}/{repo}/vulnerability-alerts"],generateReleaseNotes:["POST /repos/{owner}/{repo}/releases/generate-notes"],get:["GET /repos/{owner}/{repo}"],getAccessRestrictions:["GET /repos/{owner}/{repo}/branches/{branch}/protection/restrictions"],getAdminBranchProtection:["GET /repos/{owner}/{repo}/branches/{branch}/protection/enforce_admins"],getAllDeploymentProtectionRules:["GET /repos/{owner}/{repo}/environments/{environment_name}/deployment_protection_rules"],getAllEnvironments:["GET /repos/{owner}/{repo}/environments"],getAllStatusCheckContexts:["GET /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks/contexts"],getAllTopics:["GET /repos/{owner}/{repo}/topics"],getAppsWithAccessToProtectedBranch:["GET /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/apps"],getAutolink:["GET /repos/{owner}/{repo}/autolinks/{autolink_id}"],getBranch:["GET /repos/{owner}/{repo}/branches/{branch}"],getBranchProtection:["GET /repos/{owner}/{repo}/branches/{branch}/protection"],getBranchRules:["GET /repos/{owner}/{repo}/rules/branches/{branch}"],getClones:["GET /repos/{owner}/{repo}/traffic/clones"],getCodeFrequencyStats:["GET /repos/{owner}/{repo}/stats/code_frequency"],getCollaboratorPermissionLevel:["GET /repos/{owner}/{repo}/collaborators/{username}/permission"],getCombinedStatusForRef:["GET /repos/{owner}/{repo}/commits/{ref}/status"],getCommit:["GET /repos/{owner}/{repo}/commits/{ref}"],getCommitActivityStats:["GET /repos/{owner}/{repo}/stats/commit_activity"],getCommitComment:["GET /repos/{owner}/{repo}/comments/{comment_id}"],getCommitSignatureProtection:["GET /repos/{owner}/{repo}/branches/{branch}/protection/required_signatures"],getCommunityProfileMetrics:["GET /repos/{owner}/{repo}/community/profile"],getContent:["GET /repos/{owner}/{repo}/contents/{path}"],getContributorsStats:["GET /repos/{owner}/{repo}/stats/contributors"],getCustomDeploymentProtectionRule:["GET /repos/{owner}/{repo}/environments/{environment_name}/deployment_protection_rules/{protection_rule_id}"],getCustomPropertiesValues:["GET /repos/{owner}/{repo}/properties/values"],getDeployKey:["GET /repos/{owner}/{repo}/keys/{key_id}"],getDeployment:["GET /repos/{owner}/{repo}/deployments/{deployment_id}"],getDeploymentBranchPolicy:["GET /repos/{owner}/{repo}/environments/{environment_name}/deployment-branch-policies/{branch_policy_id}"],getDeploymentStatus:["GET /repos/{owner}/{repo}/deployments/{deployment_id}/statuses/{status_id}"],getEnvironment:["GET /repos/{owner}/{repo}/environments/{environment_name}"],getLatestPagesBuild:["GET /repos/{owner}/{repo}/pages/builds/latest"],getLatestRelease:["GET /repos/{owner}/{repo}/releases/latest"],getOrgRuleSuite:["GET /orgs/{org}/rulesets/rule-suites/{rule_suite_id}"],getOrgRuleSuites:["GET /orgs/{org}/rulesets/rule-suites"],getOrgRuleset:["GET /orgs/{org}/rulesets/{ruleset_id}"],getOrgRulesets:["GET /orgs/{org}/rulesets"],getPages:["GET /repos/{owner}/{repo}/pages"],getPagesBuild:["GET /repos/{owner}/{repo}/pages/builds/{build_id}"],getPagesDeployment:["GET /repos/{owner}/{repo}/pages/deployments/{pages_deployment_id}"],getPagesHealthCheck:["GET /repos/{owner}/{repo}/pages/health"],getParticipationStats:["GET /repos/{owner}/{repo}/stats/participation"],getPullRequestReviewProtection:["GET /repos/{owner}/{repo}/branches/{branch}/protection/required_pull_request_reviews"],getPunchCardStats:["GET /repos/{owner}/{repo}/stats/punch_card"],getReadme:["GET /repos/{owner}/{repo}/readme"],getReadmeInDirectory:["GET /repos/{owner}/{repo}/readme/{dir}"],getRelease:["GET /repos/{owner}/{repo}/releases/{release_id}"],getReleaseAsset:["GET /repos/{owner}/{repo}/releases/assets/{asset_id}"],getReleaseByTag:["GET /repos/{owner}/{repo}/releases/tags/{tag}"],getRepoRuleSuite:["GET /repos/{owner}/{repo}/rulesets/rule-suites/{rule_suite_id}"],getRepoRuleSuites:["GET /repos/{owner}/{repo}/rulesets/rule-suites"],getRepoRuleset:["GET /repos/{owner}/{repo}/rulesets/{ruleset_id}"],getRepoRulesetHistory:["GET /repos/{owner}/{repo}/rulesets/{ruleset_id}/history"],getRepoRulesetVersion:["GET /repos/{owner}/{repo}/rulesets/{ruleset_id}/history/{version_id}"],getRepoRulesets:["GET /repos/{owner}/{repo}/rulesets"],getStatusChecksProtection:["GET /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks"],getTeamsWithAccessToProtectedBranch:["GET /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/teams"],getTopPaths:["GET /repos/{owner}/{repo}/traffic/popular/paths"],getTopReferrers:["GET /repos/{owner}/{repo}/traffic/popular/referrers"],getUsersWithAccessToProtectedBranch:["GET /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/users"],getViews:["GET /repos/{owner}/{repo}/traffic/views"],getWebhook:["GET /repos/{owner}/{repo}/hooks/{hook_id}"],getWebhookConfigForRepo:["GET /repos/{owner}/{repo}/hooks/{hook_id}/config"],getWebhookDelivery:["GET /repos/{owner}/{repo}/hooks/{hook_id}/deliveries/{delivery_id}"],listActivities:["GET /repos/{owner}/{repo}/activity"],listAttestations:["GET /repos/{owner}/{repo}/attestations/{subject_digest}"],listAutolinks:["GET /repos/{owner}/{repo}/autolinks"],listBranches:["GET /repos/{owner}/{repo}/branches"],listBranchesForHeadCommit:["GET /repos/{owner}/{repo}/commits/{commit_sha}/branches-where-head"],listCollaborators:["GET /repos/{owner}/{repo}/collaborators"],listCommentsForCommit:["GET /repos/{owner}/{repo}/commits/{commit_sha}/comments"],listCommitCommentsForRepo:["GET /repos/{owner}/{repo}/comments"],listCommitStatusesForRef:["GET /repos/{owner}/{repo}/commits/{ref}/statuses"],listCommits:["GET /repos/{owner}/{repo}/commits"],listContributors:["GET /repos/{owner}/{repo}/contributors"],listCustomDeploymentRuleIntegrations:["GET /repos/{owner}/{repo}/environments/{environment_name}/deployment_protection_rules/apps"],listDeployKeys:["GET /repos/{owner}/{repo}/keys"],listDeploymentBranchPolicies:["GET /repos/{owner}/{repo}/environments/{environment_name}/deployment-branch-policies"],listDeploymentStatuses:["GET /repos/{owner}/{repo}/deployments/{deployment_id}/statuses"],listDeployments:["GET /repos/{owner}/{repo}/deployments"],listForAuthenticatedUser:["GET /user/repos"],listForOrg:["GET /orgs/{org}/repos"],listForUser:["GET /users/{username}/repos"],listForks:["GET /repos/{owner}/{repo}/forks"],listInvitations:["GET /repos/{owner}/{repo}/invitations"],listInvitationsForAuthenticatedUser:["GET /user/repository_invitations"],listLanguages:["GET /repos/{owner}/{repo}/languages"],listPagesBuilds:["GET /repos/{owner}/{repo}/pages/builds"],listPublic:["GET /repositories"],listPullRequestsAssociatedWithCommit:["GET /repos/{owner}/{repo}/commits/{commit_sha}/pulls"],listReleaseAssets:["GET /repos/{owner}/{repo}/releases/{release_id}/assets"],listReleases:["GET /repos/{owner}/{repo}/releases"],listTags:["GET /repos/{owner}/{repo}/tags"],listTeams:["GET /repos/{owner}/{repo}/teams"],listWebhookDeliveries:["GET /repos/{owner}/{repo}/hooks/{hook_id}/deliveries"],listWebhooks:["GET /repos/{owner}/{repo}/hooks"],merge:["POST /repos/{owner}/{repo}/merges"],mergeUpstream:["POST /repos/{owner}/{repo}/merge-upstream"],pingWebhook:["POST /repos/{owner}/{repo}/hooks/{hook_id}/pings"],redeliverWebhookDelivery:["POST /repos/{owner}/{repo}/hooks/{hook_id}/deliveries/{delivery_id}/attempts"],removeAppAccessRestrictions:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/apps",{},{mapToData:"apps"}],removeCollaborator:["DELETE /repos/{owner}/{repo}/collaborators/{username}"],removeStatusCheckContexts:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks/contexts",{},{mapToData:"contexts"}],removeStatusCheckProtection:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks"],removeTeamAccessRestrictions:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/teams",{},{mapToData:"teams"}],removeUserAccessRestrictions:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/users",{},{mapToData:"users"}],renameBranch:["POST /repos/{owner}/{repo}/branches/{branch}/rename"],replaceAllTopics:["PUT /repos/{owner}/{repo}/topics"],requestPagesBuild:["POST /repos/{owner}/{repo}/pages/builds"],setAdminBranchProtection:["POST /repos/{owner}/{repo}/branches/{branch}/protection/enforce_admins"],setAppAccessRestrictions:["PUT /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/apps",{},{mapToData:"apps"}],setStatusCheckContexts:["PUT /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks/contexts",{},{mapToData:"contexts"}],setTeamAccessRestrictions:["PUT /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/teams",{},{mapToData:"teams"}],setUserAccessRestrictions:["PUT /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/users",{},{mapToData:"users"}],testPushWebhook:["POST /repos/{owner}/{repo}/hooks/{hook_id}/tests"],transfer:["POST /repos/{owner}/{repo}/transfer"],update:["PATCH /repos/{owner}/{repo}"],updateBranchProtection:["PUT /repos/{owner}/{repo}/branches/{branch}/protection"],updateCommitComment:["PATCH /repos/{owner}/{repo}/comments/{comment_id}"],updateDeploymentBranchPolicy:["PUT /repos/{owner}/{repo}/environments/{environment_name}/deployment-branch-policies/{branch_policy_id}"],updateInformationAboutPagesSite:["PUT /repos/{owner}/{repo}/pages"],updateInvitation:["PATCH /repos/{owner}/{repo}/invitations/{invitation_id}"],updateOrgRuleset:["PUT /orgs/{org}/rulesets/{ruleset_id}"],updatePullRequestReviewProtection:["PATCH /repos/{owner}/{repo}/branches/{branch}/protection/required_pull_request_reviews"],updateRelease:["PATCH /repos/{owner}/{repo}/releases/{release_id}"],updateReleaseAsset:["PATCH /repos/{owner}/{repo}/releases/assets/{asset_id}"],updateRepoRuleset:["PUT /repos/{owner}/{repo}/rulesets/{ruleset_id}"],updateStatusCheckPotection:["PATCH /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks",{},{renamed:["repos","updateStatusCheckProtection"]}],updateStatusCheckProtection:["PATCH /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks"],updateWebhook:["PATCH /repos/{owner}/{repo}/hooks/{hook_id}"],updateWebhookConfigForRepo:["PATCH /repos/{owner}/{repo}/hooks/{hook_id}/config"],uploadReleaseAsset:["POST /repos/{owner}/{repo}/releases/{release_id}/assets{?name,label}",{baseUrl:"https://uploads.github.com"}]},search:{code:["GET /search/code"],commits:["GET /search/commits"],issuesAndPullRequests:["GET /search/issues",{},{deprecated:"octokit.rest.search.issuesAndPullRequests() is deprecated, see https://docs.github.com/rest/search/search#search-issues-and-pull-requests"}],labels:["GET /search/labels"],repos:["GET /search/repositories"],topics:["GET /search/topics"],users:["GET /search/users"]},secretScanning:{createPushProtectionBypass:["POST /repos/{owner}/{repo}/secret-scanning/push-protection-bypasses"],getAlert:["GET /repos/{owner}/{repo}/secret-scanning/alerts/{alert_number}"],getScanHistory:["GET /repos/{owner}/{repo}/secret-scanning/scan-history"],listAlertsForEnterprise:["GET /enterprises/{enterprise}/secret-scanning/alerts"],listAlertsForOrg:["GET /orgs/{org}/secret-scanning/alerts"],listAlertsForRepo:["GET /repos/{owner}/{repo}/secret-scanning/alerts"],listLocationsForAlert:["GET /repos/{owner}/{repo}/secret-scanning/alerts/{alert_number}/locations"],updateAlert:["PATCH /repos/{owner}/{repo}/secret-scanning/alerts/{alert_number}"]},securityAdvisories:{createFork:["POST /repos/{owner}/{repo}/security-advisories/{ghsa_id}/forks"],createPrivateVulnerabilityReport:["POST /repos/{owner}/{repo}/security-advisories/reports"],createRepositoryAdvisory:["POST /repos/{owner}/{repo}/security-advisories"],createRepositoryAdvisoryCveRequest:["POST /repos/{owner}/{repo}/security-advisories/{ghsa_id}/cve"],getGlobalAdvisory:["GET /advisories/{ghsa_id}"],getRepositoryAdvisory:["GET /repos/{owner}/{repo}/security-advisories/{ghsa_id}"],listGlobalAdvisories:["GET /advisories"],listOrgRepositoryAdvisories:["GET /orgs/{org}/security-advisories"],listRepositoryAdvisories:["GET /repos/{owner}/{repo}/security-advisories"],updateRepositoryAdvisory:["PATCH /repos/{owner}/{repo}/security-advisories/{ghsa_id}"]},teams:{addOrUpdateMembershipForUserInOrg:["PUT /orgs/{org}/teams/{team_slug}/memberships/{username}"],addOrUpdateRepoPermissionsInOrg:["PUT /orgs/{org}/teams/{team_slug}/repos/{owner}/{repo}"],checkPermissionsForRepoInOrg:["GET /orgs/{org}/teams/{team_slug}/repos/{owner}/{repo}"],create:["POST /orgs/{org}/teams"],createDiscussionCommentInOrg:["POST /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments"],createDiscussionInOrg:["POST /orgs/{org}/teams/{team_slug}/discussions"],deleteDiscussionCommentInOrg:["DELETE /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments/{comment_number}"],deleteDiscussionInOrg:["DELETE /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}"],deleteInOrg:["DELETE /orgs/{org}/teams/{team_slug}"],getByName:["GET /orgs/{org}/teams/{team_slug}"],getDiscussionCommentInOrg:["GET /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments/{comment_number}"],getDiscussionInOrg:["GET /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}"],getMembershipForUserInOrg:["GET /orgs/{org}/teams/{team_slug}/memberships/{username}"],list:["GET /orgs/{org}/teams"],listChildInOrg:["GET /orgs/{org}/teams/{team_slug}/teams"],listDiscussionCommentsInOrg:["GET /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments"],listDiscussionsInOrg:["GET /orgs/{org}/teams/{team_slug}/discussions"],listForAuthenticatedUser:["GET /user/teams"],listMembersInOrg:["GET /orgs/{org}/teams/{team_slug}/members"],listPendingInvitationsInOrg:["GET /orgs/{org}/teams/{team_slug}/invitations"],listReposInOrg:["GET /orgs/{org}/teams/{team_slug}/repos"],removeMembershipForUserInOrg:["DELETE /orgs/{org}/teams/{team_slug}/memberships/{username}"],removeRepoInOrg:["DELETE /orgs/{org}/teams/{team_slug}/repos/{owner}/{repo}"],updateDiscussionCommentInOrg:["PATCH /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments/{comment_number}"],updateDiscussionInOrg:["PATCH /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}"],updateInOrg:["PATCH /orgs/{org}/teams/{team_slug}"]},users:{addEmailForAuthenticated:["POST /user/emails",{},{renamed:["users","addEmailForAuthenticatedUser"]}],addEmailForAuthenticatedUser:["POST /user/emails"],addSocialAccountForAuthenticatedUser:["POST /user/social_accounts"],block:["PUT /user/blocks/{username}"],checkBlocked:["GET /user/blocks/{username}"],checkFollowingForUser:["GET /users/{username}/following/{target_user}"],checkPersonIsFollowedByAuthenticated:["GET /user/following/{username}"],createGpgKeyForAuthenticated:["POST /user/gpg_keys",{},{renamed:["users","createGpgKeyForAuthenticatedUser"]}],createGpgKeyForAuthenticatedUser:["POST /user/gpg_keys"],createPublicSshKeyForAuthenticated:["POST /user/keys",{},{renamed:["users","createPublicSshKeyForAuthenticatedUser"]}],createPublicSshKeyForAuthenticatedUser:["POST /user/keys"],createSshSigningKeyForAuthenticatedUser:["POST /user/ssh_signing_keys"],deleteEmailForAuthenticated:["DELETE /user/emails",{},{renamed:["users","deleteEmailForAuthenticatedUser"]}],deleteEmailForAuthenticatedUser:["DELETE /user/emails"],deleteGpgKeyForAuthenticated:["DELETE /user/gpg_keys/{gpg_key_id}",{},{renamed:["users","deleteGpgKeyForAuthenticatedUser"]}],deleteGpgKeyForAuthenticatedUser:["DELETE /user/gpg_keys/{gpg_key_id}"],deletePublicSshKeyForAuthenticated:["DELETE /user/keys/{key_id}",{},{renamed:["users","deletePublicSshKeyForAuthenticatedUser"]}],deletePublicSshKeyForAuthenticatedUser:["DELETE /user/keys/{key_id}"],deleteSocialAccountForAuthenticatedUser:["DELETE /user/social_accounts"],deleteSshSigningKeyForAuthenticatedUser:["DELETE /user/ssh_signing_keys/{ssh_signing_key_id}"],follow:["PUT /user/following/{username}"],getAuthenticated:["GET /user"],getById:["GET /user/{account_id}"],getByUsername:["GET /users/{username}"],getContextForUser:["GET /users/{username}/hovercard"],getGpgKeyForAuthenticated:["GET /user/gpg_keys/{gpg_key_id}",{},{renamed:["users","getGpgKeyForAuthenticatedUser"]}],getGpgKeyForAuthenticatedUser:["GET /user/gpg_keys/{gpg_key_id}"],getPublicSshKeyForAuthenticated:["GET /user/keys/{key_id}",{},{renamed:["users","getPublicSshKeyForAuthenticatedUser"]}],getPublicSshKeyForAuthenticatedUser:["GET /user/keys/{key_id}"],getSshSigningKeyForAuthenticatedUser:["GET /user/ssh_signing_keys/{ssh_signing_key_id}"],list:["GET /users"],listAttestations:["GET /users/{username}/attestations/{subject_digest}"],listBlockedByAuthenticated:["GET /user/blocks",{},{renamed:["users","listBlockedByAuthenticatedUser"]}],listBlockedByAuthenticatedUser:["GET /user/blocks"],listEmailsForAuthenticated:["GET /user/emails",{},{renamed:["users","listEmailsForAuthenticatedUser"]}],listEmailsForAuthenticatedUser:["GET /user/emails"],listFollowedByAuthenticated:["GET /user/following",{},{renamed:["users","listFollowedByAuthenticatedUser"]}],listFollowedByAuthenticatedUser:["GET /user/following"],listFollowersForAuthenticatedUser:["GET /user/followers"],listFollowersForUser:["GET /users/{username}/followers"],listFollowingForUser:["GET /users/{username}/following"],listGpgKeysForAuthenticated:["GET /user/gpg_keys",{},{renamed:["users","listGpgKeysForAuthenticatedUser"]}],listGpgKeysForAuthenticatedUser:["GET /user/gpg_keys"],listGpgKeysForUser:["GET /users/{username}/gpg_keys"],listPublicEmailsForAuthenticated:["GET /user/public_emails",{},{renamed:["users","listPublicEmailsForAuthenticatedUser"]}],listPublicEmailsForAuthenticatedUser:["GET /user/public_emails"],listPublicKeysForUser:["GET /users/{username}/keys"],listPublicSshKeysForAuthenticated:["GET /user/keys",{},{renamed:["users","listPublicSshKeysForAuthenticatedUser"]}],listPublicSshKeysForAuthenticatedUser:["GET /user/keys"],listSocialAccountsForAuthenticatedUser:["GET /user/social_accounts"],listSocialAccountsForUser:["GET /users/{username}/social_accounts"],listSshSigningKeysForAuthenticatedUser:["GET /user/ssh_signing_keys"],listSshSigningKeysForUser:["GET /users/{username}/ssh_signing_keys"],setPrimaryEmailVisibilityForAuthenticated:["PATCH /user/email/visibility",{},{renamed:["users","setPrimaryEmailVisibilityForAuthenticatedUser"]}],setPrimaryEmailVisibilityForAuthenticatedUser:["PATCH /user/email/visibility"],unblock:["DELETE /user/blocks/{username}"],unfollow:["DELETE /user/following/{username}"],updateAuthenticated:["PATCH /user"]}};const _o=new Map;for(const[i,e]of Object.entries($R))for(const[t,n]of Object.entries(e)){const[r,a,o]=n,[d,S]=r.split(/ /),C=Object.assign({method:d,url:S},a);_o.has(i)||_o.set(i,new Map),_o.get(i).set(t,{scope:i,methodName:t,endpointDefaults:C,decorations:o})}const HR={has({scope:i},e){return _o.get(i).has(e)},getOwnPropertyDescriptor(i,e){return{value:this.get(i,e),configurable:!0,writable:!0,enumerable:!0}},defineProperty(i,e,t){return Object.defineProperty(i.cache,e,t),!0},deleteProperty(i,e){return delete i.cache[e],!0},ownKeys({scope:i}){return[..._o.get(i).keys()]},set(i,e,t){return i.cache[e]=t},get({octokit:i,scope:e,cache:t},n){if(t[n])return t[n];const r=_o.get(e).get(n);if(!r)return;const{endpointDefaults:a,decorations:o}=r;return o?t[n]=GR(i,e,n,a,o):t[n]=i.request.defaults(a),t[n]}};function $v(i){const e={};for(const t of _o.keys())e[t]=new Proxy({octokit:i,scope:t,cache:{}},HR);return e}function GR(i,e,t,n,r){const a=i.request.defaults(n);function o(...d){let S=a.endpoint.merge(...d);if(r.mapToData)return S=Object.assign({},S,{data:S[r.mapToData],[r.mapToData]:void 0}),a(S);if(r.renamed){const[C,$]=r.renamed;i.log.warn(`octokit.${e}.${t}() has been renamed to octokit.${C}.${$}()`)}if(r.deprecated&&i.log.warn(r.deprecated),r.renamedParameters){const C=a.endpoint.merge(...d);for(const[$,Y]of Object.entries(r.renamedParameters))$ in C&&(i.log.warn(`"${$}" parameter is deprecated for "octokit.${e}.${t}()". Use "${Y}" instead`),Y in C||(C[Y]=C[$]),delete C[$]);return a(C)}return a(...d)}return Object.assign(o,a)}function VR(i){return{rest:$v(i)}}VR.VERSION=qv;function Hv(i){const e=$v(i);return{...e,rest:e}}Hv.VERSION=qv;const jR=ah.plugin(Ov,Hv,Bv).defaults({userAgent:"octokit-rest.js/22.0.0"});function zR(i){var e={kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GeneratedClientQuery"},selectionSet:Jd(i)},t={kind:"Document",definitions:[e]};return t}function WR(i,e){var t={kind:"FragmentDefinition",typeCondition:{kind:"NamedType",name:{kind:"Name",value:e||"__FakeType"}},name:{kind:"Name",value:"GeneratedClientQuery"},selectionSet:Jd(i)},n={kind:"Document",definitions:[t]};return n}function Jd(i){if(typeof i=="number"||typeof i=="boolean"||typeof i=="string"||typeof i=="undefined"||i===null)return null;if(Array.isArray(i))return Jd(i[0]);var e=[];Object.keys(i).forEach(function(n){var r=Jd(i[n]),a={kind:"Field",name:{kind:"Name",value:n},selectionSet:r||void 0};e.push(a)});var t={kind:"SelectionSet",selections:e};return t}var KR={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:null,variableDefinitions:null,directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:null,name:{kind:"Name",value:"__typename"},arguments:[],directives:[],selectionSet:null}]}}]},QR=function(){function i(){}return i.prototype.transformDocument=function(e){return e},i.prototype.transformForLink=function(e){return e},i.prototype.readQuery=function(e,t){return t===void 0&&(t=!1),this.read({query:e.query,variables:e.variables,optimistic:t})},i.prototype.readFragment=function(e,t){return t===void 0&&(t=!1),this.read({query:ds(e.fragment,e.fragmentName),variables:e.variables,rootId:e.id,optimistic:t})},i.prototype.writeQuery=function(e){this.write({dataId:"ROOT_QUERY",result:e.data,query:e.query,variables:e.variables})},i.prototype.writeFragment=function(e){this.write({dataId:e.id,result:e.data,variables:e.variables,query:ds(e.fragment,e.fragmentName)})},i.prototype.writeData=function(e){var t=e.id,n=e.data;if(typeof t!="undefined"){var r=null;try{r=this.read({rootId:t,optimistic:!1,query:KR})}catch{}var a=r&&r.__typename||"__ClientData",o=Object.assign({__typename:a},n);this.writeFragment({id:t,fragment:WR(o,a),data:o})}else this.writeQuery({query:zR(n),data:n})},i}(),Gv;Gv||(Gv={});var kr=null,Vv={},YR=1,JR=function(){return function(){function i(){this.id=["slot",YR++,Date.now(),Math.random().toString(36).slice(2)].join(":")}return i.prototype.hasValue=function(){for(var e=kr;e;e=e.parent)if(this.id in e.slots){var t=e.slots[this.id];if(t===Vv)break;return e!==kr&&(kr.slots[this.id]=t),!0}return kr&&(kr.slots[this.id]=Vv),!1},i.prototype.getValue=function(){if(this.hasValue())return kr.slots[this.id]},i.prototype.withValue=function(e,t,n,r){var a,o=(a={__proto__:null},a[this.id]=e,a),d=kr;kr={parent:d,slots:o};try{return t.apply(r,n)}finally{kr=d}},i.bind=function(e){var t=kr;return function(){var n=kr;try{return kr=t,e.apply(this,arguments)}finally{kr=n}}},i.noContext=function(e,t,n){if(kr){var r=kr;try{return kr=null,e.apply(n,t)}finally{kr=r}}else return e.apply(n,t)},i}()},oh="@wry/context:Slot",lh=Array,uh=lh[oh]||function(){var i=JR();try{Object.defineProperty(lh,oh,{value:lh[oh]=i,enumerable:!1,writable:!1,configurable:!1})}finally{return i}}(),dh=uh.bind,ZR=uh.noContext;function _D(i,e){return setTimeout(dh(i),e)}function SD(i){return function(){var e=i.apply(this,arguments),t=dh(e.next),n=dh(e.throw);return new Promise(function(r,a){function o(C,$){try{var Y=C.call(e,$)}catch(le){return a(le)}var ne=Y.done?r:d;XR(Y.value)?Y.value.then(ne,Y.done?a:S):ne(Y.value)}var d=function(C){return o(t,C)},S=function(C){return o(n,C)};d()})}}function XR(i){return i&&typeof i.then=="function"}var jv=null;function ED(i){if(jv.indexOf(i)<0){var e=function(t,n){var r=t[n];t[n]=function(){return ZR(r,arguments,this)}};e(i,"yield"),e(i.prototype,"run"),e(i.prototype,"throwInto"),jv.push(i)}return i}function eN(){}var tN=function(){function i(e,t){e===void 0&&(e=1/0),t===void 0&&(t=eN),this.max=e,this.dispose=t,this.map=new Map,this.newest=null,this.oldest=null}return i.prototype.has=function(e){return this.map.has(e)},i.prototype.get=function(e){var t=this.getEntry(e);return t&&t.value},i.prototype.getEntry=function(e){var t=this.map.get(e);if(t&&t!==this.newest){var n=t.older,r=t.newer;r&&(r.older=n),n&&(n.newer=r),t.older=this.newest,t.older.newer=t,t.newer=null,this.newest=t,t===this.oldest&&(this.oldest=r)}return t},i.prototype.set=function(e,t){var n=this.getEntry(e);return n?n.value=t:(n={key:e,value:t,newer:null,older:this.newest},this.newest&&(this.newest.newer=n),this.newest=n,this.oldest=this.oldest||n,this.map.set(e,n),n.value)},i.prototype.clean=function(){for(;this.oldest&&this.map.size>this.max;)this.delete(this.oldest.key)},i.prototype.delete=function(e){var t=this.map.get(e);return t?(t===this.newest&&(this.newest=t.older),t===this.oldest&&(this.oldest=t.newer),t.newer&&(t.newer.older=t.older),t.older&&(t.older.newer=t.newer),this.map.delete(e),this.dispose(t.value,e),!0):!1},i}(),Zd=new uh,iN=[],ch=[],nN=100;function fl(i,e){if(!i)throw new Error(e||"assertion failure")}function rN(i,e){var t=i.length;return t>0&&t===e.length&&i[t-1]===e[t-1]}function zv(i){switch(i.length){case 0:throw new Error("unknown value");case 1:return i[0];case 2:throw i[1]}}function aN(i){return i.slice(0)}var sN=function(){function i(e,t){this.fn=e,this.args=t,this.parents=new Set,this.childValues=new Map,this.dirtyChildren=null,this.dirty=!0,this.recomputing=!1,this.value=[],++i.count}return i.prototype.recompute=function(){if(fl(!this.recomputing,"already recomputing"),!(!oN(this)&&fh(this)))return hl(this)?lN(this):zv(this.value)},i.prototype.setDirty=function(){this.dirty||(this.dirty=!0,this.value.length=0,Wv(this),hh(this))},i.prototype.dispose=function(){var e=this;Zv(this).forEach(fh),hh(this),this.parents.forEach(function(t){t.setDirty(),Xv(t,e)})},i.count=0,i}();function oN(i){var e=Zd.getValue();if(e)return i.parents.add(e),e.childValues.has(i)||e.childValues.set(i,[]),hl(i)?Qv(e,i):Yv(e,i),e}function lN(i){var e=Zv(i);return Zd.withValue(i,uN,[i]),cN(i)&&dN(i),e.forEach(fh),zv(i.value)}function uN(i){i.recomputing=!0,i.value.length=0;try{i.value[0]=i.fn.apply(null,i.args)}catch(e){i.value[1]=e}i.recomputing=!1}function hl(i){return i.dirty||!!(i.dirtyChildren&&i.dirtyChildren.size)}function dN(i){i.dirty=!1,!hl(i)&&Kv(i)}function Wv(i){i.parents.forEach(function(e){return Qv(e,i)})}function Kv(i){i.parents.forEach(function(e){return Yv(e,i)})}function Qv(i,e){if(fl(i.childValues.has(e)),fl(hl(e)),!i.dirtyChildren)i.dirtyChildren=ch.pop()||new Set;else if(i.dirtyChildren.has(e))return;i.dirtyChildren.add(e),Wv(i)}function Yv(i,e){fl(i.childValues.has(e)),fl(!hl(e));var t=i.childValues.get(e);t.length===0?i.childValues.set(e,aN(e.value)):rN(t,e.value)||i.setDirty(),Jv(i,e),!hl(i)&&Kv(i)}function Jv(i,e){var t=i.dirtyChildren;t&&(t.delete(e),t.size===0&&(ch.length<nN&&ch.push(t),i.dirtyChildren=null))}function fh(i){return i.parents.size===0&&typeof i.reportOrphan=="function"&&i.reportOrphan()===!0}function Zv(i){var e=iN;return i.childValues.size>0&&(e=[],i.childValues.forEach(function(t,n){Xv(i,n),e.push(n)})),fl(i.dirtyChildren===null),e}function Xv(i,e){e.parents.delete(i),i.childValues.delete(e),Jv(i,e)}function cN(i){if(typeof i.subscribe=="function")try{hh(i),i.unsubscribe=i.subscribe.apply(null,i.args)}catch{return i.setDirty(),!1}return!0}function hh(i){var e=i.unsubscribe;typeof e=="function"&&(i.unsubscribe=void 0,e())}var mh=function(){function i(e){this.weakness=e}return i.prototype.lookup=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this.lookupArray(e)},i.prototype.lookupArray=function(e){var t=this;return e.forEach(function(n){return t=t.getChildTrie(n)}),t.data||(t.data=Object.create(null))},i.prototype.getChildTrie=function(e){var t=this.weakness&&fN(e)?this.weak||(this.weak=new WeakMap):this.strong||(this.strong=new Map),n=t.get(e);return n||t.set(e,n=new i(this.weakness)),n},i}();function fN(i){switch(typeof i){case"object":if(i===null)break;case"function":return!0}return!1}var hN=new mh(typeof WeakMap=="function");function mN(){for(var i=[],e=0;e<arguments.length;e++)i[e]=arguments[e];return hN.lookupArray(i)}var ph=new Set;function Su(i,e){e===void 0&&(e=Object.create(null));var t=new tN(e.max||Math.pow(2,16),function(o){return o.dispose()}),n=!!e.disposable,r=e.makeCacheKey||mN;function a(){if(!(n&&!Zd.hasValue())){var o=r.apply(null,arguments);if(o===void 0)return i.apply(null,arguments);var d=Array.prototype.slice.call(arguments),S=t.get(o);S?S.args=d:(S=new sN(i,d),t.set(o,S),S.subscribe=e.subscribe,n&&(S.reportOrphan=function(){return t.delete(o)}));var C=S.recompute();return t.set(o,S),ph.add(t),Zd.hasValue()||(ph.forEach(function($){return $.clean()}),ph.clear()),n?void 0:C}}return a.dirty=function(){var o=r.apply(null,arguments),d=o!==void 0&&t.get(o);d&&d.setDirty()},a}var e0=!1;function t0(){var i=!e0;return Wc()||(e0=!0),i}var pN=function(){function i(){}return i.prototype.ensureReady=function(){return Promise.resolve()},i.prototype.canBypassInit=function(){return!0},i.prototype.match=function(e,t,n){var r=n.store.get(e.id),a=e.id==="ROOT_QUERY";if(!r)return a;var o=r.__typename,d=o===void 0?a&&"Query":o;return d&&d===t?!0:(t0(),"heuristic")},i}(),RD=function(){function i(e){e&&e.introspectionQueryResultData?(this.possibleTypesMap=this.parseIntrospectionResult(e.introspectionQueryResultData),this.isReady=!0):this.isReady=!1,this.match=this.match.bind(this)}return i.prototype.match=function(e,t,n){en(this.isReady,1);var r=n.store.get(e.id),a=e.id==="ROOT_QUERY";if(!r)return a;var o=r.__typename,d=o===void 0?a&&"Query":o;if(en(d,2),d===t)return!0;var S=this.possibleTypesMap[t];return!!(d&&S&&S.indexOf(d)>-1)},i.prototype.parseIntrospectionResult=function(e){var t={};return e.__schema.types.forEach(function(n){(n.kind==="UNION"||n.kind==="INTERFACE")&&(t[n.name]=n.possibleTypes.map(function(r){return r.name}))}),t},i}(),i0=Object.prototype.hasOwnProperty,ml=function(){function i(e){var t=this;e===void 0&&(e=Object.create(null)),this.data=e,this.depend=Su(function(n){return t.data[n]},{disposable:!0,makeCacheKey:function(n){return n}})}return i.prototype.toObject=function(){return this.data},i.prototype.get=function(e){return this.depend(e),this.data[e]},i.prototype.set=function(e,t){var n=this.data[e];t!==n&&(this.data[e]=t,this.depend.dirty(e))},i.prototype.delete=function(e){i0.call(this.data,e)&&(delete this.data[e],this.depend.dirty(e))},i.prototype.clear=function(){this.replace(null)},i.prototype.replace=function(e){var t=this;e?(Object.keys(e).forEach(function(n){t.set(n,e[n])}),Object.keys(this.data).forEach(function(n){i0.call(e,n)||t.delete(n)})):Object.keys(this.data).forEach(function(n){t.delete(n)})},i}();function n0(i){return new ml(i)}var gN=function(){function i(e){var t=this,n=e===void 0?{}:e,r=n.cacheKeyRoot,a=r===void 0?new mh(ir):r,o=n.freezeResults,d=o===void 0?!1:o,S=this,C=S.executeStoreQuery,$=S.executeSelectionSet,Y=S.executeSubSelectedArray;this.freezeResults=d,this.executeStoreQuery=Su(function(ne){return C.call(t,ne)},{makeCacheKey:function(ne){var le=ne.query,he=ne.rootValue,ke=ne.contextValue,pe=ne.variableValues,Ne=ne.fragmentMatcher;if(ke.store instanceof ml)return a.lookup(ke.store,le,Ne,JSON.stringify(pe),he.id)}}),this.executeSelectionSet=Su(function(ne){return $.call(t,ne)},{makeCacheKey:function(ne){var le=ne.selectionSet,he=ne.rootValue,ke=ne.execContext;if(ke.contextValue.store instanceof ml)return a.lookup(ke.contextValue.store,le,ke.fragmentMatcher,JSON.stringify(ke.variableValues),he.id)}}),this.executeSubSelectedArray=Su(function(ne){return Y.call(t,ne)},{makeCacheKey:function(ne){var le=ne.field,he=ne.array,ke=ne.execContext;if(ke.contextValue.store instanceof ml)return a.lookup(ke.contextValue.store,le,he,JSON.stringify(ke.variableValues))}})}return i.prototype.readQueryFromStore=function(e){return this.diffQueryAgainstStore(Mt(Mt({},e),{returnPartialData:!1})).result},i.prototype.diffQueryAgainstStore=function(e){var t=e.store,n=e.query,r=e.variables,a=e.previousResult,o=e.returnPartialData,d=o===void 0?!0:o,S=e.rootId,C=S===void 0?"ROOT_QUERY":S,$=e.fragmentMatcherFunction,Y=e.config,ne=Ku(n);r=$a({},Js(ne),r);var le={store:t,dataIdFromObject:Y&&Y.dataIdFromObject,cacheRedirects:Y&&Y.cacheRedirects||{}},he=this.executeStoreQuery({query:n,rootValue:{type:"id",id:C,generated:!0,typename:"Query"},contextValue:le,variableValues:r,fragmentMatcher:$}),ke=he.missing&&he.missing.length>0;return ke&&!d&&he.missing.forEach(function(pe){if(!pe.tolerable)throw new Xn(8)}),a&&$n(a,he.result)&&(he.result=a),{result:he.result,complete:!ke}},i.prototype.executeStoreQuery=function(e){var t=e.query,n=e.rootValue,r=e.contextValue,a=e.variableValues,o=e.fragmentMatcher,d=o===void 0?vN:o,S=Ys(t),C=xo(t),$=Oo(C),Y={query:t,fragmentMap:$,contextValue:r,variableValues:a,fragmentMatcher:d};return this.executeSelectionSet({selectionSet:S.selectionSet,rootValue:n,execContext:Y})},i.prototype.executeSelectionSet=function(e){var t=this,n=e.selectionSet,r=e.rootValue,a=e.execContext,o=a.fragmentMap,d=a.contextValue,S=a.variableValues,C={result:null},$=[],Y=d.store.get(r.id),ne=Y&&Y.__typename||r.id==="ROOT_QUERY"&&"Query"||void 0;function le(he){var ke;return he.missing&&(C.missing=C.missing||[],(ke=C.missing).push.apply(ke,he.missing)),he.result}return n.selections.forEach(function(he){var ke;if(Ei(he,S))if(Xe(he)){var pe=le(t.executeField(Y,ne,he,a));typeof pe!="undefined"&&$.push((ke={},ke[We(he)]=pe,ke))}else{var Ne=void 0;if(at(he))Ne=he;else if(Ne=o[he.name.value],!Ne)throw new Xn(9);var Ce=Ne.typeCondition&&Ne.typeCondition.name.value,De=!Ce||a.fragmentMatcher(r,Ce,d);if(De){var He=t.executeSelectionSet({selectionSet:Ne.selectionSet,rootValue:r,execContext:a});De==="heuristic"&&He.missing&&(He=Mt(Mt({},He),{missing:He.missing.map(function(Ke){return Mt(Mt({},Ke),{tolerable:!0})})})),$.push(le(He))}}}),C.result=Qc($),this.freezeResults,C},i.prototype.executeField=function(e,t,n,r){var a=r.variableValues,o=r.contextValue,d=n.name.value,S=Ie(n,a),C={resultKey:We(n),directives:Ui(n,a)},$=yN(e,t,d,S,o,C);return Array.isArray($.result)?this.combineExecResults($,this.executeSubSelectedArray({field:n,array:$.result,execContext:r})):n.selectionSet?$.result==null?$:this.combineExecResults($,this.executeSelectionSet({selectionSet:n.selectionSet,rootValue:$.result,execContext:r})):(r0(n,$.result),this.freezeResults,$)},i.prototype.combineExecResults=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n;return e.forEach(function(r){r.missing&&(n=n||[],n.push.apply(n,r.missing))}),{result:e.pop().result,missing:n}},i.prototype.executeSubSelectedArray=function(e){var t=this,n=e.field,r=e.array,a=e.execContext,o;function d(S){return S.missing&&(o=o||[],o.push.apply(o,S.missing)),S.result}return r=r.map(function(S){return S===null?null:Array.isArray(S)?d(t.executeSubSelectedArray({field:n,array:S,execContext:a})):n.selectionSet?d(t.executeSelectionSet({selectionSet:n.selectionSet,rootValue:S,execContext:a})):(r0(n,S),S)}),this.freezeResults,{result:r,missing:o}},i}();function r0(i,e){if(!i.selectionSet&&ft(e))throw new Xn(10)}function vN(){return!0}function ND(i){invariant(isIdValue(i),11)}function yN(i,e,t,n,r,a){var o=a.resultKey,d=a.directives,S=t;(n||d)&&(S=Ae(S,n,d));var C=void 0;if(i&&(C=i[S],typeof C=="undefined"&&r.cacheRedirects&&typeof e=="string")){var $=r.cacheRedirects[e];if($){var Y=$[t];Y&&(C=Y(i,n,{getCacheKey:function(ne){var le=r.dataIdFromObject(ne);return le&&Vt({id:le,typename:ne.__typename})}}))}}return typeof C=="undefined"?{result:C,missing:[{object:i,fieldName:S,tolerable:!1}]}:(Qt(C)&&(C=C.json),{result:C})}var Xd=function(){function i(e){e===void 0&&(e=Object.create(null)),this.data=e}return i.prototype.toObject=function(){return this.data},i.prototype.get=function(e){return this.data[e]},i.prototype.set=function(e,t){this.data[e]=t},i.prototype.delete=function(e){this.data[e]=void 0},i.prototype.clear=function(){this.data=Object.create(null)},i.prototype.replace=function(e){this.data=e||Object.create(null)},i}();function CD(i){return new Xd(i)}var bN=function(i){Bn(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="WriteError",t}return e}(Error);function wN(i,e){var t=new bN(`Error writing result to store for query:
 `+JSON.stringify(e));return t.message+=`
`+i.message,t.stack=i.stack,t}var kN=function(){function i(){}return i.prototype.writeQueryToStore=function(e){var t=e.query,n=e.result,r=e.store,a=r===void 0?n0():r,o=e.variables,d=e.dataIdFromObject,S=e.fragmentMatcherFunction;return this.writeResultToStore({dataId:"ROOT_QUERY",result:n,document:t,store:a,variables:o,dataIdFromObject:d,fragmentMatcherFunction:S})},i.prototype.writeResultToStore=function(e){var t=e.dataId,n=e.result,r=e.document,a=e.store,o=a===void 0?n0():a,d=e.variables,S=e.dataIdFromObject,C=e.fragmentMatcherFunction,$=Ra(r);try{return this.writeSelectionSetToStore({result:n,dataId:t,selectionSet:$.selectionSet,context:{store:o,processedData:{},variables:$a({},Js($),d),dataIdFromObject:S,fragmentMap:Oo(xo(r)),fragmentMatcherFunction:C}})}catch(Y){throw wN(Y,r)}},i.prototype.writeSelectionSetToStore=function(e){var t=this,n=e.result,r=e.dataId,a=e.selectionSet,o=e.context,d=o.variables,S=o.store,C=o.fragmentMap;return a.selections.forEach(function($){var Y;if(Ei($,d))if(Xe($)){var ne=We($),le=n[ne];if(typeof le!="undefined")t.writeFieldToStore({dataId:r,value:le,field:$,context:o});else{var he=!1,ke=!1;$.directives&&$.directives.length&&(he=$.directives.some(function(Ge){return Ge.name&&Ge.name.value==="defer"}),ke=$.directives.some(function(Ge){return Ge.name&&Ge.name.value==="client"})),!he&&!ke&&o.fragmentMatcherFunction}}else{var pe=void 0;at($)?pe=$:(pe=(C||{})[$.name.value],en(pe,3));var Ne=!0;if(o.fragmentMatcherFunction&&pe.typeCondition){var Ce=r||"self",De=Vt({id:Ce,typename:void 0}),He={store:new Xd((Y={},Y[Ce]=n,Y)),cacheRedirects:{}},Ke=o.fragmentMatcherFunction(De,pe.typeCondition.name.value,He);Sm(),Ne=!!Ke}Ne&&t.writeSelectionSetToStore({result:n,selectionSet:pe.selectionSet,dataId:r,context:o})}}),S},i.prototype.writeFieldToStore=function(e){var t,n=e.field,r=e.value,a=e.dataId,o=e.context,d=o.variables,S=o.dataIdFromObject,C=o.store,$,Y,ne=Te(n,d);if(!n.selectionSet||r===null)$=r!=null&&typeof r=="object"?{type:"json",json:r}:r;else if(Array.isArray(r)){var le=a+"."+ne;$=this.processArrayValue(r,le,n.selectionSet,o)}else{var he=a+"."+ne,ke=!0;if(gh(he)||(he="$"+he),S){var pe=S(r);en(!pe||!gh(pe),4),(pe||typeof pe=="number"&&pe===0)&&(he=pe,ke=!1)}s0(he,n,o.processedData)||this.writeSelectionSetToStore({dataId:he,result:r,selectionSet:n.selectionSet,context:o});var Ne=r.__typename;$=Vt({id:he,typename:Ne},ke),Y=C.get(a);var Ce=Y&&Y[ne];if(Ce!==$&&ft(Ce)){var De=Ce.typename!==void 0,He=Ne!==void 0,Ke=De&&He&&Ce.typename!==Ne;en(!ke||Ce.generated||Ke,5),en(!De||He,6),Ce.generated&&(Ke?ke||C.delete(Ce.id):a0(Ce.id,$.id,C))}}Y=C.get(a),(!Y||!$n($,Y[ne]))&&C.set(a,Mt(Mt({},Y),(t={},t[ne]=$,t)))},i.prototype.processArrayValue=function(e,t,n,r){var a=this;return e.map(function(o,d){if(o===null)return null;var S=t+"."+d;if(Array.isArray(o))return a.processArrayValue(o,S,n,r);var C=!0;if(r.dataIdFromObject){var $=r.dataIdFromObject(o);$&&(S=$,C=!1)}return s0(S,n,r.processedData)||a.writeSelectionSetToStore({dataId:S,result:o,selectionSet:n,context:r}),Vt({id:S,typename:o.__typename},C)})},i}();function gh(i){return i[0]==="$"}function a0(i,e,t){if(i===e)return!1;var n=t.get(i),r=t.get(e),a=!1;Object.keys(n).forEach(function(d){var S=n[d],C=r[d];ft(S)&&gh(S.id)&&ft(C)&&!$n(S,C)&&a0(S.id,C.id,t)&&(a=!0)}),t.delete(i);var o=Mt(Mt({},n),r);return $n(o,r)?a:(t.set(e,o),!0)}function s0(i,e,t){if(!t)return!1;if(t[i]){if(t[i].indexOf(e)>=0)return!0;t[i].push(e)}else t[i]=[e];return!1}var _N={fragmentMatcher:new pN,dataIdFromObject:SN,addTypename:!0,resultCaching:!0,freezeResults:!1};function SN(i){if(i.__typename){if(i.id!==void 0)return i.__typename+":"+i.id;if(i._id!==void 0)return i.__typename+":"+i._id}return null}var EN=Object.prototype.hasOwnProperty,o0=function(i){Bn(e,i);function e(t,n,r){var a=i.call(this,Object.create(null))||this;return a.optimisticId=t,a.parent=n,a.transaction=r,a}return e.prototype.toObject=function(){return Mt(Mt({},this.parent.toObject()),this.data)},e.prototype.get=function(t){return EN.call(this.data,t)?this.data[t]:this.parent.get(t)},e}(Xd),RN=function(i){Bn(e,i);function e(t){t===void 0&&(t={});var n=i.call(this)||this;n.watches=new Set,n.typenameDocumentCache=new Map,n.cacheKeyRoot=new mh(ir),n.silenceBroadcast=!1,n.config=Mt(Mt({},_N),t),n.config.customResolvers&&(n.config.cacheRedirects=n.config.customResolvers),n.config.cacheResolvers&&(n.config.cacheRedirects=n.config.cacheResolvers),n.addTypename=!!n.config.addTypename,n.data=n.config.resultCaching?new ml:new Xd,n.optimisticData=n.data,n.storeWriter=new kN,n.storeReader=new gN({cacheKeyRoot:n.cacheKeyRoot,freezeResults:t.freezeResults});var r=n,a=r.maybeBroadcastWatch;return n.maybeBroadcastWatch=Su(function(o){return a.call(n,o)},{makeCacheKey:function(o){if(!o.optimistic&&!o.previousResult&&r.data instanceof ml)return r.cacheKeyRoot.lookup(o.query,JSON.stringify(o.variables))}}),n}return e.prototype.restore=function(t){return t&&this.data.replace(t),this},e.prototype.extract=function(t){return t===void 0&&(t=!1),(t?this.optimisticData:this.data).toObject()},e.prototype.read=function(t){if(typeof t.rootId=="string"&&typeof this.data.get(t.rootId)=="undefined")return null;var n=this.config.fragmentMatcher,r=n&&n.match;return this.storeReader.readQueryFromStore({store:t.optimistic?this.optimisticData:this.data,query:this.transformDocument(t.query),variables:t.variables,rootId:t.rootId,fragmentMatcherFunction:r,previousResult:t.previousResult,config:this.config})||null},e.prototype.write=function(t){var n=this.config.fragmentMatcher,r=n&&n.match;this.storeWriter.writeResultToStore({dataId:t.dataId,result:t.result,variables:t.variables,document:this.transformDocument(t.query),store:this.data,dataIdFromObject:this.config.dataIdFromObject,fragmentMatcherFunction:r}),this.broadcastWatches()},e.prototype.diff=function(t){var n=this.config.fragmentMatcher,r=n&&n.match;return this.storeReader.diffQueryAgainstStore({store:t.optimistic?this.optimisticData:this.data,query:this.transformDocument(t.query),variables:t.variables,returnPartialData:t.returnPartialData,previousResult:t.previousResult,fragmentMatcherFunction:r,config:this.config})},e.prototype.watch=function(t){var n=this;return this.watches.add(t),function(){n.watches.delete(t)}},e.prototype.evict=function(t){throw new Xn(7)},e.prototype.reset=function(){return this.data.clear(),this.broadcastWatches(),Promise.resolve()},e.prototype.removeOptimistic=function(t){for(var n=[],r=0,a=this.optimisticData;a instanceof o0;)a.optimisticId===t?++r:n.push(a),a=a.parent;if(r>0){for(this.optimisticData=a;n.length>0;){var o=n.pop();this.performTransaction(o.transaction,o.optimisticId)}this.broadcastWatches()}},e.prototype.performTransaction=function(t,n){var r=this,a=r.data,o=r.silenceBroadcast;this.silenceBroadcast=!0,typeof n=="string"&&(this.data=this.optimisticData=new o0(n,this.optimisticData,t));try{t(this)}finally{this.silenceBroadcast=o,this.data=a}this.broadcastWatches()},e.prototype.recordOptimisticTransaction=function(t,n){return this.performTransaction(t,n)},e.prototype.transformDocument=function(t){if(this.addTypename){var n=this.typenameDocumentCache.get(t);return n||(n=jc(t),this.typenameDocumentCache.set(t,n),this.typenameDocumentCache.set(n,n)),n}return t},e.prototype.broadcastWatches=function(){var t=this;this.silenceBroadcast||this.watches.forEach(function(n){return t.maybeBroadcastWatch(n)})},e.prototype.maybeBroadcastWatch=function(t){t.callback(this.diff({query:t.query,variables:t.variables,previousResult:t.previousResult&&t.previousResult(),optimistic:t.optimistic}))},e}(QR);function NN(i){return new Na(function(e,t){var n=Ks(e,[]);return new Or(function(r){var a;return Promise.resolve(n).then(function(o){return i(o,e.getContext())}).then(e.setContext).then(function(){a=t(e).subscribe({next:r.next.bind(r),error:r.error.bind(r),complete:r.complete.bind(r)})}).catch(r.error.bind(r)),function(){a&&a.unsubscribe()}})})}var CN=ti(70585),TN={includeQuery:!0,includeExtensions:!1},AN={accept:"*/*","content-type":"application/json"},MN={method:"POST"},PN={http:TN,headers:AN,options:MN},l0=function(i,e,t){var n=new Error(t);throw n.name="ServerError",n.response=i,n.statusCode=i.status,n.result=e,n},FN=function(i){return function(e){return e.text().then(function(t){try{return JSON.parse(t)}catch(r){var n=r;return n.name="ServerParseError",n.response=e,n.statusCode=e.status,n.bodyText=t,Promise.reject(n)}}).then(function(t){return e.status>=300&&l0(e,t,"Response not successful: Received status code "+e.status),!Array.isArray(t)&&!t.hasOwnProperty("data")&&!t.hasOwnProperty("errors")&&l0(e,t,"Server response was missing for query '"+(Array.isArray(i)?i.map(function(n){return n.operationName}):i.operationName)+"'."),t})}},DN=function(i){if(!i&&typeof fetch=="undefined"){var e="unfetch";throw typeof window=="undefined"&&(e="node-fetch"),new Xn(1)}},IN=function(){if(typeof AbortController=="undefined")return{controller:!1,signal:!1};var i=new AbortController,e=i.signal;return{controller:i,signal:e}},xN=function(i,e){for(var t=[],n=2;n<arguments.length;n++)t[n-2]=arguments[n];var r=Mt({},e.options,{headers:e.headers,credentials:e.credentials}),a=e.http;t.forEach(function(Y){r=Mt({},r,Y.options,{headers:Mt({},r.headers,Y.headers)}),Y.credentials&&(r.credentials=Y.credentials),a=Mt({},a,Y.http)});var o=i.operationName,d=i.extensions,S=i.variables,C=i.query,$={operationName:o,variables:S};return a.includeExtensions&&($.extensions=d),a.includeQuery&&($.query=(0,CN.y)(C)),{options:r,body:$}},vh=function(i,e){var t;try{t=JSON.stringify(i)}catch(r){var n=new Xn(2);throw n.parseError=r,n}return t},ON=function(i,e){var t=i.getContext(),n=t.uri;return n||(typeof e=="function"?e(i):e||"/graphql")},u0=function(i){i===void 0&&(i={});var e=i.uri,t=e===void 0?"/graphql":e,n=i.fetch,r=i.includeExtensions,a=i.useGETForQueries,o=Ks(i,["uri","fetch","includeExtensions","useGETForQueries"]);DN(n),n||(n=fetch);var d={http:{includeExtensions:r},options:o.fetchOptions,credentials:o.credentials,headers:o.headers};return new Na(function(S){var C=ON(S,t),$=S.getContext(),Y={};if($.clientAwareness){var ne=$.clientAwareness,le=ne.name,he=ne.version;le&&(Y["apollographql-client-name"]=le),he&&(Y["apollographql-client-version"]=he)}var ke=Mt({},Y,$.headers),pe={http:$.http,options:$.fetchOptions,credentials:$.credentials,headers:ke},Ne=xN(S,PN,d,pe),Ce=Ne.options,De=Ne.body,He;if(!Ce.signal){var Ke=IN(),Ge=Ke.controller,je=Ke.signal;He=Ge,He&&(Ce.signal=je)}var nt=function(Pi){return Pi.kind==="OperationDefinition"&&Pi.operation==="mutation"};if(a&&!S.query.definitions.some(nt)&&(Ce.method="GET"),Ce.method==="GET"){var Nt=LN(C,De),Et=Nt.newURI,ki=Nt.parseError;if(ki)return Am(ki);C=Et}else try{Ce.body=vh(De,"Payload")}catch(Pi){return Am(Pi)}return new Or(function(Pi){return n(C,Ce).then(function(Se){return S.setContext({response:Se}),Se}).then(FN(S)).then(function(Se){return Pi.next(Se),Pi.complete(),Se}).catch(function(Se){Se.name!=="AbortError"&&(Se.result&&Se.result.errors&&Se.result.data&&Pi.next(Se.result),Pi.error(Se))}),function(){He&&He.abort()}})})};function LN(i,e){var t=[],n=function(Y,ne){t.push(Y+"="+encodeURIComponent(ne))};if("query"in e&&n("query",e.query),e.operationName&&n("operationName",e.operationName),e.variables){var r=void 0;try{r=vh(e.variables,"Variables map")}catch(Y){return{parseError:Y}}n("variables",r)}if(e.extensions){var a=void 0;try{a=vh(e.extensions,"Extensions map")}catch(Y){return{parseError:Y}}n("extensions",a)}var o="",d=i,S=i.indexOf("#");S!==-1&&(o=i.substr(S),d=i.substr(0,S));var C=d.indexOf("?")===-1?"?":"&",$=d+C+t.join("&")+o;return{newURI:$}}var TD=function(i){Bn(e,i);function e(t){return i.call(this,u0(t).request)||this}return e}(Na),UN=Object.defineProperty,BN=(i,e,t)=>e in i?UN(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t,_r=(i,e,t)=>BN(i,typeof e!="symbol"?e+"":e,t);const d0=s.l10n.t("Try again?"),qN=s.l10n.t("Cancel"),c0=s.l10n.t("Sign In"),$N=s.l10n.t("Don't Show Again"),f0=s.l10n.t("prompt for sign in"),h0="login",HN=["read:user","user:email","repo"],Xa=["read:user","user:email","repo","workflow"],Ls=["read:user","user:email","repo","workflow","project","read:org"],m0="githubPullRequest.lastUsedScopes",p0="githubPullRequest.lastUsedScopesEnterprise",g0=class sa extends f{constructor(e,t){super(),this._telemetry=e,this.context=t,_r(this,"_githubAPI"),_r(this,"_sessionId"),_r(this,"_githubEnterpriseAPI"),_r(this,"_enterpriseSessionId"),_r(this,"_isInitialized",!1),_r(this,"_onDidInitialize",new s.EventEmitter),_r(this,"onDidInitialize",this._onDidInitialize.event),_r(this,"_scopes",Xa),_r(this,"_scopesEnterprise",Xa),_r(this,"_isSamling",!1),_r(this,"_onDidChangeSessions",new s.EventEmitter),_r(this,"onDidChangeSessions",this._onDidChangeSessions.event),_r(this,"_onDidGetSession",new s.EventEmitter),_r(this,"onDidGetSession",this._onDidGetSession.event),_r(this,"_onDidUpgradeSession",new s.EventEmitter),_r(this,"onDidUpgradeSession",this._onDidUpgradeSession.event),this.setScopesFromState(),this._register(s.authentication.onDidChangeSessions(n=>this.handlOnDidChangeSessions(n)))}async handlOnDidChangeSessions(e){var t;const n=e.provider.id===Ni.github&&this._githubAPI?Ni.github:e.provider.id===Ni.githubEnterprise&&this._githubEnterpriseAPI?Ni.githubEnterprise:void 0;if((this._githubAPI||this._githubEnterpriseAPI)&&!n)return;if(n){if(((t=(await this.getSession(n,{silent:!0},n===Ni.github?this._scopes:this._scopesEnterprise,!0)).session)==null?void 0:t.id)===this._sessionId)return;n===Ni.github?(this._githubAPI=void 0,this._sessionId=void 0):(this._githubEnterpriseAPI=void 0,this._enterpriseSessionId=void 0)}const r=[];this.isAuthenticated(Ni.github)||r.push(this.initialize(Ni.github)),!this.isAuthenticated(Ni.githubEnterprise)&&Ca()&&r.push(this.initialize(Ni.githubEnterprise)),await Promise.all(r),this.isAnyAuthenticated()?this._onDidGetSession.fire():this._isSamling||this._onDidChangeSessions.fire(e)}allScopesIncluded(e,t){return t.every(n=>e.includes(n))}setScopesFromState(){this._scopes=this.context.globalState.get(m0,Xa),this._scopesEnterprise=this.context.globalState.get(p0,Xa)}get scopes(){return this._scopes}async saveScopesInState(){await this.context.globalState.update(m0,this._scopes),await this.context.globalState.update(p0,this._scopesEnterprise)}async initialize(e,t={},n=Pr(e)?this._scopesEnterprise:this._scopes,r){if(y.debug(`Initializing GitHub${ec(e)} authentication provider.`,"Authentication"),Pr(e)&&!Ca())return y.debug("GitHub Enterprise provider selected without URI.","Authentication"),{canceled:!1};t.createIfNone===void 0&&t.forceNewSession===void 0&&(t.createIfNone=!1);let a,o=!1,d=Xa;const S=this._scopes,C=this._scopesEnterprise,$={canceled:!1};try{Pr(e)?this._scopesEnterprise=n:this._scopes=n;const Y=await this.getSession(e,t,n,!!r);d=Y.scopes,a=Y.session,o=Y.isNew}catch(Y){this._scopes=S,this._scopesEnterprise=C;const ne=Y.message==="User did not consent to login.";if(ne&&($.canceled=!0),!(t.forceNewSession&&ne))throw Y}if(a){Pr(e)?this._enterpriseSessionId=a.id:this._sessionId=a.id;let Y;try{Y=await this.createHub(a.accessToken,e)}catch(ne){if(ne.message==="Bad credentials"&&!t.forceNewSession)return y.debug(`Creating hub failed ${ne.message}`,sa.ID),t.forceNewSession=!0,t.silent=!1,this.initialize(e,t,n,r);console.log(ne),y.error(`Creating hub failed ${ne.message}`,sa.ID),s.window.showErrorMessage(s.l10n.t("Unable to sign in with the provided credentials"))}return Pr(e)?(y.debug("Setting enterprise hub and scopes",sa.ID),this._githubEnterpriseAPI=Y,this._scopesEnterprise=d):(y.debug("Setting hub and scopes",sa.ID),this._githubAPI=Y,this._scopes=d),await this.saveScopesInState(),(!this._isInitialized||o&&!this._isSamling)&&(this._isInitialized=!0,this._onDidInitialize.fire()),o&&this._telemetry.sendTelemetryEvent("auth.session"),$}else return y.debug(`No GitHub${ec(e)} token found.`,sa.ID),$}async doCreate(e,t=!1){let n;const r=async()=>{n=await this.initialize(Ni.githubEnterprise,e,t?Ls:void 0,t)};Ca()?await r():Jr(xt,zt,Ca,r,this.context.subscriptions);const a={...e};return n&&!n.canceled&&(a.silent=!0),{canceled:(await this.initialize(Ni.github,a,t?Ls:void 0,t)).canceled||!!(n&&n.canceled)}}async create(e={},t=!1){return this.doCreate(e,t)}async recreate(e){return this.doCreate({forceNewSession:e?{detail:e}:!0})}async reset(){return this._githubAPI=void 0,this._githubEnterpriseAPI=void 0,this.create()}isAnyAuthenticated(){return this.isAuthenticated(Ni.github)||this.isAuthenticated(Ni.githubEnterprise)}isAuthenticated(e){return Pr(e)?!!this._githubEnterpriseAPI:!!this._githubAPI}isAuthenticatedWithAdditionalScopes(e){return Pr(e)?!!this._githubEnterpriseAPI&&this.allScopesIncluded(this._scopesEnterprise,Ls):!!this._githubAPI&&this.allScopesIncluded(this._scopes,Ls)}getHub(e){return Pr(e)?this._githubEnterpriseAPI:this._githubAPI}areScopesOld(e){return Pr(e)?!this.allScopesIncluded(this._scopesEnterprise,Xa):!this.allScopesIncluded(this._scopes,Xa)}async tryPromptForCopilotAuth(){if(this.isAnyAuthenticated())return!0;if(!await ht.executeCommand(ht.CHAT_SETUP_ACTION_ID,"agent",{additionalScopes:this.scopes}))return!1;const t=await this.create({createIfNone:{detail:s.l10n.t("Sign in to start delegating tasks to the GitHub coding agent.")}});return this._telemetry.sendTelemetryEvent("remoteAgent.command.auth",{succeeded:t.canceled?"false":"true"}),!t.canceled}areScopesExtra(e){return Pr(e)?this.allScopesIncluded(this._scopesEnterprise,Ls):this.allScopesIncluded(this._scopes,Ls)}async getHubEnsureAdditionalScopes(e){const t=this.isAuthenticatedWithAdditionalScopes(e);return await this.initialize(e,{createIfNone:!t},Ls,!0),t||this._onDidUpgradeSession.fire(),this.getHub(e)}async getHubOrLogin(e){var t,n;return Pr(e)?(n=this._githubEnterpriseAPI)!=null?n:await this.login(e):(t=this._githubAPI)!=null?t:await this.login(e)}async showSignInNotification(e){if(Kf(f0,h0)===!1)return;if(await s.window.showInformationMessage(s.l10n.t("In order to use the Pull Requests functionality, you must sign in to GitHub{0}",ec(e)),c0,$N)===c0)return await this.login(e);Qf(f0,h0,!1),this._telemetry.sendTelemetryEvent("auth.cancel")}async login(e){this._telemetry.sendTelemetryEvent("auth.start");const t=s.l10n.t("Error signing in to GitHub{0}",ec(e));let n=!0,r;const a={createIfNone:!0};let o=!1;for(;n;){try{await this.initialize(e,a)}catch(d){y.error(`Login error: ${t}: ${d}`,sa.ID),d instanceof Error&&d.stack&&y.error(d.stack,sa.ID),d.message==="Cancelled"&&(o=!0)}r=this.getHub(e),r||o?n=!1:(n=await s.window.showErrorMessage(t,d0,qN)===d0,n&&(a.forceNewSession=!0,a.createIfNone=void 0))}return r?this._telemetry.sendTelemetryEvent("auth.success"):this._telemetry.sendTelemetryEvent("auth.fail"),r}async showSamlMessageAndAuth(e){this._isSamling=!0;const t=await this.recreate(s.l10n.t("GitHub Pull Requests requires that you provide SAML access to your organization ({0}) when you sign in.",e.join(", ")));return this._isSamling=!1,t}async isCurrentUser(e,t){var n;const r=e===Ni.github?this._githubAPI:this._githubEnterpriseAPI;return((n=await(r==null?void 0:r.currentUser))==null?void 0:n.login)===t}async getIsEmu(e){const t=this.getHub(e);return!!await(t==null?void 0:t.isEmu)}getCurrentUser(e){const t=this.getHub(e);return(t==null?void 0:t.octokit)&&(t==null?void 0:t.currentUser)}setCurrentUser(e){const t=new Promise((n,r)=>{y.debug("Getting current user",sa.ID),e.octokit.call(e.octokit.api.users.getAuthenticated,{}).then(a=>{y.debug(`Got current user ${a.data.login}`,sa.ID),n(a)}).catch(a=>{y.error(`Failed to get current user: ${a}, ${a.message}`,sa.ID),r(a)})});e.currentUser=t.then(n=>Ho(n.data)),e.isEmu=t.then(n=>{var r;return((r=n.data.plan)==null?void 0:r.name)==="emu_user"})}async getSession(e,t,n,r){const a=t.forceNewSession||r?void 0:await this.findExistingScopes(e);if(a!=null&&a.session)return{session:a.session,isNew:!1,scopes:a.scopes};const o=await s.authentication.getSession(e,r?n:Xa,t);return{session:o,isNew:!!o,scopes:r?n:Xa}}async findExistingScopes(e){const t=[Ls,Xa,HN];for(const n of t){const r=await s.authentication.getSession(e,n,{silent:!0});if(r)return{session:r,scopes:n}}}async createHub(e,t){let n="https://api.github.com",r;y.appendLine(`Creating hub for ${Pr(t)?"enterprise":".com"}`,sa.ID),Pr(t)&&(r=Vo());const a=r==null?void 0:r.authority.endsWith("ghe.com");r&&(y.appendLine(`Enterprise server authority ${r.authority}`,sa.ID),a?n=`${r.scheme}://api.${r.authority}`:n=`${r.scheme}://${r.authority}/api/v3`);let o;s.env.uiKind===s.UIKind.Web&&(o=(ne,le)=>{if(le.headers!==void 0){const{"user-agent":he,...ke}=le.headers;he&&(le.headers=ke)}return _a()(ne,le)});const d=new jR({request:{agent:vg,fetch:o},userAgent:"GitHub VSCode Pull Requests",previews:["shadow-cat-preview","merge-info-preview"],auth:`${e||""}`,baseUrl:n});let S=n;r&&!a&&(S=`${r.scheme}://${r.authority}/api`);const C=new yw({link:VN(S,e||""),cache:new RN,defaultOptions:{query:{fetchPolicy:"no-cache"}}}),$=new kS(this._telemetry,Pr(t)),Y={octokit:new SS(d,$),graphql:new _S(C,$)};return this.setCurrentUser(Y),Y}};_r(g0,"ID","Authentication");let GN=g0;const VN=(i,e)=>NN((t,{headers:n})=>({headers:{...n,authorization:e?`Bearer ${e}`:"",Accept:"application/vnd.github.merge-info-preview"}})).concat(u0({uri:`${i}/graphql`,fetch:_a()}));function ec(i){return Pr(i)?" Enterprise":""}var jN=Object.defineProperty,zN=(i,e,t)=>e in i?jN(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t,WN=(i,e,t)=>zN(i,typeof e!="symbol"?e+"":e,t);const v0=class cm extends f{constructor(e,t,n,r){super(),this._repositoriesManager=e,this._telemetry=t,this._extensionUri=n,this._credentialStore=r,this._register(s.window.registerWebviewPanelSerializer(co.viewType,this)),this._register(s.window.registerWebviewPanelSerializer(rr.viewType,this))}async deserializeWebviewPanel(e,t){if(await this.waitForAuth(),await this.waitForAnyGitHubRepos(this._repositoriesManager),!t||!t.number||this._repositoriesManager.folderManagers.length===0){e.dispose();return}let n,r;for(const a of this._repositoriesManager.folderManagers){const o=a.findExistingGitHubRepository({owner:t.owner,repositoryName:t.repo});if(o){n=o,r=a;break}}if((!n||!r)&&(r=this._repositoriesManager.folderManagers[0],n=await r.createGitHubRepositoryFromOwnerName(t.owner,t.repo)),t.isIssue){const a=await n.getIssue(t.number,!0);if(!a){e.dispose();return}return co.createOrShow(this._telemetry,this._extensionUri,r,a,void 0,!0,e)}else{const a=await n.getPullRequest(t.number,!0);if(!a){e.dispose();return}return rr.createOrShow(this._telemetry,this._extensionUri,r,a,void 0,!0,e)}}async waitForAuth(){if(!this._credentialStore.isAnyAuthenticated())return new Promise(e=>this._credentialStore.onDidGetSession(()=>e()))}async waitForAnyGitHubRepos(e){if(!e.folderManagers.some(t=>t.gitHubRepositories.length>0))return y.appendLine("Waiting for GitHub repositories.",cm.ID),new Promise(t=>{const n=e.onDidChangeAnyGitHubRepository(()=>{y.appendLine("Found GitHub repositories.",cm.ID),n.dispose(),t()})})}};WN(v0,"ID","OverviewRestorer");let KN=v0;var QN=Object.defineProperty,YN=(i,e,t)=>e in i?QN(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t,Fr=(i,e,t)=>YN(i,typeof e!="symbol"?e+"":e,t);const y0=class Bb extends f{constructor(e,t){super(),this._credentialStore=e,this._telemetry=t,Fr(this,"_folderManagers",[]),Fr(this,"_subs"),Fr(this,"_onDidChangeState",new s.EventEmitter),Fr(this,"onDidChangeState",this._onDidChangeState.event),Fr(this,"_onDidChangeFolderRepositories",new s.EventEmitter),Fr(this,"onDidChangeFolderRepositories",this._onDidChangeFolderRepositories.event),Fr(this,"_onDidLoadAnyRepositories",new s.EventEmitter),Fr(this,"onDidLoadAnyRepositories",this._onDidLoadAnyRepositories.event),Fr(this,"_onDidChangeAnyPullRequests",new s.EventEmitter),Fr(this,"onDidChangeAnyPullRequests",this._onDidChangeAnyPullRequests.event),Fr(this,"_onDidAddPullRequest",new s.EventEmitter),Fr(this,"onDidAddPullRequest",this._onDidAddPullRequest.event),Fr(this,"_onDidAddAnyGitHubRepository",new s.EventEmitter),Fr(this,"onDidChangeAnyGitHubRepository",this._onDidAddAnyGitHubRepository.event),Fr(this,"_state",gr.Initializing),this._subs=new Map,s.commands.executeCommand("setContext",_g,this._state)}updateActiveReviewCount(){let e=0;for(const t of this._folderManagers)t.activePullRequest&&e++;ht.setContext(Ft.ACTIVE_PR_COUNT,e)}get folderManagers(){return this._folderManagers}registerFolderListeners(e){const t=[e.onDidLoadRepositories(()=>{this.updateState(),this._onDidLoadAnyRepositories.fire()}),e.onDidChangeActivePullRequest(()=>this.updateActiveReviewCount()),e.onDidDispose(()=>this.removeRepo(e.repository)),e.onDidChangeAnyPullRequests(n=>this._onDidChangeAnyPullRequests.fire(n)),e.onDidAddPullRequest(n=>this._onDidAddPullRequest.fire(n)),e.onDidChangeGithubRepositories(()=>this._onDidAddAnyGitHubRepository.fire(e))];this._subs.set(e,t)}insertFolderManager(e){this.registerFolderListeners(e);const t=s.workspace.workspaceFolders;if(t){const n=t.findIndex(r=>X(r.uri.fsPath,e.repository.rootUri.fsPath)||X(e.repository.rootUri.fsPath,r.uri.fsPath));if(n>-1){const r=this._folderManagers.slice(n,this._folderManagers.length);this._folderManagers=this._folderManagers.slice(0,n),this._folderManagers.push(e),this._folderManagers.push(...r),this.updateActiveReviewCount(),this._onDidChangeFolderRepositories.fire({added:e});return}}this._folderManagers.push(e),this.updateActiveReviewCount(),this._onDidChangeFolderRepositories.fire({added:e})}removeRepo(e){const t=this._folderManagers.findIndex(n=>n.repository.rootUri.toString()===e.rootUri.toString());if(t>-1){const n=this._folderManagers[t];c(this._subs.get(n)),this._subs.delete(n),this._folderManagers.splice(t),n.dispose(),this.updateActiveReviewCount(),this._onDidChangeFolderRepositories.fire({})}}getManagerForIssueModel(e){if(e!==void 0)return this.getManagerForRepository(e.remote.owner,e.remote.repositoryName)}getManagerForFile(e){if(e.scheme==="untitled")return this._folderManagers[0];const t=e.scheme===Bt.Repo?Pf(e):void 0,n=e.scheme===Bt.Pr?yn(e):void 0,r=this._folderManagers.slice().sort((a,o)=>o.repository.rootUri.path.length-a.repository.rootUri.path.length);for(const a of r){const o=a.repository.rootUri.path;if(t&&a.findExistingGitHubRepository({owner:t.owner,repositoryName:t.repo}))return a;if(n&&a.repository.state.remotes.find(d=>d.name===n.remoteName))return a;{const d=e.path.substring(o.length>1?o.length+1:o.length);if(ve(s.Uri.joinPath(a.repository.rootUri,d).path,e.path)===0)return a}}}getManagerForRepository(e,t){const n=`${e.toLowerCase()}/${t.toLowerCase()}`;for(const r of this._folderManagers)if(r.gitHubRepositories.map(a=>`${a.remote.owner.toLowerCase()}/${a.remote.repositoryName.toLowerCase()}`).includes(n))return r}get state(){return this._state}updateState(e){let t=gr.Initializing;if(e)t=e;else{const r=a=>{switch(a){case gr.Initializing:return 0;case gr.NeedsAuthentication:return 1;case gr.RepositoriesLoaded:return 2}};for(const a of this._folderManagers)r(a.state)>r(t)&&(t=a.state)}const n=t!==this._state;this._state=t,n&&(s.commands.executeCommand("setContext",_g,t),this._onDidChangeState.fire())}get credentialStore(){return this._credentialStore}async clearCredentialCache(){await this._credentialStore.reset(),this.updateState(gr.NeedsAuthentication)}async authenticate(e){var t,n;if(e===!1)return!!this._credentialStore.login(Ni.github);const{dotComRemotes:r,enterpriseRemotes:a,unknownRemotes:o}=await fp(this.folderManagers),d=s.l10n.t("Yes");if(e){let Y=(n=(t=Vo())==null?void 0:t.toString())!=null?n:a.length?a[0].normalizedHost:o.length?o[0].normalizedHost:void 0;if(a.length===0&&o.length===0&&y.appendLine(`Enterprise login selected, but no possible enterprise remotes discovered (${r.length} .com)`,Bb.ID),Y){const ne=s.l10n.t("No, manually set {0}","github-enterprise.uri"),le=await s.window.showInformationMessage(s.l10n.t("Would you like to set up GitHub Pull Requests and Issues to authenticate with the enterprise server {0}?",Y),{modal:!0},d,ne);if(le===d)await af(Y);else if(le===ne)Y=void 0;else return!1}if(!Y){const ne=await s.window.showInputBox({placeHolder:s.l10n.t("Set a GitHub Enterprise server URL"),ignoreFocusOut:!0,validateInput:le=>{if(!/^(?:$|(https?):\/\/(?!github\.com).*)/.test(le))return s.l10n.t('Please enter a valid GitHub Enterprise server URL. A "github.com" URL is not valid for GitHub Enterprise.')}});if(ne)await af(ne);else return!1}}else if(!Ca()&&r.length===0&&a.length>0){const Y=await s.window.showInformationMessage(s.l10n.t("It looks like you might be using GitHub Enterprise. Would you like to set up GitHub Pull Requests and Issues to authenticate with the enterprise server {0}?",a[0].normalizedHost),{modal:!0},d,s.l10n.t("No, use GitHub.com"));if(Y===d)await af(a[0].normalizedHost);else if(Y===void 0)return!1}let S;const C=a.length>0||o.length>0;(Ca()||r.length===0)&&C&&(S=await this._credentialStore.login(Ni.githubEnterprise));let $;return!S&&(!Ca()||a.length===0)&&($=await this._credentialStore.login(Ni.github)),!!$||!!S}dispose(){this._subs.forEach(e=>c(e))}};Fr(y0,"ID","RepositoriesManager");let JN=y0;function AD(i){switch(i){case"committed":return EventType.Committed;case"mentioned":return EventType.Mentioned;case"subscribed":return EventType.Subscribed;case"commented":return EventType.Commented;case"reviewed":return EventType.Reviewed;default:return EventType.Other}}var ZN=Object.defineProperty,XN=(i,e,t)=>e in i?ZN(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t,gs=(i,e,t)=>XN(i,typeof e!="symbol"?e+"":e,t);class yh extends f{constructor(e){super(),gs(this,"_onDidOpenRepository",new s.EventEmitter),gs(this,"onDidOpenRepository",this._onDidOpenRepository.event),gs(this,"_onDidCloseRepository",new s.EventEmitter),gs(this,"onDidCloseRepository",this._onDidCloseRepository.event),gs(this,"_onDidChangeState",new s.EventEmitter),gs(this,"onDidChangeState",this._onDidChangeState.event),gs(this,"_onDidPublish",new s.EventEmitter),gs(this,"onDidPublish",this._onDidPublish.event),gs(this,"_gitAPI");const t=e.exports;try{this._gitAPI=t.getAPI(1)}catch(n){throw ht.setContext("gitNotInstalled",!0),n}this._register(this._gitAPI.onDidCloseRepository(n=>this._onDidCloseRepository.fire(n))),this._register(this._gitAPI.onDidOpenRepository(n=>this._onDidOpenRepository.fire(n))),this._register(this._gitAPI.onDidChangeState(n=>this._onDidChangeState.fire(n))),this._register(this._gitAPI.onDidPublish(n=>this._onDidPublish.fire(n)))}get repositories(){return this._gitAPI.repositories}get state(){return this._gitAPI.state}getRepositoryWorkspace(e){return this._gitAPI.getRepositoryWorkspace(e)}clone(e,t){return this._gitAPI.clone(e,t)}static async createProvider(){const e=s.extensions.getExtension("vscode.git");if(e)return await e.activate(),new yh(e)}registerPostCommitCommandsProvider(e){return this._gitAPI.registerPostCommitCommandsProvider?this._gitAPI.registerPostCommitCommandsProvider(e):{dispose:()=>{}}}}var eC=Object.defineProperty,tC=(i,e,t)=>e in i?eC(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t,sr=(i,e,t)=>tC(i,typeof e!="symbol"?e+"":e,t);class iC extends f{constructor(e){super(),this._liveShareAPI=e,sr(this,"_onDidOpenRepository",this._register(new s.EventEmitter)),sr(this,"onDidOpenRepository",this._onDidOpenRepository.event),sr(this,"_onDidCloseRepository",this._register(new s.EventEmitter)),sr(this,"onDidCloseRepository",this._onDidCloseRepository.event),sr(this,"_openRepositories",[]),sr(this,"_sharedServiceProxy")}get repositories(){return this._openRepositories}async initialize(){this._sharedServiceProxy=await this._liveShareAPI.getSharedService(os)||void 0,this._sharedServiceProxy&&(this._sharedServiceProxy.isServiceAvailable&&await this._refreshWorkspaces(!0),this._register(this._sharedServiceProxy.onDidChangeIsServiceAvailable(async e=>{await this._refreshWorkspaces(e)})),this._register(s.workspace.onDidChangeWorkspaceFolders(this._onDidChangeWorkspaceFolders.bind(this))))}async _onDidChangeWorkspaceFolders(e){e.added.forEach(async t=>{t.uri.scheme==="vsls"&&this._sharedServiceProxy&&this._sharedServiceProxy.isServiceAvailable&&await this.openVSLSRepository(t)}),e.removed.forEach(async t=>{t.uri.scheme==="vsls"&&this._sharedServiceProxy&&this._sharedServiceProxy.isServiceAvailable&&await this.closeVSLSRepository(t)})}async _refreshWorkspaces(e){s.workspace.workspaceFolders&&s.workspace.workspaceFolders.forEach(async t=>{t.uri.scheme==="vsls"&&(e?await this.openVSLSRepository(t):await this.closeVSLSRepository(t))})}async openVSLSRepository(e){if(this.getRepository(e))return;const n=new aC(e,this._sharedServiceProxy),r=new nC,a=new Proxy(n,r);await a.initialize(),this.openRepository(a)}async closeVSLSRepository(e){const t=this.getRepository(e);t&&this.closeRepository(t)}openRepository(e){this._openRepositories.push(e),this._onDidOpenRepository.fire(e)}closeRepository(e){this._openRepositories=this._openRepositories.filter(t=>t!==e),this._onDidCloseRepository.fire(e)}getRepository(e){return this._openRepositories.filter(t=>t.workspaceFolder===e)[0]}}class nC{constructor(){}get(e,t){return t in e?e[t]:function(...n){return e.proxy.request(La,[t,e.workspaceFolder.uri.toString(),...n])}}}class rC{constructor(e){sr(this,"HEAD"),sr(this,"remotes"),sr(this,"submodules",[]),sr(this,"rebaseCommit"),sr(this,"mergeChanges",[]),sr(this,"indexChanges",[]),sr(this,"workingTreeChanges",[]),sr(this,"_onDidChange",new s.EventEmitter),sr(this,"onDidChange",this._onDidChange.event),sr(this,"refs",[]),sr(this,"untrackedChanges",[]),this.HEAD=e.HEAD,this.remotes=e.remotes}update(e){this.HEAD=e.HEAD,this.remotes=e.remotes,this._onDidChange.fire()}}class aC{constructor(e,t){this.workspaceFolder=e,this.proxy=t,sr(this,"rootUri"),sr(this,"state")}async initialize(){const e=await this.proxy.request(La,[Ao,this.workspaceFolder.uri.toString()]);this.state=new rC(e),this.rootUri=s.Uri.parse(e.rootUri),this.proxy.onNotify(ls,this._notifyHandler.bind(this))}_notifyHandler(e){var t;(t=this.state)==null||t.update(e)}}var sC=Object.defineProperty,oC=(i,e,t)=>e in i?sC(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t,lC=(i,e,t)=>oC(i,typeof e!="symbol"?e+"":e,t);class uC extends f{constructor(e,t){super(),this._liveShareAPI=e,this._api=t,lC(this,"_sharedService")}async initialize(){this._sharedService=await this._liveShareAPI.shareService(os)||void 0,this._sharedService&&this._sharedService.onRequest(La,this._gitHandler.bind(this))}async _gitHandler(e){const t=e[0],n=e[1],r=s.Uri.parse(n),a=this._liveShareAPI.convertSharedUriToLocal(r),o=this._api.getGitProvider(a);if(!o)return;const d=o.repositories.filter(S=>S.rootUri.toString()===a.toString())[0];if(d){const S=e.slice(2);if(t===Ao)return this._register(d.state.onDidChange(C=>{this._sharedService.notify(ls,{HEAD:d.state.HEAD,remotes:d.state.remotes,refs:d.state.refs})})),{HEAD:d.state.HEAD,remotes:d.state.remotes,refs:d.state.refs,rootUri:r.toString()};if(t==="show"){const C=S[1],$=r.with({path:C}),Y=this._liveShareAPI.convertSharedUriToLocal($);return S[1]=Y.fsPath,d[t](...S)}if(d[t])return d[t](...S)}else return null}}var dC=Object.defineProperty,cC=(i,e,t)=>e in i?dC(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t,tc=(i,e,t)=>cC(i,typeof e!="symbol"?e+"":e,t);async function fC(){const i=s.extensions.getExtension("ms-vsliveshare.vsliveshare");if(!i)return null;const e=i.isActive?i.exports:await i.activate();if(!e)return null;const t="0.3.967";return e.getApi?e.getApi(t):e.getApiAsync(t)}class hC extends f{constructor(e){super(),this._api=e,tc(this,"_liveShareAPI"),tc(this,"_host"),tc(this,"_guest"),tc(this,"_localDisposables",[]),this._register({dispose:()=>c(this._localDisposables)})}async initialize(){if(this._liveShareAPI||(this._liveShareAPI=await fC()),!!this._liveShareAPI)return this._register(this._liveShareAPI.onDidChangeSession(e=>this._onDidChangeSession(e.session),this)),this._liveShareAPI.session&&this._onDidChangeSession(this._liveShareAPI.session),this._liveShareAPI}async _onDidChangeSession(e){if(c(this._localDisposables),e.role===1){this._host=new uC(this._liveShareAPI,this._api),this._localDisposables.push(this._host),await this._host.initialize();return}e.role===2&&(this._guest=new iC(this._liveShareAPI),this._localDisposables.push(this._guest),await this._guest.initialize(),this._localDisposables.push(this._api.registerGitProvider(this._guest)))}}function mC(i){return new hC(i)}async function pC(i,e){const t=await yh.createProvider();if(t)return e.registerGitProvider(t),t}var gC=Object.defineProperty,vC=(i,e,t)=>e in i?gC(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t,b0=(i,e,t)=>vC(i,typeof e!="symbol"?e+"":e,t);class yC{constructor(e){this.pullRequestManager=e,b0(this,"onNotifiedEmitter",new s.EventEmitter),b0(this,"onNotified",this.onNotifiedEmitter.event),e.folderManagers.forEach(t=>{t.onDidChangeAssignableUsers(n=>{this.notifySuggestedAccounts(n)})})}async requestAsync(e,t,n){let r=null;switch(e){case"initialize":r={description:"Pullrequest",capabilities:{supportsDispose:!1,supportsInviteLink:!1,supportsPresence:!1,supportsContactPresenceRequest:!1,supportsPublishPresence:!1}};const a=new Map;for(const o of this.pullRequestManager.folderManagers){const d=o.getAllAssignableUsers();if(d)for(const S of d)a.has(S.login)||a.set(S.login,S)}a.size>0&&this.notifySuggestedAccounts(Array.from(a.values()));break;default:throw new Error(`type:${e} not supported`)}return r}async notifySuggestedAccounts(e){let t;try{t=await this.getCurrentUserLogin()}catch{}t&&e.findIndex(n=>n.login===t)!==-1&&this.notifySuggestedUsers(e.filter(n=>n.email).map(n=>({id:n.login,displayName:n.name?n.name:n.login,email:n.email})),!0)}async getCurrentUserLogin(){var e;if(this.pullRequestManager.folderManagers.length===0)return;const t=await((e=this.pullRequestManager.folderManagers[0])==null?void 0:e.getOrigin());if(t){const n=t.hub.currentUser?await t.hub.currentUser:void 0;if(n)return n.login}}notify(e,t){this.onNotifiedEmitter.fire({type:e,body:t})}notifySuggestedUsers(e,t){this.notify("suggestedUsers",{contacts:e,exclusive:t})}}var bC=Object.defineProperty,wC=(i,e,t)=>e in i?bC(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t,kC=(i,e,t)=>wC(i,typeof e!="symbol"?e+"":e,t);class _C extends f{constructor(){super(),kC(this,"_extensionsDisposable"),this._extensionsDisposable=this._register(s.extensions.onDidChange(this.onExtensionsChanged,this)),this.onExtensionsChanged()}register(e){e&&this._register(e.registerActionRunner("createPullRequest",{partnerId:"ghpr",name:"GitHub Pull Requests and Issues",label:"Create Pull Request",run:function(t){t.branch.isRemote||s.commands.executeCommand("pr.create",{repoPath:t.repoPath,compareBranch:t.branch.name})}}))}async onExtensionsChanged(){var e;const t=(e=s.extensions.getExtension("eamodio.gitlens"))!=null?e:s.extensions.getExtension("eamodio.gitlens-insiders");if(t)if(this._extensionsDisposable.dispose(),t.isActive)this.register(await t.exports);else{let n=0;const r=setInterval(async()=>{t.isActive?(clearInterval(r),this.register(await t.exports)):(n++,n>60&&clearInterval(r))},1e3)}}}/*! js-yaml 4.1.1 https://github.com/nodeca/js-yaml @license MIT */function w0(i){return typeof i=="undefined"||i===null}function SC(i){return typeof i=="object"&&i!==null}function EC(i){return Array.isArray(i)?i:w0(i)?[]:[i]}function RC(i,e){var t,n,r,a;if(e)for(a=Object.keys(e),t=0,n=a.length;t<n;t+=1)r=a[t],i[r]=e[r];return i}function NC(i,e){var t="",n;for(n=0;n<e;n+=1)t+=i;return t}function CC(i){return i===0&&Number.NEGATIVE_INFINITY===1/i}var TC=w0,AC=SC,MC=EC,PC=NC,FC=CC,DC=RC,or={isNothing:TC,isObject:AC,toArray:MC,repeat:PC,isNegativeZero:FC,extend:DC};function k0(i,e){var t="",n=i.reason||"(unknown reason)";return i.mark?(i.mark.name&&(t+='in "'+i.mark.name+'" '),t+="("+(i.mark.line+1)+":"+(i.mark.column+1)+")",!e&&i.mark.snippet&&(t+=`

`+i.mark.snippet),n+" "+t):n}function Eu(i,e){Error.call(this),this.name="YAMLException",this.reason=i,this.mark=e,this.message=k0(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}Eu.prototype=Object.create(Error.prototype),Eu.prototype.constructor=Eu,Eu.prototype.toString=function(e){return this.name+": "+k0(this,e)};var $r=Eu;function bh(i,e,t,n,r){var a="",o="",d=Math.floor(r/2)-1;return n-e>d&&(a=" ... ",e=n-d+a.length),t-n>d&&(o=" ...",t=n+d-o.length),{str:a+i.slice(e,t).replace(/\t/g,"\u2192")+o,pos:n-e+a.length}}function wh(i,e){return or.repeat(" ",e-i.length)+i}function IC(i,e){if(e=Object.create(e||null),!i.buffer)return null;e.maxLength||(e.maxLength=79),typeof e.indent!="number"&&(e.indent=1),typeof e.linesBefore!="number"&&(e.linesBefore=3),typeof e.linesAfter!="number"&&(e.linesAfter=2);for(var t=/\r?\n|\r|\0/g,n=[0],r=[],a,o=-1;a=t.exec(i.buffer);)r.push(a.index),n.push(a.index+a[0].length),i.position<=a.index&&o<0&&(o=n.length-2);o<0&&(o=n.length-1);var d="",S,C,$=Math.min(i.line+e.linesAfter,r.length).toString().length,Y=e.maxLength-(e.indent+$+3);for(S=1;S<=e.linesBefore&&!(o-S<0);S++)C=bh(i.buffer,n[o-S],r[o-S],i.position-(n[o]-n[o-S]),Y),d=or.repeat(" ",e.indent)+wh((i.line-S+1).toString(),$)+" | "+C.str+`
`+d;for(C=bh(i.buffer,n[o],r[o],i.position,Y),d+=or.repeat(" ",e.indent)+wh((i.line+1).toString(),$)+" | "+C.str+`
`,d+=or.repeat("-",e.indent+$+3+C.pos)+`^
`,S=1;S<=e.linesAfter&&!(o+S>=r.length);S++)C=bh(i.buffer,n[o+S],r[o+S],i.position-(n[o]-n[o+S]),Y),d+=or.repeat(" ",e.indent)+wh((i.line+S+1).toString(),$)+" | "+C.str+`
`;return d.replace(/\n$/,"")}var xC=IC,OC=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],LC=["scalar","sequence","mapping"];function UC(i){var e={};return i!==null&&Object.keys(i).forEach(function(t){i[t].forEach(function(n){e[String(n)]=t})}),e}function BC(i,e){if(e=e||{},Object.keys(e).forEach(function(t){if(OC.indexOf(t)===-1)throw new $r('Unknown option "'+t+'" is met in definition of "'+i+'" YAML type.')}),this.options=e,this.tag=i,this.kind=e.kind||null,this.resolve=e.resolve||function(){return!0},this.construct=e.construct||function(t){return t},this.instanceOf=e.instanceOf||null,this.predicate=e.predicate||null,this.represent=e.represent||null,this.representName=e.representName||null,this.defaultStyle=e.defaultStyle||null,this.multi=e.multi||!1,this.styleAliases=UC(e.styleAliases||null),LC.indexOf(this.kind)===-1)throw new $r('Unknown kind "'+this.kind+'" is specified for "'+i+'" YAML type.')}var Sr=BC;function _0(i,e){var t=[];return i[e].forEach(function(n){var r=t.length;t.forEach(function(a,o){a.tag===n.tag&&a.kind===n.kind&&a.multi===n.multi&&(r=o)}),t[r]=n}),t}function qC(){var i={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},e,t;function n(r){r.multi?(i.multi[r.kind].push(r),i.multi.fallback.push(r)):i[r.kind][r.tag]=i.fallback[r.tag]=r}for(e=0,t=arguments.length;e<t;e+=1)arguments[e].forEach(n);return i}function kh(i){return this.extend(i)}kh.prototype.extend=function(e){var t=[],n=[];if(e instanceof Sr)n.push(e);else if(Array.isArray(e))n=n.concat(e);else if(e&&(Array.isArray(e.implicit)||Array.isArray(e.explicit)))e.implicit&&(t=t.concat(e.implicit)),e.explicit&&(n=n.concat(e.explicit));else throw new $r("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");t.forEach(function(a){if(!(a instanceof Sr))throw new $r("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(a.loadKind&&a.loadKind!=="scalar")throw new $r("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(a.multi)throw new $r("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),n.forEach(function(a){if(!(a instanceof Sr))throw new $r("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var r=Object.create(kh.prototype);return r.implicit=(this.implicit||[]).concat(t),r.explicit=(this.explicit||[]).concat(n),r.compiledImplicit=_0(r,"implicit"),r.compiledExplicit=_0(r,"explicit"),r.compiledTypeMap=qC(r.compiledImplicit,r.compiledExplicit),r};var S0=kh,E0=new Sr("tag:yaml.org,2002:str",{kind:"scalar",construct:function(i){return i!==null?i:""}}),R0=new Sr("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(i){return i!==null?i:[]}}),N0=new Sr("tag:yaml.org,2002:map",{kind:"mapping",construct:function(i){return i!==null?i:{}}}),C0=new S0({explicit:[E0,R0,N0]});function $C(i){if(i===null)return!0;var e=i.length;return e===1&&i==="~"||e===4&&(i==="null"||i==="Null"||i==="NULL")}function HC(){return null}function GC(i){return i===null}var T0=new Sr("tag:yaml.org,2002:null",{kind:"scalar",resolve:$C,construct:HC,predicate:GC,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"});function VC(i){if(i===null)return!1;var e=i.length;return e===4&&(i==="true"||i==="True"||i==="TRUE")||e===5&&(i==="false"||i==="False"||i==="FALSE")}function jC(i){return i==="true"||i==="True"||i==="TRUE"}function zC(i){return Object.prototype.toString.call(i)==="[object Boolean]"}var A0=new Sr("tag:yaml.org,2002:bool",{kind:"scalar",resolve:VC,construct:jC,predicate:zC,represent:{lowercase:function(i){return i?"true":"false"},uppercase:function(i){return i?"TRUE":"FALSE"},camelcase:function(i){return i?"True":"False"}},defaultStyle:"lowercase"});function WC(i){return 48<=i&&i<=57||65<=i&&i<=70||97<=i&&i<=102}function KC(i){return 48<=i&&i<=55}function QC(i){return 48<=i&&i<=57}function YC(i){if(i===null)return!1;var e=i.length,t=0,n=!1,r;if(!e)return!1;if(r=i[t],(r==="-"||r==="+")&&(r=i[++t]),r==="0"){if(t+1===e)return!0;if(r=i[++t],r==="b"){for(t++;t<e;t++)if(r=i[t],r!=="_"){if(r!=="0"&&r!=="1")return!1;n=!0}return n&&r!=="_"}if(r==="x"){for(t++;t<e;t++)if(r=i[t],r!=="_"){if(!WC(i.charCodeAt(t)))return!1;n=!0}return n&&r!=="_"}if(r==="o"){for(t++;t<e;t++)if(r=i[t],r!=="_"){if(!KC(i.charCodeAt(t)))return!1;n=!0}return n&&r!=="_"}}if(r==="_")return!1;for(;t<e;t++)if(r=i[t],r!=="_"){if(!QC(i.charCodeAt(t)))return!1;n=!0}return!(!n||r==="_")}function JC(i){var e=i,t=1,n;if(e.indexOf("_")!==-1&&(e=e.replace(/_/g,"")),n=e[0],(n==="-"||n==="+")&&(n==="-"&&(t=-1),e=e.slice(1),n=e[0]),e==="0")return 0;if(n==="0"){if(e[1]==="b")return t*parseInt(e.slice(2),2);if(e[1]==="x")return t*parseInt(e.slice(2),16);if(e[1]==="o")return t*parseInt(e.slice(2),8)}return t*parseInt(e,10)}function ZC(i){return Object.prototype.toString.call(i)==="[object Number]"&&i%1===0&&!or.isNegativeZero(i)}var M0=new Sr("tag:yaml.org,2002:int",{kind:"scalar",resolve:YC,construct:JC,predicate:ZC,represent:{binary:function(i){return i>=0?"0b"+i.toString(2):"-0b"+i.toString(2).slice(1)},octal:function(i){return i>=0?"0o"+i.toString(8):"-0o"+i.toString(8).slice(1)},decimal:function(i){return i.toString(10)},hexadecimal:function(i){return i>=0?"0x"+i.toString(16).toUpperCase():"-0x"+i.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),XC=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function eT(i){return!(i===null||!XC.test(i)||i[i.length-1]==="_")}function tT(i){var e,t;return e=i.replace(/_/g,"").toLowerCase(),t=e[0]==="-"?-1:1,"+-".indexOf(e[0])>=0&&(e=e.slice(1)),e===".inf"?t===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:e===".nan"?NaN:t*parseFloat(e,10)}var iT=/^[-+]?[0-9]+e/;function nT(i,e){var t;if(isNaN(i))switch(e){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===i)switch(e){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===i)switch(e){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(or.isNegativeZero(i))return"-0.0";return t=i.toString(10),iT.test(t)?t.replace("e",".e"):t}function rT(i){return Object.prototype.toString.call(i)==="[object Number]"&&(i%1!==0||or.isNegativeZero(i))}var P0=new Sr("tag:yaml.org,2002:float",{kind:"scalar",resolve:eT,construct:tT,predicate:rT,represent:nT,defaultStyle:"lowercase"}),F0=C0.extend({implicit:[T0,A0,M0,P0]}),D0=F0,I0=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),x0=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function aT(i){return i===null?!1:I0.exec(i)!==null||x0.exec(i)!==null}function sT(i){var e,t,n,r,a,o,d,S=0,C=null,$,Y,ne;if(e=I0.exec(i),e===null&&(e=x0.exec(i)),e===null)throw new Error("Date resolve error");if(t=+e[1],n=+e[2]-1,r=+e[3],!e[4])return new Date(Date.UTC(t,n,r));if(a=+e[4],o=+e[5],d=+e[6],e[7]){for(S=e[7].slice(0,3);S.length<3;)S+="0";S=+S}return e[9]&&($=+e[10],Y=+(e[11]||0),C=($*60+Y)*6e4,e[9]==="-"&&(C=-C)),ne=new Date(Date.UTC(t,n,r,a,o,d,S)),C&&ne.setTime(ne.getTime()-C),ne}function oT(i){return i.toISOString()}var O0=new Sr("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:aT,construct:sT,instanceOf:Date,represent:oT});function lT(i){return i==="<<"||i===null}var L0=new Sr("tag:yaml.org,2002:merge",{kind:"scalar",resolve:lT}),_h=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function uT(i){if(i===null)return!1;var e,t,n=0,r=i.length,a=_h;for(t=0;t<r;t++)if(e=a.indexOf(i.charAt(t)),!(e>64)){if(e<0)return!1;n+=6}return n%8===0}function dT(i){var e,t,n=i.replace(/[\r\n=]/g,""),r=n.length,a=_h,o=0,d=[];for(e=0;e<r;e++)e%4===0&&e&&(d.push(o>>16&255),d.push(o>>8&255),d.push(o&255)),o=o<<6|a.indexOf(n.charAt(e));return t=r%4*6,t===0?(d.push(o>>16&255),d.push(o>>8&255),d.push(o&255)):t===18?(d.push(o>>10&255),d.push(o>>2&255)):t===12&&d.push(o>>4&255),new Uint8Array(d)}function cT(i){var e="",t=0,n,r,a=i.length,o=_h;for(n=0;n<a;n++)n%3===0&&n&&(e+=o[t>>18&63],e+=o[t>>12&63],e+=o[t>>6&63],e+=o[t&63]),t=(t<<8)+i[n];return r=a%3,r===0?(e+=o[t>>18&63],e+=o[t>>12&63],e+=o[t>>6&63],e+=o[t&63]):r===2?(e+=o[t>>10&63],e+=o[t>>4&63],e+=o[t<<2&63],e+=o[64]):r===1&&(e+=o[t>>2&63],e+=o[t<<4&63],e+=o[64],e+=o[64]),e}function fT(i){return Object.prototype.toString.call(i)==="[object Uint8Array]"}var U0=new Sr("tag:yaml.org,2002:binary",{kind:"scalar",resolve:uT,construct:dT,predicate:fT,represent:cT}),hT=Object.prototype.hasOwnProperty,mT=Object.prototype.toString;function pT(i){if(i===null)return!0;var e=[],t,n,r,a,o,d=i;for(t=0,n=d.length;t<n;t+=1){if(r=d[t],o=!1,mT.call(r)!=="[object Object]")return!1;for(a in r)if(hT.call(r,a))if(!o)o=!0;else return!1;if(!o)return!1;if(e.indexOf(a)===-1)e.push(a);else return!1}return!0}function gT(i){return i!==null?i:[]}var B0=new Sr("tag:yaml.org,2002:omap",{kind:"sequence",resolve:pT,construct:gT}),vT=Object.prototype.toString;function yT(i){if(i===null)return!0;var e,t,n,r,a,o=i;for(a=new Array(o.length),e=0,t=o.length;e<t;e+=1){if(n=o[e],vT.call(n)!=="[object Object]"||(r=Object.keys(n),r.length!==1))return!1;a[e]=[r[0],n[r[0]]]}return!0}function bT(i){if(i===null)return[];var e,t,n,r,a,o=i;for(a=new Array(o.length),e=0,t=o.length;e<t;e+=1)n=o[e],r=Object.keys(n),a[e]=[r[0],n[r[0]]];return a}var q0=new Sr("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:yT,construct:bT}),wT=Object.prototype.hasOwnProperty;function kT(i){if(i===null)return!0;var e,t=i;for(e in t)if(wT.call(t,e)&&t[e]!==null)return!1;return!0}function _T(i){return i!==null?i:{}}var $0=new Sr("tag:yaml.org,2002:set",{kind:"mapping",resolve:kT,construct:_T}),Sh=D0.extend({implicit:[O0,L0],explicit:[U0,B0,q0,$0]}),Us=Object.prototype.hasOwnProperty,ic=1,H0=2,G0=3,nc=4,Eh=1,ST=2,V0=3,ET=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,RT=/[\x85\u2028\u2029]/,NT=/[,\[\]\{\}]/,j0=/^(?:!|!!|![a-z\-]+!)$/i,z0=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function W0(i){return Object.prototype.toString.call(i)}function es(i){return i===10||i===13}function So(i){return i===9||i===32}function Wr(i){return i===9||i===32||i===10||i===13}function pl(i){return i===44||i===91||i===93||i===123||i===125}function CT(i){var e;return 48<=i&&i<=57?i-48:(e=i|32,97<=e&&e<=102?e-97+10:-1)}function TT(i){return i===120?2:i===117?4:i===85?8:0}function AT(i){return 48<=i&&i<=57?i-48:-1}function K0(i){return i===48?"\0":i===97?"\x07":i===98?"\b":i===116||i===9?"	":i===110?`
`:i===118?"\v":i===102?"\f":i===114?"\r":i===101?"\x1B":i===32?" ":i===34?'"':i===47?"/":i===92?"\\":i===78?"\x85":i===95?"\xA0":i===76?"\u2028":i===80?"\u2029":""}function MT(i){return i<=65535?String.fromCharCode(i):String.fromCharCode((i-65536>>10)+55296,(i-65536&1023)+56320)}function Q0(i,e,t){e==="__proto__"?Object.defineProperty(i,e,{configurable:!0,enumerable:!0,writable:!0,value:t}):i[e]=t}for(var Y0=new Array(256),J0=new Array(256),gl=0;gl<256;gl++)Y0[gl]=K0(gl)?1:0,J0[gl]=K0(gl);function PT(i,e){this.input=i,this.filename=e.filename||null,this.schema=e.schema||Sh,this.onWarning=e.onWarning||null,this.legacy=e.legacy||!1,this.json=e.json||!1,this.listener=e.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=i.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function Z0(i,e){var t={name:i.filename,buffer:i.input.slice(0,-1),position:i.position,line:i.line,column:i.position-i.lineStart};return t.snippet=xC(t),new $r(e,t)}function mi(i,e){throw Z0(i,e)}function rc(i,e){i.onWarning&&i.onWarning.call(null,Z0(i,e))}var X0={YAML:function(e,t,n){var r,a,o;e.version!==null&&mi(e,"duplication of %YAML directive"),n.length!==1&&mi(e,"YAML directive accepts exactly one argument"),r=/^([0-9]+)\.([0-9]+)$/.exec(n[0]),r===null&&mi(e,"ill-formed argument of the YAML directive"),a=parseInt(r[1],10),o=parseInt(r[2],10),a!==1&&mi(e,"unacceptable YAML version of the document"),e.version=n[0],e.checkLineBreaks=o<2,o!==1&&o!==2&&rc(e,"unsupported YAML version of the document")},TAG:function(e,t,n){var r,a;n.length!==2&&mi(e,"TAG directive accepts exactly two arguments"),r=n[0],a=n[1],j0.test(r)||mi(e,"ill-formed tag handle (first argument) of the TAG directive"),Us.call(e.tagMap,r)&&mi(e,'there is a previously declared suffix for "'+r+'" tag handle'),z0.test(a)||mi(e,"ill-formed tag prefix (second argument) of the TAG directive");try{a=decodeURIComponent(a)}catch{mi(e,"tag prefix is malformed: "+a)}e.tagMap[r]=a}};function Bs(i,e,t,n){var r,a,o,d;if(e<t){if(d=i.input.slice(e,t),n)for(r=0,a=d.length;r<a;r+=1)o=d.charCodeAt(r),o===9||32<=o&&o<=1114111||mi(i,"expected valid JSON character");else ET.test(d)&&mi(i,"the stream contains non-printable characters");i.result+=d}}function ey(i,e,t,n){var r,a,o,d;for(or.isObject(t)||mi(i,"cannot merge mappings; the provided source object is unacceptable"),r=Object.keys(t),o=0,d=r.length;o<d;o+=1)a=r[o],Us.call(e,a)||(Q0(e,a,t[a]),n[a]=!0)}function vl(i,e,t,n,r,a,o,d,S){var C,$;if(Array.isArray(r))for(r=Array.prototype.slice.call(r),C=0,$=r.length;C<$;C+=1)Array.isArray(r[C])&&mi(i,"nested arrays are not supported inside keys"),typeof r=="object"&&W0(r[C])==="[object Object]"&&(r[C]="[object Object]");if(typeof r=="object"&&W0(r)==="[object Object]"&&(r="[object Object]"),r=String(r),e===null&&(e={}),n==="tag:yaml.org,2002:merge")if(Array.isArray(a))for(C=0,$=a.length;C<$;C+=1)ey(i,e,a[C],t);else ey(i,e,a,t);else!i.json&&!Us.call(t,r)&&Us.call(e,r)&&(i.line=o||i.line,i.lineStart=d||i.lineStart,i.position=S||i.position,mi(i,"duplicated mapping key")),Q0(e,r,a),delete t[r];return e}function Rh(i){var e;e=i.input.charCodeAt(i.position),e===10?i.position++:e===13?(i.position++,i.input.charCodeAt(i.position)===10&&i.position++):mi(i,"a line break is expected"),i.line+=1,i.lineStart=i.position,i.firstTabInLine=-1}function Jn(i,e,t){for(var n=0,r=i.input.charCodeAt(i.position);r!==0;){for(;So(r);)r===9&&i.firstTabInLine===-1&&(i.firstTabInLine=i.position),r=i.input.charCodeAt(++i.position);if(e&&r===35)do r=i.input.charCodeAt(++i.position);while(r!==10&&r!==13&&r!==0);if(es(r))for(Rh(i),r=i.input.charCodeAt(i.position),n++,i.lineIndent=0;r===32;)i.lineIndent++,r=i.input.charCodeAt(++i.position);else break}return t!==-1&&n!==0&&i.lineIndent<t&&rc(i,"deficient indentation"),n}function ac(i){var e=i.position,t;return t=i.input.charCodeAt(e),!!((t===45||t===46)&&t===i.input.charCodeAt(e+1)&&t===i.input.charCodeAt(e+2)&&(e+=3,t=i.input.charCodeAt(e),t===0||Wr(t)))}function Nh(i,e){e===1?i.result+=" ":e>1&&(i.result+=or.repeat(`
`,e-1))}function FT(i,e,t){var n,r,a,o,d,S,C,$,Y=i.kind,ne=i.result,le;if(le=i.input.charCodeAt(i.position),Wr(le)||pl(le)||le===35||le===38||le===42||le===33||le===124||le===62||le===39||le===34||le===37||le===64||le===96||(le===63||le===45)&&(r=i.input.charCodeAt(i.position+1),Wr(r)||t&&pl(r)))return!1;for(i.kind="scalar",i.result="",a=o=i.position,d=!1;le!==0;){if(le===58){if(r=i.input.charCodeAt(i.position+1),Wr(r)||t&&pl(r))break}else if(le===35){if(n=i.input.charCodeAt(i.position-1),Wr(n))break}else{if(i.position===i.lineStart&&ac(i)||t&&pl(le))break;if(es(le))if(S=i.line,C=i.lineStart,$=i.lineIndent,Jn(i,!1,-1),i.lineIndent>=e){d=!0,le=i.input.charCodeAt(i.position);continue}else{i.position=o,i.line=S,i.lineStart=C,i.lineIndent=$;break}}d&&(Bs(i,a,o,!1),Nh(i,i.line-S),a=o=i.position,d=!1),So(le)||(o=i.position+1),le=i.input.charCodeAt(++i.position)}return Bs(i,a,o,!1),i.result?!0:(i.kind=Y,i.result=ne,!1)}function DT(i,e){var t,n,r;if(t=i.input.charCodeAt(i.position),t!==39)return!1;for(i.kind="scalar",i.result="",i.position++,n=r=i.position;(t=i.input.charCodeAt(i.position))!==0;)if(t===39)if(Bs(i,n,i.position,!0),t=i.input.charCodeAt(++i.position),t===39)n=i.position,i.position++,r=i.position;else return!0;else es(t)?(Bs(i,n,r,!0),Nh(i,Jn(i,!1,e)),n=r=i.position):i.position===i.lineStart&&ac(i)?mi(i,"unexpected end of the document within a single quoted scalar"):(i.position++,r=i.position);mi(i,"unexpected end of the stream within a single quoted scalar")}function IT(i,e){var t,n,r,a,o,d;if(d=i.input.charCodeAt(i.position),d!==34)return!1;for(i.kind="scalar",i.result="",i.position++,t=n=i.position;(d=i.input.charCodeAt(i.position))!==0;){if(d===34)return Bs(i,t,i.position,!0),i.position++,!0;if(d===92){if(Bs(i,t,i.position,!0),d=i.input.charCodeAt(++i.position),es(d))Jn(i,!1,e);else if(d<256&&Y0[d])i.result+=J0[d],i.position++;else if((o=TT(d))>0){for(r=o,a=0;r>0;r--)d=i.input.charCodeAt(++i.position),(o=CT(d))>=0?a=(a<<4)+o:mi(i,"expected hexadecimal character");i.result+=MT(a),i.position++}else mi(i,"unknown escape sequence");t=n=i.position}else es(d)?(Bs(i,t,n,!0),Nh(i,Jn(i,!1,e)),t=n=i.position):i.position===i.lineStart&&ac(i)?mi(i,"unexpected end of the document within a double quoted scalar"):(i.position++,n=i.position)}mi(i,"unexpected end of the stream within a double quoted scalar")}function xT(i,e){var t=!0,n,r,a,o=i.tag,d,S=i.anchor,C,$,Y,ne,le,he=Object.create(null),ke,pe,Ne,Ce;if(Ce=i.input.charCodeAt(i.position),Ce===91)$=93,le=!1,d=[];else if(Ce===123)$=125,le=!0,d={};else return!1;for(i.anchor!==null&&(i.anchorMap[i.anchor]=d),Ce=i.input.charCodeAt(++i.position);Ce!==0;){if(Jn(i,!0,e),Ce=i.input.charCodeAt(i.position),Ce===$)return i.position++,i.tag=o,i.anchor=S,i.kind=le?"mapping":"sequence",i.result=d,!0;t?Ce===44&&mi(i,"expected the node content, but found ','"):mi(i,"missed comma between flow collection entries"),pe=ke=Ne=null,Y=ne=!1,Ce===63&&(C=i.input.charCodeAt(i.position+1),Wr(C)&&(Y=ne=!0,i.position++,Jn(i,!0,e))),n=i.line,r=i.lineStart,a=i.position,yl(i,e,ic,!1,!0),pe=i.tag,ke=i.result,Jn(i,!0,e),Ce=i.input.charCodeAt(i.position),(ne||i.line===n)&&Ce===58&&(Y=!0,Ce=i.input.charCodeAt(++i.position),Jn(i,!0,e),yl(i,e,ic,!1,!0),Ne=i.result),le?vl(i,d,he,pe,ke,Ne,n,r,a):Y?d.push(vl(i,null,he,pe,ke,Ne,n,r,a)):d.push(ke),Jn(i,!0,e),Ce=i.input.charCodeAt(i.position),Ce===44?(t=!0,Ce=i.input.charCodeAt(++i.position)):t=!1}mi(i,"unexpected end of the stream within a flow collection")}function OT(i,e){var t,n,r=Eh,a=!1,o=!1,d=e,S=0,C=!1,$,Y;if(Y=i.input.charCodeAt(i.position),Y===124)n=!1;else if(Y===62)n=!0;else return!1;for(i.kind="scalar",i.result="";Y!==0;)if(Y=i.input.charCodeAt(++i.position),Y===43||Y===45)Eh===r?r=Y===43?V0:ST:mi(i,"repeat of a chomping mode identifier");else if(($=AT(Y))>=0)$===0?mi(i,"bad explicit indentation width of a block scalar; it cannot be less than one"):o?mi(i,"repeat of an indentation width identifier"):(d=e+$-1,o=!0);else break;if(So(Y)){do Y=i.input.charCodeAt(++i.position);while(So(Y));if(Y===35)do Y=i.input.charCodeAt(++i.position);while(!es(Y)&&Y!==0)}for(;Y!==0;){for(Rh(i),i.lineIndent=0,Y=i.input.charCodeAt(i.position);(!o||i.lineIndent<d)&&Y===32;)i.lineIndent++,Y=i.input.charCodeAt(++i.position);if(!o&&i.lineIndent>d&&(d=i.lineIndent),es(Y)){S++;continue}if(i.lineIndent<d){r===V0?i.result+=or.repeat(`
`,a?1+S:S):r===Eh&&a&&(i.result+=`
`);break}for(n?So(Y)?(C=!0,i.result+=or.repeat(`
`,a?1+S:S)):C?(C=!1,i.result+=or.repeat(`
`,S+1)):S===0?a&&(i.result+=" "):i.result+=or.repeat(`
`,S):i.result+=or.repeat(`
`,a?1+S:S),a=!0,o=!0,S=0,t=i.position;!es(Y)&&Y!==0;)Y=i.input.charCodeAt(++i.position);Bs(i,t,i.position,!1)}return!0}function ty(i,e){var t,n=i.tag,r=i.anchor,a=[],o,d=!1,S;if(i.firstTabInLine!==-1)return!1;for(i.anchor!==null&&(i.anchorMap[i.anchor]=a),S=i.input.charCodeAt(i.position);S!==0&&(i.firstTabInLine!==-1&&(i.position=i.firstTabInLine,mi(i,"tab characters must not be used in indentation")),!(S!==45||(o=i.input.charCodeAt(i.position+1),!Wr(o))));){if(d=!0,i.position++,Jn(i,!0,-1)&&i.lineIndent<=e){a.push(null),S=i.input.charCodeAt(i.position);continue}if(t=i.line,yl(i,e,G0,!1,!0),a.push(i.result),Jn(i,!0,-1),S=i.input.charCodeAt(i.position),(i.line===t||i.lineIndent>e)&&S!==0)mi(i,"bad indentation of a sequence entry");else if(i.lineIndent<e)break}return d?(i.tag=n,i.anchor=r,i.kind="sequence",i.result=a,!0):!1}function LT(i,e,t){var n,r,a,o,d,S,C=i.tag,$=i.anchor,Y={},ne=Object.create(null),le=null,he=null,ke=null,pe=!1,Ne=!1,Ce;if(i.firstTabInLine!==-1)return!1;for(i.anchor!==null&&(i.anchorMap[i.anchor]=Y),Ce=i.input.charCodeAt(i.position);Ce!==0;){if(!pe&&i.firstTabInLine!==-1&&(i.position=i.firstTabInLine,mi(i,"tab characters must not be used in indentation")),n=i.input.charCodeAt(i.position+1),a=i.line,(Ce===63||Ce===58)&&Wr(n))Ce===63?(pe&&(vl(i,Y,ne,le,he,null,o,d,S),le=he=ke=null),Ne=!0,pe=!0,r=!0):pe?(pe=!1,r=!0):mi(i,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),i.position+=1,Ce=n;else{if(o=i.line,d=i.lineStart,S=i.position,!yl(i,t,H0,!1,!0))break;if(i.line===a){for(Ce=i.input.charCodeAt(i.position);So(Ce);)Ce=i.input.charCodeAt(++i.position);if(Ce===58)Ce=i.input.charCodeAt(++i.position),Wr(Ce)||mi(i,"a whitespace character is expected after the key-value separator within a block mapping"),pe&&(vl(i,Y,ne,le,he,null,o,d,S),le=he=ke=null),Ne=!0,pe=!1,r=!1,le=i.tag,he=i.result;else if(Ne)mi(i,"can not read an implicit mapping pair; a colon is missed");else return i.tag=C,i.anchor=$,!0}else if(Ne)mi(i,"can not read a block mapping entry; a multiline key may not be an implicit key");else return i.tag=C,i.anchor=$,!0}if((i.line===a||i.lineIndent>e)&&(pe&&(o=i.line,d=i.lineStart,S=i.position),yl(i,e,nc,!0,r)&&(pe?he=i.result:ke=i.result),pe||(vl(i,Y,ne,le,he,ke,o,d,S),le=he=ke=null),Jn(i,!0,-1),Ce=i.input.charCodeAt(i.position)),(i.line===a||i.lineIndent>e)&&Ce!==0)mi(i,"bad indentation of a mapping entry");else if(i.lineIndent<e)break}return pe&&vl(i,Y,ne,le,he,null,o,d,S),Ne&&(i.tag=C,i.anchor=$,i.kind="mapping",i.result=Y),Ne}function UT(i){var e,t=!1,n=!1,r,a,o;if(o=i.input.charCodeAt(i.position),o!==33)return!1;if(i.tag!==null&&mi(i,"duplication of a tag property"),o=i.input.charCodeAt(++i.position),o===60?(t=!0,o=i.input.charCodeAt(++i.position)):o===33?(n=!0,r="!!",o=i.input.charCodeAt(++i.position)):r="!",e=i.position,t){do o=i.input.charCodeAt(++i.position);while(o!==0&&o!==62);i.position<i.length?(a=i.input.slice(e,i.position),o=i.input.charCodeAt(++i.position)):mi(i,"unexpected end of the stream within a verbatim tag")}else{for(;o!==0&&!Wr(o);)o===33&&(n?mi(i,"tag suffix cannot contain exclamation marks"):(r=i.input.slice(e-1,i.position+1),j0.test(r)||mi(i,"named tag handle cannot contain such characters"),n=!0,e=i.position+1)),o=i.input.charCodeAt(++i.position);a=i.input.slice(e,i.position),NT.test(a)&&mi(i,"tag suffix cannot contain flow indicator characters")}a&&!z0.test(a)&&mi(i,"tag name cannot contain such characters: "+a);try{a=decodeURIComponent(a)}catch{mi(i,"tag name is malformed: "+a)}return t?i.tag=a:Us.call(i.tagMap,r)?i.tag=i.tagMap[r]+a:r==="!"?i.tag="!"+a:r==="!!"?i.tag="tag:yaml.org,2002:"+a:mi(i,'undeclared tag handle "'+r+'"'),!0}function BT(i){var e,t;if(t=i.input.charCodeAt(i.position),t!==38)return!1;for(i.anchor!==null&&mi(i,"duplication of an anchor property"),t=i.input.charCodeAt(++i.position),e=i.position;t!==0&&!Wr(t)&&!pl(t);)t=i.input.charCodeAt(++i.position);return i.position===e&&mi(i,"name of an anchor node must contain at least one character"),i.anchor=i.input.slice(e,i.position),!0}function qT(i){var e,t,n;if(n=i.input.charCodeAt(i.position),n!==42)return!1;for(n=i.input.charCodeAt(++i.position),e=i.position;n!==0&&!Wr(n)&&!pl(n);)n=i.input.charCodeAt(++i.position);return i.position===e&&mi(i,"name of an alias node must contain at least one character"),t=i.input.slice(e,i.position),Us.call(i.anchorMap,t)||mi(i,'unidentified alias "'+t+'"'),i.result=i.anchorMap[t],Jn(i,!0,-1),!0}function yl(i,e,t,n,r){var a,o,d,S=1,C=!1,$=!1,Y,ne,le,he,ke,pe;if(i.listener!==null&&i.listener("open",i),i.tag=null,i.anchor=null,i.kind=null,i.result=null,a=o=d=nc===t||G0===t,n&&Jn(i,!0,-1)&&(C=!0,i.lineIndent>e?S=1:i.lineIndent===e?S=0:i.lineIndent<e&&(S=-1)),S===1)for(;UT(i)||BT(i);)Jn(i,!0,-1)?(C=!0,d=a,i.lineIndent>e?S=1:i.lineIndent===e?S=0:i.lineIndent<e&&(S=-1)):d=!1;if(d&&(d=C||r),(S===1||nc===t)&&(ic===t||H0===t?ke=e:ke=e+1,pe=i.position-i.lineStart,S===1?d&&(ty(i,pe)||LT(i,pe,ke))||xT(i,ke)?$=!0:(o&&OT(i,ke)||DT(i,ke)||IT(i,ke)?$=!0:qT(i)?($=!0,(i.tag!==null||i.anchor!==null)&&mi(i,"alias node should not have any properties")):FT(i,ke,ic===t)&&($=!0,i.tag===null&&(i.tag="?")),i.anchor!==null&&(i.anchorMap[i.anchor]=i.result)):S===0&&($=d&&ty(i,pe))),i.tag===null)i.anchor!==null&&(i.anchorMap[i.anchor]=i.result);else if(i.tag==="?"){for(i.result!==null&&i.kind!=="scalar"&&mi(i,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+i.kind+'"'),Y=0,ne=i.implicitTypes.length;Y<ne;Y+=1)if(he=i.implicitTypes[Y],he.resolve(i.result)){i.result=he.construct(i.result),i.tag=he.tag,i.anchor!==null&&(i.anchorMap[i.anchor]=i.result);break}}else if(i.tag!=="!"){if(Us.call(i.typeMap[i.kind||"fallback"],i.tag))he=i.typeMap[i.kind||"fallback"][i.tag];else for(he=null,le=i.typeMap.multi[i.kind||"fallback"],Y=0,ne=le.length;Y<ne;Y+=1)if(i.tag.slice(0,le[Y].tag.length)===le[Y].tag){he=le[Y];break}he||mi(i,"unknown tag !<"+i.tag+">"),i.result!==null&&he.kind!==i.kind&&mi(i,"unacceptable node kind for !<"+i.tag+'> tag; it should be "'+he.kind+'", not "'+i.kind+'"'),he.resolve(i.result,i.tag)?(i.result=he.construct(i.result,i.tag),i.anchor!==null&&(i.anchorMap[i.anchor]=i.result)):mi(i,"cannot resolve a node with !<"+i.tag+"> explicit tag")}return i.listener!==null&&i.listener("close",i),i.tag!==null||i.anchor!==null||$}function $T(i){var e=i.position,t,n,r,a=!1,o;for(i.version=null,i.checkLineBreaks=i.legacy,i.tagMap=Object.create(null),i.anchorMap=Object.create(null);(o=i.input.charCodeAt(i.position))!==0&&(Jn(i,!0,-1),o=i.input.charCodeAt(i.position),!(i.lineIndent>0||o!==37));){for(a=!0,o=i.input.charCodeAt(++i.position),t=i.position;o!==0&&!Wr(o);)o=i.input.charCodeAt(++i.position);for(n=i.input.slice(t,i.position),r=[],n.length<1&&mi(i,"directive name must not be less than one character in length");o!==0;){for(;So(o);)o=i.input.charCodeAt(++i.position);if(o===35){do o=i.input.charCodeAt(++i.position);while(o!==0&&!es(o));break}if(es(o))break;for(t=i.position;o!==0&&!Wr(o);)o=i.input.charCodeAt(++i.position);r.push(i.input.slice(t,i.position))}o!==0&&Rh(i),Us.call(X0,n)?X0[n](i,n,r):rc(i,'unknown document directive "'+n+'"')}if(Jn(i,!0,-1),i.lineIndent===0&&i.input.charCodeAt(i.position)===45&&i.input.charCodeAt(i.position+1)===45&&i.input.charCodeAt(i.position+2)===45?(i.position+=3,Jn(i,!0,-1)):a&&mi(i,"directives end mark is expected"),yl(i,i.lineIndent-1,nc,!1,!0),Jn(i,!0,-1),i.checkLineBreaks&&RT.test(i.input.slice(e,i.position))&&rc(i,"non-ASCII line breaks are interpreted as content"),i.documents.push(i.result),i.position===i.lineStart&&ac(i)){i.input.charCodeAt(i.position)===46&&(i.position+=3,Jn(i,!0,-1));return}if(i.position<i.length-1)mi(i,"end of the stream or a document separator is expected");else return}function iy(i,e){i=String(i),e=e||{},i.length!==0&&(i.charCodeAt(i.length-1)!==10&&i.charCodeAt(i.length-1)!==13&&(i+=`
`),i.charCodeAt(0)===65279&&(i=i.slice(1)));var t=new PT(i,e),n=i.indexOf("\0");for(n!==-1&&(t.position=n,mi(t,"null byte is not allowed in input")),t.input+="\0";t.input.charCodeAt(t.position)===32;)t.lineIndent+=1,t.position+=1;for(;t.position<t.length-1;)$T(t);return t.documents}function HT(i,e,t){e!==null&&typeof e=="object"&&typeof t=="undefined"&&(t=e,e=null);var n=iy(i,t);if(typeof e!="function")return n;for(var r=0,a=n.length;r<a;r+=1)e(n[r])}function GT(i,e){var t=iy(i,e);if(t.length!==0){if(t.length===1)return t[0];throw new $r("expected a single document in the stream, but found more")}}var VT=HT,jT=GT,ny={loadAll:VT,load:jT},ry=Object.prototype.toString,ay=Object.prototype.hasOwnProperty,Ch=65279,zT=9,Ru=10,WT=13,KT=32,QT=33,YT=34,Th=35,JT=37,ZT=38,XT=39,eA=42,sy=44,tA=45,sc=58,iA=61,nA=62,rA=63,aA=64,oy=91,ly=93,sA=96,uy=123,oA=124,dy=125,Dr={};Dr[0]="\\0",Dr[7]="\\a",Dr[8]="\\b",Dr[9]="\\t",Dr[10]="\\n",Dr[11]="\\v",Dr[12]="\\f",Dr[13]="\\r",Dr[27]="\\e",Dr[34]='\\"',Dr[92]="\\\\",Dr[133]="\\N",Dr[160]="\\_",Dr[8232]="\\L",Dr[8233]="\\P";var lA=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],uA=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function dA(i,e){var t,n,r,a,o,d,S;if(e===null)return{};for(t={},n=Object.keys(e),r=0,a=n.length;r<a;r+=1)o=n[r],d=String(e[o]),o.slice(0,2)==="!!"&&(o="tag:yaml.org,2002:"+o.slice(2)),S=i.compiledTypeMap.fallback[o],S&&ay.call(S.styleAliases,d)&&(d=S.styleAliases[d]),t[o]=d;return t}function cA(i){var e,t,n;if(e=i.toString(16).toUpperCase(),i<=255)t="x",n=2;else if(i<=65535)t="u",n=4;else if(i<=4294967295)t="U",n=8;else throw new $r("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+t+or.repeat("0",n-e.length)+e}var fA=1,Nu=2;function hA(i){this.schema=i.schema||Sh,this.indent=Math.max(1,i.indent||2),this.noArrayIndent=i.noArrayIndent||!1,this.skipInvalid=i.skipInvalid||!1,this.flowLevel=or.isNothing(i.flowLevel)?-1:i.flowLevel,this.styleMap=dA(this.schema,i.styles||null),this.sortKeys=i.sortKeys||!1,this.lineWidth=i.lineWidth||80,this.noRefs=i.noRefs||!1,this.noCompatMode=i.noCompatMode||!1,this.condenseFlow=i.condenseFlow||!1,this.quotingType=i.quotingType==='"'?Nu:fA,this.forceQuotes=i.forceQuotes||!1,this.replacer=typeof i.replacer=="function"?i.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function cy(i,e){for(var t=or.repeat(" ",e),n=0,r=-1,a="",o,d=i.length;n<d;)r=i.indexOf(`
`,n),r===-1?(o=i.slice(n),n=d):(o=i.slice(n,r+1),n=r+1),o.length&&o!==`
`&&(a+=t),a+=o;return a}function Ah(i,e){return`
`+or.repeat(" ",i.indent*e)}function mA(i,e){var t,n,r;for(t=0,n=i.implicitTypes.length;t<n;t+=1)if(r=i.implicitTypes[t],r.resolve(e))return!0;return!1}function oc(i){return i===KT||i===zT}function Cu(i){return 32<=i&&i<=126||161<=i&&i<=55295&&i!==8232&&i!==8233||57344<=i&&i<=65533&&i!==Ch||65536<=i&&i<=1114111}function fy(i){return Cu(i)&&i!==Ch&&i!==WT&&i!==Ru}function hy(i,e,t){var n=fy(i),r=n&&!oc(i);return(t?n:n&&i!==sy&&i!==oy&&i!==ly&&i!==uy&&i!==dy)&&i!==Th&&!(e===sc&&!r)||fy(e)&&!oc(e)&&i===Th||e===sc&&r}function pA(i){return Cu(i)&&i!==Ch&&!oc(i)&&i!==tA&&i!==rA&&i!==sc&&i!==sy&&i!==oy&&i!==ly&&i!==uy&&i!==dy&&i!==Th&&i!==ZT&&i!==eA&&i!==QT&&i!==oA&&i!==iA&&i!==nA&&i!==XT&&i!==YT&&i!==JT&&i!==aA&&i!==sA}function gA(i){return!oc(i)&&i!==sc}function Tu(i,e){var t=i.charCodeAt(e),n;return t>=55296&&t<=56319&&e+1<i.length&&(n=i.charCodeAt(e+1),n>=56320&&n<=57343)?(t-55296)*1024+n-56320+65536:t}function my(i){var e=/^\n* /;return e.test(i)}var py=1,Mh=2,gy=3,vy=4,bl=5;function vA(i,e,t,n,r,a,o,d){var S,C=0,$=null,Y=!1,ne=!1,le=n!==-1,he=-1,ke=pA(Tu(i,0))&&gA(Tu(i,i.length-1));if(e||o)for(S=0;S<i.length;C>=65536?S+=2:S++){if(C=Tu(i,S),!Cu(C))return bl;ke=ke&&hy(C,$,d),$=C}else{for(S=0;S<i.length;C>=65536?S+=2:S++){if(C=Tu(i,S),C===Ru)Y=!0,le&&(ne=ne||S-he-1>n&&i[he+1]!==" ",he=S);else if(!Cu(C))return bl;ke=ke&&hy(C,$,d),$=C}ne=ne||le&&S-he-1>n&&i[he+1]!==" "}return!Y&&!ne?ke&&!o&&!r(i)?py:a===Nu?bl:Mh:t>9&&my(i)?bl:o?a===Nu?bl:Mh:ne?vy:gy}function yA(i,e,t,n,r){i.dump=function(){if(e.length===0)return i.quotingType===Nu?'""':"''";if(!i.noCompatMode&&(lA.indexOf(e)!==-1||uA.test(e)))return i.quotingType===Nu?'"'+e+'"':"'"+e+"'";var a=i.indent*Math.max(1,t),o=i.lineWidth===-1?-1:Math.max(Math.min(i.lineWidth,40),i.lineWidth-a),d=n||i.flowLevel>-1&&t>=i.flowLevel;function S(C){return mA(i,C)}switch(vA(e,d,i.indent,o,S,i.quotingType,i.forceQuotes&&!n,r)){case py:return e;case Mh:return"'"+e.replace(/'/g,"''")+"'";case gy:return"|"+yy(e,i.indent)+by(cy(e,a));case vy:return">"+yy(e,i.indent)+by(cy(bA(e,o),a));case bl:return'"'+wA(e)+'"';default:throw new $r("impossible error: invalid scalar style")}}()}function yy(i,e){var t=my(i)?String(e):"",n=i[i.length-1]===`
`,r=n&&(i[i.length-2]===`
`||i===`
`),a=r?"+":n?"":"-";return t+a+`
`}function by(i){return i[i.length-1]===`
`?i.slice(0,-1):i}function bA(i,e){for(var t=/(\n+)([^\n]*)/g,n=function(){var C=i.indexOf(`
`);return C=C!==-1?C:i.length,t.lastIndex=C,wy(i.slice(0,C),e)}(),r=i[0]===`
`||i[0]===" ",a,o;o=t.exec(i);){var d=o[1],S=o[2];a=S[0]===" ",n+=d+(!r&&!a&&S!==""?`
`:"")+wy(S,e),r=a}return n}function wy(i,e){if(i===""||i[0]===" ")return i;for(var t=/ [^ ]/g,n,r=0,a,o=0,d=0,S="";n=t.exec(i);)d=n.index,d-r>e&&(a=o>r?o:d,S+=`
`+i.slice(r,a),r=a+1),o=d;return S+=`
`,i.length-r>e&&o>r?S+=i.slice(r,o)+`
`+i.slice(o+1):S+=i.slice(r),S.slice(1)}function wA(i){for(var e="",t=0,n,r=0;r<i.length;t>=65536?r+=2:r++)t=Tu(i,r),n=Dr[t],!n&&Cu(t)?(e+=i[r],t>=65536&&(e+=i[r+1])):e+=n||cA(t);return e}function kA(i,e,t){var n="",r=i.tag,a,o,d;for(a=0,o=t.length;a<o;a+=1)d=t[a],i.replacer&&(d=i.replacer.call(t,String(a),d)),(vs(i,e,d,!1,!1)||typeof d=="undefined"&&vs(i,e,null,!1,!1))&&(n!==""&&(n+=","+(i.condenseFlow?"":" ")),n+=i.dump);i.tag=r,i.dump="["+n+"]"}function ky(i,e,t,n){var r="",a=i.tag,o,d,S;for(o=0,d=t.length;o<d;o+=1)S=t[o],i.replacer&&(S=i.replacer.call(t,String(o),S)),(vs(i,e+1,S,!0,!0,!1,!0)||typeof S=="undefined"&&vs(i,e+1,null,!0,!0,!1,!0))&&((!n||r!=="")&&(r+=Ah(i,e)),i.dump&&Ru===i.dump.charCodeAt(0)?r+="-":r+="- ",r+=i.dump);i.tag=a,i.dump=r||"[]"}function _A(i,e,t){var n="",r=i.tag,a=Object.keys(t),o,d,S,C,$;for(o=0,d=a.length;o<d;o+=1)$="",n!==""&&($+=", "),i.condenseFlow&&($+='"'),S=a[o],C=t[S],i.replacer&&(C=i.replacer.call(t,S,C)),vs(i,e,S,!1,!1)&&(i.dump.length>1024&&($+="? "),$+=i.dump+(i.condenseFlow?'"':"")+":"+(i.condenseFlow?"":" "),vs(i,e,C,!1,!1)&&($+=i.dump,n+=$));i.tag=r,i.dump="{"+n+"}"}function SA(i,e,t,n){var r="",a=i.tag,o=Object.keys(t),d,S,C,$,Y,ne;if(i.sortKeys===!0)o.sort();else if(typeof i.sortKeys=="function")o.sort(i.sortKeys);else if(i.sortKeys)throw new $r("sortKeys must be a boolean or a function");for(d=0,S=o.length;d<S;d+=1)ne="",(!n||r!=="")&&(ne+=Ah(i,e)),C=o[d],$=t[C],i.replacer&&($=i.replacer.call(t,C,$)),vs(i,e+1,C,!0,!0,!0)&&(Y=i.tag!==null&&i.tag!=="?"||i.dump&&i.dump.length>1024,Y&&(i.dump&&Ru===i.dump.charCodeAt(0)?ne+="?":ne+="? "),ne+=i.dump,Y&&(ne+=Ah(i,e)),vs(i,e+1,$,!0,Y)&&(i.dump&&Ru===i.dump.charCodeAt(0)?ne+=":":ne+=": ",ne+=i.dump,r+=ne));i.tag=a,i.dump=r||"{}"}function _y(i,e,t){var n,r,a,o,d,S;for(r=t?i.explicitTypes:i.implicitTypes,a=0,o=r.length;a<o;a+=1)if(d=r[a],(d.instanceOf||d.predicate)&&(!d.instanceOf||typeof e=="object"&&e instanceof d.instanceOf)&&(!d.predicate||d.predicate(e))){if(t?d.multi&&d.representName?i.tag=d.representName(e):i.tag=d.tag:i.tag="?",d.represent){if(S=i.styleMap[d.tag]||d.defaultStyle,ry.call(d.represent)==="[object Function]")n=d.represent(e,S);else if(ay.call(d.represent,S))n=d.represent[S](e,S);else throw new $r("!<"+d.tag+'> tag resolver accepts not "'+S+'" style');i.dump=n}return!0}return!1}function vs(i,e,t,n,r,a,o){i.tag=null,i.dump=t,_y(i,t,!1)||_y(i,t,!0);var d=ry.call(i.dump),S=n,C;n&&(n=i.flowLevel<0||i.flowLevel>e);var $=d==="[object Object]"||d==="[object Array]",Y,ne;if($&&(Y=i.duplicates.indexOf(t),ne=Y!==-1),(i.tag!==null&&i.tag!=="?"||ne||i.indent!==2&&e>0)&&(r=!1),ne&&i.usedDuplicates[Y])i.dump="*ref_"+Y;else{if($&&ne&&!i.usedDuplicates[Y]&&(i.usedDuplicates[Y]=!0),d==="[object Object]")n&&Object.keys(i.dump).length!==0?(SA(i,e,i.dump,r),ne&&(i.dump="&ref_"+Y+i.dump)):(_A(i,e,i.dump),ne&&(i.dump="&ref_"+Y+" "+i.dump));else if(d==="[object Array]")n&&i.dump.length!==0?(i.noArrayIndent&&!o&&e>0?ky(i,e-1,i.dump,r):ky(i,e,i.dump,r),ne&&(i.dump="&ref_"+Y+i.dump)):(kA(i,e,i.dump),ne&&(i.dump="&ref_"+Y+" "+i.dump));else if(d==="[object String]")i.tag!=="?"&&yA(i,i.dump,e,a,S);else{if(d==="[object Undefined]")return!1;if(i.skipInvalid)return!1;throw new $r("unacceptable kind of an object to dump "+d)}i.tag!==null&&i.tag!=="?"&&(C=encodeURI(i.tag[0]==="!"?i.tag.slice(1):i.tag).replace(/!/g,"%21"),i.tag[0]==="!"?C="!"+C:C.slice(0,18)==="tag:yaml.org,2002:"?C="!!"+C.slice(18):C="!<"+C+">",i.dump=C+" "+i.dump)}return!0}function EA(i,e){var t=[],n=[],r,a;for(Ph(i,t,n),r=0,a=n.length;r<a;r+=1)e.duplicates.push(t[n[r]]);e.usedDuplicates=new Array(a)}function Ph(i,e,t){var n,r,a;if(i!==null&&typeof i=="object")if(r=e.indexOf(i),r!==-1)t.indexOf(r)===-1&&t.push(r);else if(e.push(i),Array.isArray(i))for(r=0,a=i.length;r<a;r+=1)Ph(i[r],e,t);else for(n=Object.keys(i),r=0,a=n.length;r<a;r+=1)Ph(i[n[r]],e,t)}function RA(i,e){e=e||{};var t=new hA(e);t.noRefs||EA(i,t);var n=i;return t.replacer&&(n=t.replacer.call({"":n},"",n)),vs(t,0,n,!0,!0)?t.dump+`
`:""}var NA=RA,CA={dump:NA};function Fh(i,e){return function(){throw new Error("Function yaml."+i+" is removed in js-yaml 4. Use yaml."+e+" instead, which is now safe by default.")}}var TA=Sr,AA=S0,MA=C0,PA=F0,FA=D0,DA=Sh,Sy=ny.load,IA=ny.loadAll,xA=CA.dump,OA=$r,LA={binary:U0,float:P0,map:N0,null:T0,pairs:q0,set:$0,timestamp:O0,bool:A0,int:M0,merge:L0,omap:B0,seq:R0,str:E0},UA=Fh("safeLoad","load"),BA=Fh("safeLoadAll","loadAll"),qA=Fh("safeDump","dump"),MD={Type:TA,Schema:AA,FAILSAFE_SCHEMA:MA,JSON_SCHEMA:PA,CORE_SCHEMA:FA,DEFAULT_SCHEMA:DA,load:Sy,loadAll:IA,dump:xA,YAMLException:OA,types:LA,safeLoad:UA,safeLoadAll:BA,safeDump:qA},$A=Object.defineProperty,HA=(i,e,t)=>e in i?$A(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t,wl=(i,e,t)=>HA(i,typeof e!="symbol"?e+"":e,t);class Ey extends f{constructor(e,t,n,r,a){super(),this.issueModel=e,this.manager=t,this.stateManager=n,this.shouldPromptForBranch=a,wl(this,"_branchName"),wl(this,"user"),wl(this,"repo"),wl(this,"_repoDefaults"),wl(this,"_onDidChangeCurrentIssueState",this._register(new s.EventEmitter)),wl(this,"onDidChangeCurrentIssueState",this._onDidChangeCurrentIssueState.event),this.setRepo(r!=null?r:this.issueModel.githubRepository.remote)}setRepo(e){var t;for(let n=0;n<this.stateManager.gitAPI.repositories.length;n++){const r=this.stateManager.gitAPI.repositories[n];for(let a=0;a<r.state.remotes.length;a++){const o=r.state.remotes[a];if(o.name===(e==null?void 0:e.remoteName)&&((t=o.fetchUrl)==null?void 0:t.toLowerCase().search(`${e.owner.toLowerCase()}/${e.repositoryName.toLowerCase()}`))!==-1){this.repo=r;return}}}}get branchName(){return this._branchName}get repoDefaults(){return this._repoDefaults}get issue(){return this.issueModel}async startWorking(e=!1){var t;try{if(this._repoDefaults=await this.manager.getPullRequestDefaults(),await this.createIssueBranch(e)){await this.setCommitMessageAndGitEvent(),this._onDidChangeCurrentIssueState.fire();const n=(await this.manager.getCurrentUser(this.issueModel.githubRepository)).login;return s.workspace.getConfiguration(Ci).get(Fi)&&!((t=this.issueModel.assignees)!=null&&t.find(r=>r.login===n))&&(this.manager.gitHubRepositories.find(r=>r.remote.owner===this.issueModel.remote.owner&&r.remote.repositoryName===this.issueModel.remote.repositoryName)&&await this.manager.assignIssue(this.issueModel,n),await this.stateManager.refresh(this.manager)),!0}}catch{s.window.showErrorMessage(s.l10n.t("There is no remote. Can't start working on an issue."))}return!1}async stopWorking(e){if(this.repo&&(this.repo.inputBox.value=""),this._repoDefaults&&e)try{await this.manager.repository.checkout(this._repoDefaults.base)}catch(t){throw t.gitErrorCode===oi.DirtyWorkTree&&s.window.showErrorMessage(s.l10n.t("Your local changes would be overwritten by checkout, please commit your changes or stash them before you switch branches")),t}this._onDidChangeCurrentIssueState.fire(),this.dispose()}getBasicBranchName(e){return`${e}/issue${this.issueModel.number}`}async getBranch(e){try{return await this.manager.repository.getBranch(e)}catch{}}async createOrCheckoutBranch(e){try{return await this.getBranch(e)?await this.manager.repository.checkout(e):await this.manager.repository.createBranch(e,!0),!0}catch(t){return t.message!=="User aborted"&&s.window.showErrorMessage(`Unable to checkout branch ${e}. There may be file conflicts that prevent this branch change. Git error: ${t.error}`),!1}}async getUser(){return this.user||(this.user=(await this.issueModel.githubRepository.getAuthenticatedUser()).login),this.user}async getBranchTitle(){var e;return(e=s.workspace.getConfiguration(Ci).get(lr))!=null?e:this.getBasicBranchName(await this.getUser())}validateBranchName(e){const t=/[^ \\@\~\^\?\*\[]+/,n=e.match(t);if(n&&n.length>0&&n[0]!==e)return s.l10n.t("Branch name cannot contain a space or the following characters: \\@~^?*[")}showBranchNameError(e){const t="Edit Setting";s.window.showErrorMessage(e,t).then(n=>{n===t&&s.commands.executeCommand("workbench.action.openSettings",`${Ci}.${lr}`)})}async offerNewBranch(e,t,n){var r,a,o,d;const S=await this.manager.getMatchingPullRequestMetadataFromGitHub(e,(r=e.upstream)==null?void 0:r.remote,(a=e.upstream)==null?void 0:a.name);if(S&&S.model.state!==Li.Open){const C=s.l10n.t("The pull request for {0} has been merged. Do you want to create a new branch?",(o=e.name)!=null?o:"unknown branch"),$=s.l10n.t("The pull request for {0} has been closed. Do you want to create a new branch?",(d=e.name)!=null?d:"unknown branch"),Y=s.l10n.t("Create New Branch");if(await s.window.showInformationMessage(S.model.state===Li.Merged?C:$,{modal:!0},Y)===Y){const le=(n==null?void 0:n.length)===4?Number(n[3])+1:1;return`${t}_${le}`}}return t}async createIssueBranch(e){var t;const n=this.shouldPromptForBranch?"prompt":s.workspace.getConfiguration(Ci).get(Qr);if(n==="off")return!0;const r=this.stateManager.getSavedIssueState(this.issueModel.number);this._branchName=this.shouldPromptForBranch?void 0:r.branch;const a=io(await this.getBranchTitle(),this.issue,void 0,await this.getUser()),o=(t=this._branchName)==null?void 0:t.match(new RegExp("^("+It(a)+")(_)?(\\d*)"));if(n==="on"){const S=await this.getBranch(this._branchName);S?e||(this._branchName=await this.offerNewBranch(S,a,o)):o||(this._branchName=a)}if(this._branchName||(this._branchName=await s.window.showInputBox({value:a,prompt:s.l10n.t("Enter the label for the new branch.")})),!this._branchName)return!1;const d=this.validateBranchName(this._branchName);return d?(this.showBranchNameError(d),!1):(r.branch=this._branchName,await this.stateManager.setSavedIssueState(this.issueModel,r),await this.createOrCheckoutBranch(this._branchName)?!0:(this._branchName=void 0,!1))}async getCommitMessage(){const e=s.workspace.getConfiguration(Ci).get(Tn);if(typeof e=="string")return io(e,this.issueModel,this._repoDefaults)}async setCommitMessageAndGitEvent(){const e=await this.getCommitMessage();this.repo&&e&&(this.repo.inputBox.value=e)}}var GA=Object.defineProperty,VA=(i,e,t)=>e in i?GA(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t,Ry=(i,e,t)=>VA(i,typeof e!="symbol"?e+"":e,t);const Dh=/\@([^\s]+)/,jA=150,Eo="Permalink";async function Ih(i,e,t,n){var r;const a=(r=i.resolvedIssues.get(e.repository.rootUri.path))==null?void 0:r.get(t);if(a)return a;{let o,d,S;const C=await e.getGitHubRemotes();for(const $ of C){if(n)o=n.owner?n.owner:$.owner,d=n.name?n.name:$.repositoryName,S=n.issueNumber;else{const Y=Fs(t.match(ja));Y&&(!Y.name||!Y.owner)&&(o=$.owner,d=$.repositoryName)}if(o&&d&&S!==void 0){let Y=await e.resolveIssue(o,d,S,!!n.commentNumber);if(Y||(Y=await e.resolvePullRequest(o,d,S)),Y){let ne;return i.resolvedIssues.has(e.repository.rootUri.path)?ne=i.resolvedIssues.get(e.repository.rootUri.path):i.resolvedIssues.set(e.repository.rootUri.path,ne=new(Zc())(50)),ne.set(t,Y),Y}}}}}class Ny extends s.CompletionItem{constructor(){super(...arguments),Ry(this,"login"),Ry(this,"uri")}}const Cy="HEAD",zA=1,WA=2,KA=3,Ty=4,lc=new Map([["upstream",zA],["ups",WA],["origin",KA]]);async function QA(i,e,t){var n,r,a,o;const d=(n=e.state.HEAD)!=null&&n.upstream&&!lc.has(e.state.HEAD.upstream.remote)?e.state.HEAD.upstream.remote:void 0;let S;const C=e.state.remotes.map(he=>({name:he.name,remote:he})).filter(he=>(he.name===d&&(S=he.remote),lc.has(he.name))).sort((he,ke)=>{var pe,Ne;const Ce=(pe=lc.get(he.name))!=null?pe:Ty,De=(Ne=lc.get(ke.name))!=null?Ne:Ty;return Ce-De});d&&C.push({name:d,remote:S});const $=[Cy];(r=e.state.HEAD)!=null&&r.name&&e.state.HEAD.name!==Cy&&$.unshift((a=e.state.HEAD)==null?void 0:a.name);let Y;try{Y=await((o=i.getManagerForFile(e.rootUri))==null?void 0:o.getPullRequestDefaults())}catch(he){if(!(he instanceof kg))throw he}Y&&$.push(Y.base);let ne,le;for(let he=0;he<$.length&&!ne;he++)for(let ke=0;ke<C.length&&!ne;ke++)try{const pe=(await e.getBranches({contains:t,remote:!0,pattern:`remotes/${C[ke].name}/${$[he]}`,count:1})).filter(Ne=>Ne.remote&&Ne.name);pe&&pe.length>0&&(ne=pe[0],le=C[ke].remote)}catch{}return le}function YA(i){if(i instanceof s.Uri)return{fileUri:i,lineNumber:void 0};const e=i;return{fileUri:e==null?void 0:e.uri,lineNumber:e==null?void 0:e.lineNumber}}function Ay(i,e){var t,n;y.debug("getting file and position",Eo);let r,a;const{fileUri:o,lineNumber:d}=YA(i);if(o)r=o,((t=s.window.activeTextEditor)==null?void 0:t.document.uri.fsPath)===r.fsPath&&!s.window.activeNotebookEditor&&(d!==void 0&&(s.window.activeTextEditor.selection.isEmpty||!s.window.activeTextEditor.selection.contains(new s.Position(d-1,0)))?a=new s.Range(new s.Position(d-1,0),new s.Position(d-1,s.window.activeTextEditor.document.lineAt(d-1).text.length)):a=s.window.activeTextEditor.selection);else if(!e&&s.window.activeTextEditor)r=s.window.activeTextEditor.document.uri,a=s.window.activeTextEditor.selection;else if(!e&&s.window.activeNotebookEditor)r=s.window.activeNotebookEditor.notebook.uri,a=s.window.activeNotebookEditor.selection;else if(!e&&((n=s.window.tabGroups.activeTabGroup.activeTab)==null?void 0:n.input)instanceof s.TabInputCustom)r=s.window.tabGroups.activeTabGroup.activeTab.input.uri;else if(e)r=e.document.uri,a=e.range;else return{uri:void 0,range:void 0};return y.debug(`got file and position: ${r.fsPath} ${a!=null&&a.start?a.start instanceof s.Position?`${a.start.line}:${a.start.character}`:a.start:"unknown"}`,Eo),{uri:r,range:a}}function uc(i){var e;const t=(e=i.state.HEAD)==null?void 0:e.upstream;for(const n of i.state.remotes)if(!t||t.remote===n.name)return n}async function My(i,e,t){const n=new Promise(a=>{a(uc(e))});let r=t?await Promise.race([QA(i,e,t),new Promise(a=>{setTimeout(()=>{a(n)},1500)})]):await n;if(!((!r||!r.fetchUrl)&&(r=await n,!r||!r.fetchUrl)))return r}function Py(i,e,t){const n=i.getManagerForFile(e.rootUri),r=n==null?void 0:n.gitHubRepositories.find(a=>a.remote.remoteName===t.name);return r?`${r.remote.owner}/${r.remote.repositoryName}`:new Br(t.fetchUrl).nameWithOwner}async function xh(i,e,t,n,r,a){var o,d,S;const{uri:C,range:$}=Ay(a,r);if(!C)return{permalink:void 0,error:s.l10n.t("No active text editor position to create permalink from."),originalFile:void 0,range:void 0};const Y=md(e,C);if(!Y)return{permalink:void 0,error:s.l10n.t("The current file isn't part of repository."),originalFile:C,range:$};let ne;if(C.scheme===Bt.Review&&(ne=ta(C.query).commit),!ne)try{const Ce=await Y.log({maxEntries:1,path:C.fsPath});if(Ce.length===0)return{permalink:void 0,error:s.l10n.t("No branch on a remote contains the most recent commit for the file."),originalFile:C,range:$};(o=Y.state.HEAD)!=null&&o.commit&&Ce[0].hash!==((d=Y.state.HEAD)==null?void 0:d.commit)?ne=Y.state.HEAD.commit:ne=Ce[0].hash}catch{ne=(S=Y.state.HEAD)==null?void 0:S.commit}y.debug(`commit hash: ${ne}`,Eo);const le=await My(i,Y,ne);if(!le||!le.fetchUrl)return{permalink:void 0,error:s.l10n.t("The selection may not exist on any remote."),originalFile:C,range:$};const he=le;y.debug(`upstream: ${he.fetchUrl}`,Eo);const ke=dc(C.path.substring(Y.rootUri.path.length)),Ne={permalink:`${Oh(le).replace(/\/$/,"")}/${Py(i,Y,he)}/blob/${ne}${n?`${ke}${t?Lh($):""}`:""}`,error:void 0,originalFile:C,range:$};return y.debug(`permalink generated: ${Ne.permalink}`,Eo),Ne}async function JA(i,e,t,n,r,a){return s.window.withProgress({location:s.ProgressLocation.Window},async o=>{o.report({message:s.l10n.t("Creating permalink...")});let d=0,S=a?a[d++]:void 0;const C=[];do C.push(xh(i,e,t,n,r,S)),S=a?a[d++]:void 0;while(S);return Promise.all(C)})}function Oh(i,e="github.com"){const t=Vo();let n=i.fetchUrl;if(t&&n){const r=new Br(n);(r.host.startsWith(t.authority)||!r.host.includes("github.com"))&&(e=t.authority)}return`https://${e}`}function dc(i){return i.split("/").map(e=>encodeURIComponent(e)).join("/")}function Lh(i){if(!i||i instanceof s.NotebookRange)return"";let e=`#L${i.start.line+1}`;return i.start.line!==i.end.line&&(e+=`-L${i.end.line+1}`),e}async function ZA(i,e,t){var n;const{uri:r,range:a}=Ay(e);if(!r)return{permalink:void 0,error:s.l10n.t("No active text editor position to create permalink from."),originalFile:void 0,range:void 0};const o=i.getManagerForFile(r);if(!o)return{permalink:void 0,error:s.l10n.t("Current file does not belong to an open repository."),originalFile:void 0,range:void 0};let d=(n=o.repository.state.HEAD)==null?void 0:n.name;d||(d=(await(await o.getOrigin()).getMetadata()).default_branch);const S=uc(o.repository);if(!(S!=null&&S.fetchUrl))return{permalink:void 0,error:s.l10n.t("Repository does not have any remotes."),originalFile:void 0,range:void 0};const C=r.path.substring(o.repository.rootUri.path.length),$=Oh(S).replace(/\/$/,""),Y=dc(`${d}${C}`);return{permalink:`${$}/${new Br(S.fetchUrl).nameWithOwner}/blob/${Y}${t?Lh(a):""}`,error:void 0,originalFile:r,range:a}}async function XA(i,e,t){let n=0,r=e?e[n++]:void 0;const a=[];do a.push(ZA(i,r,t)),r=e?e[n++]:void 0;while(r);return Promise.all(a)}async function Fy(i,e,t){var n;const r=await((n=e.currentIssue(i.repository.rootUri))==null?void 0:n.getCommitMessage());if(r)return i.repository.commit(r,{all:t})}const Dy=s.l10n.t("Commit Staged"),Iy=s.l10n.t("Commit All");async function eM(i,e,t){var n,r;if(i.repository.state.workingTreeChanges.length>0||i.repository.state.indexChanges.length>0){const a=[];switch(i.repository.state.indexChanges&&a.push(Dy),i.repository.state.workingTreeChanges&&a.push(Iy),await s.window.showInformationMessage(s.l10n.t("There are uncommitted changes. Do you want to commit them with the default commit message?"),{modal:!0},...a)){case Dy:{await Fy(i,t,!1);break}case Iy:{await Fy(i,t,!0);break}default:return!1}}if((n=i.repository.state.HEAD)!=null&&n.upstream)return await i.repository.push(),await e.createPullRequest(void 0),!0;{let a;return i.repository.state.remotes.length===1?a=i.repository.state.remotes[0].name:i.repository.state.remotes.length>1&&(a=await s.window.showQuickPick(i.repository.state.remotes.map(o=>o.name),{placeHolder:s.l10n.t("Remote to push to")})),a?(await i.repository.push(a,(r=i.repository.state.HEAD)==null?void 0:r.name,!0),await e.createPullRequest(void 0),!0):(s.window.showWarningMessage(s.l10n.t("The current repository has no remotes to push to. Please set up a remote and try again.")),!1)}}async function cc(i,e){return(await s.languages.getTokenInformationAtPosition(i,e)).type===s.StandardTokenType.Comment}async function xy(i,e){return i.lineAt(e.line).range.end.character>1e4?!1:cc(i,e)}function Oy(i){const e=new URLSearchParams(i.query).get("rootUri");return e?s.Uri.parse(e):void 0}function tM(i){return i.replace(/([_~*])/g,"\\$1")}class Ly extends s.CompletionItem{constructor(e){super(`${e.number}: ${e.title}`,s.CompletionItemKind.Issue),this.issue=e}}class iM extends s.CompletionItem{constructor(){super(s.l10n.t("Configure issue queries..."),s.CompletionItemKind.Text),this.detail=s.l10n.t("No issues found. Set up queries to see relevant issues."),this.insertText="",this.command={command:"workbench.action.openSettings",title:s.l10n.t("Open Settings"),arguments:[`@ext:${jn} githubIssues.queries`]},this.sortText="~"}}class nM{constructor(e,t,n){this.stateManager=e,this.repositoriesManager=t,this.context=n}async provideCompletionItems(e,t,n,r){var a,o,d,S,C,$,Y;let ne=e.getWordRangeAtPosition(t),le=ne?e.getText(ne):void 0;if(!ne||(le==null?void 0:le.charAt(0))!=="#"){const nt=(a=ne==null?void 0:ne.start)!=null?a:t,Nt=new s.Range(nt.translate(void 0,nt.character?-1:0),t),Et=e.getText(Nt);Et.charAt(0)==="#"&&(ne=Nt,le=Et)}if(e.languageId!=="scminput"&&e.uri.scheme!=="comment"&&t.character>0&&r.triggerKind===s.CompletionTriggerKind.Invoke&&!(le!=null&&le.match(/#[0-9]*$/)))return[];if(t.character<=6&&e.languageId==="markdown"&&e.getText(new s.Range(t.with(void 0,0),t))===new Array(t.character+1).join("#")&&e.uri.scheme!=="comment"&&r.triggerKind===s.CompletionTriggerKind.TriggerCharacter)return[];if(r.triggerKind===s.CompletionTriggerKind.TriggerCharacter&&s.workspace.getConfiguration(Ci).get(ns,[]).find(nt=>nt===e.languageId))return[];const he=e.languageId==="plaintext"||e.languageId==="markdown"||await cc(e,t);if(e.languageId!=="scminput"&&e.languageId!=="git-commit"&&!he)return[];let ke=new s.Range(t,t);t.character-1>=0&&ne&&((le==null?void 0:le.charAt(0))==="#"||e.languageId==="scminput"||e.languageId==="git-commit")&&(ke=ne);let pe;if(le==="#"&&ne&&ne.start.character>=3){const nt=new s.Range(ne.start.with(void 0,0),ne.start),Et=e.getText(nt).match(/([^\s]+)\/([^\s]+)/);Et&&(pe={owner:Et[1],repo:Et[2]})}const Ne=[],Ce=new Set;let De,He;if(e.languageId==="scminput")He=Oy(e.uri);else if(e.uri.scheme==="comment"&&((o=s.workspace.workspaceFolders)!=null&&o.length))for(const nt of s.window.visibleTextEditors){const Nt=s.workspace.workspaceFolders[0].uri.with({path:nt.document.uri.path}),Et=s.workspace.getWorkspaceFolder(Nt);if(Et){He=Et.uri;break}}else He=e.uri.scheme===Bt.NewIssue&&(S=(d=Ud(e.uri))==null?void 0:d.originUri)!=null?S:e.uri;if(!He)return[];let Ke;try{Ke=this.repositoriesManager.getManagerForFile(He),De=await(Ke==null?void 0:Ke.getPullRequestDefaults())}catch{}const Ge=this.stateManager.getIssueCollection((C=Ke==null?void 0:Ke.repository.rootUri)!=null?C:He);let je=0;for(const nt of Ge){const Nt=await nt[1];if((($=Nt.issues)!=null?$:[]).length!==0)for(const Et of(Y=Nt.issues)!=null?Y:[]){if(pe&&(Et.remote.owner!==pe.owner||Et.remote.repositoryName!==pe.repo))continue;const ki=jo(Et);if(!Ce.has(ki)){Ce.add(ki);const Pi=await this.completionItemFromIssue(De,Et,ke,e);Pi.sortText=je.toString().padStart(8,"0"),je++,Ne.push(Pi)}}}return Ne.length===0?[new iM]:Ne}async completionItemFromIssue(e,t,n,r,a){var o;const d=new Ly(t);if(r.languageId==="markdown")d.insertText=`[${jo(t,e)}](${t.html_url})`;else{const S=s.workspace.getConfiguration(Ci).get(xr);r.uri.path.match(/git\/scm\d\/input/)&&typeof S=="string"?d.insertText=io(S,t,e):d.insertText=`${jo(t,e)}`}return d.documentation=t.body,d.range=n,d.detail=a?a.title:(o=t.milestone)==null?void 0:o.title,d.filterText=`${d.detail} # ${t.number} ${t.title} ${d.documentation}`,d}async resolveCompletionItem(e,t){return e instanceof Ly&&(e.documentation=await ao(e.issue,this.context,this.repositoriesManager),e.command={command:"issues.issueCompletion",title:s.l10n.t("Issue Completion Choose,")}),e}}var rM=Object.defineProperty,aM=(i,e,t)=>e in i?rM(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t,Au=(i,e,t)=>aM(i,typeof e!="symbol"?e+"":e,t);const kl=s.l10n.t("Assignees:"),_l=s.l10n.t("Labels:"),Mu=s.l10n.t("Milestone:"),Sl=s.l10n.t("Projects:"),Uh="newIssue.cache";class sM{constructor(e){this.cache=e,Au(this,"content"),Au(this,"createTime",0),Au(this,"modifiedTime",0),Au(this,"_onDidChangeFile",new s.EventEmitter),Au(this,"onDidChangeFile",this._onDidChangeFile.event)}watch(e,t){const n=this.onDidChangeFile(r=>{r.length===0&&r[0].type===s.FileChangeType.Deleted&&n.dispose()});return n}stat(e){var t,n;return{type:s.FileType.File,ctime:this.createTime,mtime:this.modifiedTime,size:(n=(t=this.content)==null?void 0:t.length)!=null?n:0}}readDirectory(e){return[]}createDirectory(e){}readFile(e){var t;return(t=this.content)!=null?t:new Uint8Array(0)}writeFile(e,t,n={create:!1,overwrite:!1}){const r=this.content;this.content=t,r===void 0?(this.createTime=new Date().getTime(),this._onDidChangeFile.fire([{uri:e,type:s.FileChangeType.Created}])):(this.modifiedTime=new Date().getTime(),this._onDidChangeFile.fire([{uri:e,type:s.FileChangeType.Changed}])),this.cache.cache(t)}delete(e,t){this.content=void 0,this.createTime=0,this.modifiedTime=0,this._onDidChangeFile.fire([{uri:e,type:s.FileChangeType.Deleted}])}rename(e,t,n){}}class oM{constructor(e){this.manager=e}async provideCompletionItems(e,t,n,r){var a,o;const d=e.lineAt(t.line).text;if(!d.startsWith(_l)&&!d.startsWith(Mu)&&!d.startsWith(Sl))return[];const S=(o=(a=Ud(e.uri))==null?void 0:a.repoUriParams)==null?void 0:o.repoRootUri;if(!S)return[];const C=this.manager.getManagerForFile(S);if(!C)return[];const $=await C.getPullRequestDefaults();return d.startsWith(_l)?this.provideLabelCompletionItems(C,$):d.startsWith(Mu)?this.provideMilestoneCompletionItems(C):d.startsWith(Sl)?this.provideProjectCompletionItems(C):[]}async provideLabelCompletionItems(e,t){return(await e.getLabels(void 0,t)).map(r=>{const a=new s.CompletionItem(r.name,s.CompletionItemKind.Color);return a.documentation=`#${r.color}`,a.commitCharacters=[" ",","],a})}async provideMilestoneCompletionItems(e){var t,n;return((n=await((t=await e.getPullRequestDefaultRepo())==null?void 0:t.getMilestones()))!=null?n:[]).map(a=>{const o=new s.CompletionItem(a.title,s.CompletionItemKind.Event);return o.commitCharacters=[" ",","],o})}async provideProjectCompletionItems(e){var t;const n=await e.getPullRequestDefaultRepo();return((t=await e.getAllProjects(n))!=null?t:[]).map(a=>{const o=new s.CompletionItem(a.title,s.CompletionItemKind.Event);return o.commitCharacters=[" ",","],o})}}class lM{constructor(e){this.context=e,this.clear()}cache(e){this.context.workspaceState.update(Uh,e)}clear(){this.context.workspaceState.update(Uh,void 0)}get(){const e=this.context.workspaceState.get(Uh);if(e)return new TextDecoder().decode(e)}}async function uM(i){var e,t;let n;if(!s.window.activeTextEditor||s.window.activeTextEditor.document.uri.scheme!==Bt.NewIssue)return;const r=Ud(s.window.activeTextEditor.document.uri),a=r==null?void 0:r.originUri;if(!a)return;let o;if((e=r.repoUriParams)!=null&&e.repoRootUri?o=i.getManagerForFile(r.repoUriParams.repoRootUri):o=i.getManagerForFile(a),!o)return;const d=await o.getPullRequestDefaultRepo();n=s.window.activeTextEditor.document.getText();const S=n.indexOf(`\r
\r
`),C=n.indexOf(`

`);let $;if(S<0&&C<0)return;S<0?$=C:C<0?$=S:$=Math.min(S,C);const Y=n.substring(0,$);if(!Y)return;let ne;if(n=n.substring($+2).trim(),n.startsWith("<!--")){const Ne=n.indexOf("-->");if(Ne<0)return;n=n.substring(Ne+3).trim()}if(n.startsWith(kl)){const Ne=n.split(/\r\n|\n/,1);Ne.length===1&&(ne=Ne[0].substring(kl.length).split(",").map(Ce=>(Ce=Ce.trim(),Ce.startsWith("@")&&(Ce=Ce.substring(1)),Ce)),n=n.substring(Ne[0].length).trim())}let le;if(n.startsWith(_l)){const Ne=n.split(/\r\n|\n/,1);Ne.length===1&&(le=Ne[0].substring(_l.length).split(",").map(Ce=>Ce.trim()).filter(Ce=>Ce),n=n.substring(Ne[0].length).trim())}let he;if(n.startsWith(Mu)){const Ne=n.split(/\r\n|\n/,1);if(Ne.length===1){const Ce=Ne[0].substring(Mu.length).trim();if(Ce){const De=await d.getMilestones();he=(t=De==null?void 0:De.find(He=>He.title===Ce))==null?void 0:t.number}n=n.substring(Ne[0].length).trim()}}let ke;if(n.startsWith(Sl)){const Ne=n.split(/\r\n|\n/,1);if(Ne.length===1){if(await d.canGetProjectsNow()){const Ce=await o.getAllProjects(d);ke=Ne[0].substring(Sl.length).split(",").map(De=>(De=De.trim(),Ce.find(He=>He.title===De))).filter(De=>!!De)}n=n.substring(Ne[0].length).trim()}}const pe=n!=null?n:"";return{labels:le,milestone:he,projects:ke,assignees:ne,title:Y,body:pe,originUri:a}}class dM{constructor(e,t,n,r){this.manager=e,this.stateManager=t,this.context=n,this.telemetry=r}async provideHover(e,t,n){var r;if(!await xy(e,t))return;let a=e.getWordRangeAtPosition(t,ja);if(a&&a.start.character>0){a=new s.Range(new s.Position(a.start.line,a.start.character),a.end);const d=e.getText(a).match(ja),S=Fs(d),C=(r=this.manager.getManagerForFile(e.uri))!=null?r:this.manager.folderManagers[0];if(!C)return;if(S&&d&&(S.owner||S.issueNumber<=this.stateManager.maxIssueNumber(C.repository.rootUri)))return this.createHover(C,d[0],S,a)}else return}async createHover(e,t,n,r){const a=await Ih(this.stateManager,e,t,n);if(a)return this.telemetry.sendTelemetryEvent("issues.issueHover"),new s.Hover(await ao(a,this.context,this.manager,n.commentNumber),r)}}var cM=Object.defineProperty,fM=(i,e,t)=>e in i?cM(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t,Uy=(i,e,t)=>fM(i,typeof e!="symbol"?e+"":e,t);class Pu{constructor(e,t,n){this.repoRootUri=e,this.queryLabel=t,this.isFirst=n}}class fc{constructor(e,t,n,r,a,o,d){this.repoRootUri=e,this.queryLabel=t,this.isInFirstQuery=n,this.groupLevel=r,this.group=a,this.groupByOrder=o,this.issuesInGroup=d}}class hM{constructor(e,t,n){this.stateManager=e,this.manager=t,this.context=n,Uy(this,"_onDidChangeTreeData",new s.EventEmitter),Uy(this,"onDidChangeTreeData",this._onDidChangeTreeData.event),n.subscriptions.push(this.manager.onDidChangeState(()=>{this._onDidChangeTreeData.fire()})),n.subscriptions.push(this.stateManager.onDidChangeIssueData(()=>{this._onDidChangeTreeData.fire()})),n.subscriptions.push(this.stateManager.onDidChangeCurrentIssue(()=>{this._onDidChangeTreeData.fire()})),n.subscriptions.push(s.workspace.onDidChangeConfiguration(r=>{r.affectsConfiguration(`${Ci}.${ka}`)&&this._onDidChangeTreeData.fire()}))}getFolderRepoItem(e){return new s.TreeItem(W.basename(e.repository.rootUri.fsPath),qh(this.context,e,s.TreeItemCollapsibleState.Expanded))}getQueryItem(e){const t=new s.TreeItem(e.queryLabel,qh(this.context,e,e.isFirst?s.TreeItemCollapsibleState.Expanded:s.TreeItemCollapsibleState.Collapsed));return t.contextValue="query",t}getIssueGroupItem(e){return new s.TreeItem(e.group,qh(this.context,e,e.isInFirstQuery?s.TreeItemCollapsibleState.Expanded:s.TreeItemCollapsibleState.Collapsed))}async getIssueTreeItem(e){var t,n;const r=new s.TreeItem(e.title,s.TreeItemCollapsibleState.None),a=s.workspace.getConfiguration(Ci,null).get(ka,"author");let o;if(a==="assignee"&&e.assignees&&e.assignees.length>0?o=e.assignees[0]:a==="author"&&(o=e.author),o?r.iconPath=(t=(await wr.avatarCirclesAsImageDataUris(this.context,[o],16,16))[0])!=null?t:e.isOpen?new s.ThemeIcon("issues",new s.ThemeColor("issues.open")):new s.ThemeIcon("issue-closed",new s.ThemeColor("github.issues.closed")):r.iconPath=new s.ThemeIcon("github"),r.command={command:"issue.openDescription",title:s.l10n.t("View Issue Description"),arguments:[e]},((n=this.stateManager.currentIssue(e.uri))==null?void 0:n.issue.number)===e.number){const d=e.title.replace(/\$\([a-zA-Z0-9~-]+\)/g,"\\$&"),S={label:new s.MarkdownString(`$(check) ${d}`,!0)};r.label=S,r.contextValue="currentissue"}else this.stateManager.getSavedIssueState(e.number).branch?r.contextValue="continueissue":r.contextValue="issue";return D_(e)&&(r.contextValue="link"+r.contextValue),r}async getTreeItem(e){return e instanceof lo?this.getFolderRepoItem(e):e instanceof Pu?this.getQueryItem(e):e instanceof fc?this.getIssueGroupItem(e):this.getIssueTreeItem(e)}getChildren(e){return e===void 0&&this.manager.state!==gr.RepositoriesLoaded?this.getStateChildren():this.getIssuesChildren(e)}async resolveTreeItem(e,t){return t instanceof nr&&(e.tooltip=await ao(t,this.context,this.manager)),e}getStateChildren(){return this.manager.state===gr.NeedsAuthentication||!this.manager.folderManagers.length?[]:(ht.setContext(Ft.LOADING_ISSUES_TREE,!0),[])}getRootChildren(){return this.manager.folderManagers.length===1?this.getRepoChildren(this.manager.folderManagers[0]):this.manager.folderManagers.length>1?this.manager.folderManagers:[]}getRepoChildren(e){const t=this.stateManager.getIssueCollection(e.repository.rootUri),n=Array.from(t.keys());return n.length===1?this.getQueryNodeChildren(new Pu(e.repository.rootUri,n[0],!0)):n.map((r,a)=>new Pu(e.repository.rootUri,r,a===0))}async getQueryNodeChildren(e){var t;const r=await this.stateManager.getIssueCollection(e.repoRootUri).get(e.queryLabel);return r?this.getIssueGroupsForGroupIndex(e.repoRootUri,e.queryLabel,e.isFirst,r.groupBy,0,(t=r.issues)!=null?t:[]):[]}getIssueGroupsForGroupIndex(e,t,n,r,a,o){if(r.length<=a)return o;const d=r[a];if(d!=="milestone"&&d!=="repository"||r.findIndex($=>$===d)!==a)return this.getIssueGroupsForGroupIndex(e,t,n,r,a+1,o);const S=B(o,$=>{var Y,ne;return d==="repository"?`${$.remote.owner}/${$.remote.repositoryName}`:(ne=(Y=$.milestone)==null?void 0:Y.title)!=null?ne:"No Milestone"}),C=[];for(const $ in S)C.push(new fc(e,t,n,a,$,r,S[$]));return C}async getIssueGroupChildren(e){return this.getIssueGroupsForGroupIndex(e.repoRootUri,e.queryLabel,e.isInFirstQuery,e.groupByOrder,e.groupLevel+1,e.issuesInGroup)}getIssuesChildren(e){return e===void 0?this.getRootChildren():e instanceof lo?this.getRepoChildren(e):e instanceof Pu?this.getQueryNodeChildren(e):e instanceof fc?this.getIssueGroupChildren(e):[]}}const Bh="expandedIssuesState";function By(i){let e;return i instanceof lo?e=i.repository.rootUri.toString():i instanceof Pu?e=`${i.repoRootUri.toString()}/${i.queryLabel}`:i instanceof fc&&(e=`${i.repoRootUri.toString()}/${i.queryLabel}/${i.groupLevel}/${i.group}`),e}function qy(i,e,t){const n=By(e);if(n){const r=new Set(i.workspaceState.get(Bh,[]));t?r.add(n):r.delete(n),i.workspaceState.update(Bh,Array.from(r.keys()))}}function qh(i,e,t=s.TreeItemCollapsibleState.Expanded){const n=By(e);if(n){const r=i.workspaceState.get(Bh);return r?new Set(r).has(n)?s.TreeItemCollapsibleState.Expanded:s.TreeItemCollapsibleState.Collapsed:t}return s.TreeItemCollapsibleState.None}var mM=Object.defineProperty,pM=(i,e,t)=>e in i?mM(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t,gM=(i,e,t)=>pM(i,typeof e!="symbol"?e+"":e,t);class vM{constructor(e,t){this.copilotRemoteAgentManager=t,gM(this,"expression"),e.subscriptions.push(s.workspace.onDidChangeConfiguration(()=>{this.updateTriggers()})),this.updateTriggers()}updateTriggers(){const e=s.workspace.getConfiguration(Ci).get(Gr,[]);this.expression=e.length>0?new RegExp(e.map(t=>It(t)).join("|")):void 0}findTodoInLine(e){var t;const n=e.substring(0,jA);if(n.match(ja))return;const a=n.match(this.expression),o=(t=a==null?void 0:a.index)!=null?t:-1;if(o>=0&&a){const d=n.substring(o).search(/\s/),S=o+(d>0?d:n.match(this.expression)[0].length);return{match:a,search:o,insertIndex:S}}}async provideCodeActions(e,t,n,r){if(this.expression===void 0||n.only&&n.only!==s.CodeActionKind.QuickFix)return[];const a=[];let o=t.start.line;do{const d=e.lineAt(o).text,S=this.findTodoInLine(d);if(S){const{match:C,search:$,insertIndex:Y}=S,ne=new s.CodeAction(s.l10n.t("Create GitHub Issue"),s.CodeActionKind.QuickFix);if(ne.ranges=[new s.Range(o,$,o,$+C[0].length)],ne.command={title:s.l10n.t("Create GitHub Issue"),command:"issue.createIssueFromSelection",arguments:[{document:e,lineNumber:o,line:d,insertIndex:Y,range:t}]},a.push(ne),this.copilotRemoteAgentManager){const le=new s.CodeAction(s.l10n.t("Delegate to agent"),s.CodeActionKind.QuickFix);le.ranges=[new s.Range(o,$,o,$+C[0].length)],le.command={title:s.l10n.t("Delegate to agent"),command:"issue.startCodingAgentFromTodo",arguments:[{document:e,lineNumber:o,line:d,insertIndex:Y,range:t}]},a.push(le)}break}o++}while(t.end.line>=o);return a}async provideCodeLenses(e,t){if(this.expression===void 0)return[];if(!s.workspace.getConfiguration(Jt).get(Gi,!0))return[];const r=[];for(let a=0;a<e.lineCount;a++){const o=e.lineAt(a),{text:d,firstNonWhitespaceCharacterIndex:S}=o,C=this.findTodoInLine(d);if(!C||!await cc(e,new s.Position(a,S)))continue;const{match:$,search:Y,insertIndex:ne}=C,le=new s.Range(a,Y,a,Y+$[0].length);if(this.copilotRemoteAgentManager&&await this.copilotRemoteAgentManager.isAvailable()){const he=new s.CodeLens(le,{title:s.l10n.t("Delegate to agent"),command:"issue.startCodingAgentFromTodo",arguments:[{document:e,lineNumber:a,line:d,insertIndex:ne,range:le}]});r.push(he)}}return r}}var yM=Object.defineProperty,bM=(i,e,t)=>e in i?yM(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t,$y=(i,e,t)=>bM(i,typeof e!="symbol"?e+"":e,t);class wM extends f{constructor(e,t){super(),s.window.registerShareProvider&&(this._register(new _M(e,t)),this._register(new Hy(e,t)),this._register(new SM(e,t)),this._register(new EM(e,t)))}}const kM=[Bt.File,Bt.Review,Bt.Pr,Bt.VscodeVfs];class $h extends f{constructor(e,t,n,r,a,o="github.com"){super(),this.repositoryManager=e,this.gitAPI=t,this.id=n,this.label=r,this.priority=a,this.origin=o,$y(this,"shareProviderRegistrations"),this.initialize()}dispose(){super.dispose(),this.unregister()}async initialize(){await this.hasGitHubRepositories()&&this.shouldRegister()&&this.register(),this._register(this.repositoryManager.onDidLoadAnyRepositories(async()=>{await this.hasGitHubRepositories()&&this.shouldRegister()&&this.register()})),this._register(this.gitAPI.onDidCloseRepository(()=>{this.hasGitHubRepositories()||this.unregister()}))}async hasGitHubRepositories(){for(const e of this.repositoryManager.folderManagers)return!!(await e.computeAllGitHubRemotes()).length}register(){this.shareProviderRegistrations||(this.shareProviderRegistrations=kM.map(e=>s.window.registerShareProvider({scheme:e},this)))}unregister(){this.shareProviderRegistrations&&(c(this.shareProviderRegistrations),this.shareProviderRegistrations=void 0)}async provideShare(e){const t=this.repositoryManager.getManagerForFile(e.resourceUri);if(!t)throw new Error(s.l10n.t("Current file does not belong to an open repository."));const n=await this.getBlob(t,e.resourceUri),r=t.repository,a=await this.getUpstream(r,n);if(!a||!a.fetchUrl)throw new Error(s.l10n.t("The selection may not exist on any remote."));const o=Oh(a,this.origin).replace(/\/$/,""),d=dc(e.resourceUri.path.substring(r.rootUri.path.length)),S=RM(e);return s.Uri.parse([o,"/",Py(this.repositoryManager,r,{...a,fetchUrl:a.fetchUrl}),"/blob/",n,d,S].join(""))}}class _M extends $h{constructor(e,t){super(e,t,"githubDevLink",s.l10n.t("Copy github.dev Link"),10,"github.dev")}shouldRegister(){return s.env.appHost==="github.dev"}async getBlob(e){return Vy(e)}async getUpstream(e){return uc(e)}}class Hy extends $h{constructor(e,t,n="githubComPermalink",r=s.l10n.t("Copy GitHub Permalink"),a=11){super(e,t,n,r,a)}shouldRegister(){return!0}async getBlob(e,t){var n,r,a;let o,d;if(t.scheme===Bt.Review&&(d=ta(t.query).commit),!d){const S=e.repository;try{const C=await S.log({maxEntries:1,path:t.fsPath});if(C.length===0)throw new Error(s.l10n.t("No branch on a remote contains the most recent commit for the file."));(n=S.state.HEAD)!=null&&n.commit&&C[0].hash!==((r=S.state.HEAD)==null?void 0:r.commit)&&(o=await S.getCommit(S.state.HEAD.commit)),o||(o=C[0]),d=o.hash}catch{d=(a=S.state.HEAD)==null?void 0:a.commit}}if(d)return d;throw new Error}async getUpstream(e,t){return My(this.repositoryManager,e,(await e.getCommit(t)).hash)}}const Gy=class qb extends Hy{constructor(e,t){super(e,t,"githubComPermalinkAsMarkdown",s.l10n.t("Copy GitHub Permalink as Markdown"),12)}async provideShare(e){var t;y.trace("providing permalink markdown share",qb.ID);const n=await super.provideShare(e),r=await this.getMarkdownLinkText(e);if(n)return`[${(t=r==null?void 0:r.trim())!=null?t:""}](${n.toString()})`}async getMarkdownLinkText(e){return W.basename(e.resourceUri.path)}};$y(Gy,"ID","GitHubPermalinkAsMarkdownShareProvider");let SM=Gy;class EM extends $h{constructor(e,t){super(e,t,"githubComHeadLink",s.l10n.t("Copy GitHub HEAD Link"),13)}shouldRegister(){return!0}async getBlob(e){return Vy(e)}async getUpstream(e){return uc(e)}}function RM(i){return i.resourceUri.scheme==="vscode-notebook-cell"?"":Lh(i.selection)}async function Vy(i){var e;let t=(e=i.repository.state.HEAD)==null?void 0:e.name;return t||(t=(await(await i.getOrigin()).getMetadata()).default_branch),dc(t)}var NM=Object.defineProperty,CM=(i,e,t)=>e in i?NM(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t,Fu=(i,e,t)=>CM(i,typeof e!="symbol"?e+"":e,t);const jy=class To{constructor(e,t,n){this.stateManager=e,this.manager=t,Fu(this,"_gitBlameCache",{}),Fu(this,"cachedPrUsers",[]),Fu(this,"cachedPrTimelineEvents",[]),Fu(this,"cachedForPrNumber")}async provideCompletionItems(e,t,n,r){var a,o,d,S,C;let $=e.getWordRangeAtPosition(t),Y=$?e.getText($):void 0;if(!$||(Y==null?void 0:Y.charAt(0))!=="@"){const De=(a=$==null?void 0:$.start)!=null?a:t,He=new s.Range(De.translate(void 0,De.character?-1:0),t),Ke=e.getText(He);Ke.charAt(0)==="@"&&($=He,Y=Ke)}if(e.languageId!=="scminput"&&e.uri.scheme!==Bt.NewIssue&&t.character>0&&r.triggerKind===s.CompletionTriggerKind.Invoke&&(Y==null?void 0:Y.charAt(0))!=="@")return[];if(e.uri.scheme===Bt.NewIssue&&r.triggerKind===s.CompletionTriggerKind.Invoke&&e.getText(new s.Range(t.with(void 0,0),t.with(void 0,kl.length)))!==kl)return[];if(r.triggerKind===s.CompletionTriggerKind.TriggerCharacter&&s.workspace.getConfiguration(Ci).get(Vn,[]).find(De=>De===e.languageId))return[];const ne=e.languageId==="plaintext"||e.languageId==="markdown"||await cc(e,t);if(!this.isCodeownersFiles(e.uri)&&e.languageId!=="scminput"&&e.languageId!=="git-commit"&&!ne)return[];let le=new s.Range(t,t);t.character-1>=0&&$&&(Y==null?void 0:Y.charAt(0))==="@"&&(le=$);let he=e.uri;if(e.uri.scheme===Bt.NewIssue){const De=Ud(e.uri);he=(o=De==null?void 0:De.originUri)!=null?o:e.uri}else if(e.languageId==="scminput")he=Oy(e.uri);else if(e.uri.scheme===Bt.Comment){const De=(d=s.window.tabGroups.activeTabGroup.activeTab)==null?void 0:d.input;De instanceof s.TabInputText?he=De.uri:De instanceof s.TabInputTextDiff?he=De.modified:De.textDiffs?he=De.textDiffs[0].modified:he=s.workspace.workspaceFolders?s.workspace.workspaceFolders[0].uri:void 0}if(!he)return[];const ke=(C=(S=this.manager.getManagerForFile(he))==null?void 0:S.repository.rootUri)!=null?C:he;let pe=[];const Ne=await this.stateManager.getUserMap(ke);Ne.forEach(De=>{var He;const Ke=(He=De.specialDisplayName)!=null?He:De.login,Ge=new Ny({label:Ke,description:De.name},s.CompletionItemKind.User);Ge.insertText=`@${Ke}`,Ge.login=De.login,Ge.uri=ke,Ge.range=le,Ge.detail=De.name,Ge.filterText=`@ ${De.login} ${De.name}`,e.uri.scheme===Bt.NewIssue&&(Ge.commitCharacters=[" ",","]),pe.push(Ge)});const Ce=await this.getCommentSpecificSuggestions(Ne,e,t);return Ce&&(pe=pe.concat(Ce)),pe}isCodeownersFiles(e){const t=this.manager.getManagerForFile(e);if(!t||!X(t.repository.rootUri.fsPath,e.fsPath))return!1;const n=e.path.substring(t.repository.rootUri.path.length).toLowerCase();return!!["/codeowners","/docs/codeowners","/.github/codeowners"].find(a=>a===n)}async resolveCompletionItem(e,t){const n=this.manager.getManagerForFile(e.uri);if(!n)return e;const r=await n.getPullRequestDefaults(),a=await n.resolveUser(r.owner,r.repo,e.login);return a&&(e.documentation=Jp(r,a),e.command={command:"issues.userCompletion",title:s.l10n.t("User Completion Chosen")}),e}async getCommentSpecificSuggestions(e,t,n){try{const r=JSON.parse(t.uri.query);if(t.uri.scheme!==Bt.Comment||ve(r.extensionId,jn)!==0)return;const a=t.getWordRangeAtPosition(n,/@([a-z\d](?:[a-z\d]|-(?=[a-z\d])){0,38})?/i);if(!a||a.isEmpty)return;const o=s.window.visibleTextEditors;if(!o.length)return;let d,S,C,$;for(const He of o)if(d=this.manager.getManagerForFile(He.document.uri),d){if(d.activePullRequest){C=d.activePullRequest.number,$=d.activePullRequest.remote.remoteName;break}else if(He.document.uri.scheme===Bt.Pr){const Ke=yn(He.document.uri);C=Ke.prNumber,$=Ke.remoteName;break}}if(!d)return;const Y=d;if(C&&C===this.cachedForPrNumber)return this.cachedPrUsers;let ne=[];const le={};let he={};const ke=new Promise(async He=>{if(C&&$){if(y.debug("get Timeline Events and parse users",To.ID),this.cachedForPrNumber===C)return this.cachedPrTimelineEvents;const Ke=Y.gitHubRepositories.find(Ge=>Ge.remote.remoteName===$);if(Ke){const Ge=await Ke.getPullRequest(C);this.cachedForPrNumber=C,this.cachedPrTimelineEvents=await Ge.getTimelineEvents()}ne=mk(this.cachedPrTimelineEvents),He()}He()}),pe=new Promise(async He=>{if(o.length)try{y.debug("git blame and parse users",To.ID);const Ke=W.resolve(o[0].document.uri.fsPath);let Ge;this._gitBlameCache[Ke]?Ge=this._gitBlameCache[Ke]:(Ge=await Y.repository.blame(Ke),this._gitBlameCache[Ke]=Ge);const je=Ge.split(`
`);for(const nt of je){const Nt=/^\w{11} \S*\s*\((.*)\s*\d{4}\-/.exec(nt);if(Nt&&Nt.length===2){const Et=Nt[1].trim();le[Et]=!0}}}catch(Ke){y.debug(Ke,To.ID)}He()}),Ne=new Promise(async He=>{y.debug("get mentionable users",To.ID),he=await Y.getMentionableUsers(),He()});await Promise.all([ke,pe,Ne]),this.cachedPrUsers=[];const Ce={};y.debug("prepare user suggestions",To.ID),ne.forEach(He=>{Ce[He.login]||(Ce[He.login]=He)});const De={};for(const He in he)for(const Ke of he[He])if(!Ce[Ke.login]&&!De[Ke.login]&&!e.get(Ke.login)){De[Ke.login]=!0;let Ge=2;(le[Ke.login]||Ke.name&&le[Ke.name])&&(Ge=1),Ce[Ke.login]&&(Ge=0);const je=new Ny({label:Ke.login,description:Ke.name},s.CompletionItemKind.User);je.insertText=`@${Ke.login}`,je.login=Ke.login,je.uri=Y.repository.rootUri,je.detail=Ke.name,je.filterText=`@ ${Ke.login} ${Ke.name}`,je.sortText=`${Ge}_${Ke.login}`,(S==null?void 0:S.document.uri.scheme)===Bt.NewIssue&&(je.commitCharacters=[" ",","]),this.cachedPrUsers.push(je)}return y.debug("done",To.ID),this.cachedPrUsers}catch{return[]}}};Fu(jy,"ID","UserCompletionProvider");let TM=jy;class AM{constructor(e,t){this.manager=e,this.telemetry=t}async provideHover(e,t,n){if(!await xy(e,t))return;let r=e.getWordRangeAtPosition(t,Dh);if(r&&r.start.character>0){r=new s.Range(new s.Position(r.start.line,r.start.character),r.end);const o=e.getText(r).match(Dh);if(o){const d=o[1];return["javascript","javascriptreact","typescript","typescriptreact"].includes(e.languageId)&&Um.indexOf(d)>=0||e.languageId==="php"&&Bm.indexOf(d)>=0||(e.languageId==="cpp"||e.languageId==="c"||e.languageId==="csharp"||e.languageId==="java"||e.languageId==="objective-c"||e.languageId==="php")&&Dw.indexOf(d)>=0?void 0:this.createHover(e.uri,d,r)}}else return}async createHover(e,t,n){try{const r=this.manager.getManagerForFile(e);if(!r)return;const a=await r.getPullRequestDefaults(),o=await r.resolveUser(a.owner,a.repo,t);return o&&o.name?(this.telemetry.sendTelemetryEvent("issues.userHover"),new s.Hover(Jp(a,o),n)):void 0}catch{return}}}var MM=Object.defineProperty,PM=(i,e,t)=>e in i?MM(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t,hc=(i,e,t)=>PM(i,typeof e!="symbol"?e+"":e,t);const zy="issues.creatingFromFile",Wy=class fm extends f{constructor(e,t,n,r,a,o,d){super(),this.gitAPI=e,this.manager=t,this.reviewsManager=n,this.context=r,this.telemetry=a,this._stateManager=o,this.copilotRemoteAgentManager=d,hc(this,"_newIssueCache"),hc(this,"createIssueInfo"),hc(this,"documentFilters",[{language:"php"},{language:"powershell"},{language:"jade"},{language:"python"},{language:"r"},{language:"razor"},{language:"ruby"},{language:"rust"},{language:"scminput"},{language:"scss"},{language:"search-result"},{language:"shaderlab"},{language:"shellscript"},{language:"sql"},{language:"swift"},{language:"typescript"},{language:"vb"},{language:"xml"},{language:"yaml"},{language:"markdown"},{language:"bat"},{language:"clojure"},{language:"coffeescript"},{language:"jsonc"},{language:"c"},{language:"cpp"},{language:"csharp"},{language:"css"},{language:"dockerfile"},{language:"fsharp"},{language:"git-commit"},{language:"go"},{language:"groovy"},{language:"handlebars"},{language:"hlsl"},{language:"html"},{language:"ini"},{language:"java"},{language:"javascriptreact"},{language:"javascript"},{language:"json"},{language:"less"},{language:"log"},{language:"lua"},{language:"makefile"},{language:"ignore"},{language:"properties"},{language:"objective-c"},{language:"perl"},{language:"perl6"},{language:"typescriptreact"},{language:"yml"},"*"]),this._newIssueCache=new lM(r)}async initialize(){this._register(s.workspace.registerFileSystemProvider(Bt.NewIssue,new sM(this._newIssueCache))),this._register(s.languages.registerCompletionItemProvider({scheme:Bt.NewIssue},new oM(this.manager)," ",","));const e=s.window.createTreeView("issues:github",{showCollapseAll:!0,treeDataProvider:new hM(this._stateManager,this.manager,this.context)});this._register(e),this._register(e.onDidCollapseElement(t=>qy(this.context,t.element,!1))),this._register(e.onDidExpandElement(t=>qy(this.context,t.element,!0))),this._register(s.commands.registerCommand("issue.createIssueFromSelection",(t,n)=>(this.telemetry.sendTelemetryEvent("issue.createIssueFromSelection"),this.createTodoIssue(t,n)),this)),this._register(s.commands.registerCommand("issue.createIssueFromClipboard",()=>(this.telemetry.sendTelemetryEvent("issue.createIssueFromClipboard"),this.createTodoIssueClipboard()),this)),this._register(s.commands.registerCommand("issue.startCodingAgentFromTodo",t=>(this.telemetry.sendTelemetryEvent("issue.startCodingAgentFromTodo"),this.startCodingAgentFromTodo(t)),this)),this._register(s.commands.registerCommand("issue.assignToCodingAgent",t=>(this.telemetry.sendTelemetryEvent("issue.assignToCodingAgent"),this.assignToCodingAgent(t)),this)),this._register(s.commands.registerCommand("issue.copyGithubPermalink",(t,n)=>(this.telemetry.sendTelemetryEvent("issue.copyGithubPermalink"),this.copyPermalink(this.manager,n&&n.length>0?n:[t])),this)),this._register(s.commands.registerCommand("issue.copyGithubHeadLink",(t,n)=>(this.telemetry.sendTelemetryEvent("issue.copyGithubHeadLink"),this.copyHeadLink(n&&n.length>0?n:[t])),this)),this._register(s.commands.registerCommand("issue.copyGithubPermalinkWithoutRange",(t,n)=>(this.telemetry.sendTelemetryEvent("issue.copyGithubPermalinkWithoutRange"),this.copyPermalink(this.manager,n&&n.length>0?n:[t],!1)),this)),this._register(s.commands.registerCommand("issue.copyGithubHeadLinkWithoutRange",(t,n)=>(this.telemetry.sendTelemetryEvent("issue.copyGithubHeadLinkWithoutRange"),this.copyHeadLink(n&&n.length>0?n:[t],!1)),this)),this._register(s.commands.registerCommand("issue.copyGithubDevLinkWithoutRange",(t,n)=>(this.telemetry.sendTelemetryEvent("issue.copyGithubDevLinkWithoutRange"),this.copyPermalink(this.manager,n&&n.length>0?n:[t],!1,!0,!0)),this)),this._register(s.commands.registerCommand("issue.copyGithubDevLink",(t,n)=>(this.telemetry.sendTelemetryEvent("issue.copyGithubDevLink"),this.copyPermalink(this.manager,n&&n.length>0?n:[t],!0,!0,!0)),this)),this._register(s.commands.registerCommand("issue.copyGithubDevLinkFile",(t,n)=>(this.telemetry.sendTelemetryEvent("issue.copyGithubDevLinkFile"),this.copyPermalink(this.manager,n&&n.length>0?n:[t],!1,!0,!0)),this)),this._register(s.commands.registerCommand("issue.copyMarkdownGithubPermalink",(t,n)=>(this.telemetry.sendTelemetryEvent("issue.copyMarkdownGithubPermalink"),this.copyMarkdownPermalink(this.manager,n&&n.length>0?n:[t])),this)),this._register(s.commands.registerCommand("issue.copyMarkdownGithubPermalinkWithoutRange",(t,n)=>(this.telemetry.sendTelemetryEvent("issue.copyMarkdownGithubPermalinkWithoutRange"),this.copyMarkdownPermalink(this.manager,n&&n.length>0?n:[t],!1)),this)),this._register(s.commands.registerCommand("issue.openGithubPermalink",()=>(this.telemetry.sendTelemetryEvent("issue.openGithubPermalink"),this.openPermalink(this.manager)),this)),this._register(new wM(this.manager,this.gitAPI)),this._register(s.commands.registerCommand("issue.openIssue",t=>(this.telemetry.sendTelemetryEvent("issue.openIssue"),this.openIssue(t)))),this._register(s.commands.registerCommand("issue.openIssueOnGitHub",async()=>{var t;const n=s.window.activeTextEditor;if(!n){s.window.showWarningMessage(s.l10n.t("No active editor. Open a file and place the cursor on an issue reference."));return}const r=n.document,a=n.selection.active,o=r.getWordRangeAtPosition(a,ja);if(!o){s.window.showWarningMessage(s.l10n.t("No issue reference found at cursor position."));return}const d=r.getText(o),S=d.match(ja),C=Fs(S);if(!C){s.window.showWarningMessage(s.l10n.t("Invalid issue reference."));return}const $=(t=this.manager.getManagerForFile(r.uri))!=null?t:this.manager.folderManagers[0];if(!$){s.window.showWarningMessage(s.l10n.t("No repository found for current file."));return}const Y=await Ih(this._stateManager,$,d,C);if(!Y){s.window.showWarningMessage(s.l10n.t("Unable to resolve issue."));return}s.commands.executeCommand("vscode.open",s.Uri.parse(Y.html_url)),this.telemetry.sendTelemetryEvent("issue.openOnGitHub")})),this._register(s.commands.registerCommand("issue.startWorking",t=>(this.telemetry.sendTelemetryEvent("issue.startWorking"),this.startWorking(t)),this)),this._register(s.commands.registerCommand("issue.startWorkingBranchDescriptiveTitle",t=>(this.telemetry.sendTelemetryEvent("issue.startWorking"),this.startWorking(t)),this)),this._register(s.commands.registerCommand("issue.continueWorking",t=>(this.telemetry.sendTelemetryEvent("issue.continueWorking"),this.startWorking(t)),this)),this._register(s.commands.registerCommand("issue.startWorkingBranchPrompt",t=>(this.telemetry.sendTelemetryEvent("issue.startWorkingBranchPrompt"),this.startWorkingBranchPrompt(t)),this)),this._register(s.commands.registerCommand("issue.stopWorking",t=>(this.telemetry.sendTelemetryEvent("issue.stopWorking"),this.stopWorking(t)),this)),this._register(s.commands.registerCommand("issue.stopWorkingBranchDescriptiveTitle",t=>(this.telemetry.sendTelemetryEvent("issue.stopWorking"),this.stopWorking(t)),this)),this._register(s.commands.registerCommand("issue.statusBar",()=>(this.telemetry.sendTelemetryEvent("issue.statusBar"),this.statusBar()),this)),this._register(s.commands.registerCommand("issue.copyIssueNumber",t=>(this.telemetry.sendTelemetryEvent("issue.copyIssueNumber"),this.copyIssueNumber(t)))),this._register(s.commands.registerCommand("issue.copyIssueUrl",t=>(this.telemetry.sendTelemetryEvent("issue.copyIssueUrl"),this.copyIssueUrl(t)))),this._register(s.commands.registerCommand("issue.refresh",()=>(this.telemetry.sendTelemetryEvent("issue.refresh"),this.refreshView()),this)),this._register(s.commands.registerCommand("issue.suggestRefresh",()=>(this.telemetry.sendTelemetryEvent("issue.suggestRefresh"),this.suggestRefresh()),this)),this._register(s.commands.registerCommand("issue.getCurrent",()=>(this.telemetry.sendTelemetryEvent("issue.getCurrent"),this.getCurrent()),this)),this._register(s.commands.registerCommand("issue.editQuery",t=>(this.telemetry.sendTelemetryEvent("issue.editQuery"),xi(Ci,t.queryLabel)),this)),this._register(s.commands.registerCommand("issue.createIssue",()=>(this.telemetry.sendTelemetryEvent("issue.createIssue"),this.createIssue()),this)),this._register(s.commands.registerCommand("issue.createIssueFromFile",async()=>{this.telemetry.sendTelemetryEvent("issue.createIssueFromFile"),await s.commands.executeCommand("setContext",zy,!0),await this.createIssueFromFile(),await s.commands.executeCommand("setContext",zy,!1)},this)),this._register(s.commands.registerCommand("issue.issueCompletion",()=>{this.telemetry.sendTelemetryEvent("issue.issueCompletion")})),this._register(s.commands.registerCommand("issue.userCompletion",()=>{this.telemetry.sendTelemetryEvent("issue.userCompletion")})),this._register(s.commands.registerCommand("issue.signinAndRefreshList",async()=>this.manager.authenticate())),this._register(s.commands.registerCommand("issue.goToLinkedCode",async t=>I_(t,this.manager))),this._register(s.commands.registerCommand("issue.chatSummarizeIssue",t=>{if(t instanceof nr||t instanceof yr)if(this.telemetry.sendTelemetryEvent("issue.chatSummarizeIssue"),t instanceof nr)ht.executeCommand(ht.NEW_CHAT,{inputValue:s.l10n.t("@githubpr Summarize issue {0}/{1}#{2}",t.remote.owner,t.remote.repositoryName,t.number)});else{const n=t.pullRequestModel,r=n.githubRepository.remote;ht.executeCommand(ht.NEW_CHAT,{inputValue:s.l10n.t("@githubpr Summarize pull request {0}/{1}#{2}",r.owner,r.repositoryName,n.number)})}})),this._register(s.commands.registerCommand("issue.chatSuggestFix",t=>{t instanceof nr&&(this.telemetry.sendTelemetryEvent("issue.chatSuggestFix"),ht.executeCommand(ht.NEW_CHAT,{inputValue:s.l10n.t("@githubpr Find a fix for issue {0}/{1}#{2}",t.remote.owner,t.remote.repositoryName,t.number)}))})),this._register(s.commands.registerCommand("issues.configureIssuesViewlet",async()=>s.commands.executeCommand("workbench.action.openSettings",`@ext:${jn} issues`))),this._stateManager.tryInitializeAndWait().then(()=>{this.registerCompletionProviders(),this._register(s.languages.registerHoverProvider("*",new dM(this.manager,this._stateManager,this.context,this.telemetry))),this._register(s.languages.registerHoverProvider("*",new AM(this.manager,this.telemetry)));const t=new vM(this.context,this.copilotRemoteAgentManager);this._register(s.languages.registerCodeActionsProvider("*",t,{providedCodeActionKinds:[s.CodeActionKind.QuickFix]})),this._register(s.languages.registerCodeLensProvider("*",t))})}registerCompletionProviders(){const e=[{provider:nM,trigger:"#",disposable:void 0,configuration:`${gi}.${oa}`},{provider:TM,trigger:"@",disposable:void 0,configuration:`${xn}.${oa}`}];for(const t of e)s.workspace.getConfiguration(Ci).get(t.configuration,!0)&&this._register(t.disposable=s.languages.registerCompletionItemProvider(this.documentFilters,new t.provider(this._stateManager,this.manager,this.context),t.trigger));this._register(s.workspace.onDidChangeConfiguration(t=>{for(const n of e)if(t.affectsConfiguration(`${Ci}.${n.configuration}`)){const r=s.workspace.getConfiguration(Ci).get(n.configuration,!0);!r&&n.disposable?(n.disposable.dispose(),n.disposable=void 0):r&&!n.disposable&&this._register(n.disposable=s.languages.registerCompletionItemProvider(this.documentFilters,new n.provider(this._stateManager,this.manager,this.context),n.trigger));break}}))}async createIssue(){var e,t,n;let r=(e=s.window.activeTextEditor)==null?void 0:e.document.uri,a=r?this.manager.getManagerForFile(r):void 0;const o=s.workspace.getConfiguration(Ci).get(wa);if((!a||o)&&(a=await this.chooseRepo(s.l10n.t("Select the repo to create the issue in.")),r=a==null?void 0:a.repository.rootUri),!a||!r)return;const d=await this.chooseTemplate(a);this._newIssueCache.clear();const S=(n=(t=a.repository.state.HEAD)==null?void 0:t.upstream)==null?void 0:n.remote;let C=S?a.repository.state.remotes.find(Y=>Y.name===S):void 0;if(!C){const ne=a.repository.state.remotes.filter(he=>he.fetchUrl||he.pushUrl).map(he=>({label:`${he.name}: ${he.fetchUrl||he.pushUrl}`,remote:he})),le=await s.window.showQuickPick(ne,{placeHolder:s.l10n.t("Select a remote to file this issue to")});if(!le)return;C=le.remote}let $={remote:C};d&&($={...$,title:d.title,body:d.body,labels:d.labels,assignees:d.assignees}),this.makeNewIssueFile(r,$)}async createIssueFromFile(){var e,t,n,r;const a=await uM(this.manager);if(!a||!s.window.activeTextEditor)return;const o=await this.doCreateIssue((e=this.createIssueInfo)==null?void 0:e.document,(t=this.createIssueInfo)==null?void 0:t.newIssue,a.title,a.body,a.assignees,a.labels,a.milestone,a.projects,(n=this.createIssueInfo)==null?void 0:n.lineNumber,(r=this.createIssueInfo)==null?void 0:r.insertIndex,a.originUri);this.createIssueInfo=void 0,o&&s.window.tabGroups.activeTabGroup.activeTab&&(await s.window.activeTextEditor.document.save(),await s.window.tabGroups.close(s.window.tabGroups.activeTabGroup.activeTab),this._newIssueCache.clear())}getCurrent(){const e=this._stateManager.currentIssues();if(e.length>0)return{owner:e[0].issue.remote.owner,repo:e[0].issue.remote.repositoryName,number:e[0].issue.number}}refreshView(){this._stateManager.refreshCacheNeeded()}async suggestRefresh(){return await s.commands.executeCommand("hideSuggestWidget"),await this._stateManager.refresh(),s.commands.executeCommand("editor.action.triggerSuggest")}openIssue(e){if(e instanceof nr)return s.env.openExternal(s.Uri.parse(e.html_url))}async doStartWorking(e,t,n){var r;let a=e,o=t.githubRepository,d=t.remote;if(!a){if(a=await this.chooseRepo(s.l10n.t("Choose which repository you want to work on this issue in.")),!a)return;o=await a.getOrigin(),d=o.remote}const S=await a.findUpstreamForItem({githubRepository:o,remote:d});if(S.needsFork&&await a.tryOfferToFork(o)===void 0)return;const C=s.workspace.getConfiguration(Ci).get(la);let $=!1;if(C==="defaultBranch")$=!0;else if(C==="prompt"){const Y=(r=a.repository.state.HEAD)==null?void 0:r.name,le=(await a.getPullRequestDefaults()).base;if(!Y)$=!0;else if(Y===le)$=!1;else{const he=await s.window.showQuickPick([Y,le],{placeHolder:s.l10n.t("Which branch should be used as the base for the new issue branch?")});if(he===void 0)return;$=he===le}}await this._stateManager.setCurrentIssue(a,new Ey(t,a,this._stateManager,S.remote,n),$)}async startWorking(e){if(e instanceof nr)return this.doStartWorking(this.manager.getManagerForIssueModel(e),e);if(e instanceof s.Uri){const t=e.toString().match(ja),n=Fs(t),r=this.manager.folderManagers.find(a=>a.gitHubRepositories.find(o=>o.remote.owner===(n==null?void 0:n.owner)&&o.remote.repositoryName===n.name));if(n&&r){const a=await Ih(this._stateManager,r,e.toString(),n);if(a)return this.doStartWorking(r,a)}}}async startWorkingBranchPrompt(e){e instanceof nr&&this.doStartWorking(this.manager.getManagerForIssueModel(e),e,!0)}async stopWorking(e){var t;let n=this.manager.getManagerForIssueModel(e);!n&&(n=await this.chooseRepo(s.l10n.t("Choose which repository you want to stop working on this issue in.")),!n)||e instanceof nr&&((t=this._stateManager.currentIssue(n.repository.rootUri))==null?void 0:t.issue.number)===e.number&&await this._stateManager.setCurrentIssue(n,void 0,!0)}async statusBarActions(e){const t=s.l10n.t("{0} Open #{1} {2}","$(globe)",e.issue.number,e.issue.title),n=s.l10n.t({message:"{0} Create pull request for #{1} (pushes branch)",args:["$(git-pull-request)",e.issue.number],comment:["The first placeholder is an icon and shouldn't be localized","The second placeholder is the ID number of a GitHub Issue."]});let r;try{r=await e.manager.getPullRequestDefaults()}catch{}const a=s.l10n.t("{0} Stop working on #{1}","$(primitive-square)",e.issue.number),o=e.branchName&&r?[t,n,a]:[t,n,a];switch(await s.window.showQuickPick(o,{placeHolder:s.l10n.t("Current issue options")})){case t:return this.openIssue(e.issue);case n:{const S=ia.getReviewManagerForFolderManager(this.reviewsManager.reviewManagers,e.manager);if(S)return eM(e.manager,S,this._stateManager);break}case a:return this._stateManager.setCurrentIssue(e.manager,void 0,!0)}}async statusBar(){const e=this._stateManager.currentIssues();if(e.length===1)return this.statusBarActions(e[0]);{const t=e.map(r=>({label:s.l10n.t("#{0} from {1}",r.issue.number,`${r.issue.githubRepository.remote.owner}/${r.issue.githubRepository.remote.repositoryName}`),currentIssue:r})),n=await s.window.showQuickPick(t);if(n)return this.statusBarActions(n.currentIssue)}}stringToUint8Array(e){return new TextEncoder().encode(e)}copyIssueNumber(e){if(e instanceof nr)return s.env.clipboard.writeText(e.number.toString())}copyIssueUrl(e){if(e instanceof nr)return s.env.clipboard.writeText(e.html_url)}async createTodoIssueClipboard(){return this.createTodoIssue(void 0,await s.env.clipboard.readText())}async createTodoIssueBody(e,t){var n;if(t||e!=null&&e.document.isUntitled)return t;let r="";if(e){const a=this.manager.getManagerForFile(e.document.uri);if(((n=a==null?void 0:a.repository)==null?void 0:n.state.workingTreeChanges.find(d=>d.uri.toString()===e.document.uri.toString()))&&(r=`\`\`\`
${e.line}
\`\`\`

`),a){const d=a.gitRelativeRootPath(e.document.uri.path);r+=s.l10n.t(`In file {0}
`,d)}}return r+=(await xh(this.manager,this.gitAPI,!0,!0,e)).permalink,r}async createTodoIssue(e,t){let n,r,a,o,d,S;if(!e&&s.window.activeTextEditor)n=s.window.activeTextEditor.document,S=n.getText(s.window.activeTextEditor.selection);else if(e)n=e.document,a=e.insertIndex,o=e.lineNumber,r=e.line.substring(a,e.line.length).trim(),S=n.getText(e.range.isEmpty?n.lineAt(e.range.start.line).range:e.range);else return;const C=S.match(Dh);C&&C.length===2&&(await this._stateManager.getUserMap(n.uri)).has(C[1])&&(d=[C[1]]);const $=this.manager.getManagerForFile(n.uri);if($)try{const he=$.gitHubRepositories[0];if(he){const ke=await $.getCurrentUser(he);ke!=null&&ke.login&&((await $.getAssignableUsers())[he.remote.remoteName]||[]).some(De=>De.login===ke.login)&&(d?d.includes(ke.login)||d.push(ke.login):d=[ke.login])}}catch(he){y.debug(`Failed to auto-assign current user: ${he}`,fm.ID)}let Y;const ne=await this.createTodoIssueBody(e,t),le=s.window.createInputBox();le.value=r!=null?r:"",le.prompt=s.l10n.t("Set the issue title. Confirm to create the issue now or use the edit button to edit the issue title and description."),le.title=s.l10n.t("Create Issue"),le.buttons=[{iconPath:new s.ThemeIcon("edit"),tooltip:s.l10n.t("Edit Description")}],le.onDidAccept(async()=>{Y=le.value,Y&&(le.busy=!0,await this.doCreateIssue(n,e,Y,ne,d,void 0,void 0,void 0,o,a),le.busy=!1),le.hide()}),le.onDidTriggerButton(async()=>{Y=le.value,le.busy=!0,this.createIssueInfo={document:n,newIssue:e,lineNumber:o,insertIndex:a},this.makeNewIssueFile(n.uri,{title:Y,body:ne,assignees:d}),le.busy=!1,le.hide()}),le.show()}async makeNewIssueFile(e,t){var n,r,a;const o=this.manager.getManagerForFile(e);if(!o)return;const d=(n=o.findRepo(je=>{var nt;return je.remote.remoteName===((nt=t==null?void 0:t.remote)==null?void 0:nt.name)}))==null?void 0:n.remote.gitProtocol,S=d!=null&&d.url.toString().endsWith(".git")?d==null?void 0:d.url.toString().slice(0,-4):d==null?void 0:d.url.toString(),C=d?{owner:d==null?void 0:d.owner,repo:d==null?void 0:d.repositoryName,repoRootUri:o.repository.rootUri}:void 0,$=xS({originUri:e,repoUriParams:C});if(s.window.visibleTextEditors.filter(je=>je.document.uri.scheme===Bt.NewIssue).length>0)return;await s.workspace.fs.delete($);const Y=`${kl} ${t!=null&&t.assignees&&t.assignees.length>0?t.assignees.map(je=>"@"+je).join(", ")+" ":""}`,ne=`${_l} ${t!=null&&t.labels&&t.labels.length>0?t.labels.join(", ")+" ":""}`,le=`${Mu} `,he=`${Sl} `,ke=this._newIssueCache.get(),pe=ke&&ke!==""?ke:`${(r=t==null?void 0:t.title)!=null?r:s.l10n.t("Issue Title")}

${d?`<!-- ${s.l10n.t("This issue will be created in repo {0} ({1}). Changing this line has no effect.",d.nameWithOwner,S)} -->
`:""}
${Y}
${ne}
${le}
${he}

${(a=t==null?void 0:t.body)!=null?a:""}

<!-- ${s.l10n.t('Edit the body of your new issue then click the \u2713 "Create Issue" button in the top right of the editor. The first line will be the issue title. Assignees and Labels follow after a blank line. Leave an empty line before beginning the body of the issue.')} -->`;await s.workspace.fs.writeFile($,this.stringToUint8Array(pe));const Ne=s.window.createTextEditorDecorationType({after:{contentText:s.l10n.t(" Comma-separated usernames, either @username or just username."),fontStyle:"italic",color:new s.ThemeColor("issues.newIssueDecoration")}}),Ce=s.window.createTextEditorDecorationType({after:{contentText:s.l10n.t(" Comma-separated labels."),fontStyle:"italic",color:new s.ThemeColor("issues.newIssueDecoration")}}),De=s.window.createTextEditorDecorationType({after:{contentText:s.l10n.t(" Comma-separated projects."),fontStyle:"italic",color:new s.ThemeColor("issues.newIssueDecoration")}}),He=s.window.onDidChangeActiveTextEditor(je=>{if((je==null?void 0:je.document.uri.scheme)===Bt.NewIssue){const nt=d?4:2,Nt=nt+0,Et=nt+1,ki=nt+3,Pi=je.document.lineAt(Nt);Pi.text.startsWith(kl)&&je.setDecorations(Ne,[new s.Range(new s.Position(Nt,0),new s.Position(Nt,Pi.text.length))]);const Se=je.document.lineAt(Et);Se.text.startsWith(_l)&&je.setDecorations(Ce,[new s.Range(new s.Position(Et,0),new s.Position(Et,Se.text.length))]);const Be=je.document.lineAt(ki);Be.text.startsWith(Sl)&&je.setDecorations(De,[new s.Range(new s.Position(ki,0),new s.Position(ki,Be.text.length))])}}),Ke=await s.window.showTextDocument($),Ge=s.workspace.onDidCloseTextDocument(je=>{je===Ke.document&&(He.dispose(),Ge.dispose())})}async verifyLabels(e,t){var n;if(!t.labels)return!0;const r=(await e.getLabels(void 0,t)).map(d=>d.name),a=[],o=[];if((n=t.labels)==null||n.forEach(d=>{let S=typeof d=="string"?d:d.name;S&&(r.includes(S)?o.push(S):a.push(S))}),a.length>0){const d=s.l10n.t("Yes"),S=s.l10n.t("No");switch(await s.window.showInformationMessage(s.l10n.t(`The following labels don't exist in this repository: {0}. 
Do you want to create these labels?`,a.join(", ")),{modal:!0},d,S)){case d:return!0;case S:return t.labels=o,!0;default:return!1}}return!0}async chooseRepo(e){const t=[];for(const r of this.manager.folderManagers)try{const a=await r.getPullRequestDefaults();t.push({label:`${a.owner}/${a.repo}`,repo:r})}catch{}if(t.length===0)return;if(t.length===1)return t[0].repo;const n=await s.window.showQuickPick(t,{placeHolder:e});return n==null?void 0:n.repo}async chooseTemplate(e){const t=await e.getIssueTemplates();if(t.length===0)return{title:void 0,body:void 0,labels:void 0,assignees:void 0,name:void 0,about:void 0};const r=(await Promise.all(t.map(async o=>{try{const d=await s.workspace.fs.readFile(o),S=new TextDecoder("utf-8").decode(d);return this.getDataFromTemplate(S)}catch(d){y.warn(`Reading issue template failed: ${d}`);return}}))).filter(o=>!!o&&!!(o!=null&&o.name)).map(o=>({label:o.name,description:o.about,template:o}));r.push({label:s.l10n.t("Blank issue"),template:{title:void 0,body:void 0,labels:void 0,assignees:void 0,name:void 0,about:void 0}});const a=await s.window.showQuickPick(r,{placeHolder:s.l10n.t("Select a template for the new issue.")});return a==null?void 0:a.template}getDataFromTemplate(e){var t,n,r,a,o,d,S,C,$;try{const De=Sy(e);if(De&&typeof De=="object"&&De.name&&De.body)return this.parseYamlTemplate(De)}catch{}const Y=(n=(t=e.match(/title:\s*(.*)/))==null?void 0:t[1])==null?void 0:n.replace(/^["']|["']$/g,""),ne=(a=(r=e.match(/name:\s*(.*)/))==null?void 0:r[1])==null?void 0:a.replace(/^["']|["']$/g,""),le=(d=(o=e.match(/about:\s*(.*)/))==null?void 0:o[1])==null?void 0:d.replace(/^["']|["']$/g,""),he=(S=e.match(/labels:\s*(.*)/))==null?void 0:S[1],ke=he?he.split(",").map(De=>De.trim()).filter(De=>De):void 0,pe=(C=e.match(/assignees:\s*(.*)/))==null?void 0:C[1],Ne=pe?pe.split(",").map(De=>De.trim()).filter(De=>De):void 0,Ce=($=e.match(/---([\s\S]*)---([\s\S]*)/))==null?void 0:$[2];return{title:Y,name:ne,about:le,labels:ke,assignees:Ne,body:Ce}}parseYamlTemplate(e){var t,n,r,a,o;const d=e.name,S=e.description||e.about,C=e.title,$=e.labels&&Array.isArray(e.labels)?e.labels:void 0,Y=e.assignees&&Array.isArray(e.assignees)?e.assignees:void 0;let ne="";if(e.body&&Array.isArray(e.body))for(const le of e.body)le.type==="markdown"&&((t=le.attributes)!=null&&t.value)?ne+=le.attributes.value+`

`:le.type==="textarea"&&((n=le.attributes)!=null&&n.label)?(ne+=`## ${le.attributes.label}

`,le.attributes.description&&(ne+=`${le.attributes.description}

`),le.attributes.placeholder?ne+=`${le.attributes.placeholder}

`:le.attributes.value&&(ne+=`${le.attributes.value}

`)):le.type==="input"&&((r=le.attributes)!=null&&r.label)?(ne+=`## ${le.attributes.label}

`,le.attributes.description&&(ne+=`${le.attributes.description}

`),le.attributes.placeholder&&(ne+=`${le.attributes.placeholder}

`)):le.type==="dropdown"&&((a=le.attributes)!=null&&a.label)?(ne+=`## ${le.attributes.label}

`,le.attributes.description&&(ne+=`${le.attributes.description}

`),le.attributes.options&&Array.isArray(le.attributes.options)&&(ne+=le.attributes.options.map(he=>typeof he=="string"?`- ${he}`:`- ${he.label||""}`).join(`
`)+`

`)):le.type==="checkboxes"&&((o=le.attributes)!=null&&o.label)&&(ne+=`## ${le.attributes.label}

`,le.attributes.description&&(ne+=`${le.attributes.description}

`),le.attributes.options&&Array.isArray(le.attributes.options)&&(ne+=le.attributes.options.map(he=>`- [ ] ${typeof he=="string"?he:he.label||""}`).join(`
`)+`

`));return{title:C,name:d,about:S,labels:$,assignees:Y,body:ne.trim()||void 0}}async doCreateIssue(e,t,n,r,a,o,d,S,C,$,Y){let ne,le;if(Y&&Y.scheme===Bt.Repo){const pe=Pf(Y);if(pe&&(ne={owner:pe.owner,repo:pe.repo,base:""},le=this.manager.getManagerForFile(pe.repoRootUri)),!le)return s.window.showErrorMessage(s.l10n.t("Could not find the correct repository for the issue; see logs for more details.")),y.error(`Could not find the folder manager for the issue originUri: ${Y.toString()}`,fm.ID),!1}le||(e?le=this.manager.getManagerForFile(e.uri):Y&&(le=this.manager.getManagerForFile(Y))),le||(le=await this.chooseRepo(s.l10n.t("Choose where to create the issue.")));const he=a==null?void 0:a.filter(pe=>!cn[pe]),ke=!!(a!=null&&a.find(pe=>cn[pe]));return s.window.withProgress({location:s.ProgressLocation.Notification,title:s.l10n.t("Creating issue")},async pe=>{var Ne;if(!le)return!1;const Ce=le;pe.report({message:s.l10n.t("Verifying that issue data is valid...")});try{ne||(ne=await Ce.getPullRequestDefaults())}catch{return s.window.showErrorMessage(s.l10n.t("There is no remote. Can't create an issue.")),!1}const De=r||t!=null&&t.document.isUntitled?r:(await xh(this.manager,this.gitAPI,!0,!0,t)).permalink,He={owner:ne.owner,repo:ne.repo,title:n,body:De,assignees:he,labels:o,milestone:d};if(!await this.verifyLabels(Ce,He))return!1;pe.report({message:s.l10n.t("Creating issue in {0}...",`${He.owner}/${He.repo}`)});const Ke=await Ce.createIssue(He);if(Ke){if(ke){const Ge=(await le.getAssignableUsers())[Ke.remote.remoteName].find(je=>cn[je.login]);Ge&&await Ke.replaceAssignees([...(Ne=Ke.assignees)!=null?Ne:[],Ge])}if(S&&await Ke.updateProjects(S),e!==void 0&&$!==void 0&&C!==void 0){const Ge=new s.WorkspaceEdit,je=s.workspace.getConfiguration(Ci).get(Kr,"number")==="number"?`#${Ke.number}`:Ke.html_url;Ge.insert(e.uri,new s.Position(C,$),` ${je}`),await s.workspace.applyEdit(Ge)}else{const Ge=s.l10n.t("Copy Issue Link"),je=s.l10n.t({message:"Open Issue",comment:"Open the issue description in the editor to see it's full contents."});s.window.showInformationMessage(s.l10n.t("Issue created"),Ge,je).then(async nt=>{switch(nt){case Ge:await s.env.clipboard.writeText(Ke.html_url);break;case je:await co.createOrShow(this.telemetry,this.context.extensionUri,Ce,Ke);break}})}return this._stateManager.refreshCacheNeeded(),!0}return!1})}async getPermalinkWithError(e,t,n,r){const a=await JA(e,this.gitAPI,t,n,void 0,r),o=a.find(d=>d.error);return o&&s.window.showWarningMessage(s.l10n.t("Unable to create a GitHub permalink for the selection. {0}",o.error)),a}async getHeadLinkWithError(e,t){const n=await XA(this.manager,e,t);if(n.length>0){const r=n.find(a=>a.error);r&&s.window.showWarningMessage(s.l10n.t("Unable to create a GitHub link for the selection. {0}",r.error))}return n}async getContextualizedLink(e,t){let n;try{n=await s.env.asExternalUri(e)}catch{return t}const r=n.scheme==="https"&&/^(insiders\.vscode|vscode|github)\./.test(n.authority)?n.authority:void 0;if(!r)return t;const a=s.Uri.parse(t),o=/^(github)\./.test(n.authority)?a.path:`/github${a.path}`;return a.with({authority:r,path:o}).toString()}async permalinkInfoToClipboardText(e,t=!1){const n=e.filter(r=>!!r.permalink);if(n.length!==0){const a=(await Promise.all(n.map(async o=>t&&o.originalFile?await this.getContextualizedLink(o.originalFile,o.permalink):o.permalink))).join(`
`);return y.debug(`Will write ${a} to the clipboard`,Eo),a}}async copyPermalink(e,t,n=!0,r=!0,a=!1){const o=await this.getPermalinkWithError(e,n,r,t),d=await this.permalinkInfoToClipboardText(o,a);if(d)return s.env.clipboard.writeText(d)}async copyHeadLink(e,t=!0){const n=await this.getHeadLinkWithError(e,t),r=await this.permalinkInfoToClipboardText(n);if(r)return s.env.clipboard.writeText(r)}getMarkdownLinkText(e){if(!s.window.activeTextEditor)return;if(e&&!(e instanceof s.NotebookRange)){const r=s.window.activeTextEditor.document.getText(e);if(r)return r}let t=s.window.activeTextEditor.selection;t.start.line!==t.end.line&&(t=new s.Range(t.start,new s.Position(t.start.line+1,0)));const n=s.window.activeTextEditor.document.getText(t);if(n)return n;if(t=s.window.activeTextEditor.document.getWordRangeAtPosition(t.start),t)return s.window.activeTextEditor.document.getText(t)}async copyMarkdownPermalink(e,t,n=!0){const a=(await this.getPermalinkWithError(e,n,!0,t)).filter(d=>!!d.permalink);if(a.length===1){const d=this.getMarkdownLinkText(a[0].range);if(d)return s.env.clipboard.writeText(`[${d.trim()}](${a[0].permalink})`)}const o=a.map(d=>{var S,C;return`[${(0,W.basename)((C=(S=d.originalFile)==null?void 0:S.fsPath)!=null?C:"")}](${d.permalink})`}).join(`
`);return y.debug(`writing ${o} to the clipboard`,Eo),s.env.clipboard.writeText(o)}async openPermalink(e){const n=(await this.getPermalinkWithError(e,!0,!0)).filter(r=>!!r.permalink);if(n.length>0)return s.env.openExternal(s.Uri.parse(n[0].permalink))}async startCodingAgentFromTodo(e){if(!e)return;const{document:t,line:n,insertIndex:r}=e,a=n.substring(r).trim();if(!a){s.window.showWarningMessage(s.l10n.t("No task description found in TODO comment"));return}const o=s.workspace.asRelativePath(t.uri),d=s.l10n.t("Work on TODO: {0} (from {1})",a,o);return s.window.withProgress({location:s.ProgressLocation.Notification,title:s.l10n.t("Delegating '{0}' to coding agent",st(a,20))},async S=>{try{await this.copilotRemoteAgentManager.commandImpl({userPrompt:d,source:"todo"})}catch(C){s.window.showErrorMessage(s.l10n.t("Failed to start coding agent session: {0}",C.message))}})}async assignToCodingAgent(e){var t,n;if(e&&e instanceof nr)try{const r=this.manager.getManagerForIssueModel(e);if(!r){s.window.showErrorMessage(s.l10n.t("Failed to find repository for issue #{0}",e.number));return}const o=(t=(await r.getAssignableUsers())[e.remote.remoteName])==null?void 0:t.find(d=>cn[d.login]);if(!o){s.window.showErrorMessage(s.l10n.t("Copilot coding agent is not available for assignment in this repository"));return}await e.replaceAssignees([...(n=e.assignees)!=null?n:[],o]),s.window.showInformationMessage(s.l10n.t("Issue #{0} has been assigned to Copilot coding agent",e.number))}catch(r){s.window.showErrorMessage(s.l10n.t("Failed to assign issue to coding agent: {0}",r.message))}}};hc(Wy,"ID","IssueFeatureRegistrar");let FM=Wy;var DM=Object.defineProperty,IM=(i,e,t)=>e in i?DM(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t,ra=(i,e,t)=>IM(i,typeof e!="symbol"?e+"":e,t);const xM="currentIssue",Hh="issues",mc=[{label:s.l10n.t("My Issues"),query:"is:open assignee:@me repo:${owner}/${repository}",groupBy:["milestone"]}];class PD extends nr{constructor(){super(...arguments),ra(this,"uri")}}class OM{constructor(e,t,n){this.gitAPI=e,this.manager=t,this.context=n,ra(this,"resolvedIssues",new Map),ra(this,"_singleRepoStates",new Map),ra(this,"_onRefreshCacheNeeded",new s.EventEmitter),ra(this,"onRefreshCacheNeeded",this._onRefreshCacheNeeded.event),ra(this,"_onDidChangeIssueData",new s.EventEmitter),ra(this,"onDidChangeIssueData",this._onDidChangeIssueData.event),ra(this,"_queries",[]),ra(this,"_onDidChangeCurrentIssue",new s.EventEmitter),ra(this,"onDidChangeCurrentIssue",this._onDidChangeCurrentIssue.event),ra(this,"initializePromise"),ra(this,"statusBarItem"),ra(this,"isSettingIssue",!1)}getIssueCollection(e){var t;let n=(t=this._singleRepoStates.get(e.path))==null?void 0:t.issueCollection;return n||(n=new Map,n)}getOrCreateSingleRepoState(e,t){let n=this._singleRepoStates.get(e.path);if(n)return n;if(t||(t=this.manager.getManagerForFile(e)),!!t)return n={issueCollection:new Map,maxIssueNumber:0,folderManager:t},this._singleRepoStates.set(e.path,n),n}async tryInitializeAndWait(){return this.initializePromise||(this.initializePromise=new Promise(e=>{if(this.manager.credentialStore.isAnyAuthenticated())if(this.manager.state===gr.RepositoriesLoaded)this.doInitialize().then(()=>e());else{const t=this.manager.onDidChangeState(()=>{this.manager.state===gr.RepositoriesLoaded&&this.doInitialize().then(()=>{t.dispose(),e()})});this.context.subscriptions.push(t)}else{const t=this.manager.credentialStore.onDidGetSession(()=>{t.dispose(),this.doInitialize()});e()}})),this.initializePromise}registerRepositoryChangeEvent(){async function e(n,r){var a;const o=n.getOrCreateSingleRepoState(r.rootUri);if(!o)return;const d=o.lastHead,S=o.lastBranch,C=r.state.HEAD?r.state.HEAD.commit:void 0;(r.state.HEAD?r.state.HEAD.commit:void 0)!==d&&await n.setIssueData(o.folderManager);const $=(a=r.state.HEAD)==null?void 0:a.name;(d!==C||S!==$)&&(!o.currentIssue||$!==o.currentIssue.branchName)&&($?o.folderManager&&await n.setCurrentIssueFromBranch(o,$,!0):await n.setCurrentIssue(o,void 0,!!$)),o.lastHead=r.state.HEAD?r.state.HEAD.commit:void 0,o.lastBranch=r.state.HEAD?r.state.HEAD.name:void 0}function t(n,r){n.context.subscriptions.push(r.state.onDidChange(async()=>{e(n,r)}))}this.context.subscriptions.push(this.gitAPI.onDidOpenRepository(n=>{e(this,n),t(this,n)})),this.gitAPI.repositories.forEach(n=>{t(this,n)})}refreshCacheNeeded(){this._onRefreshCacheNeeded.fire()}async refresh(e){return e?this.setIssueData(e):this.setAllIssueData()}async doInitialize(){var e;this.cleanIssueState(),this._queries=s.workspace.getConfiguration(Ci,null).get(fi,mc),this._queries.length===0&&(this._queries=mc),this.context.subscriptions.push(s.workspace.onDidChangeConfiguration(n=>{n.affectsConfiguration(`${Ci}.${fi}`)?(this._queries=s.workspace.getConfiguration(Ci,null).get(fi,mc),this._onRefreshCacheNeeded.fire()):n.affectsConfiguration(`${Ci}.${ba}`)&&this._onRefreshCacheNeeded.fire()})),this.registerRepositoryChangeEvent(),s.workspace.getConfiguration(bt).get(rs,!1)||await this.setAllIssueData(),this.context.subscriptions.push(this.onRefreshCacheNeeded(async()=>{await this.refresh()}));for(const n of this.manager.folderManagers){this.context.subscriptions.push(n.onDidChangeRepositories(async o=>{if(o.added){const d=this.getOrCreateSingleRepoState(n.repository.rootUri);d&&(d.issueCollection.size===0||(await Promise.all(d.issueCollection.values())).some(S=>S.issues===void 0))&&this.refresh(n)}}));const r=this.getOrCreateSingleRepoState(n.repository.rootUri,n);if(!r)continue;r.lastHead=n.repository.state.HEAD?n.repository.state.HEAD.commit:void 0,this._singleRepoStates.set(n.repository.rootUri.path,r);const a=(e=n.repository.state.HEAD)==null?void 0:e.name;!r.currentIssue&&a&&await this.setCurrentIssueFromBranch(r,a,!0)}}cleanIssueState(){const e=this.context.workspaceState.get(Hh),t=e?JSON.parse(e):{issues:[],branches:[]},n=new Date().valueOf()-30*864e5;for(const r in t.issues)t.issues[r].stateModifiedTime<n&&(t.branches&&t.branches[r]&&delete t.branches[r],delete t.issues[r])}async getUsers(e){var t;await this.initializePromise;const n=await((t=this.manager.getManagerForFile(e))==null?void 0:t.getAssignableUsers()),r=new Map;for(const a in n)n[a].forEach(o=>{r.set(o.login,o)});return r}async getUserMap(e){const t=this.getOrCreateSingleRepoState(e);return!this.initializePromise||!t?Promise.resolve(new Map):((!t.userMap||(await t.userMap).size===0)&&(t.userMap=this.getUsers(e)),t.userMap)}async getCurrentUser(e){var t;return(t=await this.manager.credentialStore.getCurrentUser(e))==null?void 0:t.login}async setAllIssueData(){return Promise.all(this.manager.folderManagers.map(e=>this.setIssueData(e)))}async setIssueData(e){var t,n;const r=this.getOrCreateSingleRepoState(e.repository.rootUri,e);if(!r)return;r.issueCollection.clear();const a=no(e.repository).filter(d=>d.isEnterprise),o=await this.getCurrentUser(a.length?Ni.githubEnterprise:Ni.github);for(let d of this._queries){let S;d.query===xa&&(d=mc[0]),S=this.setIssues(e,io(d.query,void 0,void 0,o).trim()).then(C=>{var $;return{groupBy:($=d.groupBy)!=null?$:[],issues:C}}),S&&r.issueCollection.set(d.label,S)}r.maxIssueNumber=await e.getMaxIssue(),r.lastHead=(t=e.repository.state.HEAD)==null?void 0:t.commit,r.lastBranch=(n=e.repository.state.HEAD)==null?void 0:n.name}setIssues(e,t){return new Promise(async n=>{const r=await e.getIssues(t,{fetchNextPage:!1,fetchOnePagePerRepo:!0});this._onDidChangeIssueData.fire(),n(r==null?void 0:r.items.map(a=>{const o=a;return o.uri=e.repository.rootUri,o}))})}async setCurrentIssueFromBranch(e,t,n=!1){if(s.workspace.getConfiguration(Ci).get(Qr)==="off")return;let a;try{a=await e.folderManager.getPullRequestDefaults()}catch{return}if(t===a.base){await this.setCurrentIssue(e,void 0,!1);return}if(e.currentIssue&&e.currentIssue.branchName===t)return;const o=this.getSavedState();for(const d in o.branches)if(d===t){const S=await e.folderManager.resolveIssue(o.branches[d].owner,o.branches[d].repositoryName,o.branches[d].number);S&&await this.setCurrentIssue(e,new Ey(S,e.folderManager,this),!1,n);return}}currentIssue(e){var t;return(t=this._singleRepoStates.get(e.path))==null?void 0:t.currentIssue}currentIssues(){return Array.from(this._singleRepoStates.values()).filter(e=>e==null?void 0:e.currentIssue).map(e=>e.currentIssue)}maxIssueNumber(e){var t,n;return(n=(t=this._singleRepoStates.get(e.path))==null?void 0:t.maxIssueNumber)!=null?n:0}async setCurrentIssue(e,t,n,r=!1){if(!(this.isSettingIssue&&t===void 0)){if(this.isSettingIssue=!0,e instanceof lo){const a=this._singleRepoStates.get(e.repository.rootUri.path);if(!a)return;e=a}try{if(e.currentIssue&&(t==null?void 0:t.issue.number)===e.currentIssue.issue.number)return;const o=s.workspace.getConfiguration(Ci).get(Qr)==="off"?!1:n;e.currentIssue&&await e.currentIssue.stopWorking(o),t&&this.context.subscriptions.push(t.onDidChangeCurrentIssueState(()=>this.updateStatusBar())),this.context.workspaceState.update(xM,t==null?void 0:t.issue.number),(!t||await t.startWorking(r))&&(e.currentIssue=t,this.updateStatusBar()),this._onDidChangeCurrentIssue.fire()}catch{}finally{this.isSettingIssue=!1}}}updateStatusBar(){const e=this.currentIssues(),t=e.length>0;if(!t){this.statusBarItem&&(this.statusBarItem.hide(),this.statusBarItem.dispose(),this.statusBarItem=void 0);return}t&&!this.statusBarItem&&(this.statusBarItem=s.window.createStatusBarItem("github.issues.status",s.StatusBarAlignment.Left,0),this.statusBarItem.name=s.l10n.t("GitHub Active Issue"));const n=this.statusBarItem;n.text=s.l10n.t("{0} Issue {1}","$(issues)",e.map(r=>jo(r.issue,r.repoDefaults)).join(", ")),n.tooltip=e.map(r=>r.issue.title).join(", "),n.command="issue.statusBar",n.show()}getSavedState(){const e=this.context.workspaceState.get(Hh);return e?JSON.parse(e):{issues:Object.create(null),branches:Object.create(null)}}getSavedIssueState(e){var t;return(t=this.getSavedState().issues[`${e}`])!=null?t:{}}async setSavedIssueState(e,t){const n=this.getSavedState();return n.issues[`${e.number}`]={...t,stateModifiedTime:new Date().valueOf()},t.branch&&(n.branches||(n.branches=Object.create(null)),n.branches[t.branch]={number:e.number,owner:e.remote.owner,repositoryName:e.remote.repositoryName}),this.context.workspaceState.update(Hh,JSON.stringify(n))}}class LM{constructor(e,t){this._stateManager=e,this._reposManager=t}async provideChatContextForResource(e,t){var n;const r=(n=co.currentPanel)==null?void 0:n.getCurrentItem();if(r)return this._issueToUnresolvedContext(r)}async resolveChatContext(e,t){return e.value=await this._resolvedIssueValue(e.issue),e.modelDescription="All the information about the GitHub issue the user is viewing, including comments.",e}async provideChatContextExplicit(e){var t,n;const r=[],a=new Set;for(const o of this._reposManager.folderManagers){const d=this._stateManager.getIssueCollection(o==null?void 0:o.repository.rootUri);for(const S of d){const C=await S[1];if(((t=C.issues)!=null?t:[]).length!==0)for(const $ of(n=C.issues)!=null?n:[]){const Y=jo($);a.has(Y)||(a.add(Y),r.push(this._issueToUnresolvedContext($)))}}}return r}_issueToUnresolvedContext(e){return{icon:new s.ThemeIcon("issues"),label:`#${e.number} ${e.title}`,modelDescription:"The GitHub issue the user is viewing.",issue:e}}async _resolvedIssueValue(e){var t;const n=(t=e.timelineEvents)!=null?t:await e.getIssueTimelineEvents();return JSON.stringify({issueNumber:e.number,owner:e.remote.owner,repo:e.remote.repositoryName,title:e.title,body:e.body,comments:n.filter(r=>r.event===Ht.Commented).map(r=>{var a;return{author:(a=r.user)==null?void 0:a.login,body:r.body,createdAt:r.createdAt}})})}}var Du=ti(60937);class UM extends Du.PromptElement{render(e,t){const n=["Instructions:","- The user will ask a question related to GitHub, and it may require lots of research to answer correctly. There is a selection of tools that let you perform actions or retrieve helpful context to answer the user's question.","- If you aren't sure which tool is relevant, you can call multiple tools. You can call tools repeatedly to take actions or gather as much context as needed until you have completed the task fully. Don't give up unless you are sure the request cannot be fulfilled with the tools you have.","- Don't ask the user for confirmation to use tools, just use them.","- When talking about issues, be as concise as possible while still conveying all the information you need to. Avoid mentioning the following:","  - The fact that there are no comments.","  - Any info that seems like template info."].join(`
`),r={ctor:Du.AssistantMessage,props:{},children:[n]},a={ctor:Du.UserMessage,props:{},children:[this.props.userMessage]};return{ctor:Du.Chunk,props:{},children:[r,a]}}}const Ky="TOOL_MARKDOWN_RESULT",Gh="TOOL_COMMAND_RESULT";class Qy{constructor(e){this.chatParticipantState=e}}async function Ro(i){let e="";for await(const t of i)e+=t;return e}class Iu extends Qy{constructor(e,t,n){super(n),this.credentialStore=e,this.repositoriesManager=t}async getRepoInfo(e){if(!this.credentialStore.isAnyAuthenticated())throw new rd;let t,n,r;if(e.owner&&e.name&&!e.owner.includes("owner")&&!e.name.includes("name")&&(t=e.owner,n=e.name,r=this.repositoriesManager.getManagerForRepository(e.owner,e.name)),!r&&this.repositoriesManager.folderManagers.length>0)if(r=this.repositoriesManager.folderManagers[0],t&&n)await r.createGitHubRepositoryFromOwnerName(t,n);else{const a=await r.getPullRequestDefaults();a?(t=a.owner,n=a.repo):(t=r.gitHubRepositories[0].remote.owner,n=r.gitHubRepositories[0].remote.repositoryName)}if(!r||!t||!n)throw new Error(`No repository found for ${t}/${n}. Make sure to have the repository open.`);return{owner:t,name:n,folderManager:r}}getGitHub(){let e;return this.credentialStore.isAuthenticated(Ni.githubEnterprise)&&Ca()?e=Ni.githubEnterprise:this.credentialStore.isAuthenticated(Ni.github)&&(e=Ni.github),e!==void 0?this.credentialStore.getHub(e):void 0}}var BM=Object.defineProperty,qM=(i,e,t)=>e in i?BM(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t,$M=(i,e,t)=>qM(i,typeof e!="symbol"?e+"":e,t);class HM{constructor(){$M(this,"_messages",[])}get lastToolResult(){for(let e=this._messages.length-1;e>=0;e--){const t=this._messages[e];for(const n of t.content)if(n instanceof s.LanguageModelToolResultPart)return t.content}return[]}get firstUserMessage(){for(let e=0;e<this._messages.length;e++){const t=this._messages[e];if(t.role===s.LanguageModelChatMessageRole.User&&t.content){for(const n of t.content)if(n instanceof s.LanguageModelTextPart)return n}}}get messages(){return this._messages}addMessage(e){this._messages.push(e)}addMessages(e){this._messages.push(...e)}reset(){this._messages=[]}}class GM extends f{constructor(e,t){super(),this.state=t;const n=this._register(s.chat.createChatParticipant("githubpr",(r,a,o,d)=>this.handleParticipantRequest(r,a,o,d)));n.iconPath=s.Uri.joinPath(e.extensionUri,"resources/icons/github_logo.png")}async handleParticipantRequest(e,t,n,r){this.state.reset();const o=(await s.lm.selectChatModels({vendor:"copilot",family:"gpt-4o"}))[0],d=[];for(const le of s.lm.tools)(e.tools.has(le.name)&&e.tools.get(le.name)||le.name.startsWith("github-pull-request"))&&d.push(le);const{messages:S}=await(0,Du.renderPrompt)(UM,{userMessage:e.prompt},{modelMaxPromptTokens:o.maxInputTokens},o);this.state.addMessages(S);const C=[...e.toolReferences],$={justification:"Answering user questions pertaining to GitHub."},Y=[],ne=async()=>{const le=C.shift();le?($.toolMode=s.LanguageModelChatToolMode.Required,$.tools=d.filter(pe=>pe.name===le.name)):($.toolMode=void 0,$.tools=d);const he=[],ke=await o.sendRequest(this.state.messages,$,r);for await(const pe of ke.stream)if(pe instanceof s.LanguageModelTextPart)n.markdown(pe.value);else if(pe instanceof s.LanguageModelToolCallPart){const Ne=s.lm.tools.find(He=>He.name===pe.name);if(!Ne)throw new Error("Got invalid tool choice: "+pe.name);let Ce;try{Ce=pe.input}catch(He){throw new Error(`Got invalid tool use parameters: "${JSON.stringify(pe.input)}". (${He.message})`)}const De={input:Ce,toolInvocationToken:e.toolInvocationToken};he.push({call:pe,result:s.lm.invokeTool(Ne.name,De,r),tool:Ne})}if(he.length){const pe=s.LanguageModelChatMessage.Assistant("");pe.content=he.map(Ce=>new s.LanguageModelToolCallPart(Ce.call.callId,Ce.tool.name,Ce.call.input)),this.state.addMessage(pe);let Ne=!1;for(const Ce of he){let De=await Ce.result;const He=[];let Ke;for(let je=0;je<De.content.length;je++){const nt=De.content[je];if(!(nt instanceof s.LanguageModelTextPart)){Ke=new s.LanguageModelToolResultPart(Ce.call.callId,De.content);continue}if(nt.value===Ky){const Nt=new s.MarkdownString(De.content[++je].value);Nt.supportHtml=!0,n.markdown(Nt),Ne=!0}else nt.value===Gh?Y.push(JSON.parse(De.content[++je].value)):Ke?He.push(nt):Ke=new s.LanguageModelToolResultPart(Ce.call.callId,[nt])}const Ge=s.LanguageModelChatMessage.User("");if(Ge.content=[Ke],this.state.addMessage(Ge),He.length){const je=s.LanguageModelChatMessage.User("");je.content=He,this.state.addMessage(je)}}return this.state.addMessage(s.LanguageModelChatMessage.User(`Above is the result of calling the functions ${he.map(Ce=>Ce.tool.name).join(", ")}. ${Ne?"The user can see the result of the tool call.":""}`)),ne()}};await ne(),this.addButtons(n,Y)}addButtons(e,t){for(const n of t)e.button(n)}}var VM=Object.defineProperty,jM=(i,e,t)=>e in i?VM(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t,Yy=(i,e,t)=>jM(i,typeof e!="symbol"?e+"":e,t);class zM extends f{constructor(e,t,n){super(),this._prsTreeModel=e,this._reposManager=t,this._git=n,Yy(this,"_onDidChangeWorkspaceChatContext",new s.EventEmitter),Yy(this,"onDidChangeWorkspaceChatContext",this._onDidChangeWorkspaceChatContext.event)}async initialize(){this._git.state==="uninitialized"&&await new Promise(e=>{this._register(j(this._git.onDidChangeState)(()=>e()))}),this._reposManager.folderManagers.forEach(e=>{this._register(e.onDidChangeActivePullRequest(()=>{this._onDidChangeWorkspaceChatContext.fire()}))}),this._register(this._reposManager.onDidChangeFolderRepositories(e=>{e.added&&(this._register(e.added.onDidChangeActivePullRequest(()=>{this._onDidChangeWorkspaceChatContext.fire()})),this._onDidChangeWorkspaceChatContext.fire())})),this._register(this._reposManager.onDidChangeAnyGitHubRepository(()=>{this._onDidChangeWorkspaceChatContext.fire()})),this._onDidChangeWorkspaceChatContext.fire()}async provideWorkspaceChatContext(e){var t,n;const r=this._reposManager.folderManagers.length>1?"Information about one of the current repositories. You can use this information when you need to calculate diffs or compare changes with the default branch":"Information about the current repository. You can use this information when you need to calculate diffs or compare changes with the default branch",a=[];for(const o of this._reposManager.folderManagers){if(o.gitHubRepositories.length===0)continue;const d=await o.getPullRequestDefaults();let S=`Repository name: ${d.repo}
Owner: ${d.owner}
Current branch: ${(n=(t=o.repository.state.HEAD)==null?void 0:t.name)!=null?n:"unknown"}
Default branch: ${d.base}`;o.activePullRequest&&(S=`${S}
Active pull request (may not be the same as open pull request): ${o.activePullRequest.title} ${o.activePullRequest.html_url}`),a.push({icon:new s.ThemeIcon("github-alt"),label:`${d.owner}/${d.repo}`,modelDescription:r,value:S})}return a}async provideChatContextForResource(e,t){var n;const r=(n=rr.currentPanel)==null?void 0:n.getCurrentItem();if(r)return this._prToUnresolvedContext(r)}async resolveChatContext(e,t){return e.pr&&(e.value=await this._resolvedPrValue(e.pr),e.modelDescription="All the information about the GitHub pull request the user is viewing, including comments, review threads, and changes."),e}async provideChatContextExplicit(e){return(await this._prsTreeModel.getAllPullRequests(this._reposManager.folderManagers[0],!1)).items.map(n=>this._prToUnresolvedContext(n))}_prToUnresolvedContext(e){return{icon:new s.ThemeIcon("git-pull-request"),label:`#${e.number} ${e.title}`,modelDescription:"The GitHub pull request the user is viewing.",pr:e}}async _resolvedPrValue(e){var t,n;return JSON.stringify({prNumber:e.number,owner:e.remote.owner,repo:e.remote.repositoryName,title:e.title,body:e.body,comments:e.comments.map(r=>{var a;return{author:(a=r.user)==null?void 0:a.login,body:r.body,createdAt:r.createdAt}}),threads:((t=e.reviewThreadsCache)!=null?t:await e.getReviewThreads()).map(r=>({comments:r.comments.map(a=>{var o;return{author:(o=a.user)==null?void 0:o.login,body:a.body,createdAt:a.createdAt}}),isResolved:r.isResolved})),changes:((n=e.rawFileChanges)!=null?n:await e.getRawFileChangesInfo()).map(r=>r.patch)})}}var WM=Object.defineProperty,KM=(i,e,t)=>e in i?WM(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t,QM=(i,e,t)=>KM(i,typeof e!="symbol"?e+"":e,t);class Jy{constructor(e,t){this.folderManagers=e,this.copilotRemoteAgentManager=t}shouldIncludeCodingAgentSession(e){return!!e&&this.copilotRemoteAgentManager.enabled&&td.includes(e.author.login)}_getPullRequestLabel(e){return`${e.title} (#${e.number})`}async prepareInvocation(){const e=this._findActivePullRequest();if(!e)return{pastTenseMessage:s.l10n.t("No active pull request"),invocationMessage:s.l10n.t("Reading active pull request"),confirmationMessages:{title:this._confirmationTitle(),message:s.l10n.t("Allow reading the details of the active pull request?")}};const t=this._getPullRequestLabel(e);return{pastTenseMessage:s.l10n.t('Read pull request "{0}"',t),invocationMessage:s.l10n.t('Reading pull request "{0}"',t),confirmationMessages:{title:this._confirmationTitle(),message:s.l10n.t('Allow reading the details of "{0}"?',t)}}}parseCopilotEventStream(e){const t=[];return e.split(`
`).filter(n=>n.startsWith("data:")).forEach(n=>{try{const r=JSON.parse(n.replace(/^data:\s*/,""));if(Array.isArray(r.choices))for(const a of r.choices){const o=a.delta||{};typeof o.content=="string"&&o.role&&t.push(o.content)}}catch{}}),t}async fallbackSessionLogs(e,t,n){var r;const a=await this.copilotRemoteAgentManager.getSessionLogsFromAction(e),o=[s.LanguageModelChatMessage.Assistant("You are an expert summarizer. The following logs show the thinking process and performed actions of a GitHub Copilot agent that was in charge of working on the current pull request. Read the logs and always maintain the thinking process. You can remove information on the tool call results that you think are not necessary for building context."),s.LanguageModelChatMessage.User(`Copilot Agent Logs (JSON):
${JSON.stringify(a)}`)];let d;try{const S=await t.sendRequest(o,{justification:"Summarizing Copilot agent logs for the active pull request."},n);d=await(typeof S.text=="string"?S.text:typeof((r=S.text)==null?void 0:r[Symbol.asyncIterator])=="function"?(async()=>{let C="";for await(const $ of S.text)C+=$;return C})():"")}catch{d=""}return d}async fetchCodingAgentSession(e,t,n){let r=[];try{const a=await this.copilotRemoteAgentManager.getSessionLogFromPullRequest(e);if(!a)throw new Error("Could not get session logs");if(r=this.parseCopilotEventStream(a.logs),r.length===0)throw new Error("Empty Copilot agent logs received")}catch(a){y.debug(`Failed to fetch Copilot agent logs from API: ${a}.`,pc.toolId),r=await this.fallbackSessionLogs(e,t,n)}return r}async invoke(e,t){var n,r,a,o,d,S,C;let $=this._findActivePullRequest();if(!$)return new s.LanguageModelToolResult([new s.LanguageModelTextPart("There is no active pull request")]);let Y=[];this.shouldIncludeCodingAgentSession($)&&e.model&&(Y=await this.fetchCodingAgentSession($,e.model,t));const ne=await $.getStatusChecks(),le=$.timelineEvents&&$.timelineEvents.length>0?$.timelineEvents:await $.getTimelineEvents(),he={title:$.title,body:$.body,author:$.author,assignees:$.assignees,comments:$.comments.map(pe=>{var Ne;return{author:(Ne=pe.user)==null?void 0:Ne.login,body:pe.body,commentState:pe.isResolved?"resolved":"unresolved",file:pe.path}}),timelineComments:le.filter(pe=>pe.event===Ht.Reviewed||pe.event===Ht.Commented).map(pe=>{var Ne;return{author:(Ne=pe.user)==null?void 0:Ne.login,body:pe.body,commentType:pe.event===Ht.Reviewed?pe.state:"COMMENTED"}}),state:$.state,statusChecks:(n=ne[0])==null?void 0:n.statuses.map(pe=>({context:pe.context,description:pe.description,state:pe.state,name:pe.workflowName,targetUrl:pe.targetUrl})),reviewRequirements:{approvalsNeeded:(a=(r=ne[1])==null?void 0:r.count)!=null?a:0,currentApprovals:(d=(o=ne[1])==null?void 0:o.approvals.length)!=null?d:0,areChangesRequested:((C=(S=ne[1])==null?void 0:S.requestedChanges.length)!=null?C:0)>0},isDraft:$.isDraft?"is a draft and cannot be merged until marked as ready for review":"false",codingAgentSession:Y,changes:(await $.getFileChangesInfo()).map(pe=>{var Ne;return pe instanceof Ps?((Ne=pe.diffHunks)==null?void 0:Ne.map(Ce=>Ce.diffLines.map(De=>De.raw).join(`
`)).join(`
`))||"":`File: ${pe.fileName} was ${pe.status===Yt.ADD?"added":pe.status===Yt.DELETE?"deleted":"modified"}.`})},ke=new s.ExtendedLanguageModelToolResult([new s.LanguageModelTextPart(JSON.stringify(he))]);return ke.toolResultDetails=[s.Uri.parse($.html_url)],ke}}class pc extends Jy{_findActivePullRequest(){const e=this.folderManagers.folderManagers.find(t=>t.activePullRequest);return e==null?void 0:e.activePullRequest}_confirmationTitle(){return s.l10n.t("Active Pull Request")}}QM(pc,"toolId","github-pull-request_activePullRequest");var YM=ti(48287).Buffer,JM=Object.defineProperty,ZM=(i,e,t)=>e in i?JM(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t,XM=(i,e,t)=>ZM(i,typeof e!="symbol"?e+"":e,t);class Vh{constructor(e,t,n){this.manager=e,this.telemetry=t,this.prsTreeModel=n}async prepareInvocation(e){const{title:t,existingPullRequest:n}=e.input,r=n?void 0:await this.manager.tryPromptForAuthAndRepo();if(!await this.manager.isAvailable())throw new Error(s.l10n.t("Copilot coding agent is not available for this repository. Make sure the agent is enabled and assignable to this repository."));const o=await this.manager.repoInfo(r),d=this.manager.autoCommitAndPushEnabled,S=n||await this.getActivePullRequestWithSession(o);return this.telemetry.sendTelemetryEvent("copilot.remoteAgent.tool.prepare",{}),{pastTenseMessage:s.l10n.t("Launched coding agent"),invocationMessage:s.l10n.t("Launching coding agent"),confirmationMessages:{message:S?s.l10n.t("The coding agent will incorporate your feedback on existing pull request **#{0}**.",S):o&&d?s.l10n.t('The coding agent will continue work on "**{0}**" in a new branch on "**{1}/{2}**". Any uncommitted changes will be **automatically pushed**.',t,o.owner,o.repo):s.l10n.t('The coding agent will start working on "**{0}**"',t),title:s.l10n.t("Start coding agent?")}}}async invoke(e,t){var n,r;const a=e.input.title,o=e.input.body||"",d=e.input.existingPullRequest||"",S=d?void 0:await this.manager.tryPromptForAuthAndRepo(),C=await this.manager.repoInfo(S);if(!C)return new s.LanguageModelToolResult([new s.LanguageModelTextPart(s.l10n.t("No repository information found. Please open a workspace with a Git repository."))]);let $;if(d){if($=parseInt(d,10),isNaN($))return new s.LanguageModelToolResult([new s.LanguageModelTextPart(s.l10n.t("Invalid pull request number: {0}",d))])}else $=await this.getActivePullRequestWithSession(C);if(this.telemetry.sendTelemetryEvent("copilot.remoteAgent.tool.invoke",{hasExistingPR:$?"true":"false",hasBody:o?"true":"false"}),$)return await this.manager.addFollowUpToExistingPR($,a,o),new s.LanguageModelToolResult([new s.LanguageModelTextPart(s.l10n.t("Follow-up added to pull request #{0}.",$))]);const Y=await this.manager.invokeRemoteAgent(a,o);if(Y.state==="error")throw this.telemetry.sendTelemetryErrorEvent("copilot.remoteAgent.tool.error",{reason:"invocationError"}),new Error(Y.error);let ne=[new s.LanguageModelTextPart(Y.llmDetails)];const le=await C.fm.resolvePullRequest(C.owner,C.repo,Y.number);if(le){const he=ro(le.body,{renderer:new so(!0),smartypants:!0}).trim(),ke={uri:(await vo({owner:le.githubRepository.remote.owner,repo:le.githubRepository.remote.repositoryName,pullRequestNumber:le.number})).toString(),title:le.title,description:he,author:cn[le.author.login].name,linkTag:`#${le.number}`},pe=YM.from(JSON.stringify(ke)),Ne=Uint8Array.from(pe),Ce=(r=(n=s.LanguageModelPartAudience)==null?void 0:n.User)!=null?r:1;ne.push(new s.LanguageModelDataPart2(Ne,"application/pull-request+json",[Ce]))}return new s.LanguageModelToolResult2(ne)}async getActivePullRequestWithSession(e){if(!e)return;const t=e.fm.activePullRequest;if(t&&this.prsTreeModel.getCopilotStateForPR(e.owner,e.repo,t.number))return t.number}}XM(Vh,"toolId","github-pull-request_copilot-coding-agent");var eP=Object.defineProperty,tP=(i,e,t)=>e in i?eP(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t,Zy=(i,e,t)=>tP(i,typeof e!="symbol"?e+"":e,t);const iP=`Instructions:
You are an expert on GitHub issues. You can help the user identify the most important columns for rendering issues based on a query for issues:
- Include a column related to the sort value, if given.
- Output a newline separated list of columns only, max 4 columns.
- List the columns in the order they should be displayed.
- Don't change the casing.
- Don't include columns that will all have the same value for all the resulting issues.
Here are the possible columns:
`,jh=class hm extends Qy{constructor(e,t){super(t),this.context=e}assistantPrompt(e){const t=Object.keys(e[0]);return`${iP}
${t.map(n=>`- ${n}`).join(`
`)}
Here's the data you have about the issues:
`}postProcess(e,t){const n=e.split(`
`),r=Object.keys(t[0]),a=[];for(let o of n)if(o=o.trim(),o!=="")if(r.includes(o))a.push(o);else{const d=o.split(" ");if(d.length>1){const S=d[d.length-1];r.includes(S)&&a.push(S)}}return a}async getImportantColumns(e,t,n){if(!e)return["number","title","state"];const a=(await s.lm.selectChatModels({vendor:"copilot",family:"gpt-4o"}))[0],o={justification:"Answering user questions pertaining to GitHub."},d=[s.LanguageModelChatMessage.Assistant(this.assistantPrompt(t))];d.push(new s.LanguageModelChatMessage(s.LanguageModelChatMessageRole.User,e==null?void 0:e.value));const S=await a.sendRequest(d,o,n),C=this.postProcess(await Ro(S.text),t),$=C.indexOf("url");return C.length===0?["number","title","state"]:($>=0&&C.splice($,1),C)}renderUser(e){return`[@${Mo(e)}](${e.url})`}issueToRow(e,t){return`| ${t.map(n=>{var r,a;switch(n){case"number":return`[${e[n]}](${e.url})`;case"labels":return(r=e[n])==null?void 0:r.map(S=>S!=null&&S.name&&S.color?mp({name:S.name,color:S.color}):"").join(", ");case"assignees":return(a=e[n])==null?void 0:a.map(S=>this.renderUser(S)).join(", ");case"author":const o=e[n];return o?this.renderUser(o):"";case"createdAt":case"updatedAt":const d=e[n];return d?new Date(d).toLocaleDateString():"";case"milestone":return e[n];default:return e[n]}}).join(" | ")} |`}foundIssuesCount(e){var t,n;return e.totalIssues!==void 0?e.totalIssues:(n=(t=e.arrayOfIssues)==null?void 0:t.length)!=null?n:0}async prepareInvocation(e){const n=this.foundIssuesCount(e.input),r=Math.min(10,n);return r===0?{invocationMessage:s.l10n.t("No issues found")}:r<n?{invocationMessage:s.l10n.t("Found {0} issues. Generating a markdown table of the first {1}",n,r)}:{invocationMessage:s.l10n.t("Found {0} issues. Generating a markdown table",n)}}async invoke(e,t){await Ms(this.context);const n=this.chatParticipantState.firstUserMessage,r=e.input.arrayOfIssues;if(!r||r.length===0)return new s.LanguageModelToolResult([new s.LanguageModelTextPart(s.l10n.t("No issues found. Please try another query."))]);y.debug(`Displaying ${this.foundIssuesCount(e.input)} issues, first issue ${r[0].number}`,hm.ID);const a=await this.getImportantColumns(n,r,t),o=`| ${a.join(" | ")} |`;y.debug(`Columns ${o} issues`,hm.ID);const d=`| ${a.map(()=>"---").join(" | ")} |
`,S=new s.MarkdownString(o);return S.supportHtml=!0,S.appendMarkdown(`
`),S.appendMarkdown(d),S.appendMarkdown(r.slice(0,10).map(C=>this.issueToRow(C,a)).join(`
`)),new s.LanguageModelToolResult([new s.LanguageModelTextPart(Ky),new s.LanguageModelTextPart(S.value),new s.LanguageModelTextPart("The issues have been shown to the user. Simply say that you've already displayed the issue or first 10 issues.")])}};Zy(jh,"toolId","github-pull-request_renderIssues"),Zy(jh,"ID","DisplayIssuesTool");let Xy=jh;var nP=Object.defineProperty,rP=(i,e,t)=>e in i?nP(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t,aP=(i,e,t)=>rP(i,typeof e!="symbol"?e+"":e,t);class zh extends Iu{async invoke(e,t){var n,r,a,o,d,S,C;const $=e.input.issueNumber;if(!$)throw new Error("No issue/pull-request number provided.");const{owner:Y,name:ne,folderManager:le}=await this.getRepoInfo({owner:(n=e.input.repo)==null?void 0:n.owner,name:(r=e.input.repo)==null?void 0:r.name}),he=await le.resolveIssueOrPullRequest(Y,ne,$);if(!he)throw new Error(`No issue or pull request found for ${Y}/${ne}/${$}. Make sure the issue or pull request exists.`);const ke={owner:Y,repo:ne,title:he.title,body:he.body,comments:(o=(a=he.item.comments)==null?void 0:a.map(pe=>({body:pe.body,author:pe.author.login})))!=null?o:[],author:(d=he.author)==null?void 0:d.login,assignees:(S=he.assignees)==null?void 0:S.map(pe=>pe.login),reviewers:he instanceof fn?(C=he.reviewers)==null?void 0:C.map(pe=>Ar(pe)?pe.name:pe.login).filter(pe=>!!pe):void 0};if(he instanceof fn&&he.isResolved()){const pe=await he.getFileChangesInfo(),Ne=[];for(const Ce of pe)Ce instanceof Ps&&Ne.push({fileName:Ce.fileName,patch:Ce.patch});ke.fileChanges=Ne}return new s.LanguageModelToolResult([new s.LanguageModelTextPart(JSON.stringify(ke)),new s.LanguageModelTextPart("Above is a stringified JSON representation of the issue or pull request. This can be passed to other tools for further processing.")])}async prepareInvocation(e){var t,n;if(!e.input.issueNumber)return{invocationMessage:s.l10n.t("Fetching item from GitHub")};const{owner:r,name:a}=await this.getRepoInfo({owner:(t=e.input.repo)==null?void 0:t.owner,name:(n=e.input.repo)==null?void 0:n.name}),o=r&&a?`https://github.com/${r}/${a}/issues/${e.input.issueNumber}`:void 0;return{invocationMessage:o?new s.MarkdownString(s.l10n.t("Fetching item [#{0}]({1}) from GitHub",e.input.issueNumber,o)):s.l10n.t("Fetching item #{0} from GitHub",e.input.issueNumber)}}}aP(zh,"toolId","github-pull-request_issue_fetch");var sP=Object.defineProperty,oP=(i,e,t)=>e in i?sP(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t,lP=(i,e,t)=>oP(i,typeof e!="symbol"?e+"":e,t);class Wh extends Iu{async prepareInvocation(e){return{invocationMessage:s.l10n.t("Fetching notification from GitHub")}}async invoke(e,t){var n,r;const a=this.getGitHub();if(!a)return;const o=e.input.thread_id;if(o===void 0)return;const S=(await a.octokit.api.activity.getThread({thread_id:o})).data,C=S.subject.url.split("/").pop();if(C===void 0)return;const $=S.updated_at,Y=(n=S.last_read_at)!=null?n:void 0,ne=S.unread,le=S.repository.owner.login,he=S.repository.name,{folderManager:ke}=await this.getRepoInfo({owner:le,name:he}),pe=await ke.resolveIssueOrPullRequest(le,he,Number(C));if(!pe)throw new Error(`No notification found with thread ID #${o}.`);const Ne=pe instanceof fn?"pr":"issue",Ce=up(le,he,String(pe.number)),De=(r=pe.item.comments)!=null?r:[];let He;Y!==void 0&&De?He=De.filter(Ge=>Ge.createdAt>Y).map(Ge=>({body:Ge.body,author:Ge.author.login})):He=De.map(Ge=>({body:Ge.body,author:Ge.author.login}));const Ke={lastReadAt:Y,lastUpdatedAt:$,unread:ne,comments:He,threadId:o,notificationKey:Ce,title:pe.title,body:pe.body,owner:le,repo:he,itemNumber:C,itemType:Ne};if(pe instanceof fn){const Ge=await pe.getFileChangesInfo(),je=[];for(const nt of Ge)nt instanceof Ps&&je.push({fileName:nt.fileName,patch:nt.patch});Ke.fileChanges=je}return new s.LanguageModelToolResult([new s.LanguageModelTextPart(JSON.stringify(Ke)),new s.LanguageModelTextPart("Above is a stringified JSON representation of the notification. This can be passed to other tools for further processing or display.")])}}lP(Wh,"toolId","github-pull-request_notification_fetch");var uP=Object.defineProperty,dP=(i,e,t)=>e in i?uP(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t,cP=(i,e,t)=>dP(i,typeof e!="symbol"?e+"":e,t);class Kh extends Jy{_findActivePullRequest(){var e;const t=(e=rr.currentPanel)==null?void 0:e.getCurrentItem();if(t)return t;const n=s.window.tabGroups.activeTabGroup.activeTab;if((n==null?void 0:n.input)instanceof s.TabInputTextDiff){const r=n.input,a=[r.original,r.modified];for(const o of a)if(o.scheme===Bt.Pr){const d=yn(o);if(d)return this._findPullRequestByNumber(d.prNumber,d.remoteName)}else if(o.scheme===Bt.Review){const d=ta(o.query);if(d){const S=s.Uri.file(d.rootPath),C=this.folderManagers.getManagerForFile(S);return C==null?void 0:C.activePullRequest}}}else if((n==null?void 0:n.input)instanceof s.TabInputText){const r=n.input;if(r.uri.scheme===Bt.Pr){const a=yn(r.uri);if(a)return this._findPullRequestByNumber(a.prNumber,a.remoteName)}else if(r.uri.scheme===Bt.Review){const a=ta(r.uri.query);if(a){const o=s.Uri.file(a.rootPath),d=this.folderManagers.getManagerForFile(o);return d==null?void 0:d.activePullRequest}}}}_findPullRequestByNumber(e,t){for(const n of this.folderManagers.folderManagers)for(const r of n.gitHubRepositories)if(r.remote.remoteName===t){for(const a of r.pullRequestModels)if(a.number===e)return a}}_confirmationTitle(){return s.l10n.t("Open Pull Request")}}cP(Kh,"toolId","github-pull-request_openPullRequest");var fP=Object.defineProperty,hP=(i,e,t)=>e in i?fP(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t,gc=(i,e,t)=>hP(i,typeof e!="symbol"?e+"":e,t),mP=(i=>(i.is="is",i.type="type",i.state="state",i.in="in",i.linked="linked",i.status="status",i.draft="draft",i.review="review",i.no="no",i))(mP||{});const eb={is:{possibleValues:["issue","pr","draft","public","private","locked","unlocked"]},assignee:{valueDescription:"A GitHub user name or @me"},author:{valueDescription:"A GitHub user name or @me"},mentions:{valueDescription:"A GitHub user name or @me"},team:{valueDescription:"A GitHub user name"},commenter:{valueDescription:"A GitHub user name or @me"},involves:{valueDescription:"A GitHub user name or @me"},label:{valueDescription:"A GitHub issue/pr label"},type:{possibleValues:["pr","issue"]},state:{possibleValues:["open","closed","merged"]},in:{possibleValues:["title","body","comments"]},user:{valueDescription:"A GitHub user name or @me"},org:{valueDescription:"A GitHub org, without the repo name"},repo:{valueDescription:"A GitHub repo, without the org name"},linked:{possibleValues:["pr","issue"]},milestone:{valueDescription:"A GitHub milestone"},project:{valueDescription:"A GitHub project"},status:{possibleValues:["success","failure","pending"]},head:{valueDescription:"A git commit sha or branch name"},base:{valueDescription:"A git commit sha or branch name"},comments:{valueDescription:"A number"},interactions:{valueDescription:"A number"},reactions:{valueDescription:"A number"},draft:{possibleValues:["true","false"]},review:{possibleValues:["none","required","approved","changes_requested"]},reviewedBy:{valueDescription:"A GitHub user name or @me"},reviewRequested:{valueDescription:"A GitHub user name or @me"},userReviewRequested:{valueDescription:"A GitHub user name or @me"},teamReviewRequested:{valueDescription:"A GitHub user name"},created:{valueDescription:"A date, with an optional < >"},updated:{valueDescription:"A date, with an optional < >"},closed:{valueDescription:"A date, with an optional < >"},no:{possibleValues:["label","milestone","assignee","project"]},sort:{possibleValues:["updated","updated-asc","interactions","interactions-asc","author-date","author-date-asc","committer-date","committer-date-asc","reactions","reactions-asc","reactions-(+1, -1, smile, tada, heart)"]}},Qh=/(?!\B"[^"]*)\s+(?![^"]*"\B)/,Yh=class $b extends Iu{async fullQueryAssistantPrompt(e){var t,n,r,a;const o=(a=(r=(t=e.activePullRequest)==null?void 0:t.remote)!=null?r:(n=e.activeIssue)==null?void 0:n.remote)!=null?a:(await e.getPullRequestDefaultRepo()).remote;return`Instructions:
You are an expert on GitHub issue search syntax. GitHub issues are always software engineering related. You can help the user convert a natural language query to a query that can be used to search GitHub issues. Here are some rules to follow:
- Always try to include "repo:" or "org:" in your response.
- "repo" is often formated as "owner/name". If needed, the current repo is ${o.owner}/${o.repositoryName}.
- Ignore display information.
- Respond with only the query.
- Always include a "sort:" parameter. If multiple sorts are possible, choose the one that the user requested.
- Always include a property with the @me value if the query includes "me" or "my".
- Here are some examples of valid queries:
	- repo:microsoft/vscode is:issue state:open sort:updated-asc
	- mentions:@me org:microsoft is:issue state:open sort:updated
	- assignee:@me milestone:"October 2024" is:open is:issue sort:reactions
	- comments:>5 org:contoso is:issue state:closed mentions:@me label:bug
	- interactions:>5 repo:contoso/cli is:issue state:open
	- repo:microsoft/vscode-python is:issue sort:updated -assignee:@me
	- repo:contoso/cli is:issue sort:updated no:milestone
- Go through each word of the natural language query and try to match it to a syntax component.
- Use a "-" in front of a syntax component to indicate that it should be "not-ed".
- Use the "no" syntax component to indicate that a property should be empty.
- As a reminder, here are the components of the query syntax:
	${JSON.stringify(eb)}
`}async labelsAssistantPrompt(e,t){return`Instructions:
You are an expert on choosing search keywords based on a natural language search query. Here are some rules to follow:
- Choose labels based on what the user wants to search for, not based on the actual words in the query.
- The user might include info on how they want their search results to be displayed. Ignore all of that.
- Labels will be and-ed together, so don't pick a bunch of super specific labels.
- Try to pick just one label.
- Respond with a space-separated list of labels: Examples: 'bug polish', 'accessibility "feature accessibility"'
- Only choose labels that you're sure are relevant. Having no labels is preferable than lables that aren't relevant.
- Don't choose labels that the user has explicitly excluded.
- Respond with label names chosen from this JSON array of options:
${JSON.stringify(t.filter(n=>!n.name.includes("required")&&!n.name.includes("search")&&!n.name.includes("question")&&!n.name.includes("find")&&!n.name.includes("issue")).map(n=>({name:n.name,description:n.description})))}
`}freeFormAssistantPrompt(){return`Instructions:
You are getting ready to make a GitHub search query. Given a natural language query, you should find any key words that might be good for searching:
- Only include a max of 1 key word that is relevant to the search query.
- Don't refer to issue numbers.
- Don't refer to product names.
- Don't include any key words that might be related to display or rendering.
- Respond with only your chosen key word.
- It's better to return no keywords than to return irrelevant keywords.
- If an issue is provided, choose a keyword that names the feature or bug that the issue is about.
- Don't include key words or concepts that are already covered by labels.
`}freeFormUserPrompt(e,t){return`I've already included the following labels: [${e.join(", ")}]. The best search keywords in "${t}" are:`}labelsUserPrompt(e){return`The following labels are most appropriate for "${e}":`}fullQueryUserPrompt(e){e=e.replace(/\b(me|my)\b/,n=>n.toUpperCase());const t=new Date;return`Pretend today's date is ${t.getFullYear()}-${t.getMonth()+1}-${t.getDate()}, but only include it if needed. How should this be converted to a GitHub issue search query? ${e}`}validateSpecificQueryPart(e,t){switch(e){case"is":return t==="issue"||t==="pr"||t==="draft"||t==="public"||t==="private"||t==="locked"||t==="unlocked";case"type":return t==="pr"||t==="issue";case"state":return t==="open"||t==="closed"||t==="merged";case"in":return t==="title"||t==="body"||t==="comments";case"linked":return t==="pr"||t==="issue";case"status":return t==="success"||t==="failure"||t==="pending";case"draft":return t==="true"||t==="false";case"review":return t==="none"||t==="required"||t==="approved"||t==="changes_requested";case"no":return t==="label"||t==="milestone"||t==="assignee"||t==="project";default:return!0}}validateLabelsList(e,t){const n=o=>o==="AND"||o==="OR",r=e.split(Qh).map(o=>o.trim());let a=[];for(let o of r){if(n(o)){if(a.length===0)continue;a.length>0&&n(a[a.length-1])?a[a.length-1]=o:a.push(o);continue}const d=/^label:(?!\B"[^"]*)\s+(?![^"]*"\B)/,S=o.match(d);let C=o;S&&(C=S[1]),t.find($=>$.name===C)&&a.push(C)}return a.length>0&&n(a[a.length-1])&&(a=a.slice(0,a.length-1)),a}validateFreeForm(e,t,n){return n=n.trim(),n.includes("issue")||n.match(Qh)||n.toLowerCase()==="none"||e.includes(n)||t.includes(n)||t.some(r=>n.includes(r)||r.includes(n))||Object.keys(eb).find(r=>n.includes(r)||r.includes(n))?"":n}validateQuery(e,t,n){let r="";const a=e.split(Qh);for(const d of a){if(d.startsWith("label:"))continue;const S=d.split(":");if(S.length===2){const $=S[0].startsWith("-")?S[0].substring(1):S[0],Y=S[1];if(!$.match(/^[a-zA-Z]+$/)||!this.validateSpecificQueryPart($,Y)||$==="no"&&Y==="label"&&t.length>0)continue}r=`${r} ${d}`}const o=this.validateFreeForm(r,t,n);return r=`${r} ${t.map(d=>`label:${d}`).join(" ")} ${o}`,r.trim()}postProcess(e,t,n){const r=this.findQuery(e);if(!r)return;const a=this.validateQuery(r,n,t);return this.fixRepo(a)}fixRepo(e){const t=/repo:([^ ]+)/,n=/org:([^ ]+)/,r=e.match(t),a=e.match(n);let o=e.trim(),d,S;if(r){const C=r[1];if(C.includes("/")){const $=C.split("/");d=$[0],S=$[1]}a&&C.includes("/")?o=e.replace(n,""):a&&(o=e.replace(t,`repo:${a[1]}/${C}`),d=a[1],S=C)}return{query:o,repo:d&&S?{owner:d,name:S}:void 0}}findQuery(e){if(e.includes("```")){const n=e.indexOf("```"),r=e.indexOf("```",n+3);return e.substring(n+3,r)}const t=e.split(`
`);if(t.length<=1)return t.length===0?e:t[0];for(const n of t)if(n.includes(":"))return n}async generateLabelQuery(e,t,n,r,a,o){const d=[s.LanguageModelChatMessage.Assistant(await this.labelsAssistantPrompt(e,t))];d.push(s.LanguageModelChatMessage.User(this.labelsUserPrompt(a)));const S=await r.sendRequest(d,n,o);return Ro(S.text)}async generateFreeFormQuery(e,t,n,r,a,o){const d=[s.LanguageModelChatMessage.Assistant(this.freeFormAssistantPrompt())];d.push(s.LanguageModelChatMessage.User(this.freeFormUserPrompt(a,r)));const S=await n.sendRequest(d,t,o);return Ro(S.text)}async generateQuery(e,t,n,r,a){const o=[s.LanguageModelChatMessage.Assistant(await this.fullQueryAssistantPrompt(e))];o.push(s.LanguageModelChatMessage.User(this.fullQueryUserPrompt(r)));const d=await n.sendRequest(o,t,a);return Ro(d.text)}async prepareInvocation(e){return{invocationMessage:s.l10n.t("Converting to search syntax")}}async invoke(e,t){var n,r,a;const{owner:o,name:d,folderManager:S}=await this.getRepoInfo({owner:(n=e.input.repo)==null?void 0:n.owner,name:(r=e.input.repo)==null?void 0:r.name}),C=`${(a=this.chatParticipantState.firstUserMessage)==null?void 0:a.value}, ${e.input.naturalLanguageString}`,$=await S.getLabels(void 0,{owner:o,repo:d}),ne=(await s.lm.selectChatModels({vendor:"copilot",family:"gpt-4o"}))[0],le={justification:"Answering user questions pertaining to GitHub."},[he,ke]=await Promise.all([this.generateQuery(S,le,ne,C,t),this.generateLabelQuery(S,$,le,ne,C,t)]),pe=this.validateLabelsList(ke,$),Ne=await this.generateFreeFormQuery(S,le,ne,C,pe,t),Ce=this.postProcess(he,Ne,pe);if(!Ce)throw new Error("Unable to form a query.");y.debug(`Query \`${Ce.query}\``,$b.ID);const De={query:Ce.query,repo:{owner:o,name:d}};return new s.LanguageModelToolResult([new s.LanguageModelTextPart(JSON.stringify(De)),new s.LanguageModelTextPart("Above is the query in stringified json format. You can pass this VERBATIM to a tool that knows how to search.")])}};gc(Yh,"toolId","github-pull-request_formSearchQuery"),gc(Yh,"ID","ConvertToSearchSyntaxTool");let tb=Yh;const Jh=class mm extends Iu{toGitHubUrl(e){return`https://github.com/issues/?q=${encodeURIComponent(e)}`}async prepareInvocation(e){const t=e.input.query,n=new s.MarkdownString;return n.appendText(s.l10n.t('Searching for issues with "{0}".',t)),n.appendMarkdown(s.l10n.t(" [Open on GitHub.com]({0})",tM(this.toGitHubUrl(t)))),{invocationMessage:n}}async invoke(e,t){var n,r,a,o;const{folderManager:d}=await this.getRepoInfo({owner:(n=e.input.repo)==null?void 0:n.owner,name:(r=e.input.repo)==null?void 0:r.name}),S=e.input.query;y.debug(`Searching with query \`${S}\``,mm.ID);const C=await d.getIssues(S);if(!C)throw new Error(`No issues found for ${S}. Make sure the query is valid.`);const Y={arrayOfIssues:C.items.slice(0,30).map(ne=>{var le,he;const ke=ne.item;return{title:ke.title,url:ke.url,number:ke.number,labels:ke.labels.map(pe=>({name:pe.name,color:pe.color})),state:ke.state,assignees:(le=ke.assignees)==null?void 0:le.map(pe=>({login:pe.login,url:pe.url})),createdAt:ke.createdAt,updatedAt:ke.updatedAt,author:{login:ke.user.login,url:ke.user.url},milestone:(he=ke.milestone)==null?void 0:he.title,commentCount:ke.commentCount,reactionCount:ke.reactionCount}}),totalIssues:(a=C.totalCount)!=null?a:C.items.length};return y.debug(`Found ${Y.totalIssues} issues, first issue ${(o=Y.arrayOfIssues[0])==null?void 0:o.number}.`,mm.ID),new s.LanguageModelToolResult([new s.LanguageModelTextPart(JSON.stringify(Y)),new s.LanguageModelTextPart(`Above are the issues I found for the query ${S} in json format. You can pass these to a tool that can display them, or you can reason over the issues to answer a question.`)])}};gc(Jh,"toolId","github-pull-request_doSearch"),gc(Jh,"ID","SearchTool");let ib=Jh;var pP=Object.defineProperty,gP=(i,e,t)=>e in i?pP(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t,vP=(i,e,t)=>gP(i,typeof e!="symbol"?e+"":e,t);class Zh extends Iu{constructor(e,t,n){super(e,t,n)}async prepareInvocation(e){return{invocationMessage:e.input.issueNumber?s.l10n.t("Suggesting a fix for issue #{0}",e.input.issueNumber):s.l10n.t("Suggesting a fix for the issue")}}async invoke(e,t){var n,r;const a=e.input.repo,o=a==null?void 0:a.owner,d=a==null?void 0:a.name,S=e.input.issueNumber;if(!a||!o||!d||!S)return;const{folderManager:C}=await this.getRepoInfo(a);if(!C)throw new Error(`No folder manager found for ${a.owner}/${a.name}. Make sure to have the repository open.`);const $=await C.resolveIssue(o,d,S,!0);if(!$)throw new Error(`No issue found for ${a.owner}/${a.name}/${e.input.issueNumber}. Make sure the issue exists.`);const Y={title:$.title,body:$.body,comments:(r=(n=$.item.comments)==null?void 0:n.map(He=>({body:He.body})))!=null?r:[]},ne=[];ne.push(s.LanguageModelChatMessage.Assistant("You are a world-class developer who is capable of solving very difficult bugs and issues.")),ne.push(s.LanguageModelChatMessage.Assistant("The user will give you an issue title, body and a list of comments from GitHub. The user wants you to suggest a fix.")),ne.push(s.LanguageModelChatMessage.Assistant("Analyze the issue content, the workspace context below and using all this information suggest a fix.")),ne.push(s.LanguageModelChatMessage.Assistant("Where possible output code-blocks and reference real files in the workspace with the fix.")),ne.push(s.LanguageModelChatMessage.User("The issue content is as follows: ")),ne.push(s.LanguageModelChatMessage.User(`Issue Title: ${Y.title}`)),ne.push(s.LanguageModelChatMessage.User(`Issue Body: ${Y.body}`)),Y.comments.forEach((He,Ke)=>{ne.push(s.LanguageModelChatMessage.User(`Comment ${Ke}: ${He.body}`))});const le=s.lm.tools.find(He=>He.tags.includes("vscode_codesearch"));if(!le)throw new Error("Could not find the code search tool");const ke=(await s.lm.invokeTool(le.name,{toolInvocationToken:void 0,input:{query:Y.title}},t)).content[0];if(ke instanceof s.LanguageModelTextPart){ne.push(s.LanguageModelChatMessage.User("Below is some potential relevant workspace context to the issue. The user cannot see this result, so you should explain it to the user if referencing it in your answer."));const He=s.LanguageModelChatMessage.User("");He.content=[ke],ne.push(He)}const Ce=await(await s.lm.selectChatModels({vendor:"copilot",family:"gpt-4o"}))[0].sendRequest(ne,{},t);let De="";for await(const He of Ce.text)De+=He;return new s.LanguageModelToolResult([new s.LanguageModelTextPart(De)])}}vP(Zh,"toolId","github-pull-request_suggest-fix");var yP=Object.defineProperty,bP=(i,e,t)=>e in i?yP(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t,wP=(i,e,t)=>bP(i,typeof e!="symbol"?e+"":e,t);class Xh{async prepareInvocation(e){if(!e.input.title)return{invocationMessage:s.l10n.t("Summarizing issue")};const n=e.input.title.length>40?e.input.title.substring(0,40):e.input.title;return{invocationMessage:s.l10n.t('Summarizing "{0}',n)}}async invoke(e,t){let n=`
Title : ${e.input.title}
Body : ${e.input.body}
`;const r=e.input.fileChanges;if(r){n+=`
The following are the files changed:
`;for(const $ of r.values())n+=`
File : ${$.fileName}
Patch: ${$.patch}
`}const a=e.input.comments;if(a)for(const[$,Y]of a.entries())n+=`
Comment ${$} :
Author: ${Y.author}
Body: ${Y.body}
`;const d=(await s.lm.selectChatModels({vendor:"copilot",family:"gpt-4o"}))[0],S=e.input.repo,C=e.input.owner;if(d&&S&&C){const $=[s.LanguageModelChatMessage.User(this.summarizeInstructions(S,C))];$.push(s.LanguageModelChatMessage.User("The issue or pull request information is as follows:")),$.push(s.LanguageModelChatMessage.User(n));const Y=await d.sendRequest($,{}),ne=await Ro(Y.text);return new s.LanguageModelToolResult([new s.LanguageModelTextPart(ne)])}else return new s.LanguageModelToolResult([new s.LanguageModelTextPart(n)])}summarizeInstructions(e,t){return`
You are an AI assistant who is very proficient in summarizing issues and pull requests (PRs).
You will be given information relative to an issue or PR : the title, the body and the comments. In the case of a PR you will also be given patches of the PR changes.
Your task is to output a summary of all this information.
Do not output code. When you try to summarize PR changes, summarize in a textual format.
Output references to other issues and PRs as Markdown links. The current issue has owner ${t} and is in the repo ${e}.
If a comment references for example issue or PR #123, then output either of the following in the summary depending on if it is an issue or a PR:

[#123](https://github.com/${t}/${e}/issues/123)
[#123](https://github.com/${t}/${e}/pull/123)

When you summarize comments, always give a summary of each comment and always mention the author clearly before the comment. If the author is called 'joe' and the comment is 'this is a comment', then the output should be:

joe: this is a comment

If the content contains images in Markdown format (e.g., ![alt text](image-url)), always preserve them in the output exactly as they appear. Images are important visual content and should not be removed or summarized.

Make sure the summary is at least as short or shorter than the issue or PR with the comments and the patches if there are.
`}}wP(Xh,"toolId","github-pull-request_issue_summarize");var kP=Object.defineProperty,_P=(i,e,t)=>e in i?kP(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t,SP=(i,e,t)=>_P(i,typeof e!="symbol"?e+"":e,t);class em{async prepareInvocation(e){const t=e.input;if(!t.itemType||!t.itemNumber)return{invocationMessage:s.l10n.t("Summarizing notification")};const n=t.itemType==="issue"?"issues":"pull",r=`https://github.com/${t.owner}/${t.repo}/${n}/${t.itemNumber}`;return{invocationMessage:new s.MarkdownString(s.l10n.t("Summarizing item [#{0}]({1})",t.itemNumber,r))}}async invoke(e,t){let n="";e.input.lastReadAt||(n+="This thread is viewed for the first time. Here is the main item information of the thread:"),n+=`
Title : ${e.input.title}
Body : ${e.input.body}
`;const a=e.input.fileChanges;if(a){n+=`
The following are the files changed:
`;for(const he of a.values())n+=`
File : ${he.fileName}
Patch: ${he.patch}
`}const o=e.input.comments;if(o&&o.length>0){n+=`
The following are the unread comments of the thread:
`;for(const[he,ke]of o.entries())n+=`
Comment ${he} :
Author: ${ke.author}
Body: ${ke.body}
`}const S=(await s.lm.selectChatModels({vendor:"copilot",family:"gpt-4o"}))[0],C=[],$=e.input.threadId,Y=e.input.notificationKey;if($&&Y){const he={title:"Mark As Read",command:"notification.markAsRead",arguments:[{threadId:$,notificationKey:Y}]},ke={title:"Mark As Done",command:"notification.markAsDone",arguments:[{threadId:$,notificationKey:Y}]};C.push(new s.LanguageModelTextPart(Gh)),C.push(new s.LanguageModelTextPart(JSON.stringify(he))),C.push(new s.LanguageModelTextPart(Gh)),C.push(new s.LanguageModelTextPart(JSON.stringify(ke)))}const ne=e.input.owner,le=e.input.repo;if(S&&ne&&le){const he=[s.LanguageModelChatMessage.User(this.summarizeInstructions(ne,le))];he.push(s.LanguageModelChatMessage.User("The notification information is as follows:")),he.push(s.LanguageModelChatMessage.User(n));const ke=await S.sendRequest(he,{}),pe=await Ro(ke.text);C.push(new s.LanguageModelTextPart(pe))}else C.push(new s.LanguageModelTextPart(n));return C.push(new s.LanguageModelTextPart("Above is a summary of the notification. Extract and output this notification summary directly as is to the user. Do not output the result from the call to the fetch notification tool.")),new s.LanguageModelToolResult(C)}summarizeInstructions(e,t){return`
You are an AI assistant who is very proficient in summarizing notification threads.
You will be given information relative to a notification thread : the title, the body and the comments. In the case of a PR you will also be given patches of the PR changes.
Since you are reviewing a notification thread, part of the content is by definition unread. You will be told what part of the content is yet unread. This can be the comments or it can be both the thread issue/PR as well as the comments.
Your task is to output a summary of all this notification thread information and give an update to the user concerning the unread part of the thread.
Output references to issues and PRs as Markdown links. The current notification is for a thread that has owner ${e} and is in the repo ${t}.
If a comment references for example issue or PR #123, then output either of the following in the summary depending on if it is an issue or a PR:

[#123](https://github.com/${e}/${t}/issues/123)
[#123](https://github.com/${e}/${t}/pull/123)

When you summarize comments, always give a summary of each comment and always mention the author clearly before the comment. If the author is called 'joe' and the comment is 'this is a comment', then the output should be:

joe: this is a comment

If the content contains images in Markdown format (e.g., ![alt text](image-url)), always preserve them in the output exactly as they appear. Images are important visual content and should not be removed or summarized.

Always include in your output, which part of the thread is unread by prefixing that part with the markdown heading of level 1 with text "Unread Thread" or "Unread Comments".
Make sure the summary is at least as short or shorter than the issue or PR with the comments and the patches if there are.
Example output:

# Unread Thread
<summary>
<comments>

or:

<summary>
# Unread Comments
<comments>

Both 'Unread Thread' and 'Unread Comments' should not appear at the same time as markdown titles. The following is incorrect:

# Unread Thread
<summary>
# Unread Comments
<comments>
`}}SP(em,"toolId","github-pull-request_notification_summarize");function EP(i,e,t,n,r,a,o){RP(i,e,t,n),NP(i),CP(i,e,t,n),AP(i,e,t,n),TP(i,r,a,o),i.subscriptions.push(s.lm.registerTool(pc.toolId,new pc(t,r))),i.subscriptions.push(s.lm.registerTool(Kh.toolId,new Kh(t,r)))}function RP(i,e,t,n){i.subscriptions.push(s.lm.registerTool(zh.toolId,new zh(e,t,n))),i.subscriptions.push(s.lm.registerTool(Wh.toolId,new Wh(e,t,n)))}function NP(i){i.subscriptions.push(s.lm.registerTool(Xh.toolId,new Xh)),i.subscriptions.push(s.lm.registerTool(em.toolId,new em))}function CP(i,e,t,n){i.subscriptions.push(s.lm.registerTool(Zh.toolId,new Zh(e,t,n)))}function TP(i,e,t,n){i.subscriptions.push(s.lm.registerTool(Vh.toolId,new Vh(e,t,n)))}function AP(i,e,t,n){i.subscriptions.push(s.lm.registerTool(tb.toolId,new tb(e,t,n))),i.subscriptions.push(s.lm.registerTool(ib.toolId,new ib(e,t,n))),i.subscriptions.push(s.lm.registerTool(Xy.toolId,new Xy(i,n)))}const nb="prompts",rb="createPROnPublish";async function MP(i){await PP(),await FP(i),await DP(i)}async function PP(){Kf(nb,rb)===!1&&(await s.workspace.getConfiguration(bt).update(et,"never",s.ConfigurationTarget.Global),Qf(nb,rb,!0))}const vc="hasMigratedQueries";async function FP(i){const e=i.globalState.get(vc,!1),t=i.workspaceState.get(vc,!1);if(e&&t)return;const n=s.workspace.getConfiguration(bt),r=n.inspect(fi),a=o=>o.map(d=>jf(d)||zf(d)?d:{label:d.label,query:d.query.includes("repo:")?d.query:`repo:\${owner}/\${repository} ${d.query}`});!e&&(r!=null&&r.globalValue)&&await n.update(fi,a(r.globalValue),s.ConfigurationTarget.Global),i.globalState.update(vc,!0),!t&&(r!=null&&r.workspaceValue)&&await n.update(fi,a(r.workspaceValue),s.ConfigurationTarget.Workspace),i.workspaceState.update(vc,!0)}const yc="hasMigratedDefaultQueries4";async function DP(i){const e=i.globalState.get(yc,!1),t=i.workspaceState.get(yc,!1);if(e&&t)return;const n=s.workspace.getConfiguration(bt),r=n.inspect(fi),a=o=>{const d=o.some(C=>jf(C)),S=o.some(C=>zf(C));return d||o.unshift({label:Ya.Queries.LOCAL,query:Ya.Values.DEFAULT}),S||o.push({label:Ya.Queries.ALL,query:Ya.Values.DEFAULT}),o};!e&&(r!=null&&r.globalValue)&&await n.update(fi,a(r.globalValue),s.ConfigurationTarget.Global),i.globalState.update(yc,!0),!t&&(r!=null&&r.workspaceValue)&&await n.update(fi,a(r.workspaceValue),s.ConfigurationTarget.Workspace),i.workspaceState.update(yc,!0)}var IP=Object.defineProperty,xP=(i,e,t)=>e in i?IP(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t,Hr=(i,e,t)=>xP(i,typeof e!="symbol"?e+"":e,t),bc=(i=>(i.Timestamp="Timestamp",i.Priority="Priority",i))(bc||{});const tm=class Cc extends f{constructor(e,t,n,r){super(),this._notificationProvider=e,this._credentialStore=t,this._repositoriesManager=n,this._context=r,Hr(this,"_onDidChangeTreeData",this._register(new s.EventEmitter)),Hr(this,"onDidChangeTreeData",this._onDidChangeTreeData.event),Hr(this,"_onDidChangeNotifications",this._register(new s.EventEmitter)),Hr(this,"onDidChangeNotifications",this._onDidChangeNotifications.event),Hr(this,"_pageCount",1),Hr(this,"_hasNextPage",!1),Hr(this,"_dateTime",new Date),Hr(this,"_fetchNotifications",!1),Hr(this,"_notifications",new Map),Hr(this,"_pollingDuration",60),Hr(this,"_pollingHandler"),Hr(this,"_pollingLastModified"),Hr(this,"_sortingMethod","Timestamp"),this._register(this._onDidChangeTreeData),this._register(this._onDidChangeNotifications),this._startPolling(),this._register(s.workspace.onDidChangeConfiguration(a=>{a.affectsConfiguration(`${bt}.${_i}`)&&this.isPRNotificationsOn()&&!this._pollingHandler&&this._startPolling()})),this._register(rr.onVisible(a=>{this.markPrNotificationsAsRead(a)}))}get sortingMethod(){return this._sortingMethod}async getChildren(e){if(e!==void 0)return;const t=await this.getNotifications();if(t!==void 0)return t.hasNextPage?[...t.notifications,{kind:"loadMoreNotifications"}]:t.notifications}async getTreeItem(e){return cu(e)?this._resolveNotificationTreeItem(e):this._resolveLoadMoreNotificationsTreeItem()}async resolveTreeItem(e,t){return cu(t)&&(e.tooltip=await this._notificationMarkdownHover(t)),e}_resolveNotificationTreeItem(e){const t=e.notification.subject.title,n=new s.TreeItem(t,s.TreeItemCollapsibleState.None),r=e.notification,a=e.model;return r.subject.type===Mr.Issue&&a instanceof nr&&(n.iconPath=e.model.isOpen?new s.ThemeIcon("issues",new s.ThemeColor("issues.open")):new s.ThemeIcon("issue-closed",new s.ThemeColor("github.issues.closed"))),r.subject.type===Mr.PullRequest&&a instanceof fn&&(n.iconPath=a.isOpen?new s.ThemeIcon("git-pull-request",new s.ThemeColor("pullRequests.open")):a.isMerged?new s.ThemeIcon("git-pull-request",new s.ThemeColor("pullRequests.merged")):new s.ThemeIcon("git-pull-request-closed",new s.ThemeColor("pullRequests.closed"))),n.description=`${r.owner}/${r.name}`,n.contextValue=r.subject.type,n.resourceUri=Mf({key:e.notification.key}),e.model instanceof fn?n.command={command:"pr.openDescription",title:s.l10n.t("Open Pull Request Description"),arguments:[e.model]}:n.command={command:"issue.openDescription",title:s.l10n.t("Open Issue Description"),arguments:[e.model]},n}_resolveLoadMoreNotificationsTreeItem(){const e=new s.TreeItem(s.l10n.t("Load More Notifications..."),s.TreeItemCollapsibleState.None);return e.command={title:"Load More Notifications",command:"notifications.loadMore"},e.contextValue="loadMoreNotifications",e}async _notificationMarkdownHover(e){const t=new s.MarkdownString(void 0,!0);t.supportHtml=!0;const n=e.notification,r=e.model;if(n.subject.type===Mr.Issue)return await ao(r,this._context,this._repositoriesManager);if(n.subject.type===Mr.PullRequest)return await ao(r,this._context,this._repositoriesManager);const a=`${n.owner}/${n.name}`;return t.appendMarkdown(`[${a}](https://github.com/${a})  
`),t.appendMarkdown(`**${n.subject.title}**  
`),t.appendMarkdown(`Type: ${n.subject.type}  
`),t.appendMarkdown(`Updated: ${n.updatedAt.toLocaleString()}  
`),t.appendMarkdown(`Reason: ${n.reason}  
`),t}get prNotifications(){return Array.from(this._notifications.values()).filter(e=>e.notification.subject.type===Mr.PullRequest).map(e=>e.model)}async getNotifications(){let e=this._pollingDuration,t=this._pollingLastModified;if(this._fetchNotifications){const r=await this._notificationProvider.getNotifications(this._dateTime.toISOString(),this._pageCount);if(!r)return;e=r.pollInterval,t=r.lastModified;const a=new Map;await Promise.all(r.notifications.map(async o=>{const d=await this._notificationProvider.getNotificationModel(o);d&&a.set(o.key,{notification:o,model:d,kind:"notification"})}));for(const[o,d]of a.entries())this._notifications.set(o,d);this._hasNextPage=r.hasNextPage,this._fetchNotifications=!1}if(this._sortingMethod==="Priority"){const r=Array.from(this._notifications.values()).filter(o=>o.priority===void 0),a=await this._notificationProvider.getNotificationsPriority(r);for(const{key:o,priority:d,priorityReasoning:S}of a){const C=this._notifications.get(o);C&&(C.priority=d,C.priorityReason=S,this._notifications.set(o,C))}}const n=Array.from(this._notifications.values());return this._updateContext(),this._onDidChangeNotifications.fire(n),{notifications:this._sortNotifications(n),hasNextPage:this._hasNextPage,pollInterval:e,lastModified:t}}_updateContext(){const e=this._notifications.size;ht.setContext(Ft.NOTIFICATION_COUNT,e===0?-1:e)}getNotification(e){return this._notifications.get(e)}getAllNotifications(){return Array.from(this._notifications.values())}refresh(){if(this._notifications.size!==0){const e=Array.from(this._notifications.values());this._onDidChangeNotifications.fire(e)}this._pageCount=1,this._dateTime=new Date,this._notifications.clear(),this._refresh(!0)}loadMore(){this._pageCount++,this._refresh(!0)}_refresh(e){this._fetchNotifications=e,this._onDidChangeTreeData.fire()}async markAsRead(e){const t=this._notifications.get(e.notificationKey);t&&(await this._notificationProvider.markAsRead(e),this._onDidChangeNotifications.fire([t]),this._notifications.delete(e.notificationKey),this._updateContext(),this._refresh(!1))}async markAsDone(e){const t=this._notifications.get(e.notificationKey);t&&(await this._notificationProvider.markAsDone(e),this._onDidChangeNotifications.fire([t]),this._notifications.delete(e.notificationKey),this._updateContext(),this._refresh(!1))}_isBot(e){return!!(e.accountType===ca.Bot||e.login.endsWith("[bot]")||Cc.AUTOMATED_USERS.includes(e.login))}_getMeaningfulEventTime(e,t,n){const r=a=>{if(n)return a===t;if(!n)return a!==t};if(e.event===Ht.Committed){if(!this._isBot(e.author)&&r(e.author.login))return new Date(e.committedDate)}else if(e.event===Ht.Commented){if(e.user&&!this._isBot(e.user)&&r(e.user.login))return new Date(e.createdAt)}else if(e.event===Ht.Reviewed&&(n||e.comments.length>0||e.body.length>0)&&e.user&&!this._isBot(e.user)&&r(e.user.login))return new Date(e.submittedAt)}async markPullRequests(e=!1){const t=Array.from(this._notifications.values()).filter(a=>a.notification.subject.type===Mr.PullRequest),n=await Promise.all(t.map(a=>a.model.getActivityTimelineEvents())),r=[];for(const[a,o]of t.entries()){const d=await this._credentialStore.getCurrentUser(o.model.remote.authProviderId),S=n[a];let C,$;for(let Y=S.length-1;Y>=0;Y--){const ne=S[Y];if(C||(C=this._getMeaningfulEventTime(ne,d.login,!0)),$||($=this._getMeaningfulEventTime(ne,d.login,!1)),C&&$)break}(!$||C&&C.getTime()>$.getTime())&&(e?r.push(this._notificationProvider.markAsDone({threadId:o.notification.id,notificationKey:o.notification.key})):r.push(this._notificationProvider.markAsRead({threadId:o.notification.id,notificationKey:o.notification.key})),this._notifications.delete(o.notification.key))}await Promise.all(r),this.refresh()}sortNotifications(e){this._sortingMethod!==e&&(this._sortingMethod=e,this._refresh(!1))}_sortNotifications(e){return this._sortingMethod==="Timestamp"?e.sort((t,n)=>n.notification.updatedAt.getTime()-t.notification.updatedAt.getTime()):this._sortingMethod==="Priority"?e.sort((t,n)=>Number(n.priority)-Number(t.priority)):e}isPRNotificationsOn(){return s.workspace.getConfiguration(bt).get(_i)==="pullRequests"}async _pollForNewNotifications(){this._pageCount=1,this._dateTime=new Date,this._notifications.clear(),this._fetchNotifications=!0;const e=await this.getNotifications();e&&(e.pollInterval!==this._pollingDuration&&(this._pollingDuration=e.pollInterval,this._pollingHandler&&this.isPRNotificationsOn()&&(y.appendLine("Notifications: Clearing interval",Cc.ID),clearInterval(this._pollingHandler),y.appendLine(`Notifications: Starting new polling interval with ${this._pollingDuration}`,Cc.ID),this._startPolling())),e.lastModified!==this._pollingLastModified&&(this._pollingLastModified=e.lastModified,this._onDidChangeTreeData.fire()))}_startPolling(){this.isPRNotificationsOn()&&(this._pollForNewNotifications(),this._pollingHandler=setInterval(function(e){e._pollForNewNotifications()},this._pollingDuration*1e3,this),this._register({dispose:()=>clearInterval(this._pollingHandler)}))}_findNotificationKeyForIssueModel(e){for(const[t,n]of this._notifications.entries())if(e instanceof nr||e instanceof fn){if(n.model.equals(e))return t}else if(n.notification.owner===e.owner&&n.notification.name===e.repo&&n.model.number===e.number)return t}markPrNotificationsAsRead(e){const t=this._findNotificationKeyForIssueModel(e);t&&this.markAsRead({threadId:this._notifications.get(t).notification.id,notificationKey:t})}hasNotification(e){return this._findNotificationKeyForIssueModel(e)!==void 0}};Hr(tm,"ID","NotificationsManager"),Hr(tm,"AUTOMATED_USERS",["vs-code-engineering"]);let OP=tm;var LP=Object.defineProperty,UP=(i,e,t)=>e in i?LP(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t,ab=(i,e,t)=>UP(i,typeof e!="symbol"?e+"":e,t);class BP extends f{constructor(e){super(),this._notificationsManager=e,ab(this,"_readonlyOnDidChangeFileDecorations",this._register(new s.EventEmitter)),ab(this,"onDidChangeFileDecorations",this._readonlyOnDidChangeFileDecorations.event),this._register(e.onDidChangeNotifications(t=>{const n=t.map(r=>Mf({key:r.notification.key}));this._readonlyOnDidChangeFileDecorations.fire(n)})),this._register(s.workspace.onDidChangeConfiguration(t=>{t.affectsConfiguration(`${bt}.${_s}`)&&this._readonlyOnDidChangeFileDecorations.fire(e.getAllNotifications().map(n=>Mf({key:n.notification.key})))}))}settingValue(){return s.workspace.getConfiguration(bt).get(_s,!1)}provideFileDecoration(e,t){var n,r;if(!this.settingValue()||this._notificationsManager.sortingMethod!==bc.Priority)return;const a=IS(e);if(!a)return;const o=this._notificationsManager.getNotification(a.key),d=(o==null?void 0:o.priority)==="100"?"99":(n=o==null?void 0:o.priority)!=null?n:"0";return{badge:d,tooltip:s.l10n.t("Priority score is {0}. {1}",d,(r=o==null?void 0:o.priorityReason)!=null?r:"")}}}function qP(){return s.workspace.getConfiguration(bt).get(js,!1)?ht.QUICK_CHAT_OPEN:ht.OPEN_CHAT}class $P extends f{constructor(e,t,n,r){super(),this.credentialStore=e,this._repositoriesManager=t,this._telemetry=n;const a=new BP(r);this._register(s.window.registerFileDecorationProvider(a)),this._register(s.window.createTreeView("notifications:github",{treeDataProvider:r})),r.refresh(),this._register(s.commands.registerCommand("notifications.sortByTimestamp",async()=>{this._telemetry.sendTelemetryEvent("notifications.sortByTimestamp"),r.sortNotifications(bc.Timestamp)},this)),this._register(s.commands.registerCommand("notifications.sortByPriority",async()=>{this._telemetry.sendTelemetryEvent("notifications.sortByTimestamp"),r.sortNotifications(bc.Priority)},this)),this._register(s.commands.registerCommand("notifications.refresh",()=>{this._telemetry.sendTelemetryEvent("notifications.refresh"),r.refresh()},this)),this._register(s.commands.registerCommand("notifications.loadMore",()=>{this._telemetry.sendTelemetryEvent("notifications.loadMore"),r.loadMore()})),this._register(s.commands.registerCommand("notification.chatSummarizeNotification",o=>{cu(o)&&(this._telemetry.sendTelemetryEvent("notification.chatSummarizeNotification"),s.commands.executeCommand(qP(),s.l10n.t("@githubpr Summarize notification with thread ID #{0}",o.notification.id)))})),this._register(s.commands.registerCommand("notification.markAsRead",o=>{const{threadId:d,notificationKey:S}=this._extractMarkAsCommandOptions(o);this._telemetry.sendTelemetryEvent("notification.markAsRead"),r.markAsRead({threadId:d,notificationKey:S})})),this._register(s.commands.registerCommand("notification.markAsDone",o=>{const{threadId:d,notificationKey:S}=this._extractMarkAsCommandOptions(o);this._telemetry.sendTelemetryEvent("notification.markAsDone"),r.markAsDone({threadId:d,notificationKey:S})})),this._register(s.commands.registerCommand("notifications.markPullRequestsAsRead",()=>(this._telemetry.sendTelemetryEvent("notifications.markPullRequestsAsRead"),r.markPullRequests()))),this._register(s.commands.registerCommand("notifications.markPullRequestsAsDone",()=>(this._telemetry.sendTelemetryEvent("notifications.markPullRequestsAsDone"),r.markPullRequests(!0)))),this._register(s.commands.registerCommand("notifications.configureNotificationsViewlet",()=>(this._telemetry.sendTelemetryEvent("notifications.configureNotificationsViewlet"),s.commands.executeCommand("workbench.action.openSettings",`@ext:${jn} notifications`)))),this._register(j(this._repositoriesManager.onDidLoadAnyRepositories)(()=>{r.refresh()}))}_extractMarkAsCommandOptions(e){let t,n;const r=e;if(cu(e))t=e.notification.id,n=e.notification.key;else if(r.threadId!==void 0&&r.notificationKey!==void 0)t=r.threadId,n=r.notificationKey;else throw new Error(`Invalid arguments for command notification.markAsRead : ${JSON.stringify(e)}`);return{threadId:t,notificationKey:n}}}var HP=Object.defineProperty,GP=(i,e,t)=>e in i?HP(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t,sb=(i,e,t)=>GP(i,typeof e!="symbol"?e+"":e,t);const ob=class Hb extends f{constructor(e,t){super(),this._credentialStore=e,this._repositoriesManager=t,sb(this,"_authProvider");const n=()=>{e.isAuthenticated(Ni.githubEnterprise)&&Ca()?this._authProvider=Ni.githubEnterprise:e.isAuthenticated(Ni.github)&&(this._authProvider=Ni.github)};n(),this._register(e.onDidChangeSessions(r=>{n()}))}_getGitHub(){return this._authProvider!==void 0?this._credentialStore.getHub(this._authProvider):void 0}async markAsRead(e){const t=this._getGitHub();t!==void 0&&await t.octokit.call(t.octokit.api.activity.markThreadAsRead,{thread_id:Number(e.threadId)})}async markAsDone(e){const t=this._getGitHub();t!==void 0&&await t.octokit.call(t.octokit.api.activity.markThreadAsDone,{thread_id:Number(e.threadId)})}async getNotifications(e,t){var n,r;const a=this._getGitHub();if(a===void 0||this._repositoriesManager.folderManagers.length===0)return;const o=s.workspace.getConfiguration(bt).get(ua,50),{data:d,headers:S}=await a.octokit.call(a.octokit.api.activity.listNotificationsForAuthenticatedUser,{all:!1,before:e,page:t,per_page:o}),C=d.map(Y=>gk(Y)).filter(Y=>!!Y),$=Number(S["x-poll-interval"]);return y.debug(`Notifications: Fetched ${C.length} notifications. Poll interval: ${$}`,Hb.ID),{notifications:C,hasNextPage:((n=S.link)==null?void 0:n.includes('rel="next"'))===!0,pollInterval:$,lastModified:(r=S["last-modified"])!=null?r:""}}async getNotificationModel(e){var t,n;const r=e.subject.url;if(typeof r!="string")return;const a=r.split("/").pop();if(a===void 0)return;const o=(t=this._repositoriesManager.getManagerForRepository(e.owner,e.name))!=null?t:this._repositoriesManager.folderManagers[0];let d;const S=e.subject.type===Mr.Issue;if(d=S?await o.resolveIssue(e.owner,e.name,parseInt(a),!0,!0):await o.resolvePullRequest(e.owner,e.name,parseInt(a),!0),d){const C=d.lastCheckedForUpdatesAt;e.updatedAt.getTime()>((n=C==null?void 0:C.getTime())!=null?n:0)&&(d=S?await o.resolveIssue(e.owner,e.name,parseInt(a),!0,!1):await o.resolvePullRequest(e.owner,e.name,parseInt(a),!1))}return d}async getNotificationsPriority(e){const n=[];for(let o=0;o<e.length;o+=5)n.push(e.slice(o,o+5));const r=await s.lm.selectChatModels({vendor:"copilot",family:"gpt-4o"});return(await Promise.all(n.map(o=>this._prioritizeNotificationBatch(o,r[0])))).flat()}async _prioritizeNotificationBatch(e,t){try{const n=(await this._credentialStore.getCurrentUser(Ni.github)).login,r=[s.LanguageModelChatMessage.User(jP(n))];for(const[d,S]of e.entries()){const C=S.model;if(!C)continue;let $=this._getBasePrompt(C,d);$+=await this._getLabelsPrompt(C),$+=await this._getCommentsPrompt(C),r.push(s.LanguageModelChatMessage.User($))}r.push(s.LanguageModelChatMessage.User("Please provide the priority for each notification in a separate text code block. Remember to place the title and the reasoning outside of the text code block."));const a=await t.sendRequest(r,{}),o=await Ro(a.text);return this._updateNotificationsWithPriorityFromLLM(e,o)}catch(n){return console.log(n),[]}}_getBasePrompt(e,t){var n;const r=e.assignees;return`
The following is the data for notification ${t+1}:
\u2022 Title: ${e.title}
\u2022 Author: ${e.author.login}
\u2022 Assignees: ${(r==null?void 0:r.map(a=>a.login).join(", "))||"none"}
\u2022 Body:

${e.body}

\u2022 Reaction Count: ${(n=e.item.reactionCount)!=null?n:0}
\u2022 isOpen: ${e.isOpen}
\u2022 isMerged: ${e.isMerged}
\u2022 Created At: ${e.createdAt}
\u2022 Updated At: ${e.updatedAt}`}async _getLabelsPrompt(e){const t=e.item.labels;if(!t)return"";let n="";return t.length>0&&(n=`
\u2022 Labels: ${t.map(a=>a.name).join(", ")}`),n}async _getCommentsPrompt(e){const t=e.item.comments;if(!t||t.length===0)return"";let n=`

The following is the data concerning the at most last 5 comments for the notification:`,r=1;const a=Math.max(0,t.length-5);for(let o=a;o<t.length;o++){const d=t.at(o);n+=`

Comment ${r} for notification:
\u2022 Body:
${d.body}
\u2022 Reaction Count: ${d.reactionCount}`,r+=1}return n}_updateNotificationsWithPriorityFromLLM(e,t){const n=/```text\s*[\s\S]+?\s*=\s*([\S]+?)\s*```/gm,r=/```(?!text)([\s\S]+?)(###|$)/g,a=[];for(let o=0;o<e.length;o++){const d=n.exec(t);if(d){const S=r.exec(t);a.push({key:e[o].notification.key,priority:d[1],priorityReasoning:S?S[1].trim():void 0})}}return a}};sb(ob,"ID","NotificationsProvider");let VP=ob;function jP(i){return`
You are an intelligent assistant tasked with prioritizing GitHub notifications.
You are given a list of notifications for the current user ${i}, each related to an issue, pull request or discussion. In the case of an issue/PR, if there are comments, you are given the last 5 comments under it.
Use the following scoring mechanism to prioritize the notifications and assign them a score from 0 to 100:

	1. Assign points from 0 to 30 for the relevance of the notification. Below when we talk about the current user, it is always the user with the GitHub login handle ${i}. First consider if the corresponding thread is open or closed:
		- If the thread is closed, assign points as follows:
			- 0 points: If the current user is neither assigned, nor requested for a review, nor mentioned in the issue/PR/discussion.
			- 5 points: If the current user is mentioned or is the author of the issue/PR. In the case of an issue/PR, the current user should not be assigned to it.
			- 10 points: If the current user is assigned to the issue/PR or is requested for a review.
		- If the thread is open, assign points as follows:
			- 20 points: If the current user is neither assigned, nor requested for a review, nor mentioned in the issue/PR/discussion.
			- 25 points: If the current user is mentioned or is the author of the issue/PR. In the case of an issue/PR, the current user should not be assigned to it.
			- 30 points: If the current user is assigned to the issue/PR or is requested for a review.
	2. Assign points from 0 to 40 to the importance of the notification. Consider the following points:
		- In case of an issue, does the content/title suggest this is a critical issue? In the case of a PR, does the content/title suggest it fixes a critical issue? In the case of a discussion, do the comments suggest a critical discussion? A critical issue/pr/discussion has a higher priority.
		- To evaluate the importance/criticality of a notification evaluate whether it references the following. Such notifications should be assigned a higher priority.
			- security vulnerabilities
			- major regressions
			- data loss
			- crashes
			- performance issues
			- memory leaks
			- breaking changes
		- Do the labels assigned to the issue/PR/discussion indicate it is critical? Labels that include the following: 'critical', 'urgent', 'important', 'high priority' should be assigned a higher priority.
		- Is the issue/PR suggesting it is blocking for other work and must be addressed immediately? If so, the notification should be assigned a higher priority.
		- Is the issue/PR user facing? User facing issues/PRs that have a clear negative impact on the user should be assigned a higher priority.
		- Is the tone of voice urgent or neutral? An urgent tone of voice has a higher priority.
		- For issues, do the comments mention that the issue is a duplicate of another issue or is already fixed? If so assign a lower priority.
		- Issues should generally be assigned a higher score than PRs and discussions.
		- Issues about bugs/regressions should be assigned a higher priority than issues about feature requests which are less critical.
	3. Assign points from 0 to 30 for the community engagement. Consider the following points:
		- Reactions: Consider the number of reactions under an issue/PR/discussion that correspond to real users. A higher number of reactions should be assigned a higher priority.
		- Comments: Evaluate the community engagement on the issue/PR through the last 5 comments. If you detect a comment coming from a bot, do not include it in the following evaluation. Consider the following:
			- Does the issue/PR/discussion have a lot of comments indicating widespread interest?
			- Does the issue/PR/discussion have comments from many different users which would indicate widespread interest?
			- Evaluate the comments content. Do they indicate that the issue/PR is critical and touches many people? A critical issue/PR should be assigned a higher priority.
			- Evaluate the effort/detail put into the comments, are the users invested in the issue/PR/discussion? A higher effort should be assigned a higher priority.
			- Evaluate the tone of voice in the comments, an urgent tone of voice should be assigned a higher priority.
			- Evaluate the reactions under the comments, a higher number of reactions indicate widespread interest and issue/PR/discussion following. A higher number of reactions should be assigned a higher priority.
		- Generally evaluate the issue/PR/discussion content quality. Consider the following points:
			- Description: In the case of an issue, are there clear steps to reproduce the issue? In the case of a PR, is there a clear description of the change? A clearer, more complete description should be assigned a higher priority.
			- Effort: Evaluate the general effort put into writing this issue/PR. Does the user provide a lengthy clear explanation? A higher effort should be assigned a higher priority.

Use the above guidelines to assign points to each notification. Provide the sum of the individual points in a SEPARATE text code block for each notification. The points sum to 100 as a maximum.
After the text code block containing the priority, add a detailed summary of the notification and generally explain why it is important or not, do NOT reference the scoring mechanism above. This summary and reasoning will be displayed to the user.
The output should look as follow. Here <summary + reasoning> corresponds to your summary and reasoning and <title> corresponds to the notification title. The title should be placed after three hashtags:

### <title>
\`\`\`text
20 + 30 + 20 = 70
\`\`\`text
<summary + reasoning>

The following is INCORRECT:

<title>
20 + 30 + 20 = 70
<summary + reasoning>
`}var zP=Object.defineProperty,WP=(i,e,t)=>e in i?zP(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t,im=(i,e,t)=>WP(i,typeof e!="symbol"?e+"":e,t);class KP extends f{constructor(){super(),im(this,"_themeData"),im(this,"_onDidChangeTheme",this._register(new s.EventEmitter)),im(this,"onDidChangeTheme",this._onDidChangeTheme.event),this._register(s.workspace.onDidChangeConfiguration(async e=>{e.affectsConfiguration(`${ot}.${Ut}`)&&await this.updateTheme()})),this.updateTheme()}async updateTheme(){this._themeData=await bE(),this._onDidChangeTheme.fire(this._themeData)}get themeData(){return this._themeData}}var QP=Object.defineProperty,YP=(i,e,t)=>e in i?QP(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t,JP=(i,e,t)=>YP(i,typeof e!="symbol"?e+"":e,t);const wc="pendingCheckoutPullRequest";function lb(i,e,t,n){return s.window.withProgress({location:s.ProgressLocation.Notification,title:s.l10n.t("Checking out pull request #{0} from {1}/{2}",t,i,e),cancellable:!0},async(r,a)=>a.isCancellationRequested?Promise.resolve(void 0):n(r,a))}async function ub(i,e,t,n,r){try{let a;if(await lb(t,n,r,async(d,S)=>{d.report({message:s.l10n.t("Resolving pull request")}),a=await e.resolvePullRequest(t,n,r)}),!a){s.window.showErrorMessage(s.l10n.t("Pull request #{0} not found in {1}/{2}.",r,t,n)),y.warn(`Pull request #${r} not found for checkout.`,kc.ID);return}if(!await XP(t,n,r))return;await i.switchToPr(e,a,void 0,!1)}catch(a){y.error(`Error during pull request checkout: ${a instanceof Error?a.message:String(a)}`,kc.ID)}}async function ZP(i,e,t){const n=e.globalState.get(wc);if(!n)return;const r=5*60*1e3;if(!n.timestamp||Date.now()-n.timestamp>r){await e.globalState.update(wc,void 0),y.debug("Stale pending checkout entry cleared (older than 5 minutes).",kc.ID);return}const a=async()=>{const o=t.getManagerForRepository(n.owner,n.repo);return o?(await ub(i,o,n.owner,n.repo,n.pullRequestNumber),await e.globalState.update(wc,void 0),!0):!1};if(!await a()){const o=t.onDidLoadAnyRepositories(async()=>{await a()&&o.dispose()})}}async function XP(i,e,t){const n=s.l10n.t("Checkout pull request #{0} from {1}/{2}?",t,i,e),r=s.l10n.t("Checkout");return await s.window.showInformationMessage(n,{modal:!0},r)===r}const db=class Hs{constructor(e,t,n,r,a){this._reposManagers=e,this._reviewsManagers=t,this._telemetry=n,this._context=r,this._git=a}async handleUri(e){switch(e.path){case du.OpenIssueWebview:return this._openIssueWebview(e);case du.OpenPullRequestWebview:return this._openPullRequestWebview(e);case du.CheckoutPullRequest:return this._checkoutPullRequest(e);case du.OpenPullRequestChanges:return this._openPullRequestChanges(e)}}async _openIssueWebview(e){var t;const n=BS(e);if(!n)return;const r=(t=this._reposManagers.getManagerForRepository(n.owner,n.repo))!=null?t:this._reposManagers.folderManagers[0],a=await r.resolveIssue(n.owner,n.repo,n.issueNumber,!0);if(a)return co.createOrShow(this._telemetry,this._context.extensionUri,r,a)}async _resolvePullRequestFromUri(e){var t;const n=Xg(e);if(!n){s.window.showErrorMessage(s.l10n.t("Invalid pull request URI.")),y.error("Failed to parse pull request URI.",Hs.ID);return}const r=(t=this._reposManagers.getManagerForRepository(n.owner,n.repo))!=null?t:this._reposManagers.folderManagers[0],a=await r.resolvePullRequest(n.owner,n.repo,n.pullRequestNumber);if(!a){s.window.showErrorMessage(s.l10n.t("Pull request {0}/{1}#{2} not found.",n.owner,n.repo,n.pullRequestNumber)),y.error(`Pull request not found: ${n.owner}/${n.repo}#${n.pullRequestNumber}`,Hs.ID);return}return{folderManager:r,pullRequest:a}}async _openPullRequestWebview(e){const t=await this._resolvePullRequestFromUri(e);if(t)return rr.createOrShow(this._telemetry,this._context.extensionUri,t.folderManager,t.pullRequest)}async _openPullRequestChanges(e){const t=await this._resolvePullRequestFromUri(e);if(t)return fn.openChanges(t.folderManager,t.pullRequest)}async _savePendingCheckoutAndOpenFolder(e,t){const n={...e,timestamp:Date.now()};await this._context.globalState.update(wc,n);const r=s.workspace.workspaceFolders===void 0||s.workspace.workspaceFolders.length===0;await ht.openFolder(t,{forceNewWindow:!r,forceReuseWindow:r})}async _checkoutPullRequest(e){const t=Xg(e);if(!t)return;const n=this._reposManagers.getManagerForRepository(t.owner,t.repo);if(n)return ub(this._reviewsManagers,n,t.owner,t.repo,t.pullRequestNumber);await lb(t.owner,t.repo,t.pullRequestNumber,async(r,a)=>{if(!a.isCancellationRequested)try{r.report({message:s.l10n.t("Locating workspace")});const o=s.Uri.parse(`https://github.com/${t.owner}/${t.repo}`),d=await this._git.getRepositoryWorkspace(o);if(a.isCancellationRequested)return;d&&d.length?(y.appendLine(`Found workspaces for ${o.toString()}: ${d.map(S=>S.toString()).join(", ")}`,Hs.ID),r.report({message:s.l10n.t("Opening workspace")}),await this._savePendingCheckoutAndOpenFolder(t,d[0])):this._showCloneOffer(o,t)}catch(o){y.error(`Failed attempting workspace open for checkout PR: ${o instanceof Error?o.message:String(o)}`,Hs.ID)}})}async _showCloneOffer(e,t){const n=s.l10n.t("Clone Repository"),r=await s.window.showErrorMessage(s.l10n.t("Could not find a folder for repository {0}/{1}. Please clone or open the repository manually.",t.owner,t.repo),n);if(y.warn(`No repository workspace found for ${e.toString()}`,Hs.ID),r===n)try{const a=await this._git.clone(e,{postCloneAction:"none"});a?await this._savePendingCheckoutAndOpenFolder(t,a):y.warn(`Clone API returned null for ${e.toString()}`,Hs.ID)}catch(a){y.error(`Failed to clone repository via API: ${a instanceof Error?a.message:String(a)}`,Hs.ID)}}};JP(db,"ID","UriHandler");let kc=db;var e2=Object.defineProperty,t2=(i,e,t)=>e in i?e2(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t,El=(i,e,t)=>t2(i,typeof e!="symbol"?e+"":e,t);class nm extends f{constructor(){super(),El(this,"_onDidChangeFileDecorations",this._register(new s.EventEmitter)),El(this,"onDidChangeFileDecorations",this._onDidChangeFileDecorations.event),this._register(s.window.registerFileDecorationProvider(this))}_handlePullRequestPropertyChange(e,t,n){const r=n.path,a=s.Uri.joinPath(e.repository.rootUri,r),o=t.fileChanges.get(r);if(o){const d=Tf(a,t.number,r,o.status,o.previousFileName);this._onDidChangeFileDecorations.fire(d),this._onDidChangeFileDecorations.fire(d.with({scheme:e.repository.rootUri.scheme})),this._onDidChangeFileDecorations.fire(d.with({scheme:Bt.Pr,authority:""}))}}}class i2 extends f{constructor(e){super(),this._repositoriesManager=e,El(this,"_gitHubReposListeners",[]),El(this,"_pullRequestListeners",[]),El(this,"_pullRequestPropertyChangeListeners",[]),El(this,"_providers",[])}registerProviders(e){this._providers.push(...e),this._registerListeners()}_registerPullRequestPropertyListeners(e,t){return this._providers.map(n=>n.registerPullRequestPropertyChangedListeners(e,t))}_registerPullRequestAddedListeners(e){e.gitHubRepositories.forEach(t=>{this._pullRequestListeners.push(t.onDidAddPullRequest(a=>{this._pullRequestPropertyChangeListeners.push(...this._registerPullRequestPropertyListeners(e,a))}));const r=t.pullRequestModels.map(a=>this._registerPullRequestPropertyListeners(e,a)).flat();this._pullRequestPropertyChangeListeners.push(...r)})}_registerRepositoriesChangedListeners(){c(this._gitHubReposListeners),c(this._pullRequestListeners),c(this._pullRequestPropertyChangeListeners),this._repositoriesManager.folderManagers.forEach(e=>{this._gitHubReposListeners.push(e.onDidChangeRepositories(()=>{this._registerPullRequestAddedListeners(e)}))})}_registerListeners(){this._registerRepositoriesChangedListeners(),this._register(this._repositoriesManager.onDidChangeFolderRepositories(()=>{this._registerRepositoriesChangedListeners()}))}dispose(){super.dispose(),c(this._gitHubReposListeners),c(this._pullRequestListeners),c(this._pullRequestPropertyChangeListeners),c(this._providers)}}class n2 extends nm{constructor(e){super(),this._repositoriesManager=e}registerPullRequestPropertyChangedListeners(e,t){return t.onDidChangeReviewThreads(n=>{[...n.added,...n.removed].forEach(r=>{this._handlePullRequestPropertyChange(e,t,r)})})}provideFileDecoration(e,t){if(e.scheme!==Bt.Pr&&e.scheme!==Bt.File&&e.scheme!==Bt.Review&&e.scheme!==Bt.FileChange)return;const n=Qg(e),r=this._repositoriesManager.getManagerForFile(e);if(n&&r&&r.gitHubRepositories.find(o=>{const d=o.getExistingPullRequestModel(n.prNumber);if(d!=null&&d.reviewThreadsCache.find(S=>S.path===n.fileName))return!0}))return{propagate:!1,tooltip:s.l10n.t("Commented"),badge:new s.ThemeIcon("comment")}}}class r2 extends nm{constructor(e){super(),this._repositoriesManager=e}registerPullRequestPropertyChangedListeners(e,t){return t.onDidChange(n=>{if(n.timeline){const r=Jg(t.remote.owner,t.remote.repositoryName,t.number);this._onDidChangeFileDecorations.fire(r)}})}provideFileDecoration(e,t){if(e.scheme!==Bt.CommitsNode)return;const n=DS(e);if(!n)return;const r=this._repositoriesManager.getManagerForRepository(n.owner,n.repo);if(r){const a=r.findExistingGitHubRepository({owner:n.owner,repositoryName:n.repo});if(a){const o=a.getExistingPullRequestModel(n.prNumber);if(o){const d=o.item.commits.length;return{badge:d.toString(),tooltip:s.l10n.t("{0} commits",d)}}}}}}var a2=Object.defineProperty,s2=(i,e,t)=>e in i?a2(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t,ys=(i,e,t)=>s2(i,typeof e!="symbol"?e+"":e,t);function cb(i){switch(i){case yt.DELETED:return Yt.DELETE;case yt.ADDED_BY_US:case yt.INDEX_ADDED:return Yt.ADD;case yt.INDEX_RENAMED:return Yt.RENAME;case yt.MODIFIED:return Yt.MODIFY;default:return Yt.UNKNOWN}}class o2 extends vr{constructor(e,t,n,r){super(e),this.model=t,this.commit=n,this.parentRef=r}getTreeItem(){var e;return{label:this.commit.commit.message,description:(e=this.commit.commit.author)!=null&&e.date?re(new Date(this.commit.commit.author.date)):void 0,iconPath:new s.ThemeIcon("git-commit"),collapsibleState:s.TreeItemCollapsibleState.Collapsed}}async getChildren(){if(!this.model.gitHubRepository)return[];const{octokit:e,remote:t}=await this.model.gitHubRepository.ensure(),{data:n}=await e.call(e.api.repos.compareCommits,{repo:t.repositoryName,owner:t.owner,base:this.parentRef,head:this.commit.sha}),r=n.files;return r?r.map(a=>new Hd(this,a.filename,a.previous_filename,Xl(a.status),this.parentRef,this.commit.sha,!1)):[]}}class l2 extends vr{constructor(e,t,n,r){super(e),this.commit=t,this.folderRepoManager=n,this.parentRef=r}getTreeItem(){return{label:this.commit.message,description:this.commit.authorDate?re(new Date(this.commit.authorDate)):void 0,iconPath:new s.ThemeIcon("git-commit"),collapsibleState:s.TreeItemCollapsibleState.Collapsed}}async getChildren(){return(await this.folderRepoManager.repository.diffBetween(this.parentRef,this.commit.hash)).map(t=>{const n=W.posix.relative(this.folderRepoManager.repository.rootUri.path,t.uri.path),r=W.posix.relative(this.folderRepoManager.repository.rootUri.path,t.originalUri.path);return new Hd(this,n,r,cb(t.status),this.parentRef,this.commit.hash,!0)})}}const fb=class Gb extends f{constructor(e){super(),this.model=e,ys(this,"_view"),ys(this,"_children"),ys(this,"_onDidChangeTreeData",new s.EventEmitter),ys(this,"onDidChangeTreeData",this._onDidChangeTreeData.event),this._register(e.onDidChange(()=>{this._onDidChangeTreeData.fire()}))}get view(){return this._view}set view(e){this._view=this._register(e)}async reveal(e,t){return this._view.reveal(e,t)}refresh(){this._onDidChangeTreeData.fire()}getTreeItem(e){return e.getTreeItem()}async getRawGitHubData(){try{const e=await this.model.gitHubFiles(),t=await this.model.gitHubCommits(),n=await this.model.gitHubMergeBase();return!(e!=null&&e.length)||!(t!=null&&t.length)?(this.view.message=new s.MarkdownString(s.l10n.t("There are no commits between the base `{0}` branch and the comparing `{1}` branch",this.model.baseBranch,this.model.compareBranch)),{}):this._isDisposed?{}:(this.view.message=void 0,{rawFiles:e,rawCommits:t,mergeBase:n})}catch(e){const t=e;return e.name&&t.name==="HttpError"&&t.status===404&&(this.view.message=new s.MarkdownString(s.l10n.t("The upstream branch `{0}` does not exist on GitHub",this.model.baseBranch))),{}}}get children(){return this._children}async getChildren(e){try{await this.model.getCompareHasUpstream()?this._children=await this.getGitHubChildren(e):this._children=await this.getGitChildren(e)}catch(t){return y.error(`Comparing changes failed: ${t}`,Gb.ID),[]}return this._children}static closeTabs(){s.window.tabGroups.all.forEach(e=>e.tabs.forEach(t=>{t.input instanceof s.TabInputTextDiff&&(t.input.modified.scheme===Bt.GithubPr||t.input.modified.scheme===Bt.GitPr)&&s.window.tabGroups.close(t)}))}};ys(fb,"ID","CompareChangesTreeProvider");let rm=fb;class u2 extends rm{constructor(e,t){super(e),this.folderRepoManager=t}async getGitHubChildren(e){if(e)return e.getChildren();const{rawFiles:t,mergeBase:n}=await this.getRawGitHubData();if(t&&n)return this.view.message=this.addReviewMessage(),t.map(r=>new Hd(this,r.filename,r.previous_filename,Xl(r.status),n,this.model.compareBranch,!1))}async getGitFileChildren(e){return e.map(t=>{const n=W.posix.relative(this.folderRepoManager.repository.rootUri.path,t.uri.path),r=W.posix.relative(this.folderRepoManager.repository.rootUri.path,t.originalUri.path);return new Hd(this,n,r,cb(t.status),this.model.baseBranch,this.model.compareBranch,!0)})}addReviewMessage(e){const t=this.folderRepoManager.getAutoReviewer();return t&&(e?e.appendMarkdown(`

`):e=new s.MarkdownString,e.supportThemeIcons=!0,e.appendMarkdown(`[${s.l10n.t("$(sparkle) {0} Code Review",t.title)}](command:pr.preReview)`)),e}async getGitChildren(e){if(e)return e.getChildren();{const t=await this.model.gitFiles();if(t.length===0)return this.view.message=new s.MarkdownString(s.l10n.t("There are no commits between the base `{0}` branch and the comparing `{1}` branch",this.model.baseBranch,this.model.compareBranch)),[];if(await this.model.getCompareHasUpstream()){if(this._isDisposed)return[];this.view.message=void 0}else{const n=new s.MarkdownString(s.l10n.t({message:"Branch `{0}` has not been pushed yet. [Publish branch](command:git.publish) to see all changes from base branch.",args:[this.model.compareBranch],comment:"{Locked='](command:git.publish)'}"}));n.isTrusted={enabledCommands:["git.publish"]},this.view.message=this.addReviewMessage(n)}return this.getGitFileChildren(t)}}}class d2 extends rm{constructor(e,t){super(e),this.folderRepoManager=t}async getGitHubChildren(e){if(e)return e.getChildren();const{rawCommits:t}=await this.getRawGitHubData();if(t)return t.map((n,r)=>new o2(this,this.model,n,r===0?this.model.baseBranch:t[r-1].sha))}async getGitChildren(e){if(e)return e.getChildren();const t=await this.model.gitCommits();return t.length===0?(this.view.message=new s.MarkdownString(s.l10n.t("There are no commits between the base `{0}` branch and the comparing `{1}` branch",this.model.baseBranch,this.model.compareBranch)),[]):this._isDisposed?[]:(this.view.message=void 0,t.reverse().map((n,r)=>new l2(this,n,this.folderRepoManager,r===0?this.model.baseBranch:t[r-1].hash)))}}class hb extends f{constructor(e,t){super(),this.model=t,ys(this,"_filesView"),ys(this,"_filesDataProvider"),ys(this,"_commitsView"),ys(this,"_commitsDataProvider"),this._filesDataProvider=this._register(new u2(t,e)),this._filesView=this._register(s.window.createTreeView("github:compareChangesFiles",{treeDataProvider:this._filesDataProvider})),this._filesDataProvider.view=this._filesView,this._commitsDataProvider=this._register(new d2(t,e)),this._commitsView=this._register(s.window.createTreeView("github:compareChangesCommits",{treeDataProvider:this._commitsDataProvider})),this._commitsDataProvider.view=this._commitsView,this.initialize()}set compareOwner(e){this.model.compareOwner=e}initialize(){if(this.model.gitHubRepository)try{this._register(s.workspace.registerFileSystemProvider(Bt.GithubPr,this.model.gitHubContentProvider)),this._register(s.workspace.registerFileSystemProvider(Bt.GitPr,this.model.gitContentProvider)),this._register(l(()=>rm.closeTabs()))}catch{}}static closeTabs(){s.window.tabGroups.all.forEach(e=>e.tabs.forEach(t=>{t.input instanceof s.TabInputTextDiff&&(t.input.modified.scheme===Bt.GithubPr||t.input.modified.scheme===Bt.GitPr)&&s.window.tabGroups.close(t)}))}}var c2=Object.defineProperty,f2=(i,e,t)=>e in i?c2(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t,Er=(i,e,t)=>f2(i,typeof e!="symbol"?e+"":e,t);const mb=class pm extends f{constructor(e,t,n,r,a,o){super(),this.folderRepositoryManager=e,this.repositoryName=o,Er(this,"_baseOwner"),Er(this,"_baseBranch"),Er(this,"_compareOwner"),Er(this,"_compareBranch"),Er(this,"_constructed"),Er(this,"_onDidChange",new s.EventEmitter),Er(this,"onDidChange",this._onDidChange.event),Er(this,"_compareGitHubRepository"),Er(this,"_gitLog"),Er(this,"_gitFiles"),Er(this,"_compareHasUpstream",!1),Er(this,"_gitHubMergeBase"),Er(this,"_gitHubLog"),Er(this,"_gitHubFiles"),Er(this,"_gitHubcontentProvider"),Er(this,"_gitcontentProvider"),this._baseOwner=t,this._baseBranch=n,this._compareBranch=n,this._gitcontentProvider=new v1(this.folderRepositoryManager),this._compareGitHubRepository=this.folderRepositoryManager.gitHubRepositories.find(d=>d.remote.owner===r&&d.remote.repositoryName===o),this._gitHubcontentProvider=new ug(this.folderRepositoryManager.gitHubRepositories),this._constructed=new Promise(d=>this.setCompareBranch(a).then(d)),this.compareOwner=r,this._register(e.repository.state.onDidChange(()=>{var d;((d=e.repository.state.HEAD)==null?void 0:d.name)===this._compareBranch&&this.update({})}))}get gitHubContentProvider(){return this._gitHubcontentProvider}get gitContentProvider(){return this._gitcontentProvider}get baseRemoteName(){var e,t;const n=`/${this._baseOwner.toLowerCase()}/`;return(t=(e=this.folderRepositoryManager.repository.state.remotes.find(r=>{var a;return(a=r.fetchUrl)==null?void 0:a.toLowerCase().includes(n)}))==null?void 0:e.name)!=null?t:"origin"}get baseOwner(){return this._baseOwner}set baseOwner(e){e!==this._baseOwner&&(this._baseOwner=e,this.update({baseOwner:this._baseOwner}))}get baseBranch(){return this._baseBranch}set baseBranch(e){e!==this._baseBranch&&(this._baseBranch=e,this.update({baseBranch:this._baseBranch}))}get compareOwner(){return this._compareOwner}set compareOwner(e){e!==this._compareOwner&&(this._compareOwner=e,this._compareGitHubRepository=this.folderRepositoryManager.gitHubRepositories.find(t=>t.remote.owner===this._compareOwner),this._compareGitHubRepository&&(this._gitHubcontentProvider.gitHubRepository=this._compareGitHubRepository),this.update({compareOwner:this._compareOwner}))}async getContentProvider(){return await this.getCompareHasUpstream()?this.gitHubContentProvider:this.gitContentProvider}async filesHaveChanges(){return this.getContentProvider().then(e=>e.hasChanges())}async applyChanges(e){return await this.getCompareHasUpstream()?this.gitHubContentProvider.applyChanges(e,this._compareBranch):this.gitContentProvider.applyChanges(e)}get compareBranch(){return this._compareBranch}async setCompareBranch(e){const t=this._compareHasUpstream;let n=!1;e&&(n=await this.updateHasUpstream(e)!==t),this._compareBranch!==e&&(n=!0,e&&(this._compareBranch=e)),n&&this.update({compareBranch:this._compareBranch})}async updateHasUpstream(e){var t;const n=await this.folderRepositoryManager.repository.getBranch(e);if(this._compareHasUpstream=!!n.upstream,this._compareHasUpstream){const r=await((t=this.gitHubRepository)==null?void 0:t.hasBranch(e));this._compareHasUpstream=r===n.commit}return this._compareHasUpstream}async getCompareHasUpstream(){return await this._constructed,this._compareHasUpstream}get gitHubRepository(){return this._compareGitHubRepository}update(e){var t;this._gitLog=void 0,this._gitFiles=void 0,this._gitHubLog=void 0,this._gitHubFiles=void 0,this.gitContentProvider.editableBranch=this._compareBranch===((t=this.folderRepositoryManager.repository.state.HEAD)==null?void 0:t.name)?this._compareBranch:void 0,this.gitHubContentProvider.editableBranch=this._compareBranch,this._onDidChange.fire(e)}async gitCommits(){if(await this._constructed,this._gitLog===void 0){const e=this._baseBranch,t=this._compareBranch,n=this.folderRepositoryManager.repository.log({range:`${this.baseRemoteName}/${this._baseBranch}..${this._compareBranch}`});if(e!==this._baseBranch||t!==this._compareBranch)return n;this._gitLog=n}return this._gitLog}async gitFiles(){if(await this._constructed,this._gitFiles===void 0){const e=this._baseBranch,t=this._compareBranch,n=await this.folderRepositoryManager.repository.diffBetween(`${this.baseRemoteName}/${this._baseBranch}`,this._compareBranch);if(e!==this._baseBranch||t!==this._compareBranch)return y.debug(`Branches have changed while getting git diff. Base: ${e} -> ${this._baseBranch}, Compare: ${t} -> ${this._compareBranch}`,pm.ID),n;y.debug(`Got ${n.length} git file diffs for merging ${this._compareOwner}/${this._compareBranch} in ${this._baseOwner}/${this._baseBranch}`,pm.ID),this._gitFiles=n}return this._gitFiles}async gitHubCommits(){var e;if(await this._constructed,!this._compareGitHubRepository)return[];if(this._gitHubLog===void 0){const{octokit:t,remote:n}=await this._compareGitHubRepository.ensure(),{data:r}=await t.call(t.api.repos.compareCommits,{repo:n.repositoryName,owner:n.owner,base:`${this._baseOwner}:${this._baseBranch}`,head:`${this._compareOwner}:${this._compareBranch}`});this._gitHubLog=r.commits,this._gitHubFiles=(e=r.files)!=null?e:[],this._gitHubMergeBase=r.merge_base_commit.sha}return this._gitHubLog}async gitHubFiles(){return await this._constructed,this._gitHubFiles===void 0&&await this.gitHubCommits(),this._gitHubFiles}async gitHubMergeBase(){return await this._constructed,this._gitHubMergeBase===void 0&&await this.gitHubCommits(),this._gitHubMergeBase}};Er(mb,"ID","CreatePullRequestDataModel");let h2=mb;var m2=Object.defineProperty,p2=(i,e,t)=>e in i?m2(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t,Ir=(i,e,t)=>p2(i,typeof e!="symbol"?e+"":e,t);const g2=new RegExp("closes|closed|close|fixes|fixed|fix|resolves|resolved|resolves$","i"),pb=class Tc extends Cp{constructor(e,t,n,r,a,o){super(n),this.telemetry=e,this.model=t,this._folderRepositoryManager=r,this._pullRequestDefaults=a,this._defaultCompareBranch=o,Ir(this,"viewType","github:createPullRequestWebview"),Ir(this,"_onDone",new s.EventEmitter),Ir(this,"onDone",this._onDone.event),Ir(this,"_firstLoad",!0),Ir(this,"initializeWhenVisibleDisposable"),Ir(this,"_alreadyInitializing"),Ir(this,"milestone"),Ir(this,"reviewers",[]),Ir(this,"assignees",[]),Ir(this,"projects",[]),Ir(this,"labels",[])}resolveWebviewView(e,t,n){return super.resolveWebviewView(e,t,n),e.webview.html=this._getHtmlForWebview(),this._firstLoad?(this._firstLoad=!1,this.initializeParams(!0)):this.initializeParams()}show(){super.show()}static withProgress(e){return s.window.withProgress({location:{viewId:"github:createPullRequestWebview"}},e)}async getPullRequestDefaultLabels(e){const t=s.workspace.getConfiguration(bt).inspect(Yi);if(!t)return[];const n=new Array;return t.workspaceValue&&n.push(...t.workspaceValue),t.globalValue&&n.push(...t.globalValue),!n||n.length===0?[]:(await this._folderRepositoryManager.getLabels(void 0,{owner:e.owner,repo:e.repositoryName})).filter(o=>n.includes(o.name))}async getMergeConfiguration(e,t,n=!1){return(await this._folderRepositoryManager.createGitHubRepositoryFromOwnerName(e,t)).getRepoAccessAndMergeMethods(n)}saveRecentlyUsedBranch(e,t,n){const r=`${e}/${t}`,a=this._folderRepositoryManager.context.workspaceState.get(bf,{branches:{}});let o=a.branches[r]||[];o=o.filter(d=>d!==n),o.unshift(n),o=o.slice(0,10),a.branches[r]=o,this._folderRepositoryManager.context.workspaceState.update(bf,a)}async initializeParams(e=!1){var t,n;if(((t=this._view)==null?void 0:t.visible)===!1&&this.initializeWhenVisibleDisposable===void 0){this.initializeWhenVisibleDisposable=(n=this._view)==null?void 0:n.onDidChangeVisibility(()=>{var r;(r=this.initializeWhenVisibleDisposable)==null||r.dispose(),this.initializeWhenVisibleDisposable=void 0,this.initializeParams()});return}e&&this._postMessage({command:"reset"}),await this.initializeParamsPromise()}async initializeParamsPromise(){return this._alreadyInitializing||(this._alreadyInitializing=this.doInitializeParams(),this._alreadyInitializing.then(()=>{this._alreadyInitializing=void 0})),this._alreadyInitializing}getTitleAndDescriptionProvider(e){return this._folderRepositoryManager.getTitleAndDescriptionProvider(e)}async getCreateParams(){var e,t,n,r,a;const o=await this._folderRepositoryManager.repository.getBranch(this._defaultCompareBranch),[d,S,C]=await Promise.all([this.detectBaseMetadata(o),this._folderRepositoryManager.getGitHubRemotes(),this._folderRepositoryManager.getOrigin(o),Ms(this._folderRepositoryManager.context)]),$={owner:(e=d==null?void 0:d.owner)!=null?e:this._pullRequestDefaults.owner,repositoryName:(t=d==null?void 0:d.repositoryName)!=null?t:this._pullRequestDefaults.repo},Y={owner:C.remote.owner,repositoryName:C.remote.repositoryName},ne=(n=d==null?void 0:d.branch)!=null?n:this._pullRequestDefaults.base,[le,he,ke,pe,Ne]=await Promise.all([this.getTitleAndDescription(o,ne),this.getMergeConfiguration($.owner,$.repositoryName),C.getViewerPermission(),this._folderRepositoryManager.mergeQueueMethodForBranch(ne,$.owner,$.repositoryName),this.getPullRequestDefaultLabels($)]),Ce=s.workspace.getConfiguration(bt).get(Cn,"lastUsed"),De=this._folderRepositoryManager.context.workspaceState.get(yf,void 0),He=Od(he.mergeMethodsAvailability);let Ke=He,Ge=!1,je=!1;Ke=Ce==="lastUsed"&&(De!=null&&De.mergeMethod)?De==null?void 0:De.mergeMethod:He,Ce==="lastUsed"?(Ke=(r=De==null?void 0:De.mergeMethod)!=null?r:He,Ge=!!(De!=null&&De.isDraft),je=he.viewerCanAutoMerge&&!!(De!=null&&De.autoMerge)):Ce==="createDraft"?Ge=!0:Ce==="createAutoMerge"&&(je=he.viewerCanAutoMerge),ht.setContext(Ft.CREATE_PR_PERMISSIONS,ke);const nt=s.workspace.getConfiguration(bt).get(Gt),Nt=!!this.getTitleAndDescriptionProvider("Copilot")&&nt==="Copilot",Et=nt==="template",ki=(a=this.getTitleAndDescriptionProvider())==null?void 0:a.title;ki&&this.telemetry.sendTelemetryEvent("pr.defaultTitleAndDescriptionProvider",{providerTitle:ki});const Pi=this._folderRepositoryManager.getAutoReviewer();return this.labels=Ne.map(Be=>({...Be,displayName:Bo(Be.name)})),{canModifyBranches:!0,defaultBaseRemote:$,defaultBaseBranch:ne,defaultCompareRemote:Y,defaultCompareBranch:this._defaultCompareBranch,defaultTitle:le.title,defaultDescription:le.description,defaultMergeMethod:Ke,baseHasMergeQueue:!!pe,remoteCount:S.length,allowAutoMerge:he.viewerCanAutoMerge,mergeMethodsAvailability:he.mergeMethodsAvailability,autoMergeDefault:je,createError:"",labels:this.labels,isDraftDefault:Ge,isDarkTheme:s.window.activeColorTheme.kind===s.ColorThemeKind.Dark,generateTitleAndDescriptionTitle:ki,creating:!1,initializeWithGeneratedTitleAndDescription:Nt,preReviewState:xd.None,preReviewer:Pi==null?void 0:Pi.title,reviewing:!1,usingTemplate:Et}}async doInitializeParams(){const e=await this.getCreateParams();return y.appendLine(`Initializing "create" view: ${JSON.stringify(e)}`,Tc.ID),this._postMessage({command:"pr.initialize",params:e}),e}async autoAssign(e){var t;const n=s.workspace.getConfiguration(bt).get(jt);if(!n)return;const r=io(n,e,void 0,(t=await this._folderRepositoryManager.getCurrentUser(e.githubRepository))==null?void 0:t.login);if(r)try{const a=await e.githubRepository.resolveUser(r);a&&await e.replaceAssignees([a])}catch{y.error(`Unable to assign pull request to user ${r}.`,Tc.ID)}}async enableAutoMerge(e,t,n){if(t&&n)return e.enableAutoMerge(n)}async setLabels(e,t){t.length>0&&await e.setLabels(t.map(n=>n.name))}async setAssignees(e,t){t.length?await e.replaceAssignees(t):await this.autoAssign(e)}async setReviewers(e,t){if(t.length){const n=[],r=[];for(const a of t)Ar(a)?r.push(a):n.push(a);await e.requestReview(n,r,!0)}}setMilestone(e,t){if(t)return e.updateMilestone(t.id)}setProjects(e,t){if(t.length)return e.updateProjects(t)}async getBaseRemote(){return(await this._folderRepositoryManager.getGitHubRemotes()).find(e=>ve(e.owner,this.model.baseOwner)===0&&ve(e.repositoryName,this.model.repositoryName)===0)}getBaseGitHubRepo(){return this._folderRepositoryManager.gitHubRepositories.find(e=>ve(e.remote.owner,this.model.baseOwner)===0&&ve(e.remote.repositoryName,this.model.repositoryName)===0)}async addMilestone(){const e=await this.getBaseRemote(),t=this._folderRepositoryManager.gitHubRepositories.find(n=>n.remote.remoteName===e.remoteName);return Cg(this._folderRepositoryManager,t,this.milestone,n=>(this.milestone=n,this._postMessage({command:"set-milestone",params:{milestone:this.milestone}})))}async addReviewers(){let e;const t=await this.getBaseRemote();try{const n=this._folderRepositoryManager.gitHubRepositories.find($=>$.remote.remoteName===t.remoteName),[r,a,o]=await Promise.all([n==null?void 0:n.getMetadata(),this._folderRepositoryManager.getCurrentUser(),this._folderRepositoryManager.getOrgTeamsCount(n)]);e=await Rg(this._folderRepositoryManager,t.remoteName,!!(r!=null&&r.organization),o,a,this.reviewers.map($=>({reviewer:$,state:"REQUESTED"})),[]),e.busy=!1;const d=Me(e.onDidAccept).then(()=>e.selectedItems.filter($=>$.user)),S=Me(e.onDidHide),C=await Promise.race([d,S]);e.busy=!0,C&&(this.reviewers=C.map($=>$.user),this._postMessage({command:"set-reviewers",params:{reviewers:this.reviewers}}))}catch(n){y.error(`Failed to add reviewers: ${_e(n)}`,Tc.ID),s.window.showErrorMessage(_e(n))}finally{e==null||e.hide(),e==null||e.dispose()}}async addAssignees(){const e=await this.getBaseRemote(),t=this._folderRepositoryManager.gitHubRepositories.find(r=>r.remote.owner===e.owner&&r.remote.repositoryName===e.repositoryName),n=await s.window.showQuickPick(Eg(this._folderRepositoryManager,t,e.remoteName,this.assignees,void 0,!0),{canPickMany:!0,matchOnDescription:!0,placeHolder:s.l10n.t("Add assignees")});if(n){const r=new Set,a=n.map(o=>o.user).filter(o=>o&&!r.has(o.login)?(r.add(o.login),!0):!1);this.assignees=a,this._postMessage({command:"set-assignees",params:{assignees:this.assignees}})}}async addProjects(){const e=this.getBaseGitHubRepo();e&&await new Promise(t=>{Ng(this._folderRepositoryManager,e,this.projects,async n=>{this.projects=n,this._postMessage({command:"set-projects",params:{projects:this.projects}}),t()})})}async addLabels(){let e=[];const t=await s.window.showQuickPick(Tg(this._folderRepositoryManager,this.labels,this.model.baseOwner,this.model.repositoryName).then(n=>(e=n.newLabels,n.labelPicks)),{canPickMany:!0,matchOnDescription:!0,placeHolder:s.l10n.t("Apply labels")});if(t){const n=t.map(r=>e.find(a=>a.name===r.name));this.labels=n,this._postMessage({command:"set-labels",params:{labels:this.labels}})}}async removeLabel(e){const{label:t}=e.args;if(!t)return;const n=this.labels.length;this.labels=this.labels.filter(r=>r.name!==t.name),n!==this.labels.length&&this._postMessage({command:"set-labels",params:{labels:this.labels}})}async createFromCommand(e,t,n,r){const a={isDraft:e,autoMerge:t,autoMergeMethod:r?"merge":n,creating:!0};return this._postMessage({command:"create",params:a})}async postCreate(e,t){return Promise.all([this.setLabels(t,e.args.labels),this.enableAutoMerge(t,e.args.autoMerge,e.args.autoMergeMethod),this.setAssignees(t,e.args.assignees),this.setReviewers(t,e.args.reviewers),this.setMilestone(t,e.args.milestone),this.setProjects(t,e.args.projects)])}async cancel(e){return this._onDone.fire(void 0),await this.getMergeConfiguration(e.args.owner,e.args.repo,!0),this._replyMessage(e,void 0)}async openDescriptionSettings(){return s.commands.executeCommand("workbench.action.openSettings","githubPullRequests.pullRequestDescription")}async _onDidReceiveMessage(e){if(await super._onDidReceiveMessage(e)===this.MESSAGE_UNHANDLED)switch(e.command){case"pr.requestInitialize":return this.initializeParamsPromise();case"pr.cancelCreate":return this.cancel(e);case"pr.create":return this.create(e);case"pr.changeLabels":return this.addLabels();case"pr.changeReviewers":return this.addReviewers();case"pr.changeAssignees":return this.addAssignees();case"pr.changeMilestone":return this.addMilestone();case"pr.changeProjects":return this.addProjects();case"pr.removeLabel":return this.removeLabel(e);case"pr.openDescriptionSettings":return this.openDescriptionSettings();default:return this.MESSAGE_UNHANDLED}}dispose(){super.dispose(),this._postMessage({command:"reset"})}_getHtmlForWebview(){const e=wf(),t=s.Uri.joinPath(this._extensionUri,"dist","webview-create-pr-view-new.js");return`<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<meta http-equiv="Content-Security-Policy" content="default-src 'none'; img-src vscode-resource: https:; script-src 'nonce-${e}'; style-src vscode-resource: 'unsafe-inline' http: https: data:;">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">

		<title>Create Pull Request</title>
	</head>
	<body>
		<div id="app"></div>
		<script nonce="${e}" src="${this._webview.asWebviewUri(t).toString()}"><\/script>
	</body>
</html>`}};Ir(pb,"ID","CreatePullRequestViewProvider");let gb=pb;function vb(i){return{owner:i.owner,repositoryName:i.repositoryName}}class Rr extends gb{constructor(e,t,n,r,a){super(e,t,n,r,a,t.compareBranch),Ir(this,"viewType","github:createPullRequestWebview"),Ir(this,"lastGeneratedTitleAndDescription"),Ir(this,"generatingCancellationToken"),Ir(this,"reviewingCancellationToken"),this._register(this.model.onDidChange(async o=>{var d,S;let C,$;if(o.baseOwner){const he=(d=this._folderRepositoryManager.findRepo(ke=>ve(ke.remote.owner,o.baseOwner)===0&&ve(ke.remote.repositoryName,this.model.repositoryName)===0))==null?void 0:d.remote;C=he?vb(he):void 0,$=this.model.baseBranch}o.baseBranch&&($=o.baseBranch);let Y,ne;if(o.compareOwner){const he=(S=this._folderRepositoryManager.findRepo(ke=>ve(ke.remote.owner,o.compareOwner)===0&&ve(ke.remote.repositoryName,this.model.repositoryName)===0))==null?void 0:S.remote;Y=he?vb(he):void 0,ne=this.model.compareBranch}o.compareBranch&&(ne=o.compareBranch);const le={baseRemote:C,baseBranch:$,compareRemote:Y,compareBranch:ne,warning:await this.existingPRMessage()};return this._postMessage({command:"pr.initialize",params:le})}))}async existingPRMessage(){var e;const[t,n]=await Promise.all([pr.getMatchingPullRequestMetadataForBranch(this._folderRepositoryManager.repository,this.model.compareBranch),this.model.getCompareHasUpstream()]);if(!t||!n)return;const[r,a]=await Promise.all([this._folderRepositoryManager.resolvePullRequest(t.owner,t.repositoryName,t.prNumber),this._folderRepositoryManager.repository.getBranch(this.model.compareBranch)]);return((e=r==null?void 0:r.head)==null?void 0:e.sha)===a.commit?s.l10n.t("A pull request already exists for this branch."):void 0}async setDefaultCompareBranch(e){this._defaultCompareBranch=e.name,this.model.setCompareBranch(e.name),this.changeBranch(e.name,!1).then(async t=>{const n={defaultTitle:t.title,defaultDescription:t.description,compareBranch:e==null?void 0:e.name,defaultCompareBranch:e==null?void 0:e.name,warning:await this.existingPRMessage()};return this._postMessage({command:"pr.initialize",params:n})})}show(e){e&&this.setDefaultCompareBranch(e),super.show()}async getTotalGitHubCommits(e,t){var n;const r=await this._folderRepositoryManager.getOrigin(e);if(e.upstream){const a=this._folderRepositoryManager.findRepo(Xo(e.upstream.remote));if(a){const o=`${a.remote.owner}:${(n=e.name)!=null?n:""}`,d=`${this._pullRequestDefaults.owner}:${t}`,S=await r.compareCommits(d,o);return S==null?void 0:S.commits}}}async getTitleAndDescription(e,t){let n="",r="";const a=s.workspace.getConfiguration(bt).get(Gt);if(a==="none")return{title:n,description:r};const o=e.name,d=$=>`${$.charAt(0).toUpperCase()}${$.slice(1)}`;if(a==="branchName")return o&&(n=d(o)),{title:n,description:r};const S=await this._folderRepositoryManager.getOrigin(e);let C=this._pullRequestDefaults.base===e.name;y.debug(`Compare branch name: ${e.name}, Base branch name: ${this._pullRequestDefaults.base}`,Rr.ID);try{const[$,Y,ne]=await Promise.all([this.getTotalGitHubCommits(e,t),o?K1(te(this._folderRepositoryManager.getTipCommitMessage(o),5e3)):void 0,a==="template"?this.getPullRequestTemplate():void 0]),le=$==null?void 0:$.filter(he=>he.parents.length<2);if(y.debug(`Total commits: ${le==null?void 0:le.length}`,Rr.ID),le===void 0?C=!1:le&&le.length>1&&(C=await S.getDefaultBranch()!==e.name),o&&!Y&&(y.appendLine("Timeout getting last commit message",Rr.ID),this.telemetry.sendTelemetryEvent("pr.create.getCommitTimeout")),C&&o?n=d(o):o&&Y&&(n=Y.title),ne&&(Y!=null&&Y.body)?r=`${Y.body}

${ne}`:ne?r=ne:Y!=null&&Y.body&&this._pullRequestDefaults.base!==e.name&&(r=Y.body),!r){const he=n.match(Qw),ke=Fs(he);if(ke!=null&&ke.issueNumber&&!ke.name&&!ke.owner){r=`#${ke.issueNumber}`;const Ne=n.substr(0,n.indexOf(he[0])).match(g2);Ne&&(r=`${Ne[0]} ${r}`)}}}catch($){y.debug(`Error while getting total commits: ${$}`,Rr.ID)}return{title:n,description:r}}async getPullRequestTemplate(){return this._folderRepositoryManager.getPullRequestTemplateBody(this.model.baseOwner)}async changeTemplate(e){const t=await this._folderRepositoryManager.getAllPullRequestTemplates(this.model.baseOwner);if(!t||t.length===0){const r=s.l10n.t("Learn More"),a=s.l10n.t("Create Template"),o=await s.window.showQuickPick([{label:a,description:s.l10n.t("Create a new pull request template")},{label:r,description:s.l10n.t("Open GitHub documentation")}],{placeHolder:s.l10n.t("No pull request templates found"),ignoreFocusOut:!0});return(o==null?void 0:o.label)===r?s.env.openExternal(s.Uri.parse("https://docs.github.com/communities/using-templates-to-encourage-useful-issues-and-pull-requests/creating-a-pull-request-template-for-your-repository")):(o==null?void 0:o.label)===a&&await this.createPullRequestTemplate(),this._replyMessage(e,void 0)}const n=await s.window.showQuickPick(t.map((r,a)=>{const d=r.split(`
`)[0].trim()||s.l10n.t("Template {0}",a+1);return{label:d.substring(0,50)+(d.length>50?"...":""),description:s.l10n.t("{0} characters",r.length),template:r}}),{placeHolder:s.l10n.t("Select a pull request template"),ignoreFocusOut:!0});if(n){const r={description:n.template};return this._replyMessage(e,r)}return this._replyMessage(e,void 0)}async createPullRequestTemplate(){const e=[{label:".github/pull_request_template.md",description:s.l10n.t("Default location for a single template")},{label:"docs/pull_request_template.md",description:s.l10n.t("Alternative location in docs folder")},{label:".github/PULL_REQUEST_TEMPLATE/template.md",description:s.l10n.t("For multiple templates")}],t=await s.window.showQuickPick(e,{placeHolder:s.l10n.t("Choose where to create the pull request template"),ignoreFocusOut:!0});if(!t)return;const n=this._folderRepositoryManager.repository.rootUri,r=s.Uri.joinPath(n,t.label),a=`## Sample Pull Request Template Description

This is a sample pull request template. You can customize it to fit your project's needs.

Don't forget to commit your template file to the repository so that it can be used for future pull requests!
`;try{const o=t.label.split("/");let d=n;for(let $=0;$<o.length-1;$++){d=s.Uri.joinPath(d,o[$]);try{await s.workspace.fs.createDirectory(d)}catch(Y){if(Y instanceof s.FileSystemError&&Y.code!=="FileExists")throw Y}}const S=new TextEncoder;await s.workspace.fs.writeFile(r,S.encode(a));const C=await s.workspace.openTextDocument(r);await s.window.showTextDocument(C),s.window.showInformationMessage(s.l10n.t("Pull request template created at {0}",t.label))}catch(o){s.window.showErrorMessage(s.l10n.t("Failed to create pull request template: {0}",o instanceof Error?o.message:String(o)))}}async detectBaseMetadata(e){var t;const n=this.model.compareOwner,r=this.model.repositoryName,a=s.workspace.getConfiguration(bt).get(_n);if(!e.name||a==="repositoryDefault")return;const o=this._folderRepositoryManager.findRepo(d=>ve(d.remote.owner,n)===0&&ve(d.remote.repositoryName,r)===0);if(!(a==="auto"&&((t=await(o==null?void 0:o.getMetadata()))!=null&&t.fork)))try{const d=await this._folderRepositoryManager.repository.getBranchBase(e.name);if(d!=null&&d.name){const S=this._folderRepositoryManager.findRepo(C=>C.remote.remoteName===d.remote);if(S)return{branch:d.name,owner:S.remote.owner,repositoryName:S.remote.repositoryName}}}catch{return}}async getCreateParams(){const e=await super.getCreateParams();return this.model.baseOwner=e.defaultBaseRemote.owner,this.model.baseBranch=e.defaultBaseBranch,e}async remotePicks(e){return(e?await this._folderRepositoryManager.getActiveGitHubRemotes(await this._folderRepositoryManager.getGitHubRemotes()):this._folderRepositoryManager.gitHubRepositories.map(n=>n.remote)).map(n=>({iconPath:new s.ThemeIcon("repo"),label:`${n.owner}/${n.repositoryName}`,remote:{owner:n.owner,repositoryName:n.repositoryName}}))}async processRemoteAndBranchResult(e,t,n){const[r,a]=await Promise.all([e.getDefaultBranch(),e.getViewerPermission()]);ht.setContext(Ft.CREATE_PR_PERMISSIONS,a);let o;if(n){const d=this.model.baseOwner!==t.remote.owner,S=d||this.model.baseBranch!==t.branch;this.model.baseOwner=t.remote.owner,this.model.baseBranch=t.branch,this.saveRecentlyUsedBranch(t.remote.owner,t.remote.repositoryName,t.branch);const C=await this._folderRepositoryManager.repository.getBranch(this.model.compareBranch),[$,Y,ne]=await Promise.all([this.getMergeConfiguration(t.remote.owner,t.remote.repositoryName),this.getTitleAndDescription(C,this.model.baseBranch),this._folderRepositoryManager.mergeQueueMethodForBranch(this.model.baseBranch,this.model.baseOwner,this.model.repositoryName)]);let le=!1;if($.viewerCanAutoMerge){const he=s.workspace.getConfiguration(bt).get(Cn,"lastUsed"),ke=this._folderRepositoryManager.context.workspaceState.get(yf,void 0);le=he==="lastUsed"&&(ke==null?void 0:ke.autoMerge)||he==="createAutoMerge"}o={baseRemote:t.remote,baseBranch:t.branch,defaultBaseBranch:r,defaultMergeMethod:Od($.mergeMethodsAvailability),allowAutoMerge:$.viewerCanAutoMerge,baseHasMergeQueue:!!ne,mergeMethodsAvailability:$.mergeMethodsAvailability,autoMergeDefault:le,defaultTitle:Y.title,defaultDescription:Y.description},d&&this._folderRepositoryManager.telemetry.sendTelemetryEvent("pr.create.changedBaseRemote"),S&&this._folderRepositoryManager.telemetry.sendTelemetryEvent("pr.create.changedBaseBranch")}else await this.changeBranch(t.branch,!1),o={compareRemote:t.remote,compareBranch:t.branch,defaultCompareBranch:r},this._folderRepositoryManager.telemetry.sendTelemetryEvent("pr.create.changedCompare");return o}async changeRemoteAndBranch(e,t){this.cancelGenerateTitleAndDescription();const n=s.window.createQuickPick();let r=this._folderRepositoryManager.findRepo(De=>{var He;return((He=e.args.currentRemote)==null?void 0:He.owner)===De.remote.owner&&e.args.currentRemote.repositoryName===De.remote.repositoryName});const a=s.l10n.t("Change Repository..."),o=s.l10n.t("Choose a remote"),d=t?s.l10n.t("Choose a base branch"):s.l10n.t("Choose a branch to merge"),S=t?s.l10n.t("Choose a base repository"):s.l10n.t("Choose a repository to merge from");let C=0;const $=async(De,He)=>{const Ke=++C;n.busy=!0;const Ge=await Ag(De,this._folderRepositoryManager,a,t,He);Ke===C&&(n.items=Ge,n.busy=!1)},Y=cf($,300);let ne;const le=()=>{r&&!ne&&(ne=n.onDidChangeValue(async De=>Y(r,De)))};le(),n.placeholder=r?d:o,n.show(),n.busy=!0,r?await $(r,void 0):n.items=await this.remotePicks(t);const he=e.args.currentBranch?n.items.find(De=>De.branch===e.args.currentBranch):void 0;n.activeItems=he?[he]:[],n.busy=!1;const ke=new Promise(De=>{n.onDidAccept(async()=>{if(n.selectedItems.length===0)return;const He=n.selectedItems[0];if(He.label===a)n.busy=!0,n.items=await this.remotePicks(t),n.busy=!1,n.placeholder=r?S:o;else if(He.branch===void 0&&He.remote){const Ke=He;n.busy=!0,r=this._folderRepositoryManager.findRepo(Ge=>Ge.remote.owner===Ke.remote.owner&&Ge.remote.repositoryName===Ke.remote.repositoryName),await $(r,void 0),le(),n.placeholder=d,n.busy=!1}else if(He.branch&&He.remote){const Ke=He;De({remote:Ke.remote,branch:Ke.branch})}})}),pe=new Promise(De=>n.onDidHide(()=>De())),Ne=await Promise.race([ke,pe]);if(!Ne||!r){n.hide(),n.dispose(),ne==null||ne.dispose();return}n.busy=!0;const Ce=await this.processRemoteAndBranchResult(r,Ne,t);return n.hide(),n.dispose(),ne==null||ne.dispose(),this._replyMessage(e,Ce)}async findIssueContext(e){var t,n;const r=[];for(const a of e){const o=Fs(a.match(ja));if(o){const d=(t=o.owner)!=null?t:this.model.baseOwner,S=(n=o.name)!=null?n:this.model.repositoryName;r.push(new Promise(C=>{this._folderRepositoryManager.resolveIssue(d,S,o.issueNumber).then($=>{C($?{content:`${$.title}
${$.body}`,reference:sf(o)}:void 0)}).catch(()=>C(void 0))}))}}if(r.length)return(await Promise.all(r)).filter(a=>!!a)}async getCommitsAndPatches(){var e;let t,n;await this.model.getCompareHasUpstream()?[t,n]=await Promise.all([this.model.gitHubCommits().then(a=>a.map(o=>o.commit.message)),this.model.gitHubFiles().then(a=>a==null?void 0:a.map(o=>{if(!o.patch)return;const d=s.Uri.joinPath(this._folderRepositoryManager.repository.rootUri,o.filename).toString(),S=o.previous_filename?s.Uri.joinPath(this._folderRepositoryManager.repository.rootUri,o.previous_filename).toString():void 0;return{patch:o.patch,fileUri:d,previousFileUri:S}}))]):[t,n]=await Promise.all([this.model.gitCommits().then(a=>a.filter(o=>o.parents.length===1).map(o=>o.message)),Promise.all((await this.model.gitFiles()).map(async a=>({patch:await this._folderRepositoryManager.repository.diffBetween(this.model.baseBranch,this.model.compareBranch,a.uri.fsPath),fileUri:a.uri.toString()})))]);const r=(e=n==null?void 0:n.filter(a=>!!a))!=null?e:[];return{commitMessages:t,patches:r}}async getTitleAndDescriptionFromProvider(e,t){return Rr.withProgress(async()=>{try{const n=this.getPullRequestTemplate(),{commitMessages:r,patches:a}=await this.getCommitsAndPatches(),o=await this.findIssueContext(r),d=await n,S=this._folderRepositoryManager.getTitleAndDescriptionProvider(t),C=await(S==null?void 0:S.provider.provideTitleAndDescription({commitMessages:r,patches:a,issues:o,template:d},e));return S&&(this.lastGeneratedTitleAndDescription={...C,providerTitle:S.title},this.telemetry.sendTelemetryEvent("pr.generatedTitleAndDescription",{providerTitle:S==null?void 0:S.title})),C}catch(n){y.error(`Error while generating title and description: ${n}`,Rr.ID);return}})}async generateTitleAndDescription(e){this.generatingCancellationToken&&this.generatingCancellationToken.cancel(),this.generatingCancellationToken=new s.CancellationTokenSource;const t=await Promise.race([this.getTitleAndDescriptionFromProvider(this.generatingCancellationToken.token,e.args.useCopilot?"Copilot":void 0),new Promise(r=>{var a;return(a=this.generatingCancellationToken)==null?void 0:a.token.onCancellationRequested(()=>r(!0))})]);this.generatingCancellationToken=void 0;const n={title:void 0,description:void 0};return t!==!0&&(n.title=t==null?void 0:t.title,n.description=t==null?void 0:t.description),this._replyMessage(e,{title:n==null?void 0:n.title,description:n==null?void 0:n.description})}async cancelGenerateTitleAndDescription(){this.generatingCancellationToken&&this.generatingCancellationToken.cancel()}async getPreReviewFromProvider(e){const t=this._folderRepositoryManager.getAutoReviewer();if(!t)return;const{commitMessages:n,patches:r}=await this.getCommitsAndPatches(),a=await t.provider.provideReviewerComments({repositoryRoot:this._folderRepositoryManager.repository.rootUri.fsPath,commitMessages:n,patches:r},e);return a&&a.succeeded&&a.files.length>0?xd.ReviewedWithComments:xd.ReviewedWithoutComments}async review(){this._postMessage({command:"reviewing",params:{reviewing:!0}})}async preReview(e){return Rr.withProgress(async()=>{await ht.setContext("pr:preReviewing",!0),this.reviewingCancellationToken&&this.reviewingCancellationToken.cancel(),this.reviewingCancellationToken=new s.CancellationTokenSource;const t=await Promise.race([this.getPreReviewFromProvider(this.reviewingCancellationToken.token),new Promise(n=>{var r;return(r=this.reviewingCancellationToken)==null?void 0:r.token.onCancellationRequested(()=>n())})]);return this.reviewingCancellationToken=void 0,await ht.setContext("pr:preReviewing",!1),this._replyMessage(e,t)})}async cancelPreReview(){this.reviewingCancellationToken&&this.reviewingCancellationToken.cancel()}async pushUpstream(e,t,n){let r;const a=this._folderRepositoryManager.repository.state.remotes.find(o=>{if(!o.pushUrl)return!1;const d=new Is(o.name,o.pushUrl,new Br(o.pushUrl),En.GitHubDotCom);return d.owner.toLowerCase()===e.toLowerCase()&&d.repositoryName.toLowerCase()===t.toLowerCase()?(r=d,!0):!1});if(a&&r){y.appendLine(`Found push remote ${a.name} for ${e}/${t} and branch ${n}`,Rr.ID);const o=await this._folderRepositoryManager.publishBranch(r,n);return o?{compareUpstream:o,repo:this._folderRepositoryManager.findRepo(Xo(o.remoteName))}:void 0}}checkGeneratedTitleAndDescription(e,t){var n,r;if(!this.lastGeneratedTitleAndDescription)return;const a=!!this.lastGeneratedTitleAndDescription.title&&(this.lastGeneratedTitleAndDescription.title===e||((n=this.lastGeneratedTitleAndDescription.title)==null?void 0:n.includes(e))||(e==null?void 0:e.includes(this.lastGeneratedTitleAndDescription.title))),o=!!this.lastGeneratedTitleAndDescription.description&&(this.lastGeneratedTitleAndDescription.description===t||((r=this.lastGeneratedTitleAndDescription.description)==null?void 0:r.includes(t))||(t==null?void 0:t.includes(this.lastGeneratedTitleAndDescription.description)));this.telemetry.sendTelemetryEvent("pr.usedGeneratedTitleAndDescription",{providerTitle:this.lastGeneratedTitleAndDescription.providerTitle,usedGeneratedTitle:a.toString(),usedGeneratedDescription:o.toString()})}async checkForChanges(){if(await this.model.filesHaveChanges()){const e=s.l10n.t("Commit"),t=s.l10n.t("Delete my changes"),n=await s.window.showWarningMessage(s.l10n.t("You have made changes to the files in this pull request. Do you want to commit these changes to the pull request before creating it?"),{modal:!0},e,t);if(n===e){const r=await s.window.showInputBox({prompt:s.l10n.t("Commit message for your changes")});if(r)return this.model.applyChanges(r)}else if(n!==t)return!1}return!0}async create(e){if(y.debug(`Creating pull request with args ${JSON.stringify(e.args)}`,Rr.ID),!await this.checkForChanges()){y.debug("Not continuing past checking for file changes.",Rr.ID),await this._replyMessage(e,{});return}const t={autoMerge:e.args.autoMerge,mergeMethod:e.args.autoMergeMethod,isDraft:e.args.draft};this._folderRepositoryManager.context.workspaceState.update(yf,t),Rr.withProgress(()=>s.window.withProgress({location:s.ProgressLocation.Notification},async n=>{ht.setContext(Ft.CREATING,!0);let r=0;n.report({message:s.l10n.t("Checking for upstream branch"),increment:r});let a;try{const o=e.args.compareOwner,d=e.args.compareRepo,S=e.args.compareBranch,C=`${o}/${d}`;let Y=(await this._folderRepositoryManager.repository.getBranch(S)).upstream?this._folderRepositoryManager.findRepo(he=>he.remote.owner===o&&he.remote.repositoryName===d):void 0,ne=Y==null?void 0:Y.remote;if(!ne||ne.owner!==o||ne.repositoryName!==d){const he=s.l10n.t("Always Publish Branch"),ke=s.l10n.t("Publish Branch"),Ne=s.workspace.getConfiguration(bt).get(qt)==="always"?ke:await s.window.showInformationMessage(s.l10n.t(`There is no remote branch on {0}/{1} for '{2}'.

Do you want to publish it and then create the pull request?`,o,d,S),{modal:!0},ke,he);if(Ne===he&&await s.workspace.getConfiguration(bt).update(qt,"always",s.ConfigurationTarget.Global),Ne===he||Ne===ke){n.report({message:s.l10n.t("Pushing branch"),increment:10}),r+=10;const Ce=await this.pushUpstream(o,d,S);Ce?(ne=Ce.compareUpstream,Y=Ce.repo):this._throwError(e,s.l10n.t("The current repository does not have a push remote for {0}",C))}}if(!ne){this._throwError(e,s.l10n.t("No remote branch on {0}/{1} for the merge branch.",o,d)),n.report({message:s.l10n.t("Pull request cancelled"),increment:100-r});return}if(!Y)throw new Error(s.l10n.t(`Unable to find GitHub repository matching '{0}'. You can add '{0}' to the setting "githubPullRequests.remotes" to ensure '{0}' is found.`,ne.remoteName));n.report({message:s.l10n.t("Creating pull request"),increment:70-r}),r+=70-r;const le=`${Y.remote.owner}:${S}`;this.checkGeneratedTitleAndDescription(e.args.title,e.args.body),a=await this._folderRepositoryManager.createPullRequest({...e.args,head:le}),a?(this.saveRecentlyUsedBranch(e.args.owner,e.args.repo,e.args.base),await this.postCreate(e,a)):this._throwError(e,s.l10n.t("There must be a difference in commits to create a pull request."))}catch(o){if(a)o.message==='GraphQL error: ["Pull request Pull request is in unstable status"]'&&await this.postCreate(e,a),s.window.showErrorMessage(s.l10n.t("There was an error creating the pull request: {0}",o.message));else{let d=o.message;d.startsWith("GraphQL error: ")&&(d=d.substring(15)),this._throwError(e,d)}}finally{ht.setContext(Ft.CREATING,!1);let o;a?(this._onDone.fire(a),o=s.l10n.t("Pull request created")):(await this._replyMessage(e,{}),o=s.l10n.t("Unable to create pull request")),n.report({message:o,increment:100-r})}}))}async changeBranch(e,t){let n;if(t)this.model.baseBranch=e;else{try{n=await this._folderRepositoryManager.repository.getBranch(e)}catch{s.window.showErrorMessage(s.l10n.t("Branch does not exist locally."))}n&&await this.model.setCompareBranch(e)}return n=n!=null?n:await this._folderRepositoryManager.repository.getBranch(this.model.compareBranch),this.getTitleAndDescription(n,this.model.baseBranch)}async _onDidReceiveMessage(e){if(await super._onDidReceiveMessage(e)===this.MESSAGE_UNHANDLED)switch(e.command){case"pr.changeBaseRemoteAndBranch":return this.changeRemoteAndBranch(e,!0);case"pr.changeCompareRemoteAndBranch":return this.changeRemoteAndBranch(e,!1);case"pr.generateTitleAndDescription":return this.generateTitleAndDescription(e);case"pr.cancelGenerateTitleAndDescription":return this.cancelGenerateTitleAndDescription();case"pr.changeTemplate":return this.changeTemplate(e);case"pr.preReview":return this.preReview(e);case"pr.cancelPreReview":return this.cancelPreReview();default:s.window.showErrorMessage("Unsupported webview message")}}}class _c extends gb{constructor(e,t,n,r,a,o){var d,S;super(e,t,n,r,a,(S=(d=r.repository.state.HEAD)==null?void 0:d.name)!=null?S:o.base.name),this.pullRequest=o}async getTitleAndDescription(){return{title:s.l10n.t('Revert "{0}"',this.pullRequest.title),description:s.l10n.t("Reverts {0}",`${this.pullRequest.remote.owner}/${this.pullRequest.remote.repositoryName}#${this.pullRequest.number}`)}}async detectBaseMetadata(){return{owner:this.pullRequest.remote.owner,repositoryName:this.pullRequest.remote.repositoryName,branch:this.pullRequest.base.name}}getTitleAndDescriptionProvider(e){}async getCreateParams(){const e=await super.getCreateParams();return e.canModifyBranches=!1,e.actionDetail=s.l10n.t("Reverting"),e.associatedExistingPullRequest=this.pullRequest.number,e}openAssociatedPullRequest(){return yu(this.telemetry,this.pullRequest,void 0,this._folderRepositoryManager,!1,!0)}async _onDidReceiveMessage(e){if(await super._onDidReceiveMessage(e)===this.MESSAGE_UNHANDLED)switch(e.command){case"pr.openAssociatedPullRequest":return this.openAssociatedPullRequest();default:s.window.showErrorMessage("Unsupported webview message")}}async create(e){let t;_c.withProgress(async()=>{ht.setContext(Ft.CREATING,!0);try{t=await this._folderRepositoryManager.revert(this.pullRequest,e.args.title,e.args.body,e.args.draft),t&&(await this.postCreate(e,t),await yu(this.telemetry,t,void 0,this._folderRepositoryManager,!0))}catch(n){if(t)n.message==='GraphQL error: ["Pull request Pull request is in unstable status"]'&&await this.postCreate(e,t),s.window.showErrorMessage(s.l10n.t("There was an error creating the pull request: {0}",n.message));else{let r=n.message;r.startsWith("GraphQL error: ")&&(r=r.substring(15)),this._throwError(e,r)}}finally{ht.setContext(Ft.CREATING,!1),t?this._onDone.fire(t):await this._replyMessage(e,{})}})}}var v2=Object.defineProperty,y2=(i,e,t)=>e in i?v2(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t,xu=(i,e,t)=>y2(i,typeof e!="symbol"?e+"":e,t);class b2 extends f{constructor(){super(),xu(this,"_currentDisposables",[]),xu(this,"_createPRViewProvider"),xu(this,"_treeView"),xu(this,"_postCreateCallback"),xu(this,"_activeContext")}async setActiveContext(e){this._activeContext&&await ht.setContext(this._activeContext,e)}registerListeners(e,t){v(this._createPRViewProvider.onDone(async n=>{await Rr.withProgress(async()=>{var r;return(r=this._postCreateCallback)==null?void 0:r.call(this,n)}),this.dispose()}),this._currentDisposables),v(s.commands.registerCommand("pr.addAssigneesToNewPr",n=>{var r;return(r=this._createPRViewProvider)==null?void 0:r.addAssignees()}),this._currentDisposables),v(s.commands.registerCommand("pr.addReviewersToNewPr",n=>{var r;return(r=this._createPRViewProvider)==null?void 0:r.addReviewers()}),this._currentDisposables),v(s.commands.registerCommand("pr.addLabelsToNewPr",n=>{var r;return(r=this._createPRViewProvider)==null?void 0:r.addLabels()}),this._currentDisposables),v(s.commands.registerCommand("pr.addMilestoneToNewPr",n=>{var r;return(r=this._createPRViewProvider)==null?void 0:r.addMilestone()}),this._currentDisposables),v(s.commands.registerCommand("pr.addProjectsToNewPr",n=>{var r;return(r=this._createPRViewProvider)==null?void 0:r.addProjects()}),this._currentDisposables),v(s.commands.registerCommand("pr.createPrMenuCreate",()=>{var n;(n=this._createPRViewProvider)==null||n.createFromCommand(!1,!1,void 0)}),this._currentDisposables),v(s.commands.registerCommand("pr.createPrMenuDraft",()=>{var n;(n=this._createPRViewProvider)==null||n.createFromCommand(!0,!1,void 0)}),this._currentDisposables),v(s.commands.registerCommand("pr.createPrMenuMergeWhenReady",()=>{var n;(n=this._createPRViewProvider)==null||n.createFromCommand(!1,!0,void 0,!0)}),this._currentDisposables),v(s.commands.registerCommand("pr.createPrMenuMerge",()=>{var n;(n=this._createPRViewProvider)==null||n.createFromCommand(!1,!0,"merge")}),this._currentDisposables),v(s.commands.registerCommand("pr.createPrMenuSquash",()=>{var n;(n=this._createPRViewProvider)==null||n.createFromCommand(!1,!0,"squash")}),this._currentDisposables),v(s.commands.registerCommand("pr.createPrMenuRebase",()=>{var n;(n=this._createPRViewProvider)==null||n.createFromCommand(!1,!0,"rebase")}),this._currentDisposables),v(s.commands.registerCommand("pr.preReview",()=>{this._createPRViewProvider instanceof Rr&&this._createPRViewProvider.review()}),this._currentDisposables),t&&v(e.state.onDidChange(n=>{this._createPRViewProvider&&e.state.HEAD&&this._createPRViewProvider instanceof Rr&&this._createPRViewProvider.setDefaultCompareBranch(e.state.HEAD)}),this._currentDisposables)}get isCreatingPullRequest(){return!!this._createPRViewProvider}async ensureDefaultsAreLocal(e,t){if(e.gitHubRepositories.some(n=>n.remote.owner===t.owner&&n.remote.repositoryName===t.repo))return t;{const n=await e.getOrigin(),r=await e.getMetadata(n.remote.remoteName);return{owner:r.owner.login,repo:r.name,base:r.default_branch}}}async revert(e,t,n,r,a){var o;const d=!this._createPRViewProvider||!(this._createPRViewProvider instanceof _c);if(d&&this.reset(),this._postCreateCallback=a,await n.loginAndUpdate(),this._activeContext="github:revertPullRequest",this.setActiveContext(!0),d){(o=this._createPRViewProvider)==null||o.dispose();const S={baseOwner:r.remote.owner,repositoryName:r.remote.repositoryName};this._createPRViewProvider=v(new _c(e,S,t,n,{base:r.base.name,owner:r.remote.owner,repo:r.remote.repositoryName},r),this._currentDisposables),this.registerListeners(n.repository,!1),v(s.window.registerWebviewViewProvider(this._createPRViewProvider.viewType,this._createPRViewProvider),this._currentDisposables)}this._createPRViewProvider.show()}async create(e,t,n,r,a){var o,d,S,C;const $=!this._createPRViewProvider||!(this._createPRViewProvider instanceof Rr);$&&this.reset(),this._postCreateCallback=a,await n.loginAndUpdate(),this._activeContext="github:createPullRequest",this.setActiveContext(!0);const Y=((d=r?await n.repository.getBranch(r):void 0)!=null?d:(o=n.repository.state.HEAD)!=null&&o.name)?n.repository.state.HEAD:void 0;let ne;if($){(S=this._createPRViewProvider)==null||S.dispose();const le=await this.ensureDefaultsAreLocal(n,await n.getPullRequestDefaults(Y)),he=await n.getOrigin(Y),ke=v(new h2(n,le.owner,le.base,he.remote.owner,(C=Y==null?void 0:Y.name)!=null?C:le.base,he.remote.repositoryName),this._currentDisposables);ne=this._createPRViewProvider=new Rr(e,ke,t,n,le),this._treeView=v(new hb(n,ke),this._currentDisposables),this.registerListeners(n.repository,!r),v(s.window.registerWebviewViewProvider(this._createPRViewProvider.viewType,this._createPRViewProvider),this._currentDisposables)}else ne=this._createPRViewProvider;ne.show(Y)}reset(){this.setActiveContext(!1),c(this._currentDisposables),this._createPRViewProvider=void 0,this._treeView=void 0,this._postCreateCallback=void 0,this._activeContext=void 0}dispose(){this.reset(),super.dispose()}}var w2=Object.defineProperty,k2=(i,e,t)=>e in i?w2(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t,_2=(i,e,t)=>k2(i,typeof e!="symbol"?e+"":e,t);class S2{constructor(e){this._context=e,_2(this,"_emojiCompletions",[]),this.buildEmojiCompletions()}async buildEmojiCompletions(){const e=await Ms(this._context);for(const[t,n]of Object.entries(e)){const r=new s.CompletionItem({label:n,description:`:${t}:`},s.CompletionItemKind.Text);r.filterText=`:${t}:`,r.sortText=t,this._emojiCompletions.push(r)}}provideCompletionItems(e,t,n,r){if(e.uri.scheme!==Bt.Comment)return[];const a=e.getWordRangeAtPosition(t,/:([-+_a-z0-9]+:?)?/i);if(!a)return[];if(r.triggerKind===s.CompletionTriggerKind.TriggerCharacter&&a.end.character-a.start.character===1&&a.start.character>0){const o=e.getText(new s.Range(a.start.translate(0,-1),a.start));if(!/\s/.test(o))return[]}for(const o of this._emojiCompletions)o.range=a;return new s.CompletionList(this._emojiCompletions,!1)}}class E2 extends nm{constructor(){super()}registerPullRequestPropertyChangedListeners(e,t){return t.onDidChangeFileViewedState(n=>{n.changed.forEach(r=>{this._handlePullRequestPropertyChange(e,t,{path:r.fileName})})})}provideFileDecoration(e,t){if(!e.query)return;const n=Qg(e);if(n&&n.status!==void 0)return{propagate:!1,badge:this.letter(n.status),color:this.color(n.status),tooltip:this.tooltip(n)};const r=yn(e);if(r&&r.status!==void 0)return{propagate:!1,badge:this.letter(r.status),color:this.color(r.status),tooltip:this.tooltip(r)}}gitColors(e){switch(e){case Yt.MODIFY:return"gitDecoration.modifiedResourceForeground";case Yt.ADD:return"gitDecoration.addedResourceForeground";case Yt.DELETE:return"gitDecoration.deletedResourceForeground";case Yt.RENAME:return"gitDecoration.renamedResourceForeground";case Yt.UNKNOWN:return;case Yt.UNMERGED:return"gitDecoration.conflictingResourceForeground"}}remoteReposColors(e){switch(e){case Yt.MODIFY:return"remoteHub.decorations.modifiedForegroundColor";case Yt.ADD:return"remoteHub.decorations.addedForegroundColor";case Yt.DELETE:return"remoteHub.decorations.deletedForegroundColor";case Yt.RENAME:return"remoteHub.decorations.incomingRenamedForegroundColor";case Yt.UNKNOWN:return;case Yt.UNMERGED:return"remoteHub.decorations.conflictForegroundColor"}}color(e){let t=s.extensions.getExtension("vscode.git")?this.gitColors(e):this.remoteReposColors(e);return t?new s.ThemeColor(t):void 0}letter(e){switch(e){case Yt.MODIFY:return"M";case Yt.ADD:return"A";case Yt.DELETE:return"D";case Yt.RENAME:return"R";case Yt.UNKNOWN:return"U";case Yt.UNMERGED:return"C"}return""}tooltip(e){if(e.status===Yt.RENAME&&e.previousFileName)return`Renamed ${e.previousFileName} to ${W.basename(e.fileName)}`}}class R2 extends Uf{constructor(e,t,n){super(t,n),this.repos=e}async readFile(e){await this.waitForAuth(),await this.waitForAnyGitHubRepos(this.repos);const t=MS(e);if(!t)throw new Error(`Invalid GitHub commit URI: ${e.toString()}`);const n=this.repos.getManagerForRepository(t.owner,t.repo);if(!n)throw new Error(`Repository not found for owner: ${t.owner}, repo: ${t.repo}`);const r=await n.createGitHubRepositoryFromOwnerName(t.owner,t.repo);if(!r)throw new Error(`GitHub repository not found for owner: ${t.owner}, repo: ${t.repo}`);return r.getFile(e.path,t.commit)}}var Sc;(i=>{function e(t,n){const r=n.some(d=>t.items.some(S=>S[0]===d)),a=[],o=[];if(t.items.forEach(d=>{const S=d[0],C=d[1];S instanceof bo&&(C==s.TreeItemCheckboxState.Checked?a.push(S):o.push(S)),S.updateFromCheckboxChanged(C)}),r)for(const d of n)d instanceof bo&&!a.includes(d)&&!o.includes(d)&&(d.checkboxState.state===s.TreeItemCheckboxState.Unchecked?a.push(d):o.push(d));if(a.length>0){const d=a[0].pullRequest,S=a.map(C=>C.fileName);d.markFiles(S,!0,"viewed")}if(o.length>0){const d=o[0].pullRequest,S=o.map(C=>C.fileName);d.markFiles(S,!0,"unviewed")}}i.processCheckboxUpdates=e})(Sc||(Sc={}));var N2=Object.defineProperty,C2=(i,e,t)=>e in i?N2(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t,Ou=(i,e,t)=>C2(i,typeof e!="symbol"?e+"":e,t);class yb extends f{constructor(e,t){super(),this._git=e,this._reposManager=t,Ou(this,"_onDidChangeTreeData",new s.EventEmitter),Ou(this,"onDidChangeTreeData",this._onDidChangeTreeData.event),Ou(this,"_pullRequestManagerMap",new Map),Ou(this,"_view"),Ou(this,"_children"),this._view=this._register(s.window.createTreeView("prStatus:github",{treeDataProvider:this,showCollapseAll:!0,canSelectMany:!0})),this._register(s.workspace.onDidChangeConfiguration(async n=>{if(n.affectsConfiguration(`${bt}.${mt}`)){this._onDidChangeTreeData.fire();const r=s.workspace.getConfiguration(bt).get(mt);await s.commands.executeCommand("setContext","fileListLayout:flat",r==="flat")}else n.affectsConfiguration(`${Cr}.${wn}`)?this._onDidChangeTreeData.fire():n.affectsConfiguration(`${bt}.${ni}`)&&this._onDidChangeTreeData.fire()})),this._register(this._view.onDidChangeCheckboxState(n=>Sc.processCheckboxUpdates(n,this._view.selection)))}get view(){return this._view}refresh(e){this._onDidChangeTreeData.fire(e)}updateViewTitle(){let e;if(this._pullRequestManagerMap.size===1){const t=this._pullRequestManagerMap.values().next();t.done||(e=t.value.pullRequestModel.number)}this._view.title=e?s.l10n.t("Changes in Pull Request #{0}",e):this._pullRequestManagerMap.size>1?s.l10n.t("Changes in Pull Requests"):s.l10n.t("Changes in Pull Request")}async addPrToView(e,t,n,r,a){if(y.appendLine(`Adding PR #${t.number} to tree`,M),this._pullRequestManagerMap.has(e)){const d=this._pullRequestManagerMap.get(e);if(d&&d.pullRequestModel===t){y.appendLine(`PR #${t.number} already exists in tree`,M);return}else d==null||d.dispose()}const o=new Ja(this,t,e,n,a);this._pullRequestManagerMap.set(e,o),this.updateViewTitle(),await this.setReviewModeContexts(),this._onDidChangeTreeData.fire(),r&&this.reveal(o)}async setReviewModeContexts(){await ht.setContext(Ft.IN_REVIEW_MODE,this._pullRequestManagerMap.size>0);const e=[],t=[];this._git.repositories.forEach(n=>{const r=this._reposManager.getManagerForFile(n.rootUri);r&&!this._pullRequestManagerMap.has(r)?e.push(n.rootUri):r&&t.push(n.rootUri)}),await ht.setContext(Ft.REPOS_NOT_IN_REVIEW_MODE,e),await ht.setContext(Ft.REPOS_IN_REVIEW_MODE,t)}async removePrFromView(e){const t=this._pullRequestManagerMap.has(e)?this._pullRequestManagerMap.get(e):void 0;t&&y.appendLine(`Removing PR #${t.pullRequestModel.number} from tree`,M),t==null||t.dispose(),this._pullRequestManagerMap.delete(e),this.updateViewTitle(),await this.setReviewModeContexts(),this._onDidChangeTreeData.fire()}getTreeItem(e){return e.getTreeItem()}getParent(e){return e.getParent()}async reveal(e,t){try{await this._view.reveal(e,t)}catch(n){y.error(n,M)}}get children(){return this._children}sortMap(){const e=s.workspace.workspaceFolders,t=(n,r)=>{const a=n.fsPath.toLowerCase(),o=r.fsPath.toLowerCase();return X(a,o)||X(o,a)};return Array.from(this._pullRequestManagerMap.entries()).sort((n,r)=>{if(n[0].repository.rootUri.toString()===r[0].repository.rootUri.toString()||!e)return 0;const a=e.findIndex(d=>t(d.uri,n[0].repository.rootUri)),o=e.findIndex(d=>t(d.uri,r[0].repository.rootUri));return a===-1?1:o===-1?-1:a-o}).map(([n,r])=>r)}async getChildren(e){if(e)return await e.getChildren();if(this._children=[],this._pullRequestManagerMap.size>=1){const t=this.sortMap();for(const n of t)this._children.push(n)}return this._children}getDescriptionNode(e){return this._pullRequestManagerMap.get(e)}async resolveTreeItem(e,t){return t instanceof wo&&await t.resolve(),t}}var T2=Object.defineProperty,A2=(i,e,t)=>e in i?T2(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t,bb=(i,e,t)=>A2(i,typeof e!="symbol"?e+"":e,t);class M2 extends f{constructor(e,t,n){super(),this._prsTreeModel=e,this._copilotManager=t,this._notificationProvider=n,bb(this,"_onDidChangeFileDecorations",new s.EventEmitter),bb(this,"onDidChangeFileDecorations",this._onDidChangeFileDecorations.event),this._register(s.window.registerFileDecorationProvider(this)),this._register(this._prsTreeModel.onDidChangePrStatus(a=>{this._onDidChangeFileDecorations.fire(a.map(o=>uu(o)))})),this._register(this._copilotManager.onDidChangeNotifications(a=>{const o=new Set,d=[];for(const S of a){const C=ev({remote:{owner:S.remote.owner,repositoryName:S.remote.repositoryName},isCopilot:!0});o.has(C.toString())||(o.add(C.toString()),d.push(C)),d.push(uu(S,!0))}this._onDidChangeFileDecorations.fire(d)}));const r=(a,o)=>{var d;o instanceof fn&&(a.push(uu(o)),(d=o.timelineEvents)!=null&&d.some(S=>S.event===Ht.CopilotStarted)&&a.push(uu(o,!0)))};this._register(this._notificationProvider.onDidChangeNotifications(a=>{let o=[];for(const d of a)r(o,d.model);this._onDidChangeFileDecorations.fire(o)})),this._register(s.workspace.onDidChangeConfiguration(a=>{if(a.affectsConfiguration(`${bt}.${_i}`)){const o=[];for(const d of this._notificationProvider.getAllNotifications())r(o,d.model);this._onDidChangeFileDecorations.fire(o)}}))}provideFileDecoration(e,t){if(e.scheme===Bt.PRQuery)return this._queryDecoration(e);if(e.scheme!==Bt.PRNode)return;const n=AS(e);if(!n)return;const r=this._getCopilotDecoration(n);if(r)return r;const a=this._getNotificationDecoration(n);if(a)return a;const o=this._prsTreeModel.cachedPRStatus(n.prIdentifier);return o?eg(o.status):void 0}_getCopilotDecoration(e){if(!e.showCopilot)return;const t=Yg(e.prIdentifier);if(!t)return;const n=new Br(t.remote);if(this._prsTreeModel.hasCopilotNotification(n.owner,n.repositoryName,t.prNumber))return{badge:new s.ThemeIcon("copilot"),color:new s.ThemeColor("pullRequests.notification")}}_queryDecoration(e){const t=qS(e);if(!(!(t!=null&&t.isCopilot)||!t.remote||this._prsTreeModel.getCopilotNotificationsCount(t.remote.owner,t.remote.repositoryName)===0))return{tooltip:s.l10n.t("Coding agent has made changes"),badge:new s.ThemeIcon("copilot"),color:new s.ThemeColor("pullRequests.notification")}}_getNotificationDecoration(e){if(!this.notificationSettingValue())return;const t=Yg(e.prIdentifier);if(!t)return;const n=new Br(t.remote);if(this._notificationProvider.hasNotification({owner:n.owner,repo:n.repositoryName,number:t.prNumber}))return{propagate:!1,color:new s.ThemeColor("pullRequests.notification"),badge:"\u25CF",tooltip:"unread notification"}}notificationSettingValue(){return s.workspace.getConfiguration(bt).get(_i,"off")==="pullRequests"}}var P2=Object.defineProperty,F2=(i,e,t)=>e in i?P2(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t,am=(i,e,t)=>F2(i,typeof e!="symbol"?e+"":e,t);class va extends vr{constructor(e,t,n,r,a,o,d,S){super(e),this.folderManager=n,this.telemetry=r,this.notificationProvider=a,this.context=o,this._prsTreeModel=d,this._copilotMananger=S,am(this,"_children"),am(this,"collapsibleState"),am(this,"iconPath"),this.collapsibleState=s.TreeItemCollapsibleState.Expanded,this.label=W.basename(t.fsPath),this.id=n.repository.rootUri.toString()}async expandPullRequest(e){if(this._children){for(const t of this._children)if(t.type===on.All)return t.expandPullRequest(e)}return!1}static async getQueries(e){var t;return(t=s.workspace.getConfiguration(bt,e.repository.rootUri).get(fi))!=null?t:[]}getTreeItem(){return this}async getChildren(e=!0){return super.getChildren(e),!e&&this._children?this._children:(this._children=await va.getCategoryTreeNodes(this.folderManager,this.telemetry,this,this.notificationProvider,this.context,this._prsTreeModel,this._copilotMananger),this._children)}static async getCategoryTreeNodes(e,t,n,r,a,o,d){const S=await va.getQueries(e),C=new Map;for(const $ of S)jf($)?C.set($.label,new na(n,e,t,on.LocalPullRequest,r,o,d)):zf($)?C.set($.label,new na(n,e,t,on.All,r,o,d)):C.set($.label,new na(n,e,t,on.Query,r,o,d,$.label,$.query));return Array.from(C.values())}}var D2=Object.defineProperty,I2=(i,e,t)=>e in i?D2(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t,qs=(i,e,t)=>I2(i,typeof e!="symbol"?e+"":e,t);class wb extends f{constructor(e,t,n,r,a){super(),this.prsTreeModel=e,this._telemetry=t,this._context=n,this._reposManager=r,this._copilotManager=a,qs(this,"_onDidChangeTreeData",new s.EventEmitter),qs(this,"onDidChangeTreeData",this._onDidChangeTreeData.event),qs(this,"_onDidChange",new s.EventEmitter),qs(this,"_children"),qs(this,"_view"),qs(this,"_initialized",!1),qs(this,"_notificationsProvider"),qs(this,"_notificationClearTimeout"),this._register(this.prsTreeModel.onDidChangeData(o=>{o instanceof lo?this.refreshRepo(o):Array.isArray(o)?this.refreshPullRequests(o):this.refreshAllQueryResults(!0)})),this._register(s.commands.registerCommand("pr.refreshList",o=>{this.prsTreeModel.forceClearCache(),this.refreshAllQueryResults(!0)})),this._register(s.commands.registerCommand("pr.loadMore",o=>{o.fetchNextPage=!0,this.refresh(o)})),this._view=this._register(s.window.createTreeView("pr:github",{treeDataProvider:this,showCollapseAll:!0})),this._register(this._view.onDidChangeVisibility(o=>{if(o.visible){const d=rr.getCurrentPullRequest();d&&this.syncWithActivePullRequest(d)}})),this._register({dispose:()=>{this._notificationClearTimeout&&(clearTimeout(this._notificationClearTimeout),this._notificationClearTimeout=void 0)}}),this._register(this._copilotManager.onDidChangeStates(()=>{this.refreshAllQueryResults()})),this._register(this._copilotManager.onDidChangeNotifications(()=>{this.updateBadge()})),this.updateBadge(),this._register(this._copilotManager.onDidCreatePullRequest(()=>this.refreshAllQueryResults(!0))),this._register(rr.onVisible(o=>{this._view.visible&&this.syncWithActivePullRequest(o)})),this._children=[],this._register(s.commands.registerCommand("pr.configurePRViewlet",async()=>{switch(await s.window.showQuickPick(["Configure Remotes...","Configure Queries...","Configure All Pull Request Settings..."])){case"Configure Queries...":return s.commands.executeCommand("workbench.action.openSettings",`@ext:${jn} pull request queries`);case"Configure Remotes...":return s.commands.executeCommand("workbench.action.openSettings",`@ext:${jn} remotes`);case"Configure All Pull Request Settings...":return s.commands.executeCommand("workbench.action.openSettings",`@ext:${jn} pull request`);default:return}})),this._register(s.workspace.onDidChangeConfiguration(o=>{o.affectsConfiguration(`${bt}.${mt}`)&&this.refreshAll()})),this._register(this._view.onDidChangeCheckboxState(o=>Sc.processCheckboxUpdates(o,[]))),this._register(this._view.onDidExpandElement(o=>{this.prsTreeModel.updateExpandedQueries(o.element,!0)})),this._register(this._view.onDidCollapseElement(o=>{this.prsTreeModel.updateExpandedQueries(o.element,!1)}))}get onDidChange(){return this._onDidChange.event}get children(){return this._children}get view(){return this._view}filterNotificationsToKnown(e){return e.filter(t=>this.prsTreeModel.hasPullRequest(t)?!this.prsTreeModel.hasCopilotNotification(t.remote.owner,t.remote.repositoryName,t.number):!1)}updateBadge(){var e;const n=((e=this._notificationsProvider)==null?void 0:e.isPRNotificationsOn())?this.filterNotificationsToKnown(this._notificationsProvider.prNotifications).length:0,r=this.prsTreeModel.copilotNotificationsCount,a=n+r;if(a===0){this._view.badge=void 0;return}n>0&&r>0?r===1?n===1?this._view.badge={tooltip:s.l10n.t("Coding agent has 1 pull request to view, plus 1 other pull request notification"),value:a}:this._view.badge={tooltip:s.l10n.t("Coding agent has 1 pull request to view, plus {0} other pull request notifications",n),value:a}:n===1?this._view.badge={tooltip:s.l10n.t("Coding agent has {0} pull requests to view, plus 1 other pull request notification",r),value:a}:this._view.badge={tooltip:s.l10n.t("Coding agent has {0} pull requests to view, plus {1} other pull request notifications",r,n),value:a}:r>0?r===1?this._view.badge={tooltip:s.l10n.t("Coding agent has 1 pull request to view"),value:a}:this._view.badge={tooltip:s.l10n.t("Coding agent has {0} pull requests to view",r),value:a}:n>0&&(n===1?this._view.badge={tooltip:s.l10n.t("1 pull request notification"),value:a}:this._view.badge={tooltip:s.l10n.t("{0} pull request notifications",n),value:a})}async expandPullRequest(e){this._children.length===0&&await this.getChildren();for(const t of this._children)if(t instanceof va){if(await t.expandPullRequest(e))return}else if(t.type===on.All&&await t.expandPullRequest(e))return}async reveal(e,t){return this._view.reveal(e,t)}async syncWithActivePullRequest(e){if(!this._view.selection.find(n=>n instanceof yr&&n.pullRequestModel.number===e.number&&n.pullRequestModel.remote.owner===e.remote.owner&&n.pullRequestModel.remote.repositoryName===e.remote.repositoryName))try{const n=await this.findPRNode(e);n&&await this.reveal(n,{select:!0,focus:!1,expand:!1})}catch(n){y.warn(`Failed to sync tree view with active PR: ${n}`)}}async findPRNode(e){this._children.length===0&&await this.getChildren();for(const t of this._children)if(t instanceof va){const n=await this.findPRNodeInWorkspaceFolder(t,e);if(n)return n}else if(t instanceof na){const n=await this.findPRNodeInCategory(t,e);if(n)return n}}async findPRNodeInWorkspaceFolder(e,t){const n=await e.getChildren(!1);for(const r of n)if(r instanceof na){const a=await this.findPRNodeInCategory(r,t);if(a)return a}}async findPRNodeInCategory(e,t){if(e.collapsibleState!==s.TreeItemCollapsibleState.Expanded)return;const n=await e.getChildren(!1);for(const r of n)if(r instanceof yr&&r.pullRequestModel.number===t.number&&r.pullRequestModel.remote.owner===t.remote.owner&&r.pullRequestModel.remote.repositoryName===t.remote.repositoryName)return r}initialize(e,t){if(this._initialized)throw new Error("Tree has already been initialized!");this._initialized=!0,this._register(this._reposManager.onDidChangeState(()=>{this.refreshAll()})),this._register(this._reposManager.onDidLoadAnyRepositories(()=>{this.refreshAll()}));for(const n of e)this._register(n.onDidChangeLocalFileChanges(r=>{this.refreshAllQueryResults()}));this._notificationsProvider=t,this._register(this._notificationsProvider.onDidChangeNotifications(()=>{this.updateBadge()})),this._register(new M2(this.prsTreeModel,this._copilotManager,this._notificationsProvider)),this.initializeCategories(),this.refreshAll()}async initializeCategories(){this._register(s.workspace.onDidChangeConfiguration(async e=>{e.affectsConfiguration(`${bt}.${fi}`)&&this.refreshAll()}))}refreshAll(e){this.tryReset(!!e),this._onDidChangeTreeData.fire()}tryReset(e){e&&this.prsTreeModel.clearCache(!0)}refreshAllQueryResults(e){if(this.tryReset(!!e),!this._children||this._children.length===0){this._onDidChangeTreeData.fire();return}if(this._children[0]instanceof va){this._children.forEach(t=>this.refreshQueryResultsForFolder(t));return}this.refreshQueryResultsForFolder()}refreshQueryResultsForFolder(e,t){var n;if(!e&&this._children[0]instanceof va)throw new Error("Must specify a folder node to refresh when there are multiple folder nodes");if(!this._children||this._children.length===0){this._onDidChangeTreeData.fire();return}const r=(n=e==null?void 0:e.children)!=null?n:this._children;this.tryReset(!!t),this._onDidChangeTreeData.fire([...r])}refresh(e,t){return this.tryReset(!!t),this._onDidChangeTreeData.fire(e)}refreshRepo(e){if(this._children.length===0||this._children[0]instanceof na&&this._children[0].folderRepoManager===e)return this.refreshQueryResultsForFolder(void 0,!0);if(this._children[0]instanceof va){const n=this._children.find(r=>r.folderManager===e);if(n){this.refreshQueryResultsForFolder(n);return}}}refreshPullRequests(e){var t,n,r;if(!((t=this._children)!=null&&t.length)||!(e!=null&&e.length))return;const a=[],o=new Set,d=new Set;for(const Y of e)d.add(Y.model.number),Y.event.state&&o.add(Y.model.number);const S=Y=>{var ne;const le=(ne=Y.children)!=null?ne:[];for(const he of le)if(he instanceof yr&&o.has(he.pullRequestModel.number))return!0;return!1},C=new Set;for(const Y of this._children)if(Y instanceof va){const ne=(n=Y.children)!=null?n:[];for(const le of ne)le instanceof na&&!C.has(le)&&S(le)&&C.add(le)}else Y instanceof na&&!C.has(Y)&&S(Y)&&C.add(Y);const $=Y=>{var ne;const le=(ne=Y.children)!=null?ne:[];for(const he of le)he instanceof yr&&d.has(he.pullRequestModel.number)&&a.push(he)};for(const Y of this._children)if(Y instanceof va){const ne=(r=Y.children)!=null?r:[];for(const le of ne)le instanceof na&&!C.has(le)&&$(le)}else Y instanceof na&&!C.has(Y)&&$(Y);(a.length||C.size>0)&&this._onDidChangeTreeData.fire([...Array.from(C),...a])}getTreeItem(e){return e.getTreeItem()}async resolveTreeItem(e,t){var n;return t instanceof $d?(await t.resolve(),e=t.getTreeItem()):t instanceof yr&&(e.tooltip=await ao(t.pullRequestModel,this._context,this._reposManager,void 0,(n=this.prsTreeModel.cachedPRStatus(Af(t.pullRequestModel)))==null?void 0:n.status)),e}async needsRemotes(){var e,t,n;if(((e=this._reposManager)==null?void 0:e.state)===gr.NeedsAuthentication)return[];const r=s.workspace.getConfiguration(bt).get(dn);let a;r?a=[new Os(this,ll.NoMatchingRemotes),new Os(this,ll.ConfigureRemotes)]:a=[new Os(this,ll.NoRemotes)];const{enterpriseRemotes:o}=this._reposManager?await fp((t=this._reposManager)==null?void 0:t.folderManagers):{enterpriseRemotes:[]};return o.length>0&&!((n=this._reposManager)!=null&&n.credentialStore.isAuthenticated(Ni.githubEnterprise))&&a.push(new Os(this,ll.LoginEnterprise)),a}async cachedChildren(e){return e?e.cachedChildren():this._children}async getChildren(e){var t;if(!((t=this._reposManager)!=null&&t.folderManagers.length))return[];if(this._reposManager.state===gr.Initializing)return ht.setContext(Ft.LOADING_PRS_TREE,!0),[];const n=await Promise.all(this._reposManager.folderManagers.map(a=>a.getGitHubRemotes()));if(this._reposManager.folderManagers.filter((a,o)=>n[o].length>0).length===0)return this.needsRemotes();const r=this._reposManager.folderManagers.filter(a=>a.gitHubRepositories.length>0);if(!e){this._children&&this._children.length&&this._children.forEach(o=>o.dispose());let a;return r.length===1?a=await va.getCategoryTreeNodes(r[0],this._telemetry,this,this._notificationsProvider,this._context,this.prsTreeModel,this._copilotManager):a=r.map(o=>new va(this,o.repository.rootUri,o,this._telemetry,this._notificationsProvider,this._context,this.prsTreeModel,this._copilotManager)),this._children=a,a}return r.filter(a=>a.repository.state.remotes.length>0).length===0?Promise.resolve([new Os(this,ll.Empty)]):e.getChildren()}async getParent(e){return e.getParent()}}var x2=Object.defineProperty,O2=(i,e,t)=>e in i?x2(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t,Fn=(i,e,t)=>O2(i,typeof e!="symbol"?e+"":e,t);const kb="expandedQueries",_b=class Vb extends f{constructor(e,t,n){super(),this._telemetry=e,this._reposManager=t,this._context=n,Fn(this,"_activePRDisposables",new Map),Fn(this,"_onDidChangePrStatus",this._register(new s.EventEmitter)),Fn(this,"onDidChangePrStatus",this._onDidChangePrStatus.event),Fn(this,"_onDidChangeData",this._register(new s.EventEmitter)),Fn(this,"onDidChangeData",this._onDidChangeData.event),Fn(this,"_expandedQueries"),Fn(this,"_hasLoaded",!1),Fn(this,"_onLoaded",this._register(new s.EventEmitter)),Fn(this,"onLoaded",this._onLoaded.event),Fn(this,"_queriedPullRequests",new Map),Fn(this,"_cachedPRs",new Map),Fn(this,"_allCachedPRs",new Set),Fn(this,"_repoEvents",new Map),Fn(this,"_getPullRequestsForQueryLock",Promise.resolve()),Fn(this,"_sentNoRepoTelemetry",!1),Fn(this,"copilotStateModel"),Fn(this,"_onDidChangeCopilotStates",this._register(new s.EventEmitter)),Fn(this,"onDidChangeCopilotStates",this._onDidChangeCopilotStates.event),Fn(this,"_onDidChangeCopilotNotifications",this._register(new s.EventEmitter)),Fn(this,"onDidChangeCopilotNotifications",this._onDidChangeCopilotNotifications.event),Fn(this,"_getStateChangesPromise"),this.copilotStateModel=new jp,this._register(this.copilotStateModel.onDidChangeCopilotStates(()=>this._onDidChangeCopilotStates.fire())),this._register(this.copilotStateModel.onDidChangeCopilotNotifications(o=>this._onDidChangeCopilotNotifications.fire(o)));const r=o=>{this._repoEvents.has(o)?c(this._repoEvents.get(o)):this._repoEvents.set(o,[]),this._repoEvents.get(o).push(o.onDidChangeActivePullRequest(d=>{const S=[];d.old&&S.push({model:d.old,event:{}}),d.new&&S.push({model:d.new,event:{}}),this._onDidChangeData.fire(S),this._activePRDisposables.has(o)&&(c(this._activePRDisposables.get(o)),this._activePRDisposables.delete(o)),o.activePullRequest&&this._activePRDisposables.set(o,[o.activePullRequest.onDidChange(C=>{C.comments&&o.activePullRequest&&this._onDidChangeData.fire([{model:o.activePullRequest,event:C}])})])}))};this._register({dispose:()=>this._repoEvents.forEach(o=>c(o))});for(const o of this._reposManager.folderManagers)r(o);this._register(this._reposManager.onDidChangeAnyPullRequests(o=>{const d=[],S=[];for(const C of o)C.event.state&&d.push(C),S.push(C);this.forceClearQueriesContainingPullRequests(d),this._onDidChangeData.fire(S)})),this._register(this._reposManager.onDidAddPullRequest(()=>{this._hasLoaded&&this._onDidChangeData.fire()})),this._register(this._reposManager.onDidChangeFolderRepositories(o=>{o.added&&(r(o.added),this._onDidChangeData.fire(o.added))})),this._register(this._reposManager.onDidChangeAnyGitHubRepository(o=>{this._onDidChangeData.fire(o)}));const a=this._context.workspaceState.get(kb,void 0);a&&(this._expandedQueries=new Set(a))}updateExpandedQueries(e,t){this._expandedQueries||(this._expandedQueries=new Set),e instanceof na&&e.id&&(t?this._expandedQueries.add(e.id):this._expandedQueries.delete(e.id),this._context.workspaceState.update(kb,Array.from(this._expandedQueries.keys())))}get expandedQueries(){return this._reposManager.folderManagers.length>3&&this._expandedQueries&&this._expandedQueries.size>0?new Set:this._expandedQueries}get hasLoaded(){return this._hasLoaded}set hasLoaded(e){this._hasLoaded=e,this._onLoaded.fire()}cachedPRStatus(e){return this._queriedPullRequests.get(e)}forceClearCache(){this._cachedPRs.clear(),this._allCachedPRs.clear(),this._onDidChangeData.fire()}hasPullRequest(e){return this._allCachedPRs.has(e)}clearCache(e=!1){if(this._cachedPRs.size!==0){for(const t of this._cachedPRs.values())for(const[,n]of t.entries())n&&(n.clearRequested=!0);e||this._onDidChangeData.fire()}}_clearOneCache(e,t){const n=this.getFolderCache(e);if(n.has(t)){const r=n.get(t);r&&(r.clearRequested=!0)}}async _getChecks(e){let t=[];for(let r=0;r<e.length;r+=100){const a=r+100<e.length?r+100:e.length;t.push(...await Promise.all(e.slice(r,a).map(o=>o.getStatusChecks())))}const n=[];for(let r=0;r<e.length;r++){const a=e[r],[o,d]=t[r];let S=Ur.None;if(d&&(d.state===Un.Failure?S|=Ur.ReviewRequired:d.state==Un.Pending&&(S|=Ur.ChangesRequested)),!o||o.state===Un.Unknown)continue;if(o.state!==Un.Success){for(const Y of o.statuses)Y.state===Un.Failure?S|=Ur.CIFailed:Y.state===Un.Pending&&(S|=Ur.CIPending);S===Ur.None&&(S|=Ur.CIPending)}const C=Af(a),$=this._queriedPullRequests.get(C);if($===void 0||$.status!==S){const Y={pullRequest:a,status:S};n.push(C),this._queriedPullRequests.set(C,Y)}}this._onDidChangePrStatus.fire(n)}getFolderCache(e){let t=this._cachedPRs.get(e);return t||(t=new Map,this._cachedPRs.set(e,t)),t}async getLocalPullRequests(e,t){const n=this.getFolderCache(e);if(!t&&n.has(on.LocalPullRequest))return n.get(on.LocalPullRequest).items;const r=ur(),a=(await e.getLocalPullRequests()).filter(d=>d.isOpen||d.isClosed&&r.closed||d.isMerged&&r.merged),o={clearRequested:!1,maxKnownPR:void 0,items:{hasMorePages:!1,hasUnsearchedRepositories:!1,items:a,totalCount:a.length}};return n.set(on.LocalPullRequest,o),a.forEach(d=>this._allCachedPRs.add(d)),this._telemetry.sendTelemetryEvent("pr.expand.local"),this._getChecks(a),this.hasLoaded=!0,{hasMorePages:!1,hasUnsearchedRepositories:!1,items:a}}async _testIfRefreshNeeded(e,t,n){if(!e.clearRequested)return!1;const r=await of(n,t);if(!r)return this._sentNoRepoTelemetry||(this._telemetry.sendTelemetryEvent("pr.expand.noRepo"),this._sentNoRepoTelemetry=!0),!0;const a=await this._getMaxKnownPR(r);return a!==e.maxKnownPR?(e.maxKnownPR=a,!0):!1}async _getMaxKnownPR(e){const t=this._reposManager.getManagerForRepository(e.owner,e.repositoryName);if(!t)return;const n=t.findExistingGitHubRepository({owner:e.owner,repositoryName:e.repositoryName});if(n)return n.getMaxPullRequest()}async getPullRequestsForQuery(e,t,n,r=!1){var a;let o;const d=new Promise(C=>{o=C}),S=this._getPullRequestsForQueryLock;this._getPullRequestsForQueryLock=S.then(()=>d),await S;try{let C;const $=this.getFolderCache(e),Y=$.get(n);if(!t&&$.has(n)){const le=await this._testIfRefreshNeeded($.get(n),n,e);if(C=Y.maxKnownPR,!le)return Y.clearRequested=!1,Y.items}if(!C){const le=await of(e,n);le&&(C=await this._getMaxKnownPR(le))}const ne=await e.getPullRequests(on.Query,{fetchNextPage:t,fetchOnePagePerRepo:r},n);return t&&(ne.items=(a=Y==null?void 0:Y.items.items.concat(ne.items))!=null?a:ne.items),$.set(n,{clearRequested:!1,items:ne,maxKnownPR:C}),ne.items.forEach(le=>this._allCachedPRs.add(le)),this._telemetry.sendTelemetryEvent("pr.expand.query"),this._getChecks(ne.items),this.hasLoaded=!0,ne}finally{o()}}async getAllPullRequests(e,t,n){var r;const a=this.getFolderCache(e),o=a.get(on.All);if(!n&&o&&!o.clearRequested&&!t)return o.items;const d=await e.getPullRequests(on.All,{fetchNextPage:t});return t&&(d.items=(r=o==null?void 0:o.items.items.concat(d.items))!=null?r:d.items),a.set(on.All,{clearRequested:!1,items:d,maxKnownPR:void 0}),d.items.forEach(S=>this._allCachedPRs.add(S)),this._telemetry.sendTelemetryEvent("pr.expand.all"),this._getChecks(d.items),this.hasLoaded=!0,d}forceClearQueriesContainingPullRequests(e){const t=e.filter(n=>n.event.state);if(!(!t||t.length===0))for(const[,n]of this._cachedPRs.entries())for(const[r,a]of n.entries()){if(!a||!a.items.items||a.items.items.length===0)continue;if(t.some(d=>a.items.items.some(S=>S===d.model))){const d=n.get(r);d&&d.items.items.forEach(S=>this._allCachedPRs.delete(S)),n.delete(r)}}}getCopilotNotificationsCount(e,t){return this.copilotStateModel.getNotificationsCount(e,t)}get copilotNotificationsCount(){return this.copilotStateModel.notifications.size}clearAllCopilotNotifications(e,t){this.copilotStateModel.clearAllNotifications(e,t)}clearCopilotNotification(e,t,n){this.copilotStateModel.clearNotification(e,t,n)}hasCopilotNotification(e,t,n){if(n!==void 0){const r=this.copilotStateModel.makeKey(e,t,n);return this.copilotStateModel.notifications.has(r)}else{const r=this.copilotStateModel.makeKey(e,t);return Array.from(this.copilotStateModel.notifications.keys()).some(a=>a.startsWith(r))}}getCopilotStateForPR(e,t,n){return this.copilotStateModel.get(e,t,n)}getCopilotCounts(e,t){return this.copilotStateModel.getCounts(e,t)}clearCopilotCaches(){const e=Vp();if(!e)return!1;for(const t of this._reposManager.folderManagers)this._clearOneCache(t,e)}async refreshCopilotStateChanges(e=!1){return s.workspace.getConfiguration(bt).get(rs,!1)?!1:this._getStateChangesPromise?this._getStateChangesPromise:(e&&this.clearCopilotCaches(),this._getStateChangesPromise=(async()=>{var n;try{const r=new Set(this.copilotStateModel.keys());let a=0;const o=Vp();if(!o)return!1;const d=[];for(const S of this._reposManager.folderManagers){a++;const C=[];let $=!0;do{const Y=await this.getPullRequestsForQuery(S,!this.copilotStateModel.isInitialized,o,!0);C.push(...Y.items),$=Y.hasMorePages}while($);for(const Y of C){r.delete(this.copilotStateModel.makeKey(Y.remote.owner,Y.remote.repositoryName,Y.number));const ne=await Y.getCopilotTimelineEvents(!1,!this.copilotStateModel.isInitialized);let le=id(ne[ne.length-1]);if(le===Lr.None){if(!cn[Y.author.login])continue;le=Lr.Started}const he=(n=this.copilotStateModel.get(Y.remote.owner,Y.remote.repositoryName,Y.number))!=null?n:Lr.None;le!==he&&d.push({item:Y,status:le})}}for(const S of r)this.copilotStateModel.deleteKey(S);return this.copilotStateModel.set(d),this.copilotStateModel.isInitialized||a===this._reposManager.folderManagers.length&&this._reposManager.folderManagers.length>0&&(y.debug(`Copilot PR state initialized with ${this.copilotStateModel.keys().length} PRs`,Vb.ID),this.copilotStateModel.setInitialized()),!0}finally{this._getStateChangesPromise=void 0}})(),this._getStateChangesPromise)}async getCopilotPullRequests(e=!1){return e&&this.clearCopilotCaches(),await this.refreshCopilotStateChanges(e),this.copilotStateModel.all}dispose(){super.dispose(),c(Array.from(this._activePRDisposables.values()).flat())}};Fn(_b,"ID","PrsTreeModel");let L2=_b;var U2=Object.defineProperty,B2=(i,e,t)=>e in i?U2(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t,Sb=(i,e,t)=>B2(i,typeof e!="symbol"?e+"":e,t);const Eb=class Uu extends Uf{constructor(e,t,n){super(e,t),this.getReviewManagers=n,Sb(this,"_fallback")}getChangeModelForFileAndFilesArray(e,t){for(const n of this.getReviewManagers()){const r=t(n);for(const a of r)if(a.changeModel.filePath.authority===e.authority&&a.changeModel.filePath.path===e.path)return a.changeModel}}getChangeModelForFile(e){return this.getChangeModelForFileAndFilesArray(e,t=>t.reviewModel.localFileChanges)}getOutdatedChangeModelForFile(e){return this.getChangeModelForFileAndFilesArray(e,t=>t.reviewModel.obsoleteFileChanges)}async getRepositoryForFile(e){return await this.waitForAuth(),(this.gitAPI.state!=="initialized"||this.gitAPI.repositories.length===0)&&await this.waitForRepos(4e3),md(this.gitAPI,e)}async readFile(e){var t;if(!this._fallback)return new TextEncoder().encode("");const{path:n,commit:r,rootPath:a}=ta(e.query);if(!n||!r)return new TextEncoder().encode("");const o=await this.getRepositoryForFile(s.Uri.file(a));if(!o)return s.window.showErrorMessage(`We couldn't find an open repository for ${r} locally.`),new TextEncoder().encode("");const d=W.join(o.rootUri.fsPath,n).replace(/\\/g,"/");let S;try{if(y.appendLine(`Getting change model (${o.rootUri}) content for commit ${r} and path ${d}`,Uu.ID),S=await((t=this.getChangeModelForFile(e))==null?void 0:t.showBase()),S||(y.appendLine(`Getting repository (${o.rootUri}) content for commit ${r} and path ${d}`,Uu.ID),S=await o.show(r,d)),!S)throw new Error}catch{if(y.appendLine("Using fallback content provider.",Uu.ID),S=await this._fallback(e),!S)try{await o.getCommit(r)}catch($){y.error($,Uu.ID),this.getOutdatedChangeModelForFile(e)?s.window.showInformationMessage(s.l10n.t("We couldn't find commit {0}. Sometimes commits can disappear after a force-push.",r)):s.window.showErrorMessage(s.l10n.t("We couldn't find commit {0} locally. You may want to sync the branch with remote. Sometimes commits can disappear after a force-push.",r))}}return new TextEncoder().encode(S||"")}registerTextDocumentContentFallback(e){this._fallback=e}};Sb(Eb,"ID","GitContentFileSystemProvider");let q2=Eb;var $2=Object.defineProperty,H2=(i,e,t)=>e in i?$2(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t,G2=(i,e,t)=>H2(i,typeof e!="symbol"?e+"":e,t);class Rb extends f{constructor(e,t,n,r,a,o,d,S,C,$,Y){super(),this._context=e,this._reposManager=t,this._reviewManagers=n,this._prsTreeModel=r,this._prsTreeDataProvider=a,this._prFileChangesProvider=o,this._telemetry=d,this._credentialStore=S,this._gitApi=C,this._copilotManager=$,this._notificationsManager=Y;const ne=new q2(C,S,()=>this._reviewManagers);ne.registerTextDocumentContentFallback(this.provideTextDocumentContent.bind(this)),this._register(s.workspace.registerFileSystemProvider(Bt.Review,ne,{isReadonly:!0})),this.registerListeners(),this._register(this._prsTreeDataProvider)}get reviewManagers(){return this._reviewManagers}registerListeners(){this._register(s.workspace.onDidChangeConfiguration(async e=>{if(e.affectsConfiguration("githubPullRequests.showInSCM")){if(this._prFileChangesProvider){this._prFileChangesProvider.dispose(),this._prFileChangesProvider=new yb(this._gitApi,this._reposManager);for(const t of this._reviewManagers)t.updateState(!0)}this._prsTreeDataProvider.dispose(),this._prsTreeDataProvider=this._register(new wb(this._prsTreeModel,this._telemetry,this._context,this._reposManager,this._copilotManager)),this._prsTreeDataProvider.initialize(this._reviewManagers.map(t=>t.reviewModel),this._notificationsManager)}}))}async provideTextDocumentContent(e){for(const t of this._reviewManagers)if(X(t.repository.rootUri.fsPath,e.fsPath))return t.provideTextDocumentContent(e);return""}addReviewManager(e){const t=s.workspace.workspaceFolders;if(t){const n=t.findIndex(r=>r.uri.toString()===e.repository.rootUri.toString());if(n>-1){const r=this._reviewManagers.slice(n,this._reviewManagers.length);this._reviewManagers=this._reviewManagers.slice(0,n),this._reviewManagers.push(e),this._reviewManagers.push(...r);return}}this._reviewManagers.push(e)}removeReviewManager(e){const t=this._reviewManagers.findIndex(n=>n.repository.rootUri.toString()===e.rootUri.toString());if(t>=0){const n=this._reviewManagers[t];this._reviewManagers.splice(t),n.dispose()}}async switchToPr(e,t,n,r){const a=n||e.repository;if(await V2(a))return this._telemetry.sendTelemetryEvent("pr.checkout",{fromDescription:r.toString()}),s.window.withProgress({location:s.ProgressLocation.SourceControl,title:s.l10n.t("Switching to Pull Request #{0}",t.number)},async()=>{var d;await((d=ia.getReviewManagerForRepository(this._reviewManagers,t.githubRepository,n))==null?void 0:d.switch(t))})}}G2(Rb,"ID","Reviews");const Nb=s.l10n.t("Stash changes"),Cb=s.l10n.t("Discard changes"),Tb=s.l10n.t("Try to checkout anyway and don't show again"),Ab=s.l10n.t("uncommitted changes warning"),Mb="showWarning";async function V2(i){if(Kf(Ab,Mb)===!1)return!0;const e=i.state.workingTreeChanges.filter(a=>a.status!==yt.UNTRACKED),t=e.length>0,n=i.state.indexChanges.length>0;if(!t&&!n)return!0;const r=await s.window.showInformationMessage(s.l10n.t("You have uncommitted changes that might be overwritten by checking out this pull request."),{modal:!0,detail:s.l10n.t("Choose how to handle your uncommitted changes before checking out the pull request.")},Nb,Cb,Tb);if(!r)return!1;if(r===Tb)return Qf(Ab,Mb,!1),!0;try{if(r===Nb){const a=[...e.map(o=>o.uri.fsPath),...i.state.indexChanges.map(o=>o.uri.fsPath)];a.length>0&&(await i.add(a),await s.commands.executeCommand("git.stash",i))}else if(r===Cb){const a=e.map(o=>o.uri.fsPath);a.length>0&&await i.clean(a)}return!0}catch(a){return s.window.showErrorMessage(s.l10n.t("Failed to handle uncommitted changes: {0}",_e(a))),!1}}var j2=Object.defineProperty,z2=(i,e,t)=>e in i?j2(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t,Lu=(i,e,t)=>z2(i,typeof e!="symbol"?e+"":e,t);class W2 extends Cp{constructor(e,t,n,r){super(e),this._folderRepositoryManager=t,this._reviewManager=n,this._item=r,Lu(this,"viewType","github:activePullRequest"),Lu(this,"_existingReviewers",[]),Lu(this,"_isUpdating",!1),Lu(this,"_prDisposables"),Lu(this,"_updatePendingVisibility"),this._register(s.commands.registerCommand("pr.readyForReview",async()=>this.readyForReviewCommand())),this._register(s.commands.registerCommand("pr.readyForReviewAndMerge",async a=>this.readyForReviewAndMergeCommand(a))),this._register(s.commands.registerCommand("review.approve",a=>this.approvePullRequestCommand(a))),this._register(s.commands.registerCommand("review.comment",a=>this.submitReviewCommand(a))),this._register(s.commands.registerCommand("review.requestChanges",a=>this.requestChangesCommand(a))),this._register(s.commands.registerCommand("review.approveOnDotCom",()=>Za(this._item,this._folderRepositoryManager.telemetry))),this._register(s.commands.registerCommand("review.requestChangesOnDotCom",()=>Za(this._item,this._folderRepositoryManager.telemetry)))}resolveWebviewView(e,t,n){super.resolveWebviewView(e,t,n),e.webview.html=this._getHtmlForWebview(),this.updatePullRequest(this._item)}async updateBranch(e){return vn.updateBranch(this.getReviewContext(),e,()=>this.refresh())}async _onDidReceiveMessage(e){if(await super._onDidReceiveMessage(e)===this.MESSAGE_UNHANDLED)switch(e.command){case"alert":s.window.showErrorMessage(e.args);return;case"pr.close":return this.close(e);case"pr.comment":return this.createComment(e);case"pr.merge":return this.mergePullRequest(e);case"pr.open-create":return this.create();case"pr.deleteBranch":return this.deleteBranch(e);case"pr.readyForReview":return this.setReadyForReview(e);case"pr.approve":return this.approvePullRequestMessage(e);case"pr.request-changes":return this.requestChangesMessage(e);case"pr.submit":return this.submitReviewMessage(e);case"pr.openOnGitHub":return Za(this._item,this._folderRepositoryManager.telemetry);case"pr.checkout-default-branch":return this.checkoutDefaultBranch(e);case"pr.update-branch":return this.updateBranch(e);case"pr.re-request-review":return this.reRequestReview(e)}}async checkoutDefaultBranch(e){return vn.checkoutDefaultBranch(this.getReviewContext(),e)}reRequestReview(e){return vn.reRequestReview(this.getReviewContext(),e)}async refresh(){return s.window.withProgress({location:{viewId:"github:activePullRequest"}},async()=>{await this._item.initializeReviewThreadCache(),await this.updatePullRequest(this._item)})}getCurrentUserReviewState(e,t){return vn.getCurrentUserReviewState(e,t)}getReviewContext(){return{item:this._item,folderRepositoryManager:this._folderRepositoryManager,existingReviewers:this._existingReviewers,postMessage:e=>this._postMessage(e),replyMessage:(e,t)=>this._replyMessage(e,t),throwError:(e,t)=>this._throwError(e,t),getTimeline:()=>this._item.getTimelineEvents()}}registerPrSpecificListeners(e){this._prDisposables!==void 0&&c(this._prDisposables),this._prDisposables=[],this._prDisposables.push(e.onDidChange(t=>{(t.state||t.comments||t.reviewers)&&!this._isUpdating&&this.updatePullRequest(e)})),this._prDisposables.push(e.onDidChangePendingReviewState(()=>this.updatePullRequest(e)))}async updatePullRequest(e){var t;if(this._isUpdating)throw new Error("Already updating pull request view");this._isUpdating=!0;try{this._view&&!this._view.visible&&((t=this._updatePendingVisibility)==null||t.dispose(),this._updatePendingVisibility=this._view.onDidChangeVisibility(async()=>{var nt;this.updatePullRequest(e),(nt=this._updatePendingVisibility)==null||nt.dispose()})),(this._prDisposables===void 0||e.number!==this._item.number)&&this.registerPrSpecificListeners(e),this._item=e;const[n,r,a,o,d,S,C,$,Y,ne]=await Promise.all([this._folderRepositoryManager.resolvePullRequest(e.remote.owner,e.remote.repositoryName,e.number),this._folderRepositoryManager.getPullRequestRepositoryAccessAndMergeMethods(e),e.getTimelineEvents(),e.getReviewRequests(),this._folderRepositoryManager.getBranchNameForPullRequest(e),this._folderRepositoryManager.getPullRequestRepositoryDefaultBranch(e),this._folderRepositoryManager.getCurrentUser(e.githubRepository),e.canEdit(),e.validateDraftMode(),e.getCoAuthors(),Ms(this._folderRepositoryManager.context)]);if(!n)throw new Error(`Fail to resolve Pull Request #${e.number} in ${e.remote.owner}/${e.remote.repositoryName}`);if(this._item=n,!this._view)return;try{this._view.title=`${s.l10n.t("Review Pull Request")} #${e.number.toString()}`}catch{}const le=e.equals(this._folderRepositoryManager.activePullRequest),he=r.hasWritePermission,ke=r.mergeMethodsAvailability,pe=he||$,Ne=Od(ke);this._existingReviewers=rf(o!=null?o:[],a!=null?a:[],n.author);const De=!!(n.base&&n.head&&!n.base.repositoryCloneUrl.equals(n.head.repositoryCloneUrl)&&pd()),He=this.getCurrentUserReviewState(this._existingReviewers,C),Ge=s.workspace.getConfiguration(bt).get(Di,Zi).startsWith(Ii)?n.base.ref:S,je={number:n.number,title:n.title,url:n.html_url,createdAt:n.createdAt,body:n.body,bodyHTML:n.bodyHTML,labels:n.item.labels.map(nt=>({...nt,displayName:Bo(nt.name)})),author:{login:n.author.login,name:n.author.name,avatarUrl:n.userAvatar,url:n.author.url,email:n.author.email,id:n.author.id,accountType:n.author.accountType},state:n.state,isCurrentlyCheckedOut:le,isRemoteBaseDeleted:n.isRemoteBaseDeleted,base:`${n.base.owner}/${n.base.name}:${n.base.ref}`,isRemoteHeadDeleted:n.isRemoteHeadDeleted,isLocalHeadDeleted:!d,head:n.head?`${n.head.owner}/${n.head.name}:${n.head.ref}`:"",canEdit:pe,hasWritePermission:he,mergeable:n.item.mergeable,isDraft:n.isDraft,status:null,reviewRequirement:null,canUpdateBranch:n.item.viewerCanUpdate,events:a,mergeMethodsAvailability:ke,defaultMergeMethod:Ne,repositoryDefaultBranch:S,doneCheckoutBranch:Ge,isIssue:!1,isAuthor:C.login===n.author.login,reviewers:this._existingReviewers,continueOnGitHub:De,isDarkTheme:s.window.activeColorTheme.kind===s.ColorThemeKind.Dark,isEnterprise:n.githubRepository.remote.isEnterprise,hasReviewDraft:Y,currentUserReviewState:He,isCopilotOnMyBehalf:await Rf(n,C,ne)};this._postMessage({command:"pr.initialize",pullrequest:je})}catch(n){s.window.showErrorMessage(`Error updating active pull request view: ${_e(n)}`)}finally{this._isUpdating=!1}}close(e){s.commands.executeCommand("pr.close",this._item,e.args).then(t=>{t&&this._replyMessage(e,{value:t})})}create(){this._reviewManager.createPullRequest()}createComment(e){this._item.createIssueComment(e.args).then(t=>{this._replyMessage(e,{value:t})})}async doReviewCommand(e,t,n){return vn.doReviewCommand(this.getReviewContext(),e,t,!1,n)}async doReviewMessage(e,t){return vn.doReviewMessage(this.getReviewContext(),e,!1,t)}approvePullRequest(e){return this._item.approve(this._folderRepositoryManager.repository,e)}async approvePullRequestMessage(e){await this.doReviewMessage(e,t=>this.approvePullRequest(t))}async approvePullRequestCommand(e){await this.doReviewCommand(e,fo.Approve,t=>this.approvePullRequest(t))}requestChanges(e){return this._item.requestChanges(e)}async requestChangesCommand(e){await this.doReviewCommand(e,fo.RequestChanges,t=>this.requestChanges(t))}async requestChangesMessage(e){await this.doReviewMessage(e,t=>this.requestChanges(t))}submitReview(e){return this._item.submitReview(Tr.Comment,e)}submitReviewCommand(e){return this.doReviewCommand(e,fo.Comment,t=>this.submitReview(t))}submitReviewMessage(e){return this.doReviewMessage(e,t=>this.submitReview(t))}async deleteBranch(e){const t=await vn.deleteBranch(this._folderRepositoryManager,this._item);t.isReply?this._replyMessage(e,t.message):this._postMessage(t.message)}async setReadyForReview(e){return vn.setReadyForReview(this.getReviewContext(),e)}async readyForReviewCommand(){return vn.readyForReviewCommand(this.getReviewContext())}async readyForReviewAndMergeCommand(e){return vn.readyForReviewAndMergeCommand(this.getReviewContext(),e)}async mergePullRequest(e){var t;const{title:n,description:r,method:a}=e.args,o=await this._folderRepositoryManager.getPreferredEmail(this._item),d=s.l10n.t("Yes");if(await s.window.showInformationMessage(s.l10n.t("Merge this pull request?"),{modal:!0},d)!==d){this._replyMessage(e,{state:Li.Open});return}try{const C=await this._item.merge(this._folderRepositoryManager.repository,n,r,a,o);C.merged?s.workspace.getConfiguration(bt).get(Wi,!1)&&await vn.autoDeleteBranchesAfterMerge(this._folderRepositoryManager,this._item):s.window.showErrorMessage(s.l10n.t("Merging pull request failed: {0}",(t=C==null?void 0:C.message)!=null?t:"")),this._replyMessage(e,{state:C.merged?Li.Merged:Li.Open})}catch(C){s.window.showErrorMessage(s.l10n.t("Unable to merge pull request. {0}",_e(C))),this._throwError(e,"")}}_getHtmlForWebview(){const e=wf(),t=s.Uri.joinPath(this._extensionUri,"dist","webview-open-pr-view.js");return`<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<meta http-equiv="Content-Security-Policy" content="default-src 'none'; img-src vscode-resource: https:; script-src 'nonce-${e}'; style-src vscode-resource: 'unsafe-inline' http: https: data:;">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">

		<title>Active Pull Request</title>
	</head>
	<body>
		<div id="app"></div>
		<script nonce="${e}" src="${this._webview.asWebviewUri(t).toString()}"><\/script>
	</body>
</html>`}}var K2=Object.defineProperty,Q2=(i,e,t)=>e in i?K2(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t,sm=(i,e,t)=>Q2(i,typeof e!="symbol"?e+"":e,t);class Y2 extends f{constructor(e){super(),this._context=e,sm(this,"_webviewViewProvider"),sm(this,"_pullRequestModel",new Map),sm(this,"_currentDisposables",[])}dispose(){super.dispose(),this.reset()}reset(){c(this._currentDisposables),this._webviewViewProvider=void 0}create(e,t,n){this._webviewViewProvider=v(new W2(this._context.extensionUri,t,n,e),this._currentDisposables),v(s.window.registerWebviewViewProvider(this._webviewViewProvider.viewType,this._webviewViewProvider),this._currentDisposables),v(s.commands.registerCommand("pr.refreshActivePullRequest",r=>{var a;(a=this._webviewViewProvider)==null||a.refresh()}),this._currentDisposables)}setPullRequest(e,t,n,r){r&&this._pullRequestModel.delete(r),this._pullRequestModel.set(e,{folderRepositoryManager:t,reviewManager:n}),this.updatePullRequest()}updatePullRequest(){const e=Array.from(this._pullRequestModel.keys())[0];if(!e){this.reset();return}const{folderRepositoryManager:t,reviewManager:n}=this._pullRequestModel.get(e);this._webviewViewProvider?this._webviewViewProvider.updatePullRequest(e):this.create(e,t,n)}removePullRequest(e){const t=Array.from(this._pullRequestModel.keys())[0];this._pullRequestModel.delete(e),Array.from(this._pullRequestModel.keys())[0]!==t&&this.updatePullRequest()}show(e){this._webviewViewProvider&&this._pullRequestModel.size>0&&Array.from(this._pullRequestModel.keys())[0]===e&&this._webviewViewProvider.show()}}var J2=Object.defineProperty,Z2=(i,e,t)=>e in i?J2(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t,om=(i,e,t)=>Z2(i,typeof e!="symbol"?e+"":e,t);const X2="0c6ae279ed8443289764825290e4f9e2-1a736e7c-1324-4338-be46-fc2a58ae4d14-7255";let Dn;const ts="Activation";async function eF(i,e,t,n,r,a,o,d,S,C,$,Y){i.subscriptions.push(y),y.appendLine("Git repository found, initializing review manager and pr tree view.",ts),i.subscriptions.push(t.onDidChangeSessions(async Et=>{Et.provider.id==="github"&&(await d.clearCredentialCache(),He&&He.reviewManagers.forEach(ki=>ki.updateState(!0)))})),i.subscriptions.push(e.onDidPublish(async Et=>{if(!Et.branch)return;const ki=s.workspace.getConfiguration(bt).get(et);if(ki==="never")return;const Pi=He.reviewManagers.find(Ct=>Ct.repository.rootUri.toString()===Et.repository.rootUri.toString());if(Pi!=null&&Pi.isCreatingPullRequest)return;const Se=d.folderManagers.find(Ct=>Ct.repository.rootUri.toString()===Et.repository.rootUri.toString());if(!Se||Se.gitHubRepositories.length===0||(await Se.getPullRequestDefaults()).base===Et.branch)return;if(ki==="always"){Pi==null||Pi.createPullRequest(Et.branch);return}const ze=s.l10n.t("Create Pull Request..."),rt=s.l10n.t("Don't Show Again"),pt=await s.window.showInformationMessage(s.l10n.t("Would you like to create a Pull Request for branch '{0}'?",Et.branch),ze,rt);pt===ze?Pi==null||Pi.createPullRequest(Et.branch):pt===rt&&await s.workspace.getConfiguration(bt).update(et,"never",s.ConfigurationTarget.Global)}));const ne=s.workspace.workspaceFolders;ne&&(n=n.sort((Et,ki)=>{let Pi=ne.length,Se=ne.length;for(let Be=0;Be<ne.length&&(ne[Be].uri.toString()===Et.rootUri.toString()?Pi=Be:ne[Be].uri.toString()===ki.rootUri.toString()&&(Se=Be),!(Pi!==ne.length&&Se!==ne.length));Be++);return Pi-Se})),a.then(Et=>{Et&&Et.registerContactServiceProvider("github-pr",new yC(d))});const le=new yb(e,d);i.subscriptions.push(le);const he=new Y2(i);i.subscriptions.push(he);let ke=0;const pe=d.folderManagers.map(Et=>new ia(ke++,i,Et.repository,Et,Dn,le,r,o,he,S,e)),Ne=new i2(d);i.subscriptions.push(Ne),Ne.registerProviders([new E2,new n2(d),new r2(d)]);const Ce=new VP(t,d);i.subscriptions.push(Ce);const De=new OP(Ce,t,d,i);i.subscriptions.push(De);const He=new Rb(i,d,pe,Y,r,le,Dn,t,e,C,De);i.subscriptions.push(He),i.subscriptions.push(s.languages.registerCompletionItemProvider({scheme:Bt.Comment},new S2(i),":")),e.onDidChangeState(()=>{y.appendLine(`Git initialization state changed: state=${e.state}`,ts),He.reviewManagers.forEach(Et=>Et.updateState(!0))}),e.onDidOpenRepository(Et=>{function ki(){if(d.folderManagers.find(pt=>pt.repository.rootUri.toString()===Et.rootUri.toString())){y.appendLine(`Repo ${Et.rootUri} has already been setup.`,ts);return}if(s.workspace.getConfiguration(bt).get(Rt,!1)&&HE(Et,e)){y.appendLine(`Repo ${Et.rootUri} is a submodule and will be ignored due to ${Rt} setting.`,ts);return}const ze=new lo(d.folderManagers.length,i,Et,Dn,e,t,S,$);d.insertFolderManager(ze);const rt=new ia(ke++,i,ze.repository,ze,Dn,le,r,o,he,S,e);He.addReviewManager(rt)}if(y.debug(`Checking if repo ${Et.rootUri.fsPath} is in a workspace folder.`,ts),y.debug(`Workspace folders: ${ne==null?void 0:ne.map(Se=>Se.uri.fsPath).join(", ")}`,ts),ne&&!ne.some(Se=>X(Se.uri.fsPath,Et.rootUri.fsPath,!0)||X(Et.rootUri.fsPath,Se.uri.fsPath,!0))){y.appendLine(`Repo ${Et.rootUri} is not in a workspace folder, ignoring.`,ts);return}ki();const Pi=Et.state.onDidChange(()=>{y.appendLine(`Repo state for ${Et.rootUri} changed.`,ts),ki(),Pi.dispose()})}),e.onDidCloseRepository(Et=>{d.removeRepo(Et),He.removeReviewManager(Et)}),r.initialize(He.reviewManagers.map(Et=>Et.reviewModel),De),$E(i,d,He,Dn,C,De,Y,r);const Ke=s.workspace.getConfiguration(bt).get(mt);await s.commands.executeCommand("setContext","fileListLayout:flat",Ke==="flat");const Ge=new OM(e,d,i),je=new FM(e,d,He,i,Dn,Ge,C);i.subscriptions.push(je),await je.initialize();const nt=new zM(Y,d,e);s.chat.registerChatContextProvider({scheme:"webview-panel",pattern:"**/webview-PullRequestOverview**"},"githubpr",nt),s.chat.registerChatContextProvider({scheme:"webview-panel",pattern:"**/webview-IssueOverview**"},"githubissue",new LM(Ge,d)),nt.initialize();const Nt=new $P(t,d,Dn,De);i.subscriptions.push(Nt),i.subscriptions.push(new _C),i.subscriptions.push(new KN(d,Dn,i.extensionUri,t)),await s.commands.executeCommand("setContext","github:initialized",!0),rF(i,d,e),await ZP(He,i,d),tF(i,t,d,C,Dn,Y),i.subscriptions.push(s.window.registerUriHandler(new kc(d,He,Dn,i,e))),hb.closeTabs(),Dn.sendTelemetryEvent("startup")}function tF(i,e,t,n,r,a){const o=()=>{const S=new HM;i.subscriptions.push(new GM(i,S)),EP(i,e,t,S,n,r,a)},d=()=>s.workspace.getConfiguration(bt).get(Vs,!1);d()?o():Jr(bt,Vs,d,o,i.subscriptions)}async function iF(i){var e;if(y.appendLine(`Extension version: ${(e=s.extensions.getExtension(jn))==null?void 0:e.packageJSON.version}`,"Activation"),jn==="GitHub.vscode-pull-request-github-insiders"&&s.extensions.getExtension("github.vscode-pull-request-github")!==void 0)throw new Error("GitHub Pull Requests and Issues Nightly cannot be used while GitHub Pull Requests and Issues is also installed. Please ensure that only one version of the extension is installed.");const t=new lE;return s.commands.registerCommand("github.api.preloadPullRequest",async n=>{await s.commands.executeCommand("setContext",da,!0),await ht.focusView("github:activePullRequest:welcome"),t.shouldShow=n}),await nF(i),y.debug("Creating API implementation.","Activation"),Dn=new WE(new g(X2)),i.subscriptions.push(Dn),await sF(i,t)}async function nF(i){const e=[["openDiffOnClick",()=>s.workspace.getConfiguration(Cr,null).get(wn,!0)],["showInlineOpenFileAction",()=>s.workspace.getConfiguration(Cr,null).get(Yr,!0)]];for(const[t,n]of e)ht.setContext(t,n()),i.subscriptions.push(s.workspace.onDidChangeConfiguration(r=>{r.affectsConfiguration(`${Cr}.${t}`)&&ht.setContext(t,n())}))}async function Pb(i,e,t){const n=await pC(e,t);return n?(i.subscriptions.push(n),!0):!1}function rF(i,e,t){const n="GitPostCommitCommands";class r{getCommands(S){y.appendLine(`Looking for remote. Comparing ${S.state.remotes.length} local repo remotes with ${e.folderManagers.reduce((Y,ne)=>Y+ne.gitHubRepositories.length,0)} GitHub repositories.`,n);const C=no(S),$=e.folderManagers.find(Y=>Y.findRepo(ne=>!!C.find(le=>le.equals(ne.remote))));return y.appendLine(`Found ${$?"a repo":"no repos"} when getting post commit commands.`,n),$?[{command:"pr.pushAndCreate",title:s.l10n.t("{0} Commit & Create Pull Request","$(git-pull-request-create)"),tooltip:s.l10n.t("Commit & Create Pull Request")}]:[]}}function a(){return e.folderManagers.some(d=>d.gitHubRepositories.length>0)}function o(){return y.appendLine("Trying to register post commit commands.","GitPostCommitCommands"),a()?(y.appendLine("GitHub remote(s) found, registering post commit commands.",n),i.subscriptions.push(t.registerPostCommitCommandsProvider(new r)),!0):!1}if(!o()){const d=e.onDidLoadAnyRepositories(()=>{o()&&d.dispose()})}}async function aF(i,e,t){if(y.appendLine("Registering built in git provider.","Activation"),!await Pb(i,t,e)){const n=s.extensions.onDidChange(async()=>{await Pb(i,t,e)&&n.dispose()});i.subscriptions.push(n)}}async function sF(i,e){var t,n,r;y.debug("Initializing state.","Activation"),VE(i),await MP(i),Ba.init(i),y.debug("Creating credential store.","Activation");const a=new GN(Dn,i);i.subscriptions.push(a);const o=await YE(i,Dn);await o.initializePromise,await o.isCachedFlightEnabled("githubaa"),await a.create();const d=new JN(a,Dn);i.subscriptions.push(d);const S=new L2(Dn,d,i);i.subscriptions.push(S);const C=new Hi(d);i.subscriptions.push(C),aF(i,C,a),y.debug("Registering live share git provider.","Activation");const $=mC(C);i.subscriptions.push($);const Y=$.initialize();i.subscriptions.push(C),y.debug("Creating tree view.","Activation");const ne=new sS(a,d,Dn,i,C,S);if(i.subscriptions.push(ne),(t=s.chat)!=null&&t.registerChatSessionItemProvider){const Ge=s.chat.createChatParticipant(fr,async(nt,Nt,Et,ki)=>await ne.chatParticipantImpl(nt,Nt,Et,ki));i.subscriptions.push(Ge);const je=new class{constructor(){om(this,"label",s.l10n.t("GitHub Copilot Coding Agent")),om(this,"onDidChangeChatSessionItems",ne.onDidChangeChatSessions),om(this,"onDidCommitChatSessionItem",ne.onDidCommitChatSession)}async provideChatSessionItems(nt){return await ne.provideChatSessions(nt)}async provideChatSessionContent(nt,Nt){return await ne.provideChatSessionContent(nt,Nt)}};i.subscriptions.push((n=s.chat)==null?void 0:n.registerChatSessionItemProvider(fr,je)),i.subscriptions.push((r=s.chat)==null?void 0:r.registerChatSessionContentProvider(fr,je,Ge,{supportsInterruptions:!0}))}const le=new wb(S,Dn,i,d,ne);i.subscriptions.push(le),i.subscriptions.push(a.onDidGetSession(()=>le.refreshAll(!0))),y.appendLine("Looking for git repository",ts);const he=C.repositories;y.appendLine(`Found ${he.length} repositories during activation`,ts);const ke=new b2;i.subscriptions.push(ke);const pe=new KP;i.subscriptions.push(pe);let Ne=0;const Ce=he.map(Ge=>new lo(Ne++,i,Ge,Dn,C,a,ke,pe));i.subscriptions.push(...Ce);for(const Ge of Ce)d.insertFolderManager(Ge);const De=qf({reposManager:d,gitAPI:C,credentialStore:a}),He=new s.MarkdownString(s.l10n.t("Cannot edit this pull request file. [Check out](command:pr.checkoutFromReadonlyFile) this pull request to edit."));He.isTrusted={enabledCommands:["pr.checkoutFromReadonlyFile"]},i.subscriptions.push(s.workspace.registerFileSystemProvider(Bt.Pr,De,{isReadonly:He}));const Ke=new R2(d,C,a);return i.subscriptions.push(s.workspace.registerFileSystemProvider(Bt.GitHubCommit,Ke,{isReadonly:new s.MarkdownString(s.l10n.t("GitHub commits cannot be edited"))})),await eF(i,C,a,he,le,Y,e,d,ke,ne,pe,S),C}async function oF(){Dn&&Dn.dispose()}})(),module.exports=Ac})();
